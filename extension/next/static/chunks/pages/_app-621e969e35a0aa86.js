(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{8820:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var r=0,i=0;e[n]===a;)r++,n++;for(var o=(e.length-n)*u+1>>>0,c=new Uint8Array(o);e[n];){var f=t[e.charCodeAt(n)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=s*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,n++}if(" "!==e[n]){for(var h=o-i;h!==o&&0===c[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=c[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var l=t[i],d=0,h=u-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*f[h]>>>0,f[h]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=u-r;p!==u&&0===f[p];)p++;for(var m=a.repeat(n);p<u;++p)m+=e.charAt(f[p]);return m},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},8099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7117);function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function u(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function f(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function l(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),f(e/4294967296>>>0,t,n),f(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),l(e>>>0,t,n),l(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=u,t.readUint32LE=c,t.writeUint32BE=f,t.writeInt32BE=f,t.writeUint32LE=l,t.writeInt32LE=l,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=s(e,t),r=s(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=u(e,t);return 4294967296*u(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=e/8+n-1;o>=n;o--)r+=t[o]*i,i*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+e/8;o++)r+=t[o]*i,i*=256;return r},t.writeUintBE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)n[s]=t/o&255,o*=256;return n},t.writeUintLE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)n[s]=t/o&255,o*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},5439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),i=n(7309);function o(e,t,n){for(var i=1634760805,o=857760878,s=2036477234,a=1797285236,u=n[3]<<24|n[2]<<16|n[1]<<8|n[0],c=n[7]<<24|n[6]<<16|n[5]<<8|n[4],f=n[11]<<24|n[10]<<16|n[9]<<8|n[8],l=n[15]<<24|n[14]<<16|n[13]<<8|n[12],d=n[19]<<24|n[18]<<16|n[17]<<8|n[16],h=n[23]<<24|n[22]<<16|n[21]<<8|n[20],p=n[27]<<24|n[26]<<16|n[25]<<8|n[24],m=n[31]<<24|n[30]<<16|n[29]<<8|n[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],b=i,E=o,T=s,I=a,_=u,A=c,S=f,N=l,x=d,O=h,k=p,C=m,D=y,M=g,R=v,U=w,B=0;B<20;B+=2)_=(_^=x=x+(D=(D^=b=b+_|0)>>>16|D<<16)|0)>>>20|_<<12,A=(A^=O=O+(M=(M^=E=E+A|0)>>>16|M<<16)|0)>>>20|A<<12,S=(S^=k=k+(R=(R^=T=T+S|0)>>>16|R<<16)|0)>>>20|S<<12,N=(N^=C=C+(U=(U^=I=I+N|0)>>>16|U<<16)|0)>>>20|N<<12,S=(S^=k=k+(R=(R^=T=T+S|0)>>>24|R<<8)|0)>>>25|S<<7,N=(N^=C=C+(U=(U^=I=I+N|0)>>>24|U<<8)|0)>>>25|N<<7,A=(A^=O=O+(M=(M^=E=E+A|0)>>>24|M<<8)|0)>>>25|A<<7,_=(_^=x=x+(D=(D^=b=b+_|0)>>>24|D<<8)|0)>>>25|_<<7,A=(A^=k=k+(U=(U^=b=b+A|0)>>>16|U<<16)|0)>>>20|A<<12,S=(S^=C=C+(D=(D^=E=E+S|0)>>>16|D<<16)|0)>>>20|S<<12,N=(N^=x=x+(M=(M^=T=T+N|0)>>>16|M<<16)|0)>>>20|N<<12,_=(_^=O=O+(R=(R^=I=I+_|0)>>>16|R<<16)|0)>>>20|_<<12,N=(N^=x=x+(M=(M^=T=T+N|0)>>>24|M<<8)|0)>>>25|N<<7,_=(_^=O=O+(R=(R^=I=I+_|0)>>>24|R<<8)|0)>>>25|_<<7,S=(S^=C=C+(D=(D^=E=E+S|0)>>>24|D<<8)|0)>>>25|S<<7,A=(A^=k=k+(U=(U^=b=b+A|0)>>>24|U<<8)|0)>>>25|A<<7;r.writeUint32LE(b+i|0,e,0),r.writeUint32LE(E+o|0,e,4),r.writeUint32LE(T+s|0,e,8),r.writeUint32LE(I+a|0,e,12),r.writeUint32LE(_+u|0,e,16),r.writeUint32LE(A+c|0,e,20),r.writeUint32LE(S+f|0,e,24),r.writeUint32LE(N+l|0,e,28),r.writeUint32LE(x+d|0,e,32),r.writeUint32LE(O+h|0,e,36),r.writeUint32LE(k+p|0,e,40),r.writeUint32LE(C+m|0,e,44),r.writeUint32LE(D+y|0,e,48),r.writeUint32LE(M+g|0,e,52),r.writeUint32LE(R+v|0,e,56),r.writeUint32LE(U+w|0,e,60)}function s(e,t,n,r,s){if(void 0===s&&(s=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var u,c;if(0===s){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");c=(u=new Uint8Array(16)).length-t.length,u.set(t,c)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");u=t,c=s}for(var f=new Uint8Array(64),l=0;l<n.length;l+=64){o(f,u,e);for(var d=l;d<l+64&&d<n.length;d++)r[d]=n[d]^f[d-l];a(u,0,c)}return i.wipe(f),0===s&&i.wipe(u),r}function a(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=s,t.stream=function(e,t,n,r){return void 0===r&&(r=0),i.wipe(n),s(e,t,n,n,r)}},5501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5439),i=n(3027),o=n(7309),s=n(8099),a=n(4153);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var u=new Uint8Array(16),c=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);r.stream(this._key,s,a,4);var u,c=t.length+this.tagLength;if(i){if(i.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(c);return r.streamXOR(this._key,s,t,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),a,u.subarray(0,u.length-this.tagLength),n),o.wipe(s),u},e.prototype.open=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var u=new Uint8Array(32);r.stream(this._key,s,u,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,u,t.subarray(0,t.length-this.tagLength),n),!a.equal(c,t.subarray(t.length-this.tagLength,t.length)))return null;var f,l=t.length-this.tagLength;if(i){if(i.length!==l)throw new Error("ChaCha20Poly1305: incorrect destination length");f=i}else f=new Uint8Array(l);return r.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),f,4),o.wipe(s),f},e.prototype.clean=function(){return o.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var a=new i.Poly1305(t);r&&(a.update(r),r.length%16>0&&a.update(u.subarray(r.length%16))),a.update(n),n.length%16>0&&a.update(u.subarray(n.length%16));var c=new Uint8Array(8);r&&s.writeUint64LE(r.length,c),a.update(c),s.writeUint64LE(n.length,c),a.update(c);for(var f=a.digest(),l=0;l<f.length;l++)e[l]=f[l];a.clean(),o.wipe(f),o.wipe(c)},e}();t.ChaCha20Poly1305=c},4153:function(e,t){"use strict";function n(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=n,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==n(e,t)}},1050:function(e,t,n){"use strict";t.zh=t.SH=t._w=t.aP=t.KS=t.jQ=void 0;const r=n(1416),i=n(3350),o=n(7309);function s(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.jQ=64,t.KS=64,t.aP=32;new Uint8Array(32)[0]=9;const a=s(),u=s([1]),c=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function m(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function y(e,t,n){const r=~(n-1);for(let i=0;i<16;i++){const n=r&(e[i]^t[i]);e[i]^=n,t[i]^=n}}function g(e,t){const n=s(),r=s();for(let i=0;i<16;i++)r[i]=t[i];m(r),m(r),m(r);for(let i=0;i<2;i++){n[0]=r[0]-65517;for(let t=1;t<15;t++)n[t]=r[t]-65535-(n[t-1]>>16&1),n[t-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,y(r,n,1-e)}for(let i=0;i<16;i++)e[2*i]=255&r[i],e[2*i+1]=r[i]>>8}function v(e,t){let n=0;for(let r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}function w(e,t){const n=new Uint8Array(32),r=new Uint8Array(32);return g(n,e),g(r,t),v(n,r)}function b(e){const t=new Uint8Array(32);return g(t,e),1&t[0]}function E(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function T(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function I(e,t,n){let r,i,o=0,s=0,a=0,u=0,c=0,f=0,l=0,d=0,h=0,p=0,m=0,y=0,g=0,v=0,w=0,b=0,E=0,T=0,I=0,_=0,A=0,S=0,N=0,x=0,O=0,k=0,C=0,D=0,M=0,R=0,U=0,B=n[0],L=n[1],P=n[2],j=n[3],F=n[4],$=n[5],V=n[6],z=n[7],G=n[8],q=n[9],H=n[10],J=n[11],K=n[12],Y=n[13],W=n[14],X=n[15];r=t[0],o+=r*B,s+=r*L,a+=r*P,u+=r*j,c+=r*F,f+=r*$,l+=r*V,d+=r*z,h+=r*G,p+=r*q,m+=r*H,y+=r*J,g+=r*K,v+=r*Y,w+=r*W,b+=r*X,r=t[1],s+=r*B,a+=r*L,u+=r*P,c+=r*j,f+=r*F,l+=r*$,d+=r*V,h+=r*z,p+=r*G,m+=r*q,y+=r*H,g+=r*J,v+=r*K,w+=r*Y,b+=r*W,E+=r*X,r=t[2],a+=r*B,u+=r*L,c+=r*P,f+=r*j,l+=r*F,d+=r*$,h+=r*V,p+=r*z,m+=r*G,y+=r*q,g+=r*H,v+=r*J,w+=r*K,b+=r*Y,E+=r*W,T+=r*X,r=t[3],u+=r*B,c+=r*L,f+=r*P,l+=r*j,d+=r*F,h+=r*$,p+=r*V,m+=r*z,y+=r*G,g+=r*q,v+=r*H,w+=r*J,b+=r*K,E+=r*Y,T+=r*W,I+=r*X,r=t[4],c+=r*B,f+=r*L,l+=r*P,d+=r*j,h+=r*F,p+=r*$,m+=r*V,y+=r*z,g+=r*G,v+=r*q,w+=r*H,b+=r*J,E+=r*K,T+=r*Y,I+=r*W,_+=r*X,r=t[5],f+=r*B,l+=r*L,d+=r*P,h+=r*j,p+=r*F,m+=r*$,y+=r*V,g+=r*z,v+=r*G,w+=r*q,b+=r*H,E+=r*J,T+=r*K,I+=r*Y,_+=r*W,A+=r*X,r=t[6],l+=r*B,d+=r*L,h+=r*P,p+=r*j,m+=r*F,y+=r*$,g+=r*V,v+=r*z,w+=r*G,b+=r*q,E+=r*H,T+=r*J,I+=r*K,_+=r*Y,A+=r*W,S+=r*X,r=t[7],d+=r*B,h+=r*L,p+=r*P,m+=r*j,y+=r*F,g+=r*$,v+=r*V,w+=r*z,b+=r*G,E+=r*q,T+=r*H,I+=r*J,_+=r*K,A+=r*Y,S+=r*W,N+=r*X,r=t[8],h+=r*B,p+=r*L,m+=r*P,y+=r*j,g+=r*F,v+=r*$,w+=r*V,b+=r*z,E+=r*G,T+=r*q,I+=r*H,_+=r*J,A+=r*K,S+=r*Y,N+=r*W,x+=r*X,r=t[9],p+=r*B,m+=r*L,y+=r*P,g+=r*j,v+=r*F,w+=r*$,b+=r*V,E+=r*z,T+=r*G,I+=r*q,_+=r*H,A+=r*J,S+=r*K,N+=r*Y,x+=r*W,O+=r*X,r=t[10],m+=r*B,y+=r*L,g+=r*P,v+=r*j,w+=r*F,b+=r*$,E+=r*V,T+=r*z,I+=r*G,_+=r*q,A+=r*H,S+=r*J,N+=r*K,x+=r*Y,O+=r*W,k+=r*X,r=t[11],y+=r*B,g+=r*L,v+=r*P,w+=r*j,b+=r*F,E+=r*$,T+=r*V,I+=r*z,_+=r*G,A+=r*q,S+=r*H,N+=r*J,x+=r*K,O+=r*Y,k+=r*W,C+=r*X,r=t[12],g+=r*B,v+=r*L,w+=r*P,b+=r*j,E+=r*F,T+=r*$,I+=r*V,_+=r*z,A+=r*G,S+=r*q,N+=r*H,x+=r*J,O+=r*K,k+=r*Y,C+=r*W,D+=r*X,r=t[13],v+=r*B,w+=r*L,b+=r*P,E+=r*j,T+=r*F,I+=r*$,_+=r*V,A+=r*z,S+=r*G,N+=r*q,x+=r*H,O+=r*J,k+=r*K,C+=r*Y,D+=r*W,M+=r*X,r=t[14],w+=r*B,b+=r*L,E+=r*P,T+=r*j,I+=r*F,_+=r*$,A+=r*V,S+=r*z,N+=r*G,x+=r*q,O+=r*H,k+=r*J,C+=r*K,D+=r*Y,M+=r*W,R+=r*X,r=t[15],b+=r*B,E+=r*L,T+=r*P,I+=r*j,_+=r*F,A+=r*$,S+=r*V,N+=r*z,x+=r*G,O+=r*q,k+=r*H,C+=r*J,D+=r*K,M+=r*Y,R+=r*W,U+=r*X,o+=38*E,s+=38*T,a+=38*I,u+=38*_,c+=38*A,f+=38*S,l+=38*N,d+=38*x,h+=38*O,p+=38*k,m+=38*C,y+=38*D,g+=38*M,v+=38*R,w+=38*U,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=c,e[5]=f,e[6]=l,e[7]=d,e[8]=h,e[9]=p,e[10]=m,e[11]=y,e[12]=g,e[13]=v,e[14]=w,e[15]=b}function _(e,t){I(e,t,t)}function A(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)_(n,n),2!==r&&4!==r&&I(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function S(e,t){const n=s(),r=s(),i=s(),o=s(),a=s(),u=s(),c=s(),l=s(),d=s();T(n,e[1],e[0]),T(d,t[1],t[0]),I(n,n,d),E(r,e[0],e[1]),E(d,t[0],t[1]),I(r,r,d),I(i,e[3],t[3]),I(i,i,f),I(o,e[2],t[2]),E(o,o,o),T(a,r,n),T(u,o,i),E(c,o,i),E(l,r,n),I(e[0],a,u),I(e[1],l,c),I(e[2],c,u),I(e[3],a,l)}function N(e,t,n){for(let r=0;r<4;r++)y(e[r],t[r],n)}function x(e,t){const n=s(),r=s(),i=s();A(i,t[2]),I(n,t[0],i),I(r,t[1],i),g(e,r),e[31]^=b(n)<<7}function O(e,t,n){p(e[0],a),p(e[1],u),p(e[2],u),p(e[3],a);for(let r=255;r>=0;--r){const i=n[r/8|0]>>(7&r)&1;N(e,t,i),S(t,e),S(e,e),N(e,t,i)}}function k(e,t){const n=[s(),s(),s(),s()];p(n[0],l),p(n[1],d),p(n[2],u),I(n[3],l,d),O(e,n,t)}function C(e){if(e.length!==t.aP)throw new Error(`ed25519: seed must be ${t.aP} bytes`);const n=(0,i.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;const r=new Uint8Array(32),o=[s(),s(),s(),s()];k(o,n),x(r,o);const a=new Uint8Array(64);return a.set(e),a.set(r,32),{publicKey:r,secretKey:a}}t._w=C;const D=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function M(e,t){let n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*D[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*D[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*D[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function R(e){const t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let n=0;n<64;n++)e[n]=0;M(e,t)}function U(e,t){const n=s(),r=s(),i=s(),o=s(),f=s(),l=s(),d=s();return p(e[2],u),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),_(i,e[1]),I(o,i,c),T(i,i,e[2]),E(o,e[2],o),_(f,o),_(l,f),I(d,l,f),I(n,d,i),I(n,n,o),function(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)_(n,n),1!==r&&I(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(n,n),I(n,n,i),I(n,n,o),I(n,n,o),I(e[0],n,o),_(r,e[0]),I(r,r,o),w(r,i)&&I(e[0],e[0],h),_(r,e[0]),I(r,r,o),w(r,i)?-1:(b(e[0])===t[31]>>7&&T(e[0],a,e[0]),I(e[3],e[0],e[1]),0)}t.SH=function(e){let t=[s(),s(),s(),s()];if(U(t,e))throw new Error("Ed25519: invalid public key");let n=s(),r=s(),i=t[1];E(n,u,i),T(r,u,i),A(r,r),I(n,n,r);let o=new Uint8Array(32);return g(o,n),o},t.zh=function(e){const t=(0,i.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const n=new Uint8Array(t.subarray(0,32));return(0,o.wipe)(t),n}},7117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},3027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4153),i=n(7309);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var i=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|i<<6);var o=e[6]|e[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var s=e[8]|e[9]<<8;this._r[4]=255&(o>>>4|s<<12),this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var u=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|u<<5);var c=e[14]|e[15]<<8;this._r[8]=8191&(u>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],u=this._h[4],c=this._h[5],f=this._h[6],l=this._h[7],d=this._h[8],h=this._h[9],p=this._r[0],m=this._r[1],y=this._r[2],g=this._r[3],v=this._r[4],w=this._r[5],b=this._r[6],E=this._r[7],T=this._r[8],I=this._r[9];n>=16;){var _=e[t+0]|e[t+1]<<8;i+=8191&_;var A=e[t+2]|e[t+3]<<8;o+=8191&(_>>>13|A<<3);var S=e[t+4]|e[t+5]<<8;s+=8191&(A>>>10|S<<6);var N=e[t+6]|e[t+7]<<8;a+=8191&(S>>>7|N<<9);var x=e[t+8]|e[t+9]<<8;u+=8191&(N>>>4|x<<12),c+=x>>>1&8191;var O=e[t+10]|e[t+11]<<8;f+=8191&(x>>>14|O<<2);var k=e[t+12]|e[t+13]<<8;l+=8191&(O>>>11|k<<5);var C=e[t+14]|e[t+15]<<8,D=0,M=D;M+=i*p,M+=o*(5*I),M+=s*(5*T),M+=a*(5*E),D=(M+=u*(5*b))>>>13,M&=8191,M+=c*(5*w),M+=f*(5*v),M+=l*(5*g),M+=(d+=8191&(k>>>8|C<<8))*(5*y);var R=D+=(M+=(h+=C>>>5|r)*(5*m))>>>13;R+=i*m,R+=o*p,R+=s*(5*I),R+=a*(5*T),D=(R+=u*(5*E))>>>13,R&=8191,R+=c*(5*b),R+=f*(5*w),R+=l*(5*v),R+=d*(5*g),D+=(R+=h*(5*y))>>>13,R&=8191;var U=D;U+=i*y,U+=o*m,U+=s*p,U+=a*(5*I),D=(U+=u*(5*T))>>>13,U&=8191,U+=c*(5*E),U+=f*(5*b),U+=l*(5*w),U+=d*(5*v);var B=D+=(U+=h*(5*g))>>>13;B+=i*g,B+=o*y,B+=s*m,B+=a*p,D=(B+=u*(5*I))>>>13,B&=8191,B+=c*(5*T),B+=f*(5*E),B+=l*(5*b),B+=d*(5*w);var L=D+=(B+=h*(5*v))>>>13;L+=i*v,L+=o*g,L+=s*y,L+=a*m,D=(L+=u*p)>>>13,L&=8191,L+=c*(5*I),L+=f*(5*T),L+=l*(5*E),L+=d*(5*b);var P=D+=(L+=h*(5*w))>>>13;P+=i*w,P+=o*v,P+=s*g,P+=a*y,D=(P+=u*m)>>>13,P&=8191,P+=c*p,P+=f*(5*I),P+=l*(5*T),P+=d*(5*E);var j=D+=(P+=h*(5*b))>>>13;j+=i*b,j+=o*w,j+=s*v,j+=a*g,D=(j+=u*y)>>>13,j&=8191,j+=c*m,j+=f*p,j+=l*(5*I),j+=d*(5*T);var F=D+=(j+=h*(5*E))>>>13;F+=i*E,F+=o*b,F+=s*w,F+=a*v,D=(F+=u*g)>>>13,F&=8191,F+=c*y,F+=f*m,F+=l*p,F+=d*(5*I);var $=D+=(F+=h*(5*T))>>>13;$+=i*T,$+=o*E,$+=s*b,$+=a*w,D=($+=u*v)>>>13,$&=8191,$+=c*g,$+=f*y,$+=l*m,$+=d*p;var V=D+=($+=h*(5*I))>>>13;V+=i*I,V+=o*T,V+=s*E,V+=a*b,D=(V+=u*w)>>>13,V&=8191,V+=c*v,V+=f*g,V+=l*y,V+=d*m,i=M=8191&(D=(D=((D+=(V+=h*p)>>>13)<<2)+D|0)+(M&=8191)|0),o=R+=D>>>=13,s=U&=8191,a=B&=8191,u=L&=8191,c=P&=8191,f=j&=8191,l=F&=8191,d=$&=8191,h=V&=8191,t+=16,n-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=u,this._h[5]=c,this._h[6]=f,this._h[7]=l,this._h[8]=d,this._h[9]=h},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=n,n=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,s[0]=this._h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this._h[o]=this._h[o]&r|s[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[n+i];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(i=0;i<r;i++)this._buffer[this._leftover+i]=e[n+i];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var n=new o(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},1416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(6008),i=n(8099),o=n(7309);function s(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){const n=s(4,e),r=(0,i.readUint32LE)(n);return(0,o.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(e,n=a,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let i="";const u=n.length,c=256-256%u;for(;e>0;){const t=s(Math.ceil(256*e/c),r);for(let r=0;r<t.length&&e>0;r++){const o=t[r];o<c&&(i+=n.charAt(o%u),e--)}(0,o.wipe)(t)}return i}t.randomString=u,t.randomStringForEntropy=function(e,n=a,r=t.defaultRandomSource){return u(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},5455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!==typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t}}},8871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(7309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let r=0;r<n.length;r++)n[r]=t[r];return(0,r.wipe)(t),n}}},6008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(5455),i=n(8871);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},3350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),i=n(7309);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%128<112?128:256;this._buffer[n]=128;for(var u=n+1;u<s-8;u++)this._buffer[u]=0;r.writeUint32BE(i,this._buffer,s-8),r.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(u=0;u<this.digestLength/8;u++)r.writeUint32BE(this._stateHi[u],e,8*u),r.writeUint32BE(this._stateLo[u],e,8*u+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,n,i,o,a,u){for(var c,f,l,d,h,p,m,y,g=n[0],v=n[1],w=n[2],b=n[3],E=n[4],T=n[5],I=n[6],_=n[7],A=i[0],S=i[1],N=i[2],x=i[3],O=i[4],k=i[5],C=i[6],D=i[7];u>=128;){for(var M=0;M<16;M++){var R=8*M+a;e[M]=r.readUint32BE(o,R),t[M]=r.readUint32BE(o,R+4)}for(M=0;M<80;M++){var U,B,L=g,P=v,j=w,F=b,$=E,V=T,z=I,G=A,q=S,H=N,J=x,K=O,Y=k,W=C;if(h=65535&(f=D),p=f>>>16,m=65535&(c=_),y=c>>>16,h+=65535&(f=(O>>>14|E<<18)^(O>>>18|E<<14)^(E>>>9|O<<23)),p+=f>>>16,m+=65535&(c=(E>>>14|O<<18)^(E>>>18|O<<14)^(O>>>9|E<<23)),y+=c>>>16,h+=65535&(f=O&k^~O&C),p+=f>>>16,m+=65535&(c=E&T^~E&I),y+=c>>>16,c=s[2*M],h+=65535&(f=s[2*M+1]),p+=f>>>16,m+=65535&c,y+=c>>>16,c=e[M%16],p+=(f=t[M%16])>>>16,m+=65535&c,y+=c>>>16,m+=(p+=(h+=65535&f)>>>16)>>>16,h=65535&(f=d=65535&h|p<<16),p=f>>>16,m=65535&(c=l=65535&m|(y+=m>>>16)<<16),y=c>>>16,h+=65535&(f=(A>>>28|g<<4)^(g>>>2|A<<30)^(g>>>7|A<<25)),p+=f>>>16,m+=65535&(c=(g>>>28|A<<4)^(A>>>2|g<<30)^(A>>>7|g<<25)),y+=c>>>16,p+=(f=A&S^A&N^S&N)>>>16,m+=65535&(c=g&v^g&w^v&w),y+=c>>>16,U=65535&(m+=(p+=(h+=65535&f)>>>16)>>>16)|(y+=m>>>16)<<16,B=65535&h|p<<16,h=65535&(f=J),p=f>>>16,m=65535&(c=F),y=c>>>16,p+=(f=d)>>>16,m+=65535&(c=l),y+=c>>>16,v=L,w=P,b=j,E=F=65535&(m+=(p+=(h+=65535&f)>>>16)>>>16)|(y+=m>>>16)<<16,T=$,I=V,_=z,g=U,S=G,N=q,x=H,O=J=65535&h|p<<16,k=K,C=Y,D=W,A=B,M%16===15)for(R=0;R<16;R++)c=e[R],h=65535&(f=t[R]),p=f>>>16,m=65535&c,y=c>>>16,c=e[(R+9)%16],h+=65535&(f=t[(R+9)%16]),p+=f>>>16,m+=65535&c,y+=c>>>16,l=e[(R+1)%16],h+=65535&(f=((d=t[(R+1)%16])>>>1|l<<31)^(d>>>8|l<<24)^(d>>>7|l<<25)),p+=f>>>16,m+=65535&(c=(l>>>1|d<<31)^(l>>>8|d<<24)^l>>>7),y+=c>>>16,l=e[(R+14)%16],p+=(f=((d=t[(R+14)%16])>>>19|l<<13)^(l>>>29|d<<3)^(d>>>6|l<<26))>>>16,m+=65535&(c=(l>>>19|d<<13)^(d>>>29|l<<3)^l>>>6),y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,e[R]=65535&m|y<<16,t[R]=65535&h|p<<16}h=65535&(f=A),p=f>>>16,m=65535&(c=g),y=c>>>16,c=n[0],p+=(f=i[0])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[0]=g=65535&m|y<<16,i[0]=A=65535&h|p<<16,h=65535&(f=S),p=f>>>16,m=65535&(c=v),y=c>>>16,c=n[1],p+=(f=i[1])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[1]=v=65535&m|y<<16,i[1]=S=65535&h|p<<16,h=65535&(f=N),p=f>>>16,m=65535&(c=w),y=c>>>16,c=n[2],p+=(f=i[2])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[2]=w=65535&m|y<<16,i[2]=N=65535&h|p<<16,h=65535&(f=x),p=f>>>16,m=65535&(c=b),y=c>>>16,c=n[3],p+=(f=i[3])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[3]=b=65535&m|y<<16,i[3]=x=65535&h|p<<16,h=65535&(f=O),p=f>>>16,m=65535&(c=E),y=c>>>16,c=n[4],p+=(f=i[4])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[4]=E=65535&m|y<<16,i[4]=O=65535&h|p<<16,h=65535&(f=k),p=f>>>16,m=65535&(c=T),y=c>>>16,c=n[5],p+=(f=i[5])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[5]=T=65535&m|y<<16,i[5]=k=65535&h|p<<16,h=65535&(f=C),p=f>>>16,m=65535&(c=I),y=c>>>16,c=n[6],p+=(f=i[6])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[6]=I=65535&m|y<<16,i[6]=C=65535&h|p<<16,h=65535&(f=D),p=f>>>16,m=65535&(c=_),y=c>>>16,c=n[7],p+=(f=i[7])>>>16,m+=65535&c,y+=c>>>16,y+=(m+=(p+=(h+=65535&f)>>>16)>>>16)>>>16,n[7]=_=65535&m|y<<16,i[7]=D=65535&h|p<<16,a+=128,u-=128}return a}t.hash=function(e){var t=new o;t.update(e);var n=t.digest();return t.clean(),n}},7309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},5753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),i=n(7309),o=n(5439);function s(e,t,n,r){if(24!==t.length)throw new Error("XChaCha20 nonce must be 24 bytes");var s=a(e,t.subarray(0,16),new Uint8Array(32)),u=new Uint8Array(12);u.set(t.subarray(16),4);var c=o.streamXOR(s,u,n,r);return i.wipe(s),c}function a(e,t,n){for(var i=1634760805,o=857760878,s=2036477234,a=1797285236,u=e[3]<<24|e[2]<<16|e[1]<<8|e[0],c=e[7]<<24|e[6]<<16|e[5]<<8|e[4],f=e[11]<<24|e[10]<<16|e[9]<<8|e[8],l=e[15]<<24|e[14]<<16|e[13]<<8|e[12],d=e[19]<<24|e[18]<<16|e[17]<<8|e[16],h=e[23]<<24|e[22]<<16|e[21]<<8|e[20],p=e[27]<<24|e[26]<<16|e[25]<<8|e[24],m=e[31]<<24|e[30]<<16|e[29]<<8|e[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],b=0;b<20;b+=2)u=(u^=d=d+(y=(y^=i=i+u|0)>>>16|y<<16)|0)>>>20|u<<12,c=(c^=h=h+(g=(g^=o=o+c|0)>>>16|g<<16)|0)>>>20|c<<12,f=(f^=p=p+(v=(v^=s=s+f|0)>>>16|v<<16)|0)>>>20|f<<12,l=(l^=m=m+(w=(w^=a=a+l|0)>>>16|w<<16)|0)>>>20|l<<12,f=(f^=p=p+(v=(v^=s=s+f|0)>>>24|v<<8)|0)>>>25|f<<7,l=(l^=m=m+(w=(w^=a=a+l|0)>>>24|w<<8)|0)>>>25|l<<7,c=(c^=h=h+(g=(g^=o=o+c|0)>>>24|g<<8)|0)>>>25|c<<7,u=(u^=d=d+(y=(y^=i=i+u|0)>>>24|y<<8)|0)>>>25|u<<7,c=(c^=p=p+(w=(w^=i=i+c|0)>>>16|w<<16)|0)>>>20|c<<12,f=(f^=m=m+(y=(y^=o=o+f|0)>>>16|y<<16)|0)>>>20|f<<12,l=(l^=d=d+(g=(g^=s=s+l|0)>>>16|g<<16)|0)>>>20|l<<12,u=(u^=h=h+(v=(v^=a=a+u|0)>>>16|v<<16)|0)>>>20|u<<12,l=(l^=d=d+(g=(g^=s=s+l|0)>>>24|g<<8)|0)>>>25|l<<7,u=(u^=h=h+(v=(v^=a=a+u|0)>>>24|v<<8)|0)>>>25|u<<7,f=(f^=m=m+(y=(y^=o=o+f|0)>>>24|y<<8)|0)>>>25|f<<7,c=(c^=p=p+(w=(w^=i=i+c|0)>>>24|w<<8)|0)>>>25|c<<7;return r.writeUint32LE(i,n,0),r.writeUint32LE(o,n,4),r.writeUint32LE(s,n,8),r.writeUint32LE(a,n,12),r.writeUint32LE(y,n,16),r.writeUint32LE(g,n,20),r.writeUint32LE(v,n,24),r.writeUint32LE(w,n,28),n}t.streamXOR=s,t.stream=function(e,t,n){return i.wipe(n),s(e,t,n,n)},t.hchacha=a},9375:function(e,t,n){"use strict";var r=n(5753),i=n(5501),o=n(7309);t.Cv=32,t.WH=24,t.pg=16;var s=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");var a=r.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),u=new Uint8Array(12);u.set(e.subarray(16),4);var c=new i.ChaCha20Poly1305(a),f=c.seal(u,t,n,s);return o.wipe(a),o.wipe(u),c.clean(),f},e.prototype.open=function(e,t,n,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=r.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),u=new Uint8Array(12);u.set(e.subarray(16),4);var c=new i.ChaCha20Poly1305(a),f=c.open(u,t,n,s);return o.wipe(a),o.wipe(u),c.clean(),f},e.prototype.clean=function(){return o.wipe(this._key),this},e}();t.NV=s},9742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),f=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[f++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7715:function(e,t){"use strict";t.gW=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let l=0;l<n.length;l++){const e=n.charAt(l);r[e]=l}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=i(t)^r>>5}t=i(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=i(t)^31&r}return t}function s(e,t,n,r){let i=0,o=0;const s=(1<<n)-1,a=[];for(let u=0;u<e.length;++u)for(i=i<<t|e[u],o+=t;o>=n;)o-=n,a.push(i>>o&s);if(r)o>0&&a.push(i<<n-o&s);else{if(o>=t)return"Excess padding";if(i<<n-o&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function s(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const u=(e=s).lastIndexOf("1");if(-1===u)return"No separator character for "+e;if(0===u)return"Missing prefix for "+e;const c=e.slice(0,u),f=e.slice(u+1);if(f.length<6)return"Data too short";let l=o(c);if("string"===typeof l)return l;const d=[];for(let t=0;t<f.length;++t){const e=f.charAt(t),n=r[e];if(void 0===n)return"Unknown character "+e;l=i(l)^n,t+6>=f.length||d.push(n)}return l!==t?"Invalid checksum for "+e:{prefix:c,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=s(e,t);if("object"===typeof n)return n},decode:function(e,t){const n=s(e,t);if("object"===typeof n)return n;throw new Error(n)},encode:function(e,r,s){if(s=s||90,e.length+7+r.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"===typeof a)throw new Error(a);let u=e+"1";for(let t=0;t<r.length;++t){const e=r[t];if(e>>5!==0)throw new Error("Non 5-bit word");a=i(a)^e,u+=n.charAt(e)}for(let t=0;t<6;++t)a=i(a);a^=t;for(let t=0;t<6;++t){u+=n.charAt(a>>5*(5-t)&31)}return u},toWords:a,fromWordsUnsafe:u,fromWords:c}}t.gW=f("bech32"),f("bech32m")},3550:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(6601).Buffer}catch(x){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function c(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,s=o%r,a=Math.min(o,o-s)+n,u=0,f=n;f<a;f+=r)u=c(e,f,f+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(x){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?d[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],f=p[e];n="";var l=this.clone();for(l.negative=0;!l.isZero();){var m=l.modrn(f).toString(e);n=(l=l.idivn(f)).isZero()?m+n:d[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[h])+l)/67108864|0,l=67108863&s}n.words[c]=0|l,u=0|f}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===o?(n<e.length&&(e[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===o?(n>=0&&(e[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(t=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<n.length;s++)o=(t=(0|n.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,n){var r,i,o,s=e.words,a=t.words,u=n.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,m=h>>>13,y=0|s[2],g=8191&y,v=y>>>13,w=0|s[3],b=8191&w,E=w>>>13,T=0|s[4],I=8191&T,_=T>>>13,A=0|s[5],S=8191&A,N=A>>>13,x=0|s[6],O=8191&x,k=x>>>13,C=0|s[7],D=8191&C,M=C>>>13,R=0|s[8],U=8191&R,B=R>>>13,L=0|s[9],P=8191&L,j=L>>>13,F=0|a[0],$=8191&F,V=F>>>13,z=0|a[1],G=8191&z,q=z>>>13,H=0|a[2],J=8191&H,K=H>>>13,Y=0|a[3],W=8191&Y,X=Y>>>13,Q=0|a[4],Z=8191&Q,ee=Q>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,de=fe>>>13,he=0|a[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(c+(r=Math.imul(l,$))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(d,$)|0))<<13)|0;c=((o=Math.imul(d,V))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,$),i=(i=Math.imul(p,V))+Math.imul(m,$)|0,o=Math.imul(m,V);var ge=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,q)|0)+Math.imul(d,G)|0))<<13)|0;c=((o=o+Math.imul(d,q)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,$),i=(i=Math.imul(g,V))+Math.imul(v,$)|0,o=Math.imul(v,V),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,q)|0;var ve=(c+(r=r+Math.imul(l,J)|0)|0)+((8191&(i=(i=i+Math.imul(l,K)|0)+Math.imul(d,J)|0))<<13)|0;c=((o=o+Math.imul(d,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(b,$),i=(i=Math.imul(b,V))+Math.imul(E,$)|0,o=Math.imul(E,V),r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,q)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,q)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,K)|0;var we=(c+(r=r+Math.imul(l,W)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(d,W)|0))<<13)|0;c=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(I,$),i=(i=Math.imul(I,V))+Math.imul(_,$)|0,o=Math.imul(_,V),r=r+Math.imul(b,G)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,q)|0,r=r+Math.imul(g,J)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,X)|0;var be=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,$),i=(i=Math.imul(S,V))+Math.imul(N,$)|0,o=Math.imul(N,V),r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,q)|0,r=r+Math.imul(b,J)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(g,W)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,X)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(r=r+Math.imul(l,ne)|0)|0)+((8191&(i=(i=i+Math.imul(l,re)|0)+Math.imul(d,ne)|0))<<13)|0;c=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(O,$),i=(i=Math.imul(O,V))+Math.imul(k,$)|0,o=Math.imul(k,V),r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,q)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,q)|0,r=r+Math.imul(I,J)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(b,W)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var Te=(c+(r=r+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,$),i=(i=Math.imul(D,V))+Math.imul(M,$)|0,o=Math.imul(M,V),r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,q)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,K)|0,r=r+Math.imul(I,W)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Ie=(c+(r=r+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,$),i=(i=Math.imul(U,V))+Math.imul(B,$)|0,o=Math.imul(B,V),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,q)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,q)|0,r=r+Math.imul(O,J)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(S,W)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var _e=(c+(r=r+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(P,$),i=(i=Math.imul(P,V))+Math.imul(j,$)|0,o=Math.imul(j,V),r=r+Math.imul(U,G)|0,i=(i=i+Math.imul(U,q)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,q)|0,r=r+Math.imul(D,J)|0,i=(i=i+Math.imul(D,K)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(O,W)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,ce)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,de)|0;var Ae=(c+(r=r+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(P,G),i=(i=Math.imul(P,q))+Math.imul(j,G)|0,o=Math.imul(j,q),r=r+Math.imul(U,J)|0,i=(i=i+Math.imul(U,K)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,K)|0,r=r+Math.imul(D,W)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,X)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,r=r+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(g,le)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(v,le)|0,o=o+Math.imul(v,de)|0;var Se=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(P,J),i=(i=Math.imul(P,K))+Math.imul(j,J)|0,o=Math.imul(j,K),r=r+Math.imul(U,W)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,X)|0,r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(b,le)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(E,le)|0,o=o+Math.imul(E,de)|0;var Ne=(c+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(v,pe)|0))<<13)|0;c=((o=o+Math.imul(v,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(P,W),i=(i=Math.imul(P,X))+Math.imul(j,W)|0,o=Math.imul(j,X),r=r+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,r=r+Math.imul(I,le)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,de)|0;var xe=(c+(r=r+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(P,Z),i=(i=Math.imul(P,ee))+Math.imul(j,Z)|0,o=Math.imul(j,ee),r=r+Math.imul(U,ne)|0,i=(i=i+Math.imul(U,re)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,r=r+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,ce)|0,r=r+Math.imul(S,le)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(N,le)|0,o=o+Math.imul(N,de)|0;var Oe=(c+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(P,ne),i=(i=Math.imul(P,re))+Math.imul(j,ne)|0,o=Math.imul(j,re),r=r+Math.imul(U,oe)|0,i=(i=i+Math.imul(U,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,r=r+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,r=r+Math.imul(O,le)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(k,le)|0,o=o+Math.imul(k,de)|0;var ke=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(P,oe),i=(i=Math.imul(P,se))+Math.imul(j,oe)|0,o=Math.imul(j,se),r=r+Math.imul(U,ue)|0,i=(i=i+Math.imul(U,ce)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,ce)|0,r=r+Math.imul(D,le)|0,i=(i=i+Math.imul(D,de)|0)+Math.imul(M,le)|0,o=o+Math.imul(M,de)|0;var Ce=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(P,ue),i=(i=Math.imul(P,ce))+Math.imul(j,ue)|0,o=Math.imul(j,ce),r=r+Math.imul(U,le)|0,i=(i=i+Math.imul(U,de)|0)+Math.imul(B,le)|0,o=o+Math.imul(B,de)|0;var De=(c+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(P,le),i=(i=Math.imul(P,de))+Math.imul(j,le)|0,o=Math.imul(j,de);var Me=(c+(r=r+Math.imul(U,pe)|0)|0)+((8191&(i=(i=i+Math.imul(U,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((o=o+Math.imul(B,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Re=(c+(r=Math.imul(P,pe))|0)+((8191&(i=(i=Math.imul(P,me))+Math.imul(j,pe)|0))<<13)|0;return c=((o=Math.imul(j,me))+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,u[0]=ye,u[1]=ge,u[2]=ve,u[3]=we,u[4]=be,u[5]=Ee,u[6]=Te,u[7]=Ie,u[8]=_e,u[9]=Ae,u[10]=Se,u[11]=Ne,u[12]=xe,u[13]=Oe,u[14]=ke,u[15]=Ce,u[16]=De,u[17]=Me,u[18]=Re,0!==c&&(u[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(e,t,n){return g(e,t,n)}function w(e,t){this.x=e,this.y=t}Math.imul||(y=m),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):n<63?m(this,e,t):n<1024?g(this,e,t):v(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},w.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},w.prototype.permute=function(e,t,n,r,i,o){for(var s=0;s<o;s++)r[s]=t[e[s]],i[s]=n[e[s]]},w.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=n[f+h],m=r[f+h],y=n[f+h+s],g=r[f+h+s],v=l*y-d*g;g=l*g+d*y,y=v,n[f+h]=p+y,r[f+h]=m+g,n[f+h+s]=p-y,r[f+h+s]=m-g,h!==a&&(v=u*l-c*d,d=u*d+c*l,l=v)}},w.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},w.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0===(-8192&o))},w.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},w.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),l=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,c,r),this.transform(s,o,a,u,r,i),this.transform(c,o,f,l,r,i);for(var h=0;h<r;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,r),this.transform(a,u,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=r.clone()._ishlnsubmul(i,1,u);0===f.negative&&(r=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),r._ishlnsubmul(i,d,l);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),l=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),s.isub(u)):(n.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0===(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;0===(n.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(n.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function T(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function N(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(T,E),T.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},T.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(I,E),i(_,E),i(A,E),A.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new T;else if("p224"===e)t=new I;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return b[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var m=h,y=0;0!==m.cmp(a);y++)m=m.redSqr();r(y<p);var g=this.pow(l,new o(1).iushln(p-y-1));d=d.redMul(g),l=g.redSqr(),h=h.redMul(l),p=y}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],f=u-1;f>=0;f--){var l=c>>f&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===r&&0===f)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new N(e)},i(N,S),N.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},N.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},N.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},8764:function(e,t,n){"use strict";const r=n(9742),i=n(645),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||W(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function b(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(W(r))return s;e[n+s]=r}return s}function E(e,t,n,r){return K(H(t,e.length-n),e,n,r)}function T(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function I(e,t,n,r){return K(J(t),e,n,r)}function _(e,t,n,r){return K(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return f(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n);for(let u=0;u<a;++u)if(c[u]!==f[u]){o=c[u],s=f[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return T(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function x(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=X[e[o]];return i}function C(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function U(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Q((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Q((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Q((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Q((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const j={};function F(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||G(t,e.length-(n+1))}(r,i,o)}function z(e,t){if("number"!==typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=$(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function K(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Q(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},5456:function(e){"use strict";e.exports=function e(t){if("number"===typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"===typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");if(null===t||"object"!==typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){return`[${t.reduce(((t,n,r)=>`${t}${0===r?"":","}${e(void 0===n||"symbol"===typeof n?null:n)}`),"")}]`}return`{${Object.keys(t).sort().reduce(((n,r)=>{if(void 0===t[r]||"symbol"===typeof t[r])return n;return`${n}${0===n.length?"":","}${e(r)}:${e(t[r])}`}),"")}}`}},4098:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=f(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function E(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function T(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];T.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(A){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:E(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new T(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=d,e.Request=w,e.Response=T),t.Headers=d,t.Request=w,t.Response=T,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},5933:function(e,t,n){"use strict";var r,i=n(3454),o=function(){function e(e,t){if("function"!==typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(e&&!1===e.batch)return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!==typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return s;if("function"!==typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!==typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(e&&!1===e.cache)return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!==typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}(t),this._batch=null,this.name=function(e){if(e&&e.name)return e.name;return null}(t)}var t=e.prototype;return t.load=function(e){if(null===e||void 0===e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void u(t);var n;try{n=e._batchLoadFn(t.keys)}catch(r){return a(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(r)+"."))}if(!n||"function"!==typeof n.then)return a(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!c(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));u(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){a(e,t,n)}))}(e,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var i=n.get(r);if(i){var o=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){o.push((function(){e(i)}))}))}}t.keys.push(e);var s=new Promise((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,s),s},t.loadMany=function(e){if(!c(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,i=this._cacheKeyFn(e);if(void 0===n.get(i))t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(i,r)}return this},e}(),s="object"===typeof i&&"function"===typeof i.nextTick?function(e){r||(r=Promise.resolve()),r.then((function(){i.nextTick(e)}))}:"function"===typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function a(e,t,n){u(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function u(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function c(e){return"object"===typeof e&&null!==e&&"number"===typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=o},5035:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(s="",n=0;n<u.length;n++){var c=u[n],f=e(t[c]);f&&(s&&(s+=","),s+=JSON.stringify(c)+":"+f)}return o.splice(a,1),"{"+s+"}"}}(e)}},5740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectionFromArray=i,t.connectionFromPromisedArray=function(e,t){return e.then((e=>i(e,t)))},t.connectionFromArraySlice=o,t.connectionFromPromisedArraySlice=function(e,t,n){return e.then((e=>o(e,t,n)))},t.offsetToCursor=a,t.cursorToOffset=u,t.cursorForObjectInConnection=function(e,t){const n=e.indexOf(t);if(-1===n)return null;return a(n)},t.getOffsetWithDefault=c;var r=n(4945);function i(e,t){return o(e,t,{sliceStart:0,arrayLength:e.length})}function o(e,t,n){const{after:r,before:i,first:o,last:s}=t,{sliceStart:u,arrayLength:f}=n,l=u+e.length;let d=Math.max(u,0),h=Math.min(l,f);const p=c(r,-1);0<=p&&p<f&&(d=Math.max(d,p+1));const m=c(i,h);if(0<=m&&m<f&&(h=Math.min(h,m)),"number"===typeof o){if(o<0)throw new Error('Argument "first" must be a non-negative integer');h=Math.min(h,d+o)}if("number"===typeof s){if(s<0)throw new Error('Argument "last" must be a non-negative integer');d=Math.max(d,h-s)}const y=e.slice(d-u,h-u).map(((e,t)=>({cursor:a(d+t),node:e}))),g=y[0],v=y[y.length-1],w=null!=r?p+1:0,b=null!=i?m:f;return{edges:y,pageInfo:{startCursor:g?g.cursor:null,endCursor:v?v.cursor:null,hasPreviousPage:"number"===typeof s&&d>w,hasNextPage:"number"===typeof o&&h<b}}}const s="arrayconnection:";function a(e){return(0,r.base64)(s+e.toString())}function u(e){return parseInt((0,r.unbase64)(e).substring(s.length),10)}function c(e,t){if("string"!==typeof e)return t;const n=u(e);return isNaN(n)?t:n}},6745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectionDefinitions=function(e){var t;const{nodeType:n}=e,i=null!==(t=e.name)&&void 0!==t?t:(0,r.getNamedType)(n).name,o=new r.GraphQLObjectType({name:i+"Edge",description:"An edge in a connection.",fields:()=>{var t;return{node:{type:n,resolve:e.resolveNode,description:"The item at the end of the edge"},cursor:{type:new r.GraphQLNonNull(r.GraphQLString),resolve:e.resolveCursor,description:"A cursor for use in pagination"},...(0,r.resolveObjMapThunk)(null!==(t=e.edgeFields)&&void 0!==t?t:{})}}}),s=new r.GraphQLObjectType({name:i+"Connection",description:"A connection to a list of items.",fields:()=>{var t;return{pageInfo:{type:new r.GraphQLNonNull(a),description:"Information to aid in pagination."},edges:{type:new r.GraphQLList(o),description:"A list of edges."},...(0,r.resolveObjMapThunk)(null!==(t=e.connectionFields)&&void 0!==t?t:{})}}});return{edgeType:o,connectionType:s}},t.connectionArgs=t.backwardConnectionArgs=t.forwardConnectionArgs=void 0;var r=n(7893);const i=Object.freeze({after:{type:r.GraphQLString,description:"Returns the items in the list that come after the specified cursor."},first:{type:r.GraphQLInt,description:"Returns the first n items from the list."}});t.forwardConnectionArgs=i;const o=Object.freeze({before:{type:r.GraphQLString,description:"Returns the items in the list that come before the specified cursor."},last:{type:r.GraphQLInt,description:"Returns the last n items from the list."}});t.backwardConnectionArgs=o;const s={...i,...o};t.connectionArgs=s;const a=new r.GraphQLObjectType({name:"PageInfo",description:"Information about pagination in a connection.",fields:()=>({hasNextPage:{type:new r.GraphQLNonNull(r.GraphQLBoolean),description:"When paginating forwards, are there more items?"},hasPreviousPage:{type:new r.GraphQLNonNull(r.GraphQLBoolean),description:"When paginating backwards, are there more items?"},startCursor:{type:r.GraphQLString,description:"When paginating backwards, the cursor to continue."},endCursor:{type:r.GraphQLString,description:"When paginating forwards, the cursor to continue."}})})},8863:function(e,t,n){"use strict";Object.defineProperty(t,"Zd",{enumerable:!0,get:function(){return r.connectionArgs}}),Object.defineProperty(t,"Tr",{enumerable:!0,get:function(){return r.connectionDefinitions}}),Object.defineProperty(t,"Fj",{enumerable:!0,get:function(){return o.mutationWithClientMutationId}}),Object.defineProperty(t,"SX",{enumerable:!0,get:function(){return s.nodeDefinitions}});var r=n(6745),i=n(5740),o=n(4955),s=n(6888),a=n(4423)},4955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mutationWithClientMutationId=function(e){const{name:t,inputFields:n,outputFields:i,mutateAndGetPayload:o}=e,s=new r.GraphQLObjectType({name:t+"Payload",fields:()=>({...(0,r.resolveObjMapThunk)(i),clientMutationId:{type:r.GraphQLString}})}),a=new r.GraphQLInputObjectType({name:t+"Input",fields:()=>({...(0,r.resolveObjMapThunk)(n),clientMutationId:{type:r.GraphQLString}})});return{type:s,description:e.description,deprecationReason:e.deprecationReason,extensions:e.extensions,args:{input:{type:new r.GraphQLNonNull(a)}},resolve:(e,{input:t},n,r)=>{const{clientMutationId:i}=t,s=o(t,n,r);return"function"===typeof(null===(a=s)||void 0===a?void 0:a.then)?s.then(u):u(s);var a;function u(e){return"object"===typeof e&&null!==e&&(e.clientMutationId=i),e}}}};var r=n(7893)},6888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeDefinitions=function(e,t){const n=new r.GraphQLInterfaceType({name:"Node",description:"An object with an ID",fields:()=>({id:{type:new r.GraphQLNonNull(r.GraphQLID),description:"The id of the object."}}),resolveType:t}),i={description:"Fetches an object given its ID",type:n,args:{id:{type:new r.GraphQLNonNull(r.GraphQLID),description:"The ID of an object"}},resolve:(t,{id:n},r,i)=>e(n,r,i)},o={description:"Fetches objects given their IDs",type:new r.GraphQLNonNull(new r.GraphQLList(n)),args:{ids:{type:new r.GraphQLNonNull(new r.GraphQLList(new r.GraphQLNonNull(r.GraphQLID))),description:"The IDs of objects"}},resolve:(t,{ids:n},r,i)=>n.map((t=>e(t,r,i)))};return{nodeInterface:n,nodeField:i,nodesField:o}},t.toGlobalId=o,t.fromGlobalId=function(e){const t=(0,i.unbase64)(e),n=t.indexOf(":");return{type:t.substring(0,n),id:t.substring(n+1)}},t.globalIdField=function(e,t){return{description:"The ID of an object",type:new r.GraphQLNonNull(r.GraphQLID),resolve:(n,r,i,s)=>o(null!==e&&void 0!==e?e:s.parentType.name,t?t(n,i,s):n.id)}};var r=n(7893),i=n(4945);function o(e,t){return(0,i.base64)([e,r.GraphQLID.serialize(t)].join(":"))}},4423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluralIdentifyingRootField=function(e){return{description:e.description,type:new r.GraphQLList(e.outputType),args:{[e.argName]:{type:new r.GraphQLNonNull(new r.GraphQLList(new r.GraphQLNonNull((0,r.getNullableType)(e.inputType))))}},resolve:(t,n,r,i)=>n[e.argName].map((t=>e.resolveSingleInput(t,r,i)))}};var r=n(7893)},4945:function(e,t){"use strict";function n(e){return a(e>>2&63)}function r(e,t){return a(63&(e<<4|t>>4))}function i(e,t){return a(63&(e<<2|t>>6))}function o(e){return a(63&e)}Object.defineProperty(t,"__esModule",{value:!0}),t.base64=function(e){const t=function(e){const t=[];for(const n of e){const e=n.codePointAt(0);e<128?t.push(e):e<2048?(t.push(192|e>>6),t.push(128|63&e)):e<65536?(t.push(224|e>>12),t.push(128|e>>6&63),t.push(128|63&e)):(t.push(240|e>>18),t.push(128|e>>12&63),t.push(128|e>>6&63),t.push(128|63&e))}return t}(e);let s="";const a=t.length,u=a%3;for(let c=0;c<a-u;c+=3){const e=t[c],a=t[c+1],u=t[c+2];s+=n(e),s+=r(e,a),s+=i(a,u),s+=o(u)}if(1===u){const e=t[a-1];s+=n(e)+r(e,0)+"=="}else if(2===u){const e=t[a-2],o=t[a-1];s+=n(e)+r(e,o)+i(o,0)+"="}return s},t.unbase64=function(e){const t=[];for(let r=0;r<e.length;r+=4){const n=u(e[r]),i=u(e[r+1]),o=u(e[r+2]),s=u(e[r+3]);if(-1===n||-1===i||-1===o||-1===s)return"";const a=n<<18|i<<12|o<<6|s;t.push(a>>16&255),t.push(a>>8&255),t.push(255&a)}let n=e.length-1;for(;"="===e[n];)--n,t.pop();return function(e){let t="";for(let n=0;n<e.length;){const r=e[n++];if(0===(128&r)){t+=c(r);continue}const i=e[n++];if(192===(224&r)){t+=c((31&r)<<6|63&i);continue}const o=e[n++];if(224===(240&r)){t+=c((15&r)<<12|(63&i)<<6|63&o);continue}t+=c((7&r)<<18|(63&i)<<12|(63&o)<<6|63&e[n++])}return t}(t)};const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(e){return s.charAt(e)}function u(e){return void 0===e?-1:"="===e?0:s.indexOf(e)}function c(e){return e>1114111?"":String.fromCodePoint(e)}},3715:function(e,t,n){var r=t;r.utils=n(6436),r.common=n(5772),r.sha=n(9041),r.ripemd=n(2949),r.hmac=n(2344),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},5772:function(e,t,n){"use strict";var r=n(6436),i=n(9746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},2344:function(e,t,n){"use strict";var r=n(6436),i=n(9746);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2949:function(e,t,n){"use strict";var r=n(6436),i=n(5772),o=r.rotl32,s=r.sum32,a=r.sum32_3,u=r.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(f,c),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],v=n,w=r,b=i,E=c,T=f,I=0;I<80;I++){var _=s(o(u(n,l(I,r,i,c),e[p[I]+t],d(I)),y[I]),f);n=f,f=c,c=o(i,10),i=r,r=_,_=s(o(u(v,l(79-I,w,b,E),e[m[I]+t],h(I)),g[I]),T),v=T,T=E,E=o(b,10),b=w,w=_}_=a(this.h[1],i,E),this.h[1]=a(this.h[2],c,T),this.h[2]=a(this.h[3],f,v),this.h[3]=a(this.h[4],n,w),this.h[4]=a(this.h[0],r,b),this.h[0]=_},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:function(e,t,n){"use strict";t.sha1=n(4761),t.sha224=n(799),t.sha256=n(9344),t.sha384=n(772),t.sha512=n(5900)},4761:function(e,t,n){"use strict";var r=n(6436),i=n(5772),o=n(7038),s=r.rotl32,a=r.sum32,u=r.sum32_5,c=o.ft_1,f=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,f),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=u(s(i,5),c(p,o,f,d),h,n[r],l[p]);h=d,d=f,f=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},799:function(e,t,n){"use strict";var r=n(6436),i=n(9344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},9344:function(e,t,n){"use strict";var r=n(6436),i=n(5772),o=n(7038),s=n(9746),a=r.sum32,u=r.sum32_4,c=r.sum32_5,f=o.ch32,l=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,m=o.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(v,y),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],y=this.h[2],g=this.h[3],v=this.h[4],w=this.h[5],b=this.h[6],E=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var T=c(E,h(v),f(v,w,b),this.k[r],n[r]),I=a(d(i),l(i,o,y));E=b,b=w,w=v,v=a(g,T),g=y,y=o,o=i,i=a(T,I)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],w),this.h[6]=a(this.h[6],b),this.h[7]=a(this.h[7],E)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},772:function(e,t,n){"use strict";var r=n(6436),i=n(5900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},5900:function(e,t,n){"use strict";var r=n(6436),i=n(5772),o=n(9746),s=r.rotr64_hi,a=r.rotr64_lo,u=r.shr64_hi,c=r.shr64_lo,f=r.sum64,l=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,y=r.sum64_5_lo,g=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function b(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function E(e,t,n,r,i,o){var s=t&r^~t&o;return s<0&&(s+=4294967296),s}function T(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function I(e,t,n,r,i,o){var s=t&r^t&o^r&o;return s<0&&(s+=4294967296),s}function _(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function S(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function N(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function x(e,t){var n=s(e,t,1)^s(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function O(e,t){var n=a(e,t,1)^a(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=s(e,t,19)^s(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,19)^a(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(w,g),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=k(n[r-4],n[r-3]),o=C(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],u=x(n[r-30],n[r-29]),c=O(n[r-30],n[r-29]),f=n[r-32],l=n[r-31];n[r]=h(i,o,s,a,u,c,f,l),n[r+1]=p(i,o,s,a,u,c,f,l)}},w.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],v=this.h[9],w=this.h[10],x=this.h[11],O=this.h[12],k=this.h[13],C=this.h[14],D=this.h[15];o(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var R=C,U=D,B=S(g,v),L=N(g,v),P=b(g,v,w,x,O),j=E(g,v,w,x,O,k),F=this.k[M],$=this.k[M+1],V=n[M],z=n[M+1],G=m(R,U,B,L,P,j,F,$,V,z),q=y(R,U,B,L,P,j,F,$,V,z);R=_(r,i),U=A(r,i),B=T(r,i,s,a,u),L=I(r,i,s,a,u,c);var H=l(R,U,B,L),J=d(R,U,B,L);C=O,D=k,O=w,k=x,w=g,x=v,g=l(h,p,G,q),v=d(p,p,G,q),h=u,p=c,u=s,c=a,s=r,a=i,r=l(G,q,H,J),i=d(G,q,H,J)}f(this.h,0,r,i),f(this.h,2,s,a),f(this.h,4,u,c),f(this.h,6,h,p),f(this.h,8,g,v),f(this.h,10,w,x),f(this.h,12,O,k),f(this.h,14,C,D)},w.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},7038:function(e,t,n){"use strict";var r=n(6436).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function s(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?s(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},6436:function(e,t,n){"use strict";var r=n(9746),i=n(5717);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=s(i)),n+=u(i.toString(16))}return n},t.zero2=a,t.zero8=u,t.join32=function(e,t,n,i){var o=n-t;r(o%4===0);for(var s=new Array(o/4),a=0,u=t;a<s.length;a++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=c>>>0}return s},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,s=(o<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,s,a){var u=0,c=t;return u+=(c=c+r>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+n+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,s,a){return t+r+o+a>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,s,a,u,c){var f=0,l=t;return f+=(l=l+r>>>0)<t?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+a>>>0)<a?1:0,e+n+i+s+u+(f+=(l=l+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,s,a,u,c){return t+r+o+a+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},645:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,d=n?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*m}},5717:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},1094:function(e,t,n){var r,i=n(3454);!function(){"use strict";var o="input is invalid type",s="object"===typeof window,a=s?window:{};a.JS_SHA3_NO_WINDOW&&(s=!1);var u=!s&&"object"===typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"===typeof i&&i.versions&&i.versions.node?a=n.g:u&&(a=self);var c=!a.JS_SHA3_NO_COMMON_JS&&e.exports,f=n.amdO,l=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],p=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],g=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,n){return function(r){return new U(e,t,e).update(r)[n]()}},E=function(e,t,n){return function(r,i){return new U(e,t,i).update(r)[n]()}},T=function(e,t,n){return function(t,r,i,o){return N["cshake"+e].update(t,r,i,o)[n]()}},I=function(e,t,n){return function(t,r,i,o){return N["kmac"+e].update(t,r,i,o)[n]()}},_=function(e,t,n,r){for(var i=0;i<v.length;++i){var o=v[i];e[o]=t(n,r,o)}return e},A=function(e,t){var n=b(e,t,"hex");return n.create=function(){return new U(e,t,e)},n.update=function(e){return n.create().update(e)},_(n,b,e,t)},S=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:A},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:A},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var n=E(e,t,"hex");return n.create=function(n){return new U(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},_(n,E,e,t)}},{name:"cshake",padding:h,bits:g,createMethod:function(e,t){var n=w[e],r=T(e,0,"hex");return r.create=function(r,i,o){return i||o?new U(e,t,r).bytepad([i,o],n):N["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},_(r,T,e,t)}},{name:"kmac",padding:h,bits:g,createMethod:function(e,t){var n=w[e],r=I(e,0,"hex");return r.create=function(r,i,o){return new B(e,t,i).bytepad(["KMAC",o],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},_(r,I,e,t)}}],N={},x=[],O=0;O<S.length;++O)for(var k=S[O],C=k.bits,D=0;D<C.length;++D){var M=k.name+"_"+C[D];if(x.push(M),N[M]=k.createMethod(C[D],k.padding),"sha3"!==k.name){var R=k.name+C[D];x.push(R),N[R]=N[M]}}function U(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function B(e,t,n){U.call(this,e,t,n)}U.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var r,i,s=this.blocks,a=this.byteCount,u=e.length,c=this.blockCount,f=0,d=this.s;f<u;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<c+1;++r)s[r]=0;if(t)for(r=this.start;f<u&&r<a;++f)s[r>>2]|=e[f]<<p[3&r++];else for(r=this.start;f<u&&r<a;++f)(i=e.charCodeAt(f))<128?s[r>>2]|=i<<p[3&r++]:i<2048?(s[r>>2]|=(192|i>>6)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]):i<55296||i>=57344?(s[r>>2]|=(224|i>>12)<<p[3&r++],s[r>>2]|=(128|i>>6&63)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++f)),s[r>>2]|=(240|i>>18)<<p[3&r++],s[r>>2]|=(128|i>>12&63)<<p[3&r++],s[r>>2]|=(128|i>>6&63)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=s[c],r=0;r<c;++r)d[r]^=s[r];L(d),this.reset=!0}else this.start=r}return this},U.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},U.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(o);t=!0}var r=0,i=e.length;if(t)r=i;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),r+=4)}return r+=this.encode(8*r),this.update(e),r},U.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,o=[];return o.length=i,this.update(o),this},U.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];L(r)}},U.prototype.toString=U.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<r;){for(o=0;o<t&&s<r;++o,++s)e=n[o],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t===0&&(L(n),o=0)}return i&&(e=n[o],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},U.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);s<r;){for(o=0;o<t&&s<r;++o,++s)u[s]=n[o];s%t===0&&L(n)}return i&&(u[o]=n[o],e=e.slice(0,a)),e},U.prototype.buffer=U.prototype.arrayBuffer,U.prototype.digest=U.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<n&&a<i;++s,++a)e=a<<2,t=r[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%n===0&&L(r)}return o&&(e=a<<2,t=r[s],u[e]=255&t,o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},B.prototype=new U,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),U.prototype.finalize.call(this)};var L=function(e){var t,n,r,i,o,s,a,u,c,f,l,d,h,p,y,g,v,w,b,E,T,I,_,A,S,N,x,O,k,C,D,M,R,U,B,L,P,j,F,$,V,z,G,q,H,J,K,Y,W,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ue,ce,fe;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),n=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(u<<1|c>>>31),n=o^(c<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(f<<1|l>>>31),n=a^(l<<1|f>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(d<<1|h>>>31),n=c^(h<<1|d>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=f^(i<<1|o>>>31),n=l^(o<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,p=e[0],y=e[1],J=e[11]<<4|e[10]>>>28,K=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,k=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,U=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,W=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,D=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,P=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,M=e[45]<<29|e[44]>>>3,R=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,j=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,T=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,H=e[9]<<27|e[8]>>>5,N=e[18]<<20|e[19]>>>12,x=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,$=e[38]<<8|e[39]>>>24,V=e[39]<<8|e[38]>>>24,I=e[48]<<14|e[49]>>>18,_=e[49]<<14|e[48]>>>18,e[0]=p^~g&w,e[1]=y^~v&b,e[10]=A^~N&O,e[11]=S^~x&k,e[20]=U^~L&j,e[21]=B^~P&F,e[30]=q^~J&Y,e[31]=H^~K&W,e[40]=te^~re&oe,e[41]=ne^~ie&se,e[2]=g^~w&E,e[3]=v^~b&T,e[12]=N^~O&C,e[13]=x^~k&D,e[22]=L^~j&$,e[23]=P^~F&V,e[32]=J^~Y&X,e[33]=K^~W&Q,e[42]=re^~oe&ae,e[43]=ie^~se&ue,e[4]=w^~E&I,e[5]=b^~T&_,e[14]=O^~C&M,e[15]=k^~D&R,e[24]=j^~$&z,e[25]=F^~V&G,e[34]=Y^~X&Z,e[35]=W^~Q&ee,e[44]=oe^~ae&ce,e[45]=se^~ue&fe,e[6]=E^~I&p,e[7]=T^~_&y,e[16]=C^~M&A,e[17]=D^~R&S,e[26]=$^~z&U,e[27]=V^~G&B,e[36]=X^~Z&q,e[37]=Q^~ee&H,e[46]=ae^~ce&te,e[47]=ue^~fe&ne,e[8]=I^~p&g,e[9]=_^~y&v,e[18]=M^~A&N,e[19]=R^~S&x,e[28]=z^~U&L,e[29]=G^~B&P,e[38]=Z^~q&J,e[39]=ee^~H&K,e[48]=ce^~te&re,e[49]=fe^~ne&ie,e[0]^=m[r],e[1]^=m[r+1]};if(c)e.exports=N;else{for(O=0;O<x.length;++O)a[x[O]]=N[x[O]];f&&(void 0===(r=function(){return N}.call(t,n,t,e))||(e.exports=r))}}()},3465:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",u="[object Function]",c="[object GeneratorFunction]",f="[object Map]",l="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",v="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",I="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",x="[object Uint16Array]",O="[object Uint32Array]",k=/\w*$/,C=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,M={};M[o]=M["[object Array]"]=M[w]=M[b]=M[s]=M[a]=M[E]=M[T]=M[I]=M[_]=M[A]=M[f]=M[l]=M[d]=M[p]=M[m]=M[y]=M[g]=M[S]=M[N]=M[x]=M[O]=!0,M["[object Error]"]=M[u]=M[v]=!1;var R="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,U="object"==typeof self&&self&&self.Object===Object&&self,B=R||U||Function("return this")(),L=t&&!t.nodeType&&t,P=L&&e&&!e.nodeType&&e,j=P&&P.exports===L;function F(e,t){return e.set(t[0],t[1]),e}function $(e,t){return e.add(t),e}function V(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function q(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var J=Array.prototype,K=Function.prototype,Y=Object.prototype,W=B["__core-js_shared__"],X=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=K.toString,Z=Y.hasOwnProperty,ee=Y.toString,te=RegExp("^"+Q.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=j?B.Buffer:void 0,re=B.Symbol,ie=B.Uint8Array,oe=q(Object.getPrototypeOf,Object),se=Object.create,ae=Y.propertyIsEnumerable,ue=J.splice,ce=Object.getOwnPropertySymbols,fe=ne?ne.isBuffer:void 0,le=q(Object.keys,Object),de=Le(B,"DataView"),he=Le(B,"Map"),pe=Le(B,"Promise"),me=Le(B,"Set"),ye=Le(B,"WeakMap"),ge=Le(Object,"create"),ve=Ve(de),we=Ve(he),be=Ve(pe),Ee=Ve(me),Te=Ve(ye),Ie=re?re.prototype:void 0,_e=Ie?Ie.valueOf:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){this.__data__=new Se(e)}function Oe(e,t){var n=Ge(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&qe(e)}(e)&&Z.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var s in e)!t&&!Z.call(e,s)||i&&("length"==s||Fe(s,r))||n.push(s);return n}function ke(e,t,n){var r=e[t];Z.call(e,t)&&ze(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ce(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function De(e,t,n,r,i,h,v){var C;if(r&&(C=h?r(e,i,h,v):r(e)),void 0!==C)return C;if(!Ke(e))return e;var D=Ge(e);if(D){if(C=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,C)}else{var R=je(e),U=R==u||R==c;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(R==d||R==o||U&&!h){if(z(e))return h?e:{};if(C=function(e){return"function"!=typeof e.constructor||$e(e)?{}:(t=oe(e),Ke(t)?se(t):{});var t}(U?{}:e),!t)return function(e,t){return Ue(e,Pe(e),t)}(e,function(e,t){return e&&Ue(t,Ye(t),e)}(C,e))}else{if(!M[R])return h?e:{};C=function(e,t,n,r){var i=e.constructor;switch(t){case w:return Re(e);case s:case a:return new i(+e);case b:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case T:case I:case _:case A:case S:case N:case x:case O:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return V(t?n(G(e),!0):G(e),F,new e.constructor)}(e,r,n);case l:case y:return new i(e);case p:return function(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return V(t?n(H(e),!0):H(e),$,new e.constructor)}(e,r,n);case g:return o=e,_e?Object(_e.call(o)):{}}var o}(e,R,De,t)}}v||(v=new xe);var B=v.get(e);if(B)return B;if(v.set(e,C),!D)var L=n?function(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ye,Pe)}(e):Ye(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(L||e,(function(i,o){L&&(i=e[o=i]),ke(C,o,De(i,t,n,r,o,e,v))})),C}function Me(e){return!(!Ke(e)||(t=e,X&&X in t))&&(Je(e)||z(e)?te:C).test(Ve(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Ue(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;ke(n,s,void 0===a?e[s]:a)}return n}function Be(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Z.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():ue.call(t,n,1),!0)},Se.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return Ce(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ne.prototype.clear=function(){this.__data__={hash:new Ae,map:new(he||Se),string:new Ae}},Ne.prototype.delete=function(e){return Be(this,e).delete(e)},Ne.prototype.get=function(e){return Be(this,e).get(e)},Ne.prototype.has=function(e){return Be(this,e).has(e)},Ne.prototype.set=function(e,t){return Be(this,e).set(e,t),this},xe.prototype.clear=function(){this.__data__=new Se},xe.prototype.delete=function(e){return this.__data__.delete(e)},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ne(r)}return n.set(e,t),this};var Pe=ce?q(ce,Object):function(){return[]},je=function(e){return ee.call(e)};function Fe(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||D.test(e))&&e>-1&&e%1==0&&e<t}function $e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Ve(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ze(e,t){return e===t||e!==e&&t!==t}(de&&je(new de(new ArrayBuffer(1)))!=b||he&&je(new he)!=f||pe&&je(pe.resolve())!=h||me&&je(new me)!=m||ye&&je(new ye)!=v)&&(je=function(e){var t=ee.call(e),n=t==d?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case ve:return b;case we:return f;case be:return h;case Ee:return m;case Te:return v}return t});var Ge=Array.isArray;function qe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Je(e)}var He=fe||function(){return!1};function Je(e){var t=Ke(e)?ee.call(e):"";return t==u||t==c}function Ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ye(e){return qe(e)?Oe(e):function(e){if(!$e(e))return le(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return De(e,!0,!0)}},9746:function(e){function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},556:function(e,t,n){"use strict";const{encodeText:r}=n(2413);e.exports=class{constructor(e,t,n,i){this.name=e,this.code=t,this.codeBuf=r(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}},5077:function(e,t,n){"use strict";const r=n(8820),i=n(556),{rfc4648:o}=n(6727),{decodeText:s,encodeText:a}=n(2413),u=[["identity","\0",()=>({encode:s,decode:a}),""],["base2","0",o(1),"01"],["base8","7",o(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",o(4),"0123456789abcdef"],["base16upper","F",o(4),"0123456789ABCDEF"],["base32hex","v",o(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",o(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",o(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",o(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",o(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=u.reduce(((e,t)=>(e[t[0]]=new i(t[0],t[1],t[2],t[3]),e)),{}),f=u.reduce(((e,t)=>(e[t[1]]=c[t[0]],e)),{});e.exports={names:c,codes:f}},6957:function(e,t,n){"use strict";const r=n(5077),{encodeText:i,decodeText:o,concat:s}=n(2413);function a(e){if(Object.prototype.hasOwnProperty.call(r.names,e))return r.names[e];if(Object.prototype.hasOwnProperty.call(r.codes,e))return r.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:n,codeBuf:r}=a(e);return function(e,t){a(e).decode(o(t))}(n,t),s([r,t],r.length+t.length)}).encode=function(e,t){const n=a(e),r=i(n.encode(t));return s([n.codeBuf,r],n.codeBuf.length+r.length)},t.decode=function(e){e instanceof Uint8Array&&(e=o(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),a(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=o(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return a(e[0]).name}catch(t){return!1}},t.encoding=a,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=o(e)),a(e[0])};const u=Object.freeze(r.names),c=Object.freeze(r.codes);t.names=u,t.codes=c},6727:function(e){"use strict";e.exports={rfc4648:e=>t=>({encode:n=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(n,t,e),decode:n=>((e,t,n)=>{const r={};for(let c=0;c<t.length;++c)r[t[c]]=c;let i=e.length;for(;"="===e[i-1];)--i;const o=new Uint8Array(i*n/8|0);let s=0,a=0,u=0;for(let c=0;c<i;++c){const t=r[e[c]];if(void 0===t)throw new SyntaxError("Invalid character "+e[c]);a=a<<n|t,s+=n,s>=8&&(s-=8,o[u++]=255&a>>s)}if(s>=n||255&a<<8-s)throw new SyntaxError("Unexpected end of data");return o})(n,t,e)})}},2413:function(e){"use strict";const t=new TextDecoder,n=new TextEncoder;e.exports={decodeText:e=>t.decode(e),encodeText:e=>n.encode(e),concat:function(e,t){const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}}},2623:function(e){e.exports=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i}},3657:function(e){e.exports=function e(n,r,i){r=r||[];var o=i=i||0;for(;n>=t;)r[i++]=255&n|128,n/=128;for(;-128&n;)r[i++]=255&n|128,n>>>=7;return r[i]=0|n,e.bytes=i-o+1,r};var t=Math.pow(2,31)},8414:function(e,t,n){e.exports={encode:n(3657),decode:n(2623),encodingLength:n(8078)}},8078:function(e){var t=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),u=Math.pow(2,56),c=Math.pow(2,63);e.exports=function(e){return e<t?1:e<n?2:e<r?3:e<i?4:e<o?5:e<s?6:e<a?7:e<u?8:e<c?9:10}},1291:function(e){"use strict";const t=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:t}},8370:function(e,t,n){"use strict";const r=n(6957),i=n(8414),{names:o}=n(1291),{toString:s}=n(864),{fromString:a}=n(7105),{concat:u}=n(9114),c={};for(const m in o){const e=m;c[o[e]]=e}function f(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=i.decode(e);if(!h(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(i.decode.bytes);const n=i.decode(e);if(n<0)throw new Error(`multihash invalid length: ${n}`);if((e=e.slice(i.decode.bytes)).length!==n)throw new Error(`multihash length inconsistent: 0x${s(e,"base16")}`);return{code:t,name:c[t],length:n,digest:e}}function l(e){let t=e;if("string"===typeof e){if(void 0===o[e])throw new Error(`Unrecognized hash function named: ${e}`);t=o[e]}if("number"!==typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(void 0===c[t]&&!d(t))throw new Error(`Unrecognized function code: ${t}`);return t}function d(e){return e>0&&e<16}function h(e){return!!d(e)||!!c[e]}function p(e){f(e)}Object.freeze(c),e.exports={names:o,codes:c,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return s(e,"base16")},fromHexString:function(e){return a(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return s(r.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?s(e):e;return r.decode("z"+t)},decode:f,encode:function(e,t,n){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");const r=l(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==n&&(n=e.length),n&&e.length!==n)throw new Error("digest length should be equal to specified length.");const o=i.encode(r),s=i.encode(n);return u([o,s,e],o.length+s.length+e.length)},coerceCode:l,isAppCode:d,validate:p,prefix:function(e){return p(e),e.subarray(0,2)},isValidCode:h}},3454:function(e,t,n){"use strict";e.exports=n.g.process||n(7663)},1780:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(8510)}])},1380:function(e,t,n){"use strict";n.d(t,{B:function(){return l},c:function(){return d}});var r=n(5893),i=n(7294),o=n(2027),s=n(249),a=n(395),u=new o.v("http://localhost:7007"),c=new s.e({ceramic:"http://localhost:7007",definition:a.D}),f=(0,i.createContext)({ceramic:u,composeClient:c}),l=function(e){var t=e.children;return(0,r.jsx)(f.Provider,{value:{ceramic:u,composeClient:c},children:t})},d=function(){return(0,i.useContext)(f)}},395:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});var r={models:{Card:{id:"kjzl6hvfrbw6ca7ypxfnmbwf4y5zrto47zbam15gij3wu1xqodb45r7dnz2hcmj",accountRelation:{type:"list"}},Resource:{id:"kjzl6hvfrbw6caxx4bevyndbdya82sqcm3ytwfxt2fwa0ozod07hfffouq1oz1d",accountRelation:{type:"list"}},CardRelation:{id:"kjzl6hvfrbw6ca7lw1d90nmi9ug6tvoglio0692cqfxyve6mnheavnlwz8x5kai",accountRelation:{type:"list"}},IcarusProfile:{id:"kjzl6hvfrbw6c6q83f1r39rb7nl2zyqsoatu7th8dogluiq0rlaoii3py535q86",accountRelation:{type:"single"}},Settings:{id:"kjzl6hvfrbw6cas10z4ju58efix7vsg2s3njh20qgh9okak61ujequa8prbx2e6",accountRelation:{type:"single"}}},objects:{Card:{quote:{type:"string",required:!1},prefix:{type:"string",required:!1},suffix:{type:"string",required:!1},createdAt:{type:"datetime",required:!0},updatedAt:{type:"datetime",required:!0},annotation:{type:"string",required:!1}},Resource:{doi:{type:"string",required:!1},url:{type:"string",required:!1},isbn:{type:"string",required:!1},title:{type:"string",required:!1},author:{type:"string",required:!1},createdAt:{type:"datetime",required:!0},mediaType:{type:"string",required:!1},updatedAt:{type:"datetime",required:!0},publishedAt:{type:"date",required:!1},readingProgressPercent:{type:"float",required:!0},readingProgressTopPercent:{type:"float",required:!1},readingProgressAnchorIndex:{type:"integer",required:!0},cards:{type:"view",viewType:"relation",relation:{source:"queryConnection",model:"kjzl6hvfrbw6ca7ypxfnmbwf4y5zrto47zbam15gij3wu1xqodb45r7dnz2hcmj",property:"ResourceID"}}},CardRelation:{cardID:{type:"streamid",required:!0},resourceID:{type:"streamid",required:!0},card:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6ca7ypxfnmbwf4y5zrto47zbam15gij3wu1xqodb45r7dnz2hcmj",property:"cardID"}},resource:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6caxx4bevyndbdya82sqcm3ytwfxt2fwa0ozod07hfffouq1oz1d",property:"resourceID"}}},IcarusProfile:{bio:{type:"string",required:!0},createdAt:{type:"datetime",required:!0},updatedAt:{type:"datetime",required:!0},pictureUrl:{type:"string",required:!1},displayName:{type:"string",required:!0}},Settings:{fontSize:{type:"integer",required:!1},createdAt:{type:"datetime",required:!0},updatedAt:{type:"datetime",required:!0},fontFamily:{type:"string",required:!1},themeModes:{type:"string",required:!1},account:{type:"view",viewType:"documentAccount"}}},enums:{},accountData:{cardList:{type:"connection",name:"Card"},resourceList:{type:"connection",name:"Resource"},cardRelationList:{type:"connection",name:"CardRelation"},icarusProfile:{type:"node",name:"IcarusProfile"},settings:{type:"node",name:"Settings"}}}},8510:function(e,t,n){"use strict";n.r(t);var r=n(4051),i=n.n(r),o=n(5893),s=(n(906),n(1380)),a=n(7294),u=n(5313),c=n(7747);function f(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps,r=(0,s.c)(),l=r.ceramic,h=r.composeClient,p=function(){var e,t=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.M)(l,h);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){f(o,r,i,s,a,"next",e)}function a(e){f(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,a.useEffect)((function(){localStorage.getItem("logged_in")&&p()}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(c.default,{}),(0,o.jsx)("div",{children:(0,o.jsx)(s.B,{children:(0,o.jsx)("div",{children:(0,o.jsx)(t,d({},n))})})})]})}},7747:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=n(7294),o=n(5313),s=n(1380);t.default=function(){var e=(0,i.useState)(!0),t=e[0],n=e[1],a=(0,s.c)(),u=a.ceramic,c=a.composeClient;return(0,r.jsx)("div",{children:t&&(0,r.jsx)("div",{id:"popup",className:"flex",children:(0,r.jsxs)("div",{className:"popup-content",children:[(0,r.jsx)("h2",{children:"Authenticate"}),(0,r.jsx)("span",{children:(0,r.jsx)("button",{onClick:function(){localStorage.setItem("ceramic:auth_type","key"),n(!1),(0,o.M)(u,c)},children:"Key DID"})}),(0,r.jsx)("span",{children:(0,r.jsx)("button",{onClick:function(){localStorage.setItem("ceramic:auth_type","eth"),n(!1),(0,o.M)(u,c)},children:"Ethereum DID PKH"})})]})})})}},5313:function(e,t,n){"use strict";n.d(t,{M:function(){return p}});var r=n(4051),i=n.n(r),o=n(9228),s=n(1387),a=n(2386),u=n(3285),c=n(2506);function f(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){f(o,r,i,s,a,"next",e)}function a(e){f(o,r,i,s,a,"throw",e)}s(void 0)}))}}function d(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var h="ceramic:did_seed",p=function(){var e=l(i().mark((function e(t,n){var r,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=localStorage.getItem("logged_in"),o=document.getElementById("popup"),"true"==r&&o&&o.classList.add("hidden"),s=localStorage.getItem("ceramic:auth_type"),console.log(s),"key"==s&&m(t,n),"eth"==s&&y(t,n),localStorage.setItem("logged_in","true");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=l(i().mark((function e(t,n){var r,u,c,f,l,p,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===localStorage.getItem(h)?(console.log("Generating seed..."),u=crypto.getRandomValues(new Uint8Array(32)),c=JSON.stringify(u,(function(e,t){return d(t,Uint8Array)?Array.from(t):t})),localStorage.setItem(h,c),r=u,console.log("Generated new seed: "+u)):(f=localStorage.getItem(h),l=JSON.parse(f),r=l,console.log("Found seed: "+r)),p=new o.o(r),m=new a.y({provider:p,resolver:(0,s.j)()}),e.next=6,m.authenticate();case 6:return t.did=m,n.setDID(m),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=l(i().mark((function e(t,n){var r,o,s,a,f,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=localStorage.getItem("ceramic:eth_did"))){e.next=6;break}return e.next=5,u.GJ.fromSession(r);case 5:o=e.sent;case 6:if(!(!o||o.hasSession&&o.isExpired)){e.next=23;break}if(null!==window.ethereum&&void 0!==window.ethereum){e.next=9;break}throw new Error("No injected Ethereum provider found.");case 9:return s=window.ethereum,e.next=12,s.enable({method:"eth_requestAccounts"});case 12:return a=e.sent,e.next=15,(0,c._4)(s,a[0]);case 15:return f=e.sent,e.next=18,c.$2.getAuthMethod(s,f);case 18:return l=e.sent,e.next=21,u.GJ.authorize(l,{resources:n.resources});case 21:o=e.sent,localStorage.setItem("ceramic:eth_did",o.serialize());case 23:return n.setDID(o.did),t.did=o.did,e.abrupt("return");case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},906:function(){},7663:function(e){!function(){var t={162:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,u=[],c=!1,f=-1;function l(){c&&a&&(c=!1,a.length?u=a.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=s(l);c=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i=r(162);e.exports=i}()},6830:function(e){"use strict";e.exports=function(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},6526:function(e){"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}},2099:function(e){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},8546:function(e,t,n){"use strict";const r=n(5698);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},9808:function(e,t,n){"use strict";const r=n(6830),i=n(6526),o=n(2099),s=n(8546),a=n(4535),u=n(2249);e.exports={compare:r,concat:i,equals:o,fromString:s,toString:a,xor:u}},4535:function(e,t,n){"use strict";const r=n(5698);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}},5698:function(e,t,n){"use strict";const{bases:r}=n(7527);function i(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const o=i("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),s=i("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),a={utf8:o,"utf-8":o,hex:r.base16,latin1:s,ascii:s,binary:s,...r};e.exports=a},2249:function(e){"use strict";e.exports=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}},2831:function(e){e.exports={STRING:2,BOOLEAN:4,BYTES:4,NUMBER:8,Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}},4225:function(e,t,n){"use strict";const r=n(2831),i=n(8764).lW;e.exports=function(e){let t=0;return t=null!==e&&"object"===typeof e?function(e){let t=0;try{let n=e;if(e instanceof Map?n=Object.fromEntries(e):e instanceof Set&&(n=Array.from(e)),e instanceof Int8Array)return e.length*r.Int8Array;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return e.length*r.Uint8Array;if(e instanceof Int16Array)return e.length*r.Int16Array;if(e instanceof Uint16Array)return e.length*r.Uint16Array;if(e instanceof Int32Array)return e.length*r.Int32Array;if(e instanceof Uint32Array)return e.length*r.Uint32Array;if(e instanceof Float32Array)return e.length*r.Float32Array;if(e instanceof Float64Array)return e.length*r.Float64Array;const o=JSON.stringify(n);t=new i.from(o).byteLength}catch(n){return console.error("Error detected, return -1",n),-1}return t}(e):function(e){const t=[],n=[e];let o=0;for(;n.length;){const a=n.pop();if("boolean"===typeof a)o+=r.BYTES;else if("string"===typeof a)"undefined"===typeof window||"undefined"===typeof document?o+=(s=a,12+4*Math.ceil(s.length/4)):o+=a.length*r.STRING;else if("number"===typeof a)o+=r.NUMBER;else if("symbol"===typeof a)o+=Symbol.keyFor&&Symbol.keyFor(e)?Symbol.keyFor(e).length*r.STRING:(e.toString().length-8)*r.STRING;else if("bigint"===typeof a)o+=i.from(a.toString()).byteLength;else if("function"===typeof a)o+=a.toString().length;else if("object"===typeof a&&-1===t.indexOf(a)){t.push(a);for(const e in a)n.push(a[e])}}var s;return o}(e),t}},9293:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r=n(2813),i=n(4222),o=n(6766),s=n(278);function a(e){return 0===e.length?s.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var u=n(3912),c=n(8474),f=n(8846),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,s=this,a=(o=e)&&o instanceof r.Lv||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(o)&&(0,i.Nn)(o)?e:new r.Hp(e,t,n);return(0,f.x)((function(){var e=s,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?s._subscribe(a):s._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,i){var o=new r.Hp({next:function(t){try{e(t)}catch(n){i(n),o.unsubscribe()}},error:i,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!==e&&void 0!==e?e:u.v.Promise)&&void 0!==t?t:Promise}},2813:function(e,t,n){"use strict";n.d(t,{Hp:function(){return g},Lv:function(){return h}});var r=n(1026),i=n(8474),o=n(4222),s=n(3912),a=n(5);function u(){}var c=f("C",void 0,void 0);function f(e,t,n){return{kind:e,value:t,error:n}}var l=n(8380),d=n(8846),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,o.Nn)(t)&&t.add(n)):n.destination=b,n}return(0,r.ZT)(t,e),t.create=function(e,t,n){return new g(e,t,n)},t.prototype.next=function(e){this.isStopped?w(function(e){return f("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?w(f("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?w(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(o.w0),p=Function.prototype.bind;function m(e,t){return p.call(e,t)}var y=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){v(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){v(n)}else v(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){v(t)}},e}(),g=function(e){function t(t,n,r){var o,a,u=e.call(this)||this;(0,i.m)(t)||!t?o={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:u&&s.v.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&m(t.next,a),error:t.error&&m(t.error,a),complete:t.complete&&m(t.complete,a)}):o=t;return u.destination=new y(o),u}return(0,r.ZT)(t,e),t}(h);function v(e){s.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(e):(0,a.h)(e)}function w(e,t){var n=s.v.onStoppedNotification;n&&l.z.setTimeout((function(){return n(e,t)}))}var b={closed:!0,next:u,error:function(e){throw e},complete:u}},4222:function(e,t,n){"use strict";n.d(t,{Lc:function(){return u},w0:function(){return a},Nn:function(){return c}});var r=n(1026),i=n(8474),o=(0,n(1819).d)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),s=n(3699),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,s,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=(0,r.XA)(u),l=c.next();!l.done;l=c.next()){l.value.remove(this)}}catch(g){e={error:g}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else u.remove(this);var d=this.initialTeardown;if((0,i.m)(d))try{d()}catch(v){a=v instanceof o?v.errors:[v]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=(0,r.XA)(h),m=p.next();!m.done;m=p.next()){var y=m.value;try{f(y)}catch(w){a=null!==a&&void 0!==a?a:[],w instanceof o?a=(0,r.ev)((0,r.ev)([],(0,r.CR)(a)),(0,r.CR)(w.errors)):a.push(w)}}}catch(b){n={error:b}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}if(a)throw new o(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,s.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),u=a.EMPTY;function c(e){return e instanceof a||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function f(e){(0,i.m)(e)?e():e.unsubscribe()}},3912:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7878:function(e,t,n){"use strict";n.d(t,{Xf:function(){return m}});var r=n(1026),i=n(5685),o=n(3841),s=n(9293),a=n(1764),u=n(8430),c=n(8729),f=n(1837),l=n(8671),d=n(8474),h=n(5),p=n(6766);function m(e){if(e instanceof s.y)return e;if(null!=e){if((0,a.c)(e))return v=e,new s.y((function(e){var t=v[p.L]();if((0,d.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,i.z)(e))return g=e,new s.y((function(e){for(var t=0;t<g.length&&!e.closed;t++)e.next(g[t]);e.complete()}));if((0,o.t)(e))return m=e,new s.y((function(e){m.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,h.h)}));if((0,u.D)(e))return y(e);if((0,f.T)(e))return n=e,new s.y((function(e){var t,i;try{for(var o=(0,r.XA)(n),s=o.next();!s.done;s=o.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(u){t={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}e.complete()}));if((0,l.L)(e))return t=e,y((0,l.Q)(t))}var t,n,m,g,v;throw(0,c.z)(e)}function y(e){return new s.y((function(t){(function(e,t){var n,i,o,s;return(0,r.mG)(this,void 0,void 0,(function(){var a,u;return(0,r.Jh)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,r.KL)(e),c.label=1;case 1:return[4,n.next()];case 2:if((i=c.sent()).done)return[3,4];if(a=i.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=c.sent(),o={error:u},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},4144:function(e,t,n){"use strict";n.d(t,{H:function(){return h}});var r=n(9293),i=n(1026),o=function(e){function t(t,n){return e.call(this)||this}return(0,i.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(4222).w0),s={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=s.delegate;return(null===o||void 0===o?void 0:o.setInterval)?o.setInterval.apply(o,(0,i.ev)([e,t],(0,i.CR)(n))):setInterval.apply(void 0,(0,i.ev)([e,t],(0,i.CR)(n)))},clearInterval:function(e){var t=s.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},a=n(3699),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,i.ZT)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),s.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&s.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o),c={now:function(){return(c.delegate||Date).now()},delegate:void 0},f=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=c.now,e}(),l=new(function(e){function t(t,n){void 0===n&&(n=f.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,i.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(f))(u),d=n(4865);function h(e,t,n){void 0===e&&(e=0),void 0===n&&(n=l);var i=-1;return null!=t&&((0,d.K)(t)?n=t:i=t),new r.y((function(t){var r,o=(r=e)instanceof Date&&!isNaN(r)?+e-n.now():e;o<0&&(o=0);var s=0;return n.schedule((function(){t.closed||(t.next(s++),0<=i?this.schedule(void 0,i):t.complete())}),o)}))}},2566:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(1026);function i(e,t,n,r,i){return new o(e,t,n,r,i)}var o=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,r.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(2813).Lv)},5978:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(6798),i=n(2566),o=n(7878);function s(e,t){return(0,r.e)((function(n,r){var s=null!==t&&void 0!==t?t:{},a=s.leading,u=void 0===a||a,c=s.trailing,f=void 0!==c&&c,l=!1,d=null,h=null,p=!1,m=function(){null===h||void 0===h||h.unsubscribe(),h=null,f&&(v(),p&&r.complete())},y=function(){h=null,p&&r.complete()},g=function(t){return h=(0,o.Xf)(e(t)).subscribe((0,i.x)(r,m,y))},v=function(){if(l){l=!1;var e=d;d=null,r.next(e),!p&&g(e)}};n.subscribe((0,i.x)(r,(function(e){l=!0,d=e,(!h||h.closed)&&(u?v():g(e))}),(function(){p=!0,(!(f&&l&&h)||h.closed)&&r.complete()})))}))}},8380:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(1026),i={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=i.delegate;return(null===s||void 0===s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,r.ev)([e,t],(0,r.CR)(n))):setTimeout.apply(void 0,(0,r.ev)([e,t],(0,r.CR)(n)))},clearTimeout:function(e){var t=i.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},9768:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6766:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"===typeof Symbol&&Symbol.observable||"@@observable"},3699:function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},1819:function(e,t,n){"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},8846:function(e,t,n){"use strict";n.d(t,{x:function(){return o},O:function(){return s}});var r=n(3912),i=null;function o(e){if(r.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var n=i,o=n.errorThrown,s=n.error;if(i=null,o)throw s}}else e()}function s(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},278:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},5685:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},8430:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(8474);function i(e){return Symbol.asyncIterator&&(0,r.m)(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}},8474:function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,{m:function(){return r}})},1764:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(6766),i=n(8474);function o(e){return(0,i.m)(e[r.L])}},1837:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(9768),i=n(8474);function o(e){return(0,i.m)(null===e||void 0===e?void 0:e[r.h])}},3841:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(8474);function i(e){return(0,r.m)(null===e||void 0===e?void 0:e.then)}},8671:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},L:function(){return s}});var r=n(1026),i=n(8474);function o(e){return(0,r.FC)(this,arguments,(function(){var t,n,i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.qq)(t.read())];case 3:return n=o.sent(),i=n.value,n.done?[4,(0,r.qq)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,r.qq)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function s(e){return(0,i.m)(null===e||void 0===e?void 0:e.getReader)}},4865:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(8474);function i(e){return e&&(0,r.m)(e.schedule)}},6798:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(8474);function i(e){return function(t){if(function(e){return(0,r.m)(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}},5:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(3912),i=n(8380);function o(e){i.z.setTimeout((function(){var t=r.v.onUnhandledError;if(!t)throw e;t(e)}))}},8729:function(e,t,n){"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{z:function(){return r}})},6988:function(e){e.exports=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a||o>49)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i}},1312:function(e){e.exports=function e(n,r,i){if(Number.MAX_SAFE_INTEGER&&n>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");r=r||[];var o=i=i||0;for(;n>=t;)r[i++]=255&n|128,n/=128;for(;-128&n;)r[i++]=255&n|128,n>>>=7;return r[i]=0|n,e.bytes=i-o+1,r};var t=Math.pow(2,31)},4676:function(e,t,n){e.exports={encode:n(1312),decode:n(6988),encodingLength:n(82)}},82:function(e){var t=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),u=Math.pow(2,56),c=Math.pow(2,63);e.exports=function(e){return e<t?1:e<n?2:e<r?3:e<i?4:e<o?5:e<s?6:e<a?7:e<u?8:e<c?9:10}},5883:function(){},6601:function(){},2362:function(e,t,n){"use strict";n.d(t,{s:function(){return h}});var r=n(1026),i=n(9293),o=n(4222),s=(0,n(1819).d)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),a=n(3699),u=n(8846),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.ZT)(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new s},t.prototype.next=function(e){var t=this;(0,u.x)((function(){var n,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=(0,r.XA)(t.currentObservers),s=o.next();!s.done;s=o.next()){s.value.next(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;(0,u.x)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,u.x)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,s=n.observers;return r||i?o.Lc:(this.currentObservers=null,s.push(e),new o.w0((function(){t.currentObservers=null,(0,a.P)(s,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.y),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:o.Lc},t}(c),l=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,r.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(c),d=n(2108);class h extends l{next(e){const t=this.value;d.e.statesEqual(t,e)||super.next(e)}}},826:function(e,t,n){"use strict";n.d(t,{F6:function(){return f},oC:function(){return l}});var r,i,o=n(3465),s=n(132),a=n(1002),u=n(9293),c=n(3188);!function(e){e[e.GENESIS=0]="GENESIS",e[e.PARTIAL=1]="PARTIAL",e[e.SIGNED=2]="SIGNED"}(r||(r={})),function(e){e[e.GENESIS=0]="GENESIS",e[e.SIGNED=1]="SIGNED",e[e.ANCHOR=2]="ANCHOR"}(i||(i={}));class f extends u.y{constructor(e,t){super((t=>{e.subscribe(t)})),this.state$=e,this._context=t}get id(){return new s.Eb(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get content(){const{next:e,content:t}=this.state$.value;return o(e?.content??t)}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return a.NQ.make(this.id,this.tip)}get allCommitIds(){return this.state$.value.log.map((({cid:e})=>a.NQ.make(this.id,e)))}get anchorCommitIds(){return this.state$.value.log.filter((({type:e})=>e===i.ANCHOR)).map((({cid:e})=>a.NQ.make(this.id,e)))}get state(){return o(this.state$.value)}async sync(e={}){e={sync:c.l.PREFER_CACHE,...e};const t=await this.api.loadStream(this.id,e);this.state$.next(t.state)}async requestAnchor(){return this.api.requestAnchor(this.id)}}function l(){return e=>{}}},3188:function(e,t,n){"use strict";var r;n.d(t,{l:function(){return r}}),function(e){e[e.PREFER_CACHE=0]="PREFER_CACHE",e[e.SYNC_ALWAYS=1]="SYNC_ALWAYS",e[e.NEVER_SYNC=2]="NEVER_SYNC",e[e.SYNC_ON_ERROR=3]="SYNC_ON_ERROR"}(r||(r={}))},5664:function(e,t,n){"use strict";n.d(t,{r:function(){return W}});var r=n(4098),i=n(6798),o=n(2566);function s(e,t){return(0,i.e)((function(n,r){var i=0;n.subscribe((0,o.x)(r,(function(n){r.next(e.call(t,n,i++))})))}))}var a=n(7878);function u(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}var c=n(8474);function f(e,t,n){return void 0===n&&(n=1/0),(0,c.m)(t)?f((function(n,r){return s((function(e,i){return t(n,e,r,i)}))((0,a.Xf)(e(n,r)))}),n):("number"===typeof t&&(n=t),(0,i.e)((function(t,r){return function(e,t,n,r,i,s,c,f){var l=[],d=0,h=0,p=!1,m=function(){!p||l.length||d||t.complete()},y=function(e){return d<r?g(e):l.push(e)},g=function(e){s&&t.next(e),d++;var f=!1;(0,a.Xf)(n(e,h++)).subscribe((0,o.x)(t,(function(e){null===i||void 0===i||i(e),s?y(e):t.next(e)}),(function(){f=!0}),void 0,(function(){if(f)try{d--;for(var e=function(){var e=l.shift();c?u(t,c,(function(){return g(e)})):g(e)};l.length&&d<r;)e();m()}catch(n){t.error(n)}})))};return e.subscribe((0,o.x)(t,y,(function(){p=!0,m()}))),function(){null===f||void 0===f||f()}}(t,r,e,n)})))}var l=n(278);function d(e){return void 0===e&&(e=1/0),f(l.y,e)}var h=n(9293),p=new h.y((function(e){return e.complete()}));var m=n(4865);function y(e){return e[e.length-1]}function g(e){return(0,m.K)(y(e))?e.pop():void 0}function v(e,t){return"number"===typeof y(e)?e.pop():t}function w(e,t){return void 0===t&&(t=0),(0,i.e)((function(n,r){n.subscribe((0,o.x)(r,(function(n){return u(r,e,(function(){return r.next(n)}),t)}),(function(){return u(r,e,(function(){return r.complete()}),t)}),(function(n){return u(r,e,(function(){return r.error(n)}),t)})))}))}function b(e,t){return void 0===t&&(t=0),(0,i.e)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}var E=n(9768);function T(e,t){if(!e)throw new Error("Iterable cannot be null");return new h.y((function(n){u(n,t,(function(){var r=e[Symbol.asyncIterator]();u(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}var I=n(1764),_=n(3841),A=n(5685),S=n(1837),N=n(8430),x=n(8729),O=n(8671);function k(e,t){if(null!=e){if((0,I.c)(e))return function(e,t){return(0,a.Xf)(e).pipe(b(t),w(t))}(e,t);if((0,A.z)(e))return function(e,t){return new h.y((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if((0,_.t)(e))return function(e,t){return(0,a.Xf)(e).pipe(b(t),w(t))}(e,t);if((0,N.D)(e))return T(e,t);if((0,S.T)(e))return function(e,t){return new h.y((function(n){var r;return u(n,t,(function(){r=e[E.h](),u(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(o){return void n.error(o)}i?n.complete():n.next(t)}),0,!0)})),function(){return(0,c.m)(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if((0,O.L)(e))return function(e,t){return T((0,O.Q)(e),t)}(e,t)}throw(0,x.z)(e)}function C(e,t){return t?k(e,t):(0,a.Xf)(e)}var D=n(1026),M=Array.isArray;function R(e){return s((function(t){return function(e,t){return M(t)?e.apply(void 0,(0,D.ev)([],(0,D.CR)(t))):e(t)}(e,t)}))}var U=["addListener","removeListener"],B=["addEventListener","removeEventListener"],L=["on","off"];function P(e,t,n,r){if((0,c.m)(n)&&(r=n,n=void 0),r)return P(e,t,n).pipe(R(r));var i=(0,D.CR)(function(e){return(0,c.m)(e.addEventListener)&&(0,c.m)(e.removeEventListener)}(e)?B.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return(0,c.m)(e.addListener)&&(0,c.m)(e.removeListener)}(e)?U.map(j(e,t)):function(e){return(0,c.m)(e.on)&&(0,c.m)(e.off)}(e)?L.map(j(e,t)):[],2),o=i[0],s=i[1];if(!o&&(0,A.z)(e))return f((function(e){return P(e,t,n)}))((0,a.Xf)(e));if(!o)throw new TypeError("Invalid event target");return new h.y((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return o(t),function(){return s(t)}}))}function j(e,t){return function(n){return function(r){return e[n](t,r)}}}var F=n(4144),$=(0,n(1819).d)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function V(e,t){return(0,i.e)((function(n,r){var i=0;n.subscribe((0,o.x)(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}function z(e){return e<=0?function(){return p}:(0,i.e)((function(t,n){var r=0;t.subscribe((0,o.x)(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function G(e){return(0,i.e)((function(t,n){var r=!1;t.subscribe((0,o.x)(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function q(e){return void 0===e&&(e=H),(0,i.e)((function(t,n){var r=!1;t.subscribe((0,o.x)(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function H(){return new $}function J(e){const t=new AbortController;if(0===e.length)throw Error("Need abort signals to create a merged abort signal");return e.some((e=>e.aborted))?(t.abort(),t.signal):(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=g(e),r=v(e,1/0),i=e;return i.length?1===i.length?(0,a.Xf)(i[0]):d(r)(C(i,n)):p}(...e.map((e=>P(e,"abort")))).pipe(function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?V((function(t,n){return e(t,n,r)})):l.y,z(1),n?G(t):q((function(){return new $})))}}()).subscribe((()=>{t.abort()})),t.signal)}class K{constructor(e){const t=new AbortController;this.signal=t.signal,e<=0?t.abort():this._subscription=(0,F.H)(e).subscribe((()=>{t.abort()}))}clear(){this._subscription?.unsubscribe()}}var Y;async function W(e,t={}){if(t.body){const e={"Content-Type":"application/json",...t.headers};Object.assign(t,{body:"application/json"==e["Content-Type"]?JSON.stringify(t.body):t.body,headers:e})}const n=t.timeout||18e4,i=new K(n),o=t.signal?J([t.signal,i.signal]):i.signal,s=await async function(e,t){const n=new AbortController,r=()=>{n.abort()};return e.addEventListener("abort",r),e.aborted&&n.abort(),t(n.signal).finally((()=>{e.removeEventListener("abort",r)}))}(o,(n=>r(String(e),{...t,signal:n,credentials:"include"}))).finally((()=>i.clear()));if(!s.ok){const t=await s.text();throw new Error(`HTTP request to '${e}' failed with status '${s.statusText}': ${t}`)}return s.json()}!function(e){e.GET="GET",e.POST="POST"}(Y||(Y={}))},2108:function(e,t,n){"use strict";n.d(t,{e:function(){return w}});var r=n(3465),i=n(738),o=n(8161);function s(e){const t=o.k0.asCID(e);if(t)return t;if("string"===typeof e)return o.k0.parse(e);if(e instanceof Uint8Array)return o.k0.decode(e);throw new Error(`${e} cannot be converted to a CID`)}var a=n(132),u=n(8595);var c=n(4415);new c.Dy("CID",(e=>{try{return!!o.k0.asCID(e)}catch(t){return!1}}),((e,t)=>{try{const n=o.k0.asCID(e);return n?t.success(n):t.failure(`Value ${n} can not be accepted as CID`)}catch{return t.failure()}}),(e=>e));const f=new c.Dy("CID-as-string",(e=>{try{return!!o.k0.asCID(e)}catch(t){return!1}}),((e,t)=>{try{const n=o.k0.parse(e);return t.success(n)}catch{return t.failure()}}),(e=>e.toString()));var l=n(1002);const d=new c.Dy("StreamID-as-string",(e=>a.Eb.isInstance(e)),((e,t)=>{try{return t.success(a.Eb.fromString(e))}catch{return t.failure()}}),(e=>e.toString()));new c.Dy("StreamID-as-bytes",(e=>a.Eb.isInstance(e)),((e,t)=>{try{return t.success(a.Eb.fromBytes(e))}catch{return t.failure()}}),(e=>e.bytes)),new c.Dy("CommitID-as-string",(e=>l.NQ.isInstance(e)),((e,t)=>{try{return t.success(l.NQ.fromString(e))}catch{return t.failure()}}),(e=>e.toString()));var h;!function(e){e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.PENDING=1]="PENDING",e[e.PROCESSING=2]="PROCESSING",e[e.ANCHORED=3]="ANCHORED",e[e.FAILED=4]="FAILED",e[e.REPLACED=5]="REPLACED"}(h||(h={}));(0,c.rV)({chainId:c.Z_,txHash:f,root:f,txType:(0,c.jt)(c.Z_)},"AnchorProof"),(0,c.wY)({id:f,prev:f,proof:f,path:c.Z_},"AnchorCommit");const p=(0,c.wY)({status:(0,c.i0)(h.PENDING),streamId:d,cid:f,message:c.Z_},"AnchorServicePending"),m=(0,c.wY)({status:(0,c.i0)(h.PROCESSING),streamId:d,cid:f,message:c.Z_},"AnchorServiceProcessing"),y=(0,c.wY)({status:(0,c.i0)(h.ANCHORED),streamId:d,cid:f,message:c.Z_,anchorCommit:f},"AnchorServiceAnchored"),g=(0,c.wY)({status:(0,c.i0)(h.FAILED),streamId:d,cid:f,message:c.Z_},"AnchorServiceFailed"),v=(0,c.wY)({status:(0,c.i0)(h.REPLACED),streamId:d,cid:f,message:c.Z_},"AnchorServiceReplaced");(0,c.wY)({streamID:d,tip:f,timestampISO:c.Z_},"RequestAnchorParams"),(0,c.G0)([p,m,y,g,v],"AnchorServiceResponse");class w{static streamIdFromState(e){return new a.Eb(e.type,e.log[0].cid)}static serializeCommit(e){const t=r(e);return w.isSignedCommitContainer(t)?(t.jws.link=t.jws.link.toString(),t.linkedBlock=i.BB(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=i.BB(t.cacaoBlock,"base64")),t):(w.isSignedCommit(e)&&(t.link=t.link.toString()),w.isAnchorCommit(e)&&(t.proof=t.proof.toString()),t.id&&(t.id=t.id.toString()),t.prev&&(t.prev=t.prev.toString()),e.header?.model&&(t.header.model=i.BB(e.header.model,"base64")),t)}static deserializeCommit(e){const t=r(e);return w.isSignedCommitContainer(t)?(t.jws.link=s(t.jws.link),t.linkedBlock=i.mL(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=i.mL(t.cacaoBlock,"base64")),t):(w.isSignedCommit(t)&&(t.link=s(t.link)),w.isAnchorCommit(t)&&(t.proof=s(t.proof)),t.id&&(t.id=s(t.id)),t.prev&&(t.prev=s(t.prev)),t.header?.model&&(t.header.model=i.mL(t.header.model,"base64")),t)}static serializeState(e){const t=r(e);return t.log=t.log.map((e=>({...e,cid:e.cid.toString()}))),null!=t.anchorStatus&&(t.anchorStatus=h[t.anchorStatus]),null!=t.anchorProof&&(t.anchorProof.txHash=t.anchorProof.txHash.toString(),t.anchorProof.root=t.anchorProof.root.toString()),e.metadata?.model&&(t.metadata.model=e.metadata.model.toString()),e.next?.metadata?.model&&(t.next.metadata.model=e.next.metadata.model.toString()),e.metadata?.unique&&0!=e.type&&(t.metadata.unique=i.BB(t.metadata.unique,"base64")),t.doctype=u.j.nameByCode(t.type),t}static deserializeState(e){if(!e)return null;const t=r(e);return t.doctype&&(t.type=u.j.codeByName(t.doctype),delete t.doctype),t.log=t.log.map((e=>({...e,cid:s(e.cid)}))),t.anchorProof&&(t.anchorProof.txHash=s(t.anchorProof.txHash),t.anchorProof.root=s(t.anchorProof.root)),t.anchorStatus&&(t.anchorStatus=h[t.anchorStatus]),e.metadata?.model&&(t.metadata.model=a.Eb.fromString(e.metadata.model)),e.next?.metadata?.model&&(t.next.metadata.model=a.Eb.fromString(e.next.metadata.model)),e.metadata?.unique&&0!=e.type&&(t.metadata.unique=i.mL(e.metadata.unique,"base64")),t}static statesEqual(e,t){return JSON.stringify(w.serializeState(e))===JSON.stringify(w.serializeState(t))}static isStateSupersetOf(e,t){if(e.log.length<t.log.length)return!1;for(const n in t.log)if(!e.log[n].cid.equals(t.log[n].cid))return!1;return e.log.length!==t.log.length||e.anchorStatus==t.anchorStatus}static assertCommitLinksToState(e,t){const n=this.streamIdFromState(e);if(t.id&&!t.id.equals(e.log[0].cid))throw new Error(`Invalid genesis CID in commit for StreamID ${n.toString()}. Found: ${t.id}, expected ${e.log[0].cid}`);const r=e.log[e.log.length-1].cid;if(!t.prev.equals(r))throw new Error(`Commit doesn't properly point to previous commit in log. Expected ${r}, found 'prev' ${t.prev}`)}static async convertCommitToSignedCommitContainer(e,t){if(w.isSignedCommit(e)){return{jws:e,linkedBlock:await t.block.get(s(e.link))}}return e}static isSignedCommitContainer(e){return e&&void 0!==e.jws}static isSignedCommit(e){return e&&void 0!==e.link}static getCacaoCidFromCommit(e){if(w.isSignedCommit(e)){const n=(t=e.signatures[0].protected,JSON.parse((0,i.BB)((0,i.mL)(t,"base64url"))));if(n.cap){const e=n.cap;return o.k0.parse(e.replace("ipfs://",""))}}var t}static isAnchorCommit(e){return e&&void 0!==e.proof}static isSignedCommitData(e){return e&&void 0!==e.envelope}static isAnchorCommitData(e){return e&&void 0!==e.proof}static commitDataToLogEntry(e,t){const n={cid:e.cid,type:t};return e?.capability?.p?.exp&&(n.expirationTime=Math.floor(Date.parse(e.capability.p.exp)/1e3)),e.timestamp&&(n.timestamp=e.timestamp),n}static checkForCacaoExpiration(e){const t=Math.floor(Date.now()/1e3);for(const n of e.log){const r=n.timestamp??t;if(n.expirationTime&&n.expirationTime<r)throw new Error(`CACAO expired: Commit ${n.cid.toString()} of Stream ${w.streamIdFromState(e).toString()} has a CACAO that expired at ${n.expirationTime}. Loading the stream with 'sync: SyncOptions.ALWAYS_SYNC' will restore the stream to a usable state, by discarding the invalid commits (this means losing the data from those invalid writes!)`)}}static anchorTimestampFromState(e){for(let t=e.log.length-1;t>=0;t--){const n=e.log[t];if(n.timestamp)return n.timestamp}return null}static validDIDString(e){return"string"==typeof e&&!!e.startsWith("did:")}}},2027:function(e,t,n){"use strict";n.d(t,{v:function(){return ci}});var r=n(132);function i(e){return"string"===typeof e?r.Eb.fromString(e):e}function o(e){const t={};for(const[n,i]of Object.entries(e))r.Eb.isInstance(i)?t[n]=i.toString():t[n]=i;return t}class s extends Error{constructor(){super("Failed to get DID.  Please make sure your Ceramic client has an authenticated DID attached")}}var a=n(9293),u=n(4144),c=n(5978),f=n(3188),l=n(2362),d=n(2108),h=n(5664);class p extends a.y{constructor(e,t,n){super((e=>{0===this.state$.observers.length&&(this.periodicSubscription=(0,u.H)(0,n).pipe((0,c.P)((()=>this._syncState(this.id,{sync:f.l.PREFER_CACHE})))).subscribe()),this.state$.subscribe(e).add((()=>{0===this.state$.observers.length&&this.periodicSubscription?.unsubscribe()}))})),this.state$=new l.s(e),this._apiUrl=new URL(t)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){const n=await p._load(e,this._apiUrl,t);this.state$.next(d.e.deserializeState(n))}get id(){return new r.Eb(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,n,r,i){const o=new URL("./streams",e),{state:s}=await(0,h.r)(o,{method:"post",body:{type:t,genesis:d.e.serializeCommit(n),opts:r}});return new p(d.e.deserializeState(s),e,i)}static async applyCommit(e,t,n,r,i){const o=new URL("./commits",e),{state:s}=await(0,h.r)(o,{method:"post",body:{streamId:t.toString(),commit:d.e.serializeCommit(n),opts:r}});return new p(d.e.deserializeState(s),e,i)}static async _load(e,t,n){const i=function(e,t){const n=new URL(e);for(const[i,o]of Object.entries(t))r.Eb.isInstance(o)?n.searchParams.set(i,o.toString()):"object"==typeof o?n.searchParams.set(i,JSON.stringify(o)):n.searchParams.set(i,o);return n}(new URL(`./streams/${e}`,t),n),{state:o}=await(0,h.r)(i);return o}static async load(e,t,n,r){const i=await p._load(e,t,r);return new p(d.e.deserializeState(i),t,n)}static async loadStreamCommits(e,t){const n=new URL(`./commits/${e}`,t),{commits:r}=await(0,h.r)(n);return r.map((e=>({cid:e.cid,value:d.e.deserializeCommit(e.value)})))}complete(){this.state$.complete()}}var m=n(7982),y=n(3576),g=n(826),v=n(7366),w=n(8161),b=n(9094);const E=["string","number","bigint","symbol"],T=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function I(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(E.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(T.includes(t))return t;return}(e);return n||"Object"}class _{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}_.uint=new _(0,"uint",!0),_.negint=new _(1,"negint",!0),_.bytes=new _(2,"bytes",!0),_.string=new _(3,"string",!0),_.array=new _(4,"array",!1),_.map=new _(5,"map",!1),_.tag=new _(6,"tag",!1),_.float=new _(7,"float",!0),_.false=new _(7,"false",!0),_.true=new _(7,"true",!0),_.null=new _(7,"null",!0),_.undefined=new _(7,"undefined",!0),_.break=new _(7,"break",!0);class A{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const S=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,N=new TextDecoder,x=new TextEncoder;function O(e){return S&&globalThis.Buffer.isBuffer(e)}function k(e){return e instanceof Uint8Array?O(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const C=S?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):P(e,t,n):(e,t,n)=>n-t>64?N.decode(e.subarray(t,n)):P(e,t,n),D=S?e=>e.length>64?globalThis.Buffer.from(e):L(e):e=>e.length>64?x.encode(e):L(e),M=e=>Uint8Array.from(e),R=S?(e,t,n)=>O(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),U=S?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),k(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},B=S?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function L(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function P(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&i)<<6|63&n,u>127&&(o=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&i)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return function(e){const t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}(r)}const j=4096;class F{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=B(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=R(n,0,this.cursor)}else t=U(this.chunks,this.cursor);return e&&this.reset(),t}}const $=[];function V(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}$[23]=1,$[24]=2,$[25]=3,$[26]=5,$[27]=9;const z=[24,256,65536,4294967296,BigInt("18446744073709551616")];function G(e,t,n){V(e,t,1);const r=e[t];if(!0===n.strict&&r<z[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function q(e,t,n){V(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<z[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function H(e,t,n){V(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<z[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function J(e,t,n){V(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(r)<<BigInt(32))+BigInt(i);if(!0===n.strict&&o<z[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===n.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function K(e,t){return Y(e,0,t.value)}function Y(e,t,n){if(n<z[0]){const r=Number(n);e.push([t|r])}else if(n<z[1]){const r=Number(n);e.push([24|t,r])}else if(n<z[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<z[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<z[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}K.encodedSize=function(e){return Y.encodedSize(e.value)},Y.encodedSize=function(e){return e<z[0]?1:e<z[1]?2:e<z[2]?3:e<z[3]?5:9},K.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const W=BigInt(-1),X=BigInt(1);function Q(e,t){const n=t.value,r="bigint"===typeof n?n*W-X:-1*n-1;Y(e,t.type.majorEncoded,r)}function Z(e,t,n,r){V(e,t,n+r);const i=R(e,t+n,t+n+r);return new A(_.bytes,i,n+r)}function ee(e,t,n,r){return Z(e,t,1,n)}function te(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===_.string?D(e.value):e.value),e.encodedBytes}function ne(e,t){const n=te(t);Y(e,t.type.majorEncoded,n.length),e.push(n)}function re(e,t,n,r,i){const o=n+r;V(e,t,o);const s=new A(_.string,C(e,t+n,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=R(e,t+n,t+o)),s}function ie(e,t,n,r){return re(e,t,1,n,r)}Q.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*W-X:-1*t-1;return n<z[0]?1:n<z[1]?2:n<z[2]?3:n<z[3]?5:9},Q.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},ne.encodedSize=function(e){const t=te(e);return Y.encodedSize(t.length)+t.length},ne.compareTokens=function(e,t){return n=te(e),r=te(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(O(e)&&O(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const oe=ne;function se(e,t,n,r){return new A(_.array,r,n)}function ae(e,t,n,r){return se(0,0,1,n)}function ue(e,t){Y(e,_.array.majorEncoded,t.value)}function ce(e,t,n,r){return new A(_.map,r,n)}function fe(e,t,n,r){return ce(0,0,1,n)}function le(e,t){Y(e,_.map.majorEncoded,t.value)}function de(e,t,n,r){return new A(_.tag,n,1)}function he(e,t){Y(e,_.tag.majorEncoded,t.value)}ue.compareTokens=K.compareTokens,ue.encodedSize=function(e){return Y.encodedSize(e.value)},le.compareTokens=K.compareTokens,le.encodedSize=function(e){return Y.encodedSize(e.value)},he.compareTokens=K.compareTokens,he.encodedSize=function(e){return Y.encodedSize(e.value)};function pe(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new A(_.float,e,t)}function me(e,t,n){const r=t.value;if(!1===r)e.push([20|_.float.majorEncoded]);else if(!0===r)e.push([21|_.float.majorEncoded]);else if(null===r)e.push([22|_.float.majorEncoded]);else if(void 0===r)e.push([23|_.float.majorEncoded]);else{let t,o=!1;n&&!0===n.float64||(we(r),t=be(ve,1),r===t||Number.isNaN(r)?(ve[0]=249,e.push(ve.slice(0,3)),o=!0):(Ee(r),t=Te(ve,1),r===t&&(ve[0]=250,e.push(ve.slice(0,5)),o=!0))),o||(i=r,ge.setFloat64(0,i,!1),t=Ie(ve,1),ve[0]=251,e.push(ve.slice(0,9)))}var i}me.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){we(n);let e=be(ve,1);if(n===e||Number.isNaN(n))return 3;if(Ee(n),e=Te(ve,1),n===e)return 5}return 9};const ye=new ArrayBuffer(9),ge=new DataView(ye,1),ve=new Uint8Array(ye,0);function we(e){if(e===1/0)ge.setUint16(0,31744,!1);else if(e===-1/0)ge.setUint16(0,64512,!1);else if(Number.isNaN(e))ge.setUint16(0,32256,!1);else{ge.setFloat32(0,e);const t=ge.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)ge.setUint16(0,31744,!1);else if(0===n)ge.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?ge.setUint16(0,0):e<-14?ge.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):ge.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function be(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let o;return o=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-o:o}function Ee(e){ge.setFloat32(0,e,!1)}function Te(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function Ie(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function _e(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function Ae(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}me.compareTokens=K.compareTokens;const Se=[];for(let fi=0;fi<=23;fi++)Se[fi]=_e;Se[24]=function(e,t,n,r){return new A(_.uint,G(e,t+1,r),2)},Se[25]=function(e,t,n,r){return new A(_.uint,q(e,t+1,r),3)},Se[26]=function(e,t,n,r){return new A(_.uint,H(e,t+1,r),5)},Se[27]=function(e,t,n,r){return new A(_.uint,J(e,t+1,r),9)},Se[28]=_e,Se[29]=_e,Se[30]=_e,Se[31]=_e;for(let fi=32;fi<=55;fi++)Se[fi]=_e;Se[56]=function(e,t,n,r){return new A(_.negint,-1-G(e,t+1,r),2)},Se[57]=function(e,t,n,r){return new A(_.negint,-1-q(e,t+1,r),3)},Se[58]=function(e,t,n,r){return new A(_.negint,-1-H(e,t+1,r),5)},Se[59]=function(e,t,n,r){const i=J(e,t+1,r);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new A(_.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new A(_.negint,W-BigInt(i),9)},Se[60]=_e,Se[61]=_e,Se[62]=_e,Se[63]=_e;for(let fi=64;fi<=87;fi++)Se[fi]=ee;Se[88]=function(e,t,n,r){return Z(e,t,2,G(e,t+1,r))},Se[89]=function(e,t,n,r){return Z(e,t,3,q(e,t+1,r))},Se[90]=function(e,t,n,r){return Z(e,t,5,H(e,t+1,r))},Se[91]=function(e,t,n,r){const i=J(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return Z(e,t,9,i)},Se[92]=_e,Se[93]=_e,Se[94]=_e,Se[95]=Ae("indefinite length bytes/strings are not supported");for(let fi=96;fi<=119;fi++)Se[fi]=ie;Se[120]=function(e,t,n,r){return re(e,t,2,G(e,t+1,r),r)},Se[121]=function(e,t,n,r){return re(e,t,3,q(e,t+1,r),r)},Se[122]=function(e,t,n,r){return re(e,t,5,H(e,t+1,r),r)},Se[123]=function(e,t,n,r){const i=J(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return re(e,t,9,i,r)},Se[124]=_e,Se[125]=_e,Se[126]=_e,Se[127]=Ae("indefinite length bytes/strings are not supported");for(let fi=128;fi<=151;fi++)Se[fi]=ae;Se[152]=function(e,t,n,r){return se(0,0,2,G(e,t+1,r))},Se[153]=function(e,t,n,r){return se(0,0,3,q(e,t+1,r))},Se[154]=function(e,t,n,r){return se(0,0,5,H(e,t+1,r))},Se[155]=function(e,t,n,r){const i=J(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return se(0,0,9,i)},Se[156]=_e,Se[157]=_e,Se[158]=_e,Se[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return se(0,0,1,1/0)};for(let fi=160;fi<=183;fi++)Se[fi]=fe;Se[184]=function(e,t,n,r){return ce(0,0,2,G(e,t+1,r))},Se[185]=function(e,t,n,r){return ce(0,0,3,q(e,t+1,r))},Se[186]=function(e,t,n,r){return ce(0,0,5,H(e,t+1,r))},Se[187]=function(e,t,n,r){const i=J(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return ce(0,0,9,i)},Se[188]=_e,Se[189]=_e,Se[190]=_e,Se[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return ce(0,0,1,1/0)};for(let fi=192;fi<=215;fi++)Se[fi]=de;Se[216]=function(e,t,n,r){return new A(_.tag,G(e,t+1,r),2)},Se[217]=function(e,t,n,r){return new A(_.tag,q(e,t+1,r),3)},Se[218]=function(e,t,n,r){return new A(_.tag,H(e,t+1,r),5)},Se[219]=function(e,t,n,r){return new A(_.tag,J(e,t+1,r),9)},Se[220]=_e,Se[221]=_e,Se[222]=_e,Se[223]=_e;for(let fi=224;fi<=243;fi++)Se[fi]=Ae("simple values are not supported");Se[244]=_e,Se[245]=_e,Se[246]=_e,Se[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new A(_.null,null,1):new A(_.undefined,void 0,1)},Se[248]=Ae("simple values are not supported"),Se[249]=function(e,t,n,r){return pe(be(e,t+1),3,r)},Se[250]=function(e,t,n,r){return pe(Te(e,t+1),5,r)},Se[251]=function(e,t,n,r){return pe(Ie(e,t+1),9,r)},Se[252]=_e,Se[253]=_e,Se[254]=_e,Se[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new A(_.break,void 0,1)};const Ne=[];for(let fi=0;fi<24;fi++)Ne[fi]=new A(_.uint,fi,1);for(let fi=-1;fi>=-24;fi--)Ne[31-fi]=new A(_.negint,fi,1);Ne[64]=new A(_.bytes,new Uint8Array(0),1),Ne[96]=new A(_.string,"",1),Ne[128]=new A(_.array,0,1),Ne[160]=new A(_.map,0,1),Ne[244]=new A(_.false,!1,1),Ne[245]=new A(_.true,!0,1),Ne[246]=new A(_.null,null,1);const xe={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=Oe[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case _.false:return M([244]);case _.true:return M([245]);case _.null:return M([246]);case _.bytes:return e.value.length?void 0:M([64]);case _.string:return""===e.value?M([96]):void 0;case _.array:return 0===e.value?M([128]):void 0;case _.map:return 0===e.value?M([160]):void 0;case _.uint:return e.value<24?M([Number(e.value)]):void 0;case _.negint:if(e.value>=-24)return M([31-Number(e.value)])}}};const Oe=function(){const e=[];return e[_.uint.major]=K,e[_.negint.major]=Q,e[_.bytes.major]=ne,e[_.string.major]=oe,e[_.array.major]=ue,e[_.map.major]=le,e[_.tag.major]=he,e[_.float.major]=me,e}(),ke=new F;class Ce{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Ce(t,e)}}const De={null:new A(_.null,null),undefined:new A(_.undefined,void 0),true:new A(_.true,!0),false:new A(_.false,!1),emptyArray:new A(_.array,0),emptyMap:new A(_.map,0)},Me={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new A(e>=0?_.uint:_.negint,e):new A(_.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new A(_.uint,e):new A(_.negint,e),Uint8Array:(e,t,n,r)=>new A(_.bytes,e),string:(e,t,n,r)=>new A(_.string,e),boolean:(e,t,n,r)=>e?De.true:De.false,null:(e,t,n,r)=>De.null,undefined:(e,t,n,r)=>De.undefined,ArrayBuffer:(e,t,n,r)=>new A(_.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new A(_.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[De.emptyArray,new A(_.break)]:De.emptyArray;r=Ce.createCheck(r,e);const i=[];let o=0;for(const s of e)i[o++]=Re(s,n,r);return n.addBreakTokens?[new A(_.array,e.length),i,new A(_.break)]:[new A(_.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===n.addBreakTokens?[De.emptyMap,new A(_.break)]:De.emptyMap;r=Ce.createCheck(r,e);const a=[];let u=0;for(const c of o)a[u++]=[Re(c,n,r),Re(i?e.get(c):e[c],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new A(_.map,s),a,new A(_.break)]:[new A(_.map,s),a]}};Me.Map=Me.Object,Me.Buffer=Me.Uint8Array;for(const fi of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Me[`${fi}Array`]=Me.DataView;function Re(e,t={},n){const r=I(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||Me[r];if("function"===typeof i){const o=i(e,r,t,n);if(null!=o)return o}const o=Me[r];if(!o)throw new Error(`CBOR encode error: unsupported type: ${r}`);return o(e,r,t,n)}function Ue(e,t,n,r){if(Array.isArray(t))for(const i of t)Ue(e,i,n,r);else n[t.type.major](e,t,r)}function Be(e,t,n){const r=Re(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new F(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return k(t.chunks[0])}}return ke.reset(),Ue(ke,r,t,n),ke.toBytes(!0)}Symbol.for("DONE"),Symbol.for("BREAK");var Le=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=Pe;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Pe=Math.pow(2,31);var je=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var Fe=Math.pow(2,7),$e=Math.pow(2,14),Ve=Math.pow(2,21),ze=Math.pow(2,28),Ge=Math.pow(2,35),qe=Math.pow(2,42),He=Math.pow(2,49),Je=Math.pow(2,56),Ke=Math.pow(2,63),Ye={encode:Le,decode:je,encodingLength:function(e){return e<Fe?1:e<$e?2:e<Ve?3:e<ze?4:e<Ge?5:e<qe?6:e<He?7:e<Je?8:e<Ke?9:10}};const We=(e,t=0)=>[Ye.decode(e,t),Ye.decode.bytes],Xe=(e,t,n=0)=>(Ye.encode(e,t,n),t),Qe=e=>Ye.encodingLength(e),Ze=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class et{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var tt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class nt{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rt{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ot(this,e)}}class it{constructor(e){this.decoders=e}or(e){return ot(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ot=(e,t)=>new it({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class st{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new nt(e,t,n),this.decoder=new rt(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const at=({name:e,prefix:t,encode:n,decode:r})=>new st(e,t,n,r),ut=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=tt(n,t);return at({prefix:e,name:t,encode:r,decode:e=>Ze(i(e))})},ct=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>at({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),ft=ut({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lt=(ut({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class dt{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Et,byteLength:Et,code:bt,version:bt,multihash:bt,bytes:bt,_baseCache:Et,asCID:Et})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==yt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==gt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return dt.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Qe(e),i=r+Qe(n),o=new Uint8Array(i+n);return Xe(e,o,0),Xe(n,o,r),o.set(t,i),new et(e,n,t,o)})(e,t);return dt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return pt(t,r,e||ft.encoder);default:return mt(t,r,e||lt.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Tt(/^0\.0/,It),!(!e||!e[wt]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof dt)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new dt(t,n,r,i||vt(t,n,r.bytes))}if(null!=e&&!0===e[wt]){const{version:t,multihash:n,code:r}=e,i=(e=>{const t=Ze(e),[n,r]=We(t),[i,o]=We(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new et(n,i,s,t)})(n);return dt.create(t,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==yt)throw new Error(`Version 0 CID must use dag-pb (code: ${yt}) block encoding`);return new dt(e,t,n,n.bytes);case 1:{const r=vt(e,t,n.bytes);return new dt(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return dt.create(0,yt,e)}static createV1(e,t){return dt.create(1,e,t)}static decode(e){const[t,n]=dt.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=dt.inspectBytes(e),n=t.size-t.multihashSize,r=Ze(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new et(t.multihashCode,t.digestSize,i,r);return[0===t.version?dt.createV0(o):dt.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=We(e.subarray(t));return t+=r,n};let r=n(),i=yt;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=ht(e,t),i=dt.decode(r);return i._baseCache.set(n,e),i}}const ht=(e,t)=>{switch(e[0]){case"Q":{const n=t||ft;return[ft.prefix,n.decode(`${ft.prefix}${e}`)]}case ft.prefix:{const n=t||ft;return[ft.prefix,n.decode(e)]}case lt.prefix:{const n=t||lt;return[lt.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},pt=(e,t,n)=>{const{prefix:r}=n;if(r!==ft.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},mt=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},yt=112,gt=18,vt=(e,t,n)=>{const r=Qe(e),i=r+Qe(t),o=new Uint8Array(i+n.byteLength);return Xe(e,o,0),Xe(t,o,r),o.set(n,i),o},wt=Symbol.for("@ipld/js-cid/CID"),bt={writable:!1,configurable:!1,enumerable:!0},Et={writable:!1,enumerable:!1,configurable:!1},Tt=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},It="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const _t={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=dt.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new A(_.tag,42),new A(_.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const At={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};At.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return dt.decode(e.subarray(1))};const St=e=>{return t=e,n=_t,n=Object.assign({},xe,n),Be(t,Oe,n);var t,n};var Nt,xt=n(8566),Ot=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const kt=/^[0-9]+\.[0-9]+$/;function Ct(e){if(!kt.test(e))throw new Error(`Unsupported version format: ${e}`);const[t,n]=e.split(".").map((e=>parseInt(e,10)));return[t,n]}const Dt={sync:f.l.PREFER_CACHE};async function Mt(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function Rt(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let Ut=Nt=class extends g.F6{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){return{controller:this.state$.value.metadata.controllers[0],model:Nt.MODEL}}static async create(e,t,n){Nt.assertComplete(t),Nt.assertVersionValid(t,"minor"),Nt.assertRelationsValid(t);const r={publish:!0,anchor:!0,sync:f.l.NEVER_SYNC},i=await Nt._makeGenesis(e,t,n);return await e.createStreamFromGenesis(Nt.STREAM_TYPE_ID,i,r)}static assertComplete(e,t){if(!e.name)throw t?new Error(`Model with StreamID ${t.toString()} is missing a 'name' field`):new Error("Model is missing a 'name' field");if(!e.version)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'version' field`):new Error(`Model ${e.name} is missing a 'version' field`);if(!e.schema)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'schema' field`):new Error(`Model ${e.name} is missing a 'schema' field`);if(!e.accountRelation)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'accountRelation' field`):new Error(`Model ${e.name} is missing a 'accountRelation' field`)}static assertVersionValid(e,t="minor"){const[n,r]=Ct(Nt.VERSION),[i,o]=Ct(e.version);if(i>n||"minor"===t&&i===n&&o>r)throw new Error(`Unsupported version ${e.version} for model ${e.name}, the maximum version supported by the Ceramic node is ${Nt.VERSION}. Please update your Ceramic node to a newer version supporting at least version ${e.version} of the Model definition.`)}static assertRelationsValid(e){if(e.relations)for(const[n,i]of Object.entries(e.relations))switch(i.type){case"account":continue;case"document":try{r.Eb.fromString(i.model)}catch(t){throw new Error(`Relation on field ${n} has invalid model: ${t.toString()}`)}continue;default:throw new Error(`Relation on field ${n} has unexpected type ${i.type}`)}}static async load(e,t,n={}){n={...Dt,...n};const r=v.i.from(t);if(r.type!=Nt.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${Nt.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return await e.loadStream(r,n)}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return Nt._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(null==t)throw new Error("Genesis content cannot be null");if(!n||!n.controller){if(!e.did)throw new Error("No controller specified");await Mt(e),n={controller:e.did.hasParent?e.did.parent:e.did.id}}return{data:t,header:{controllers:[n.controller],model:Nt.MODEL.bytes,sep:"model"}}}makeReadOnly(){this.sync=Rt,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}static async _signDagJWS(e,t){return await Mt(e),e.did.createDagJWS(t)}};Ut.STREAM_TYPE_NAME="model",Ut.STREAM_TYPE_ID=2,Ut.MODEL=function(){const e=St("model-v1"),t=xt.identity.digest(e),n=(0,b.Ue)(113,t.bytes),i=w.k0.createV1(113,n);return new r.Eb("UNLOADABLE",i)}(),Ut.VERSION="1.0",Ut=Nt=Ot([(0,g.oC)()],Ut);var Bt=n(6631);const Lt=["string","number","bigint","symbol"],Pt=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function jt(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Lt.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Pt.includes(t))return t;return}(e);return n||"Object"}class Ft{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Ft.uint=new Ft(0,"uint",!0),Ft.negint=new Ft(1,"negint",!0),Ft.bytes=new Ft(2,"bytes",!0),Ft.string=new Ft(3,"string",!0),Ft.array=new Ft(4,"array",!1),Ft.map=new Ft(5,"map",!1),Ft.tag=new Ft(6,"tag",!1),Ft.float=new Ft(7,"float",!0),Ft.false=new Ft(7,"false",!0),Ft.true=new Ft(7,"true",!0),Ft.null=new Ft(7,"null",!0),Ft.undefined=new Ft(7,"undefined",!0),Ft.break=new Ft(7,"break",!0);class $t{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Vt=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,zt=new TextDecoder,Gt=new TextEncoder;function qt(e){return Vt&&globalThis.Buffer.isBuffer(e)}function Ht(e){return e instanceof Uint8Array?qt(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Jt=Vt?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):en(e,t,n):(e,t,n)=>n-t>64?zt.decode(e.subarray(t,n)):en(e,t,n),Kt=Vt?e=>e.length>64?globalThis.Buffer.from(e):Zt(e):e=>e.length>64?Gt.encode(e):Zt(e),Yt=e=>Uint8Array.from(e),Wt=Vt?(e,t,n)=>qt(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),Xt=Vt?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),Ht(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},Qt=Vt?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Zt(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function en(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&i)<<6|63&n,u>127&&(o=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&i)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return function(e){const t=e.length;if(t<=tn)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=tn));return n}(r)}const tn=4096;class nn{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Qt(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Wt(n,0,this.cursor)}else t=Xt(this.chunks,this.cursor);return e&&this.reset(),t}}const rn=[];function on(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}rn[23]=1,rn[24]=2,rn[25]=3,rn[26]=5,rn[27]=9;const sn=[24,256,65536,4294967296,BigInt("18446744073709551616")];function an(e,t,n){on(e,t,1);const r=e[t];if(!0===n.strict&&r<sn[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function un(e,t,n){on(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<sn[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function cn(e,t,n){on(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<sn[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function fn(e,t,n){on(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(r)<<BigInt(32))+BigInt(i);if(!0===n.strict&&o<sn[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===n.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function ln(e,t){return dn(e,0,t.value)}function dn(e,t,n){if(n<sn[0]){const r=Number(n);e.push([t|r])}else if(n<sn[1]){const r=Number(n);e.push([24|t,r])}else if(n<sn[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<sn[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<sn[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}ln.encodedSize=function(e){return dn.encodedSize(e.value)},dn.encodedSize=function(e){return e<sn[0]?1:e<sn[1]?2:e<sn[2]?3:e<sn[3]?5:9},ln.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const hn=BigInt(-1),pn=BigInt(1);function mn(e,t){const n=t.value,r="bigint"===typeof n?n*hn-pn:-1*n-1;dn(e,t.type.majorEncoded,r)}function yn(e,t,n,r){on(e,t,n+r);const i=Wt(e,t+n,t+n+r);return new $t(Ft.bytes,i,n+r)}function gn(e,t,n,r){return yn(e,t,1,n)}function vn(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Ft.string?Kt(e.value):e.value),e.encodedBytes}function wn(e,t){const n=vn(t);dn(e,t.type.majorEncoded,n.length),e.push(n)}function bn(e,t,n,r,i){const o=n+r;on(e,t,o);const s=new $t(Ft.string,Jt(e,t+n,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=Wt(e,t+n,t+o)),s}function En(e,t,n,r){return bn(e,t,1,n,r)}mn.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*hn-pn:-1*t-1;return n<sn[0]?1:n<sn[1]?2:n<sn[2]?3:n<sn[3]?5:9},mn.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},wn.encodedSize=function(e){const t=vn(e);return dn.encodedSize(t.length)+t.length},wn.compareTokens=function(e,t){return n=vn(e),r=vn(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(qt(e)&&qt(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const Tn=wn;function In(e,t,n,r){return new $t(Ft.array,r,n)}function _n(e,t,n,r){return In(0,0,1,n)}function An(e,t){dn(e,Ft.array.majorEncoded,t.value)}function Sn(e,t,n,r){return new $t(Ft.map,r,n)}function Nn(e,t,n,r){return Sn(0,0,1,n)}function xn(e,t){dn(e,Ft.map.majorEncoded,t.value)}function On(e,t,n,r){return new $t(Ft.tag,n,1)}function kn(e,t){dn(e,Ft.tag.majorEncoded,t.value)}An.compareTokens=ln.compareTokens,An.encodedSize=function(e){return dn.encodedSize(e.value)},xn.compareTokens=ln.compareTokens,xn.encodedSize=function(e){return dn.encodedSize(e.value)},kn.compareTokens=ln.compareTokens,kn.encodedSize=function(e){return dn.encodedSize(e.value)};function Cn(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new $t(Ft.float,e,t)}function Dn(e,t,n){const r=t.value;if(!1===r)e.push([20|Ft.float.majorEncoded]);else if(!0===r)e.push([21|Ft.float.majorEncoded]);else if(null===r)e.push([22|Ft.float.majorEncoded]);else if(void 0===r)e.push([23|Ft.float.majorEncoded]);else{let t,o=!1;n&&!0===n.float64||(Bn(r),t=Ln(Un,1),r===t||Number.isNaN(r)?(Un[0]=249,e.push(Un.slice(0,3)),o=!0):(Pn(r),t=jn(Un,1),r===t&&(Un[0]=250,e.push(Un.slice(0,5)),o=!0))),o||(i=r,Rn.setFloat64(0,i,!1),t=Fn(Un,1),Un[0]=251,e.push(Un.slice(0,9)))}var i}Dn.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){Bn(n);let e=Ln(Un,1);if(n===e||Number.isNaN(n))return 3;if(Pn(n),e=jn(Un,1),n===e)return 5}return 9};const Mn=new ArrayBuffer(9),Rn=new DataView(Mn,1),Un=new Uint8Array(Mn,0);function Bn(e){if(e===1/0)Rn.setUint16(0,31744,!1);else if(e===-1/0)Rn.setUint16(0,64512,!1);else if(Number.isNaN(e))Rn.setUint16(0,32256,!1);else{Rn.setFloat32(0,e);const t=Rn.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)Rn.setUint16(0,31744,!1);else if(0===n)Rn.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?Rn.setUint16(0,0):e<-14?Rn.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Rn.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function Ln(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let o;return o=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-o:o}function Pn(e){Rn.setFloat32(0,e,!1)}function jn(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function Fn(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function $n(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function Vn(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Dn.compareTokens=ln.compareTokens;const zn=[];for(let fi=0;fi<=23;fi++)zn[fi]=$n;zn[24]=function(e,t,n,r){return new $t(Ft.uint,an(e,t+1,r),2)},zn[25]=function(e,t,n,r){return new $t(Ft.uint,un(e,t+1,r),3)},zn[26]=function(e,t,n,r){return new $t(Ft.uint,cn(e,t+1,r),5)},zn[27]=function(e,t,n,r){return new $t(Ft.uint,fn(e,t+1,r),9)},zn[28]=$n,zn[29]=$n,zn[30]=$n,zn[31]=$n;for(let fi=32;fi<=55;fi++)zn[fi]=$n;zn[56]=function(e,t,n,r){return new $t(Ft.negint,-1-an(e,t+1,r),2)},zn[57]=function(e,t,n,r){return new $t(Ft.negint,-1-un(e,t+1,r),3)},zn[58]=function(e,t,n,r){return new $t(Ft.negint,-1-cn(e,t+1,r),5)},zn[59]=function(e,t,n,r){const i=fn(e,t+1,r);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new $t(Ft.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new $t(Ft.negint,hn-BigInt(i),9)},zn[60]=$n,zn[61]=$n,zn[62]=$n,zn[63]=$n;for(let fi=64;fi<=87;fi++)zn[fi]=gn;zn[88]=function(e,t,n,r){return yn(e,t,2,an(e,t+1,r))},zn[89]=function(e,t,n,r){return yn(e,t,3,un(e,t+1,r))},zn[90]=function(e,t,n,r){return yn(e,t,5,cn(e,t+1,r))},zn[91]=function(e,t,n,r){const i=fn(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return yn(e,t,9,i)},zn[92]=$n,zn[93]=$n,zn[94]=$n,zn[95]=Vn("indefinite length bytes/strings are not supported");for(let fi=96;fi<=119;fi++)zn[fi]=En;zn[120]=function(e,t,n,r){return bn(e,t,2,an(e,t+1,r),r)},zn[121]=function(e,t,n,r){return bn(e,t,3,un(e,t+1,r),r)},zn[122]=function(e,t,n,r){return bn(e,t,5,cn(e,t+1,r),r)},zn[123]=function(e,t,n,r){const i=fn(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return bn(e,t,9,i,r)},zn[124]=$n,zn[125]=$n,zn[126]=$n,zn[127]=Vn("indefinite length bytes/strings are not supported");for(let fi=128;fi<=151;fi++)zn[fi]=_n;zn[152]=function(e,t,n,r){return In(0,0,2,an(e,t+1,r))},zn[153]=function(e,t,n,r){return In(0,0,3,un(e,t+1,r))},zn[154]=function(e,t,n,r){return In(0,0,5,cn(e,t+1,r))},zn[155]=function(e,t,n,r){const i=fn(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return In(0,0,9,i)},zn[156]=$n,zn[157]=$n,zn[158]=$n,zn[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return In(0,0,1,1/0)};for(let fi=160;fi<=183;fi++)zn[fi]=Nn;zn[184]=function(e,t,n,r){return Sn(0,0,2,an(e,t+1,r))},zn[185]=function(e,t,n,r){return Sn(0,0,3,un(e,t+1,r))},zn[186]=function(e,t,n,r){return Sn(0,0,5,cn(e,t+1,r))},zn[187]=function(e,t,n,r){const i=fn(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return Sn(0,0,9,i)},zn[188]=$n,zn[189]=$n,zn[190]=$n,zn[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Sn(0,0,1,1/0)};for(let fi=192;fi<=215;fi++)zn[fi]=On;zn[216]=function(e,t,n,r){return new $t(Ft.tag,an(e,t+1,r),2)},zn[217]=function(e,t,n,r){return new $t(Ft.tag,un(e,t+1,r),3)},zn[218]=function(e,t,n,r){return new $t(Ft.tag,cn(e,t+1,r),5)},zn[219]=function(e,t,n,r){return new $t(Ft.tag,fn(e,t+1,r),9)},zn[220]=$n,zn[221]=$n,zn[222]=$n,zn[223]=$n;for(let fi=224;fi<=243;fi++)zn[fi]=Vn("simple values are not supported");zn[244]=$n,zn[245]=$n,zn[246]=$n,zn[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new $t(Ft.null,null,1):new $t(Ft.undefined,void 0,1)},zn[248]=Vn("simple values are not supported"),zn[249]=function(e,t,n,r){return Cn(Ln(e,t+1),3,r)},zn[250]=function(e,t,n,r){return Cn(jn(e,t+1),5,r)},zn[251]=function(e,t,n,r){return Cn(Fn(e,t+1),9,r)},zn[252]=$n,zn[253]=$n,zn[254]=$n,zn[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new $t(Ft.break,void 0,1)};const Gn=[];for(let fi=0;fi<24;fi++)Gn[fi]=new $t(Ft.uint,fi,1);for(let fi=-1;fi>=-24;fi--)Gn[31-fi]=new $t(Ft.negint,fi,1);Gn[64]=new $t(Ft.bytes,new Uint8Array(0),1),Gn[96]=new $t(Ft.string,"",1),Gn[128]=new $t(Ft.array,0,1),Gn[160]=new $t(Ft.map,0,1),Gn[244]=new $t(Ft.false,!1,1),Gn[245]=new $t(Ft.true,!0,1),Gn[246]=new $t(Ft.null,null,1);const qn={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=Hn[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case Ft.false:return Yt([244]);case Ft.true:return Yt([245]);case Ft.null:return Yt([246]);case Ft.bytes:return e.value.length?void 0:Yt([64]);case Ft.string:return""===e.value?Yt([96]):void 0;case Ft.array:return 0===e.value?Yt([128]):void 0;case Ft.map:return 0===e.value?Yt([160]):void 0;case Ft.uint:return e.value<24?Yt([Number(e.value)]):void 0;case Ft.negint:if(e.value>=-24)return Yt([31-Number(e.value)])}}};const Hn=function(){const e=[];return e[Ft.uint.major]=ln,e[Ft.negint.major]=mn,e[Ft.bytes.major]=wn,e[Ft.string.major]=Tn,e[Ft.array.major]=An,e[Ft.map.major]=xn,e[Ft.tag.major]=kn,e[Ft.float.major]=Dn,e}(),Jn=new nn;class Kn{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Kn(t,e)}}const Yn={null:new $t(Ft.null,null),undefined:new $t(Ft.undefined,void 0),true:new $t(Ft.true,!0),false:new $t(Ft.false,!1),emptyArray:new $t(Ft.array,0),emptyMap:new $t(Ft.map,0)},Wn={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new $t(e>=0?Ft.uint:Ft.negint,e):new $t(Ft.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new $t(Ft.uint,e):new $t(Ft.negint,e),Uint8Array:(e,t,n,r)=>new $t(Ft.bytes,e),string:(e,t,n,r)=>new $t(Ft.string,e),boolean:(e,t,n,r)=>e?Yn.true:Yn.false,null:(e,t,n,r)=>Yn.null,undefined:(e,t,n,r)=>Yn.undefined,ArrayBuffer:(e,t,n,r)=>new $t(Ft.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new $t(Ft.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[Yn.emptyArray,new $t(Ft.break)]:Yn.emptyArray;r=Kn.createCheck(r,e);const i=[];let o=0;for(const s of e)i[o++]=Xn(s,n,r);return n.addBreakTokens?[new $t(Ft.array,e.length),i,new $t(Ft.break)]:[new $t(Ft.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===n.addBreakTokens?[Yn.emptyMap,new $t(Ft.break)]:Yn.emptyMap;r=Kn.createCheck(r,e);const a=[];let u=0;for(const c of o)a[u++]=[Xn(c,n,r),Xn(i?e.get(c):e[c],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new $t(Ft.map,s),a,new $t(Ft.break)]:[new $t(Ft.map,s),a]}};Wn.Map=Wn.Object,Wn.Buffer=Wn.Uint8Array;for(const fi of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Wn[`${fi}Array`]=Wn.DataView;function Xn(e,t={},n){const r=jt(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||Wn[r];if("function"===typeof i){const o=i(e,r,t,n);if(null!=o)return o}const o=Wn[r];if(!o)throw new Error(`CBOR encode error: unsupported type: ${r}`);return o(e,r,t,n)}function Qn(e,t,n,r){if(Array.isArray(t))for(const i of t)Qn(e,i,n,r);else n[t.type.major](e,t,r)}function Zn(e,t,n){const r=Xn(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new nn(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return Ht(t.chunks[0])}}return Jn.reset(),Qn(Jn,r,t,n),Jn.toBytes(!0)}Symbol.for("DONE"),Symbol.for("BREAK");var er=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=tr;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},tr=Math.pow(2,31);var nr=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var rr=Math.pow(2,7),ir=Math.pow(2,14),or=Math.pow(2,21),sr=Math.pow(2,28),ar=Math.pow(2,35),ur=Math.pow(2,42),cr=Math.pow(2,49),fr=Math.pow(2,56),lr=Math.pow(2,63),dr={encode:er,decode:nr,encodingLength:function(e){return e<rr?1:e<ir?2:e<or?3:e<sr?4:e<ar?5:e<ur?6:e<cr?7:e<fr?8:e<lr?9:10}};const hr=(e,t=0)=>[dr.decode(e,t),dr.decode.bytes],pr=(e,t,n=0)=>(dr.encode(e,t,n),t),mr=e=>dr.encodingLength(e),yr=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class gr{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var vr=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class wr{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class br{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Tr(this,e)}}class Er{constructor(e){this.decoders=e}or(e){return Tr(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Tr=(e,t)=>new Er({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ir{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new wr(e,t,n),this.decoder=new br(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _r=({name:e,prefix:t,encode:n,decode:r})=>new Ir(e,t,n,r),Ar=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=vr(n,t);return _r({prefix:e,name:t,encode:r,decode:e=>yr(i(e))})},Sr=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>_r({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Nr=Ar({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xr=(Ar({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Sr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));Sr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Sr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Sr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Sr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Sr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Sr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Sr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class Or{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Pr,byteLength:Pr,code:Lr,version:Lr,multihash:Lr,bytes:Lr,_baseCache:Pr,asCID:Pr})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==Mr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Rr)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Or.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=mr(e),i=r+mr(n),o=new Uint8Array(i+n);return pr(e,o,0),pr(n,o,r),o.set(t,i),new gr(e,n,t,o)})(e,t);return Or.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return Cr(t,r,e||Nr.encoder);default:return Dr(t,r,e||xr.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return jr(/^0\.0/,Fr),!(!e||!e[Br]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Or)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new Or(t,n,r,i||Ur(t,n,r.bytes))}if(null!=e&&!0===e[Br]){const{version:t,multihash:n,code:r}=e,i=(e=>{const t=yr(e),[n,r]=hr(t),[i,o]=hr(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new gr(n,i,s,t)})(n);return Or.create(t,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Mr)throw new Error(`Version 0 CID must use dag-pb (code: ${Mr}) block encoding`);return new Or(e,t,n,n.bytes);case 1:{const r=Ur(e,t,n.bytes);return new Or(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Or.create(0,Mr,e)}static createV1(e,t){return Or.create(1,e,t)}static decode(e){const[t,n]=Or.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Or.inspectBytes(e),n=t.size-t.multihashSize,r=yr(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new gr(t.multihashCode,t.digestSize,i,r);return[0===t.version?Or.createV0(o):Or.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=hr(e.subarray(t));return t+=r,n};let r=n(),i=Mr;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=kr(e,t),i=Or.decode(r);return i._baseCache.set(n,e),i}}const kr=(e,t)=>{switch(e[0]){case"Q":{const n=t||Nr;return[Nr.prefix,n.decode(`${Nr.prefix}${e}`)]}case Nr.prefix:{const n=t||Nr;return[Nr.prefix,n.decode(e)]}case xr.prefix:{const n=t||xr;return[xr.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Cr=(e,t,n)=>{const{prefix:r}=n;if(r!==Nr.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},Dr=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},Mr=112,Rr=18,Ur=(e,t,n)=>{const r=mr(e),i=r+mr(t),o=new Uint8Array(i+n.byteLength);return pr(e,o,0),pr(t,o,r),o.set(n,i),o},Br=Symbol.for("@ipld/js-cid/CID"),Lr={writable:!1,configurable:!1,enumerable:!0},Pr={writable:!1,enumerable:!1,configurable:!1},jr=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Fr="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const $r={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=Or.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new $t(Ft.tag,42),new $t(Ft.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const Vr={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Vr.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Or.decode(e.subarray(1))};const zr=e=>{return t=e,n=$r,n=Object.assign({},qn,n),Zn(t,Hn,n);var t,n};var Gr,qr=n(1416),Hr=n(4225),Jr=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const Kr={anchor:!0,publish:!0,sync:f.l.NEVER_SYNC,syncTimeoutSeconds:0},Yr={anchor:!1,publish:!1,sync:f.l.PREFER_CACHE},Wr={sync:f.l.PREFER_CACHE},Xr={anchor:!0,publish:!0};async function Qr(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function Zr(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let ei=Gr=class extends g.F6{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){const e=this.state$.value.metadata;return{controller:e.controllers[0],model:e.model}}static async create(e,t,n,r={}){const i=(r={...Kr,...r}).asDID?{did:r.asDID}:e,o=await Gr._makeGenesis(i,t,n);return e.createStreamFromGenesis(Gr.STREAM_TYPE_ID,o,r)}static async single(e,t,n={}){const r=(n={...Yr,...n}).asDID?{did:n.asDID}:e;t={...t,deterministic:!0};const i=await Gr._makeGenesis(r,null,t);return e.createStreamFromGenesis(Gr.STREAM_TYPE_ID,i,n)}static async load(e,t,n={}){n={...Wr,...n};const r=v.i.from(t);if(r.type!=Gr.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${Gr.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}async replace(e,t={}){t={...Xr,...t},ti(e);const n=t.asDID?{did:t.asDID}:this.api,r=await this._makeCommit(n,e),i=await this.api.applyCommit(this.id,r,t);this.state$.next(i.state)}async patch(e,t={}){t={...Xr,...t},e.forEach((e=>{switch(e.op){case"add":case"replace":ti(e.value)}}));const n={data:e,prev:this.tip,id:this.id.cid},r=await Gr._signDagJWS(this.api,n),i=await this.api.applyCommit(this.id,r,t);this.state$.next(i.state)}makeReadOnly(){this.replace=Zr,this.patch=Zr,this.sync=Zr,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}_makeCommit(e,t){const n=this._makeRawCommit(t);return Gr._signDagJWS(e,n)}_makeRawCommit(e){return{data:Bt.ZP.compare(this.content,e||{}),prev:this.tip,id:this.state.log[0].cid}}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return n.deterministic?(zr(r),r):Gr._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(!n.model)throw new Error("Must specify a 'model' when creating a ModelInstanceDocument");ti(t);let r=n.controller;if(!r){if(!e.did)throw new Error("No controller specified");await Qr(e),r=e.did.hasParent?e.did.parent:e.did.id}const i={controllers:[r],model:n.model.bytes,sep:"model"};return n.deterministic||(i.unique=(0,qr.randomBytes)(12)),{data:t,header:i}}static async _signDagJWS(e,t){return await Qr(e),e.did.createDagJWS(t)}};function ti(e){if(e){const t=Hr(e);if(t>ei.MAX_DOCUMENT_SIZE)throw new Error(`Content has length of ${t}B which exceeds maximum size of ${ei.MAX_DOCUMENT_SIZE}B`)}}ei.STREAM_TYPE_NAME="MID",ei.STREAM_TYPE_ID=3,ei.MAX_DOCUMENT_SIZE=16e6,ei=Gr=Jr([(0,g.oC)()],ei);class ni{constructor(e){this._fetchJson=h.r,this._collectionURL=new URL("./collection",e),this._countURL=new URL("./collection/count",e)}async count(e){return(await this._fetchJson(this._countURL,{method:"POST",body:o(e)})).count}async query(e){const t=await this._fetchJson(this._collectionURL,{method:"POST",body:o(e)});return{edges:t.edges.map((e=>({cursor:e.cursor,node:d.e.deserializeState(e.node)}))),pageInfo:t.pageInfo}}}class ri{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=h.r,this.getCodePath="./admin/getCode"}async buildJWS(e,t,n){if(!e)throw new s;const r=await e.createJWS({code:t,requestPath:n.pathname});return`${r.signatures[0].protected}.${r.payload}.${r.signatures[0].signature}`}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getBaseUrl(){return new URL("./admin/pins",this._apiUrl)}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async add(e,t){const n={};t&&(n.force=!0);const r=await this.generateCode(),i=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(i,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),r,this.getBaseUrl())}`},method:"post",body:n})}async rm(e,t){const n=await this.generateCode(),r=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(r,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`},method:"delete",body:{opts:t}})}async ls(e){let t=new URL("./admin/pins",this._apiUrl);e&&(t=new URL(`./admin/pins/${e.toString()}`,this._apiUrl));const n=await this.generateCode(),r=await this._fetchJson(t,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`}}),{pinnedStreamIds:i}=r;return{[Symbol.asyncIterator](){let e=0;return{next:()=>e===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[e++],done:!1})}}}}}class ii{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=h.r,this.modelsPath="./admin/models",this.getCodePath="./admin/getCode",this.nodeStatusPath="./admin/status",this._pinApi=new ri(this._apiUrl,this._getDidFn)}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getModelsUrl(){return new URL(this.modelsPath,this._apiUrl)}getStatusUrl(){return new URL(this.nodeStatusPath,this._apiUrl)}async buildJWS(e,t,n,r){if(!e)throw new s;const i=r?{models:r.map((e=>e.toString()))}:void 0,o=await e.createJWS({code:t,requestPath:n,requestBody:i});return`${o.signatures[0].protected}.${o.payload}.${o.signatures[0].signature}`}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async nodeStatus(){const e=await this.generateCode();return this._fetchJson(this.getStatusUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getStatusUrl().pathname)}`}})}async startIndexingModels(e){const t=await this.generateCode();await this._fetchJson(this.getModelsUrl(),{method:"post",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,e)}})}async getIndexedModels(){const e=await this.generateCode();return(await this._fetchJson(this.getModelsUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getModelsUrl().pathname)}`}})).models.map((e=>r.Eb.fromString(e)))}async stopIndexingModels(e){const t=await this.generateCode();await this._fetchJson(this.getModelsUrl(),{method:"delete",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,e)}})}get pin(){return this._pinApi}}const oi={syncInterval:5e3},si={anchor:!0,publish:!0,sync:f.l.PREFER_CACHE},ai={anchor:!0,publish:!0,sync:f.l.PREFER_CACHE},ui={sync:f.l.PREFER_CACHE};class ci{constructor(e="http://localhost:7007",t={}){this._config={...oi,...t},this._apiUrl=new URL("/api/v0/",e),this.context={api:this},this.index=new ni(this._apiUrl);const n=(()=>this.did).bind(this);this.admin=new ii(this._apiUrl,n),this._streamConstructors={[y.U.STREAM_TYPE_ID]:y.U,[Ut.STREAM_TYPE_ID]:Ut,[ei.STREAM_TYPE_ID]:ei,[m.E.STREAM_TYPE_ID]:m.E}}get did(){return this.context.did}set did(e){this.context.did=e}async createStreamFromGenesis(e,t,n={}){n={...ai,...n};const r=await p.createFromGenesis(this._apiUrl,e,t,n,this._config.syncInterval);return this.buildStreamFromDocument(r)}async loadStream(e,t={}){t={...ui,...t};const n=v.i.from(e),r=await p.load(n,this._apiUrl,this._config.syncInterval,t);return this.buildStreamFromDocument(r)}async multiQuery(e,t){const n=e.map((e=>({...e,streamId:"string"===typeof e.streamId?e.streamId:e.streamId.toString()}))),r=new URL("./multiqueries",this._apiUrl),i=await(0,h.r)(r,{method:"post",body:{queries:n,timeout:t}});return Object.entries(i).reduce(((e,t)=>{const[n,r]=t,i=d.e.deserializeState(r),o=new p(i,this._apiUrl,this._config.syncInterval);return e[n]=this.buildStreamFromDocument(o),e}),{})}loadStreamCommits(e){const t=i(e);return p.loadStreamCommits(t,this._apiUrl)}async applyCommit(e,t,n={}){n={...si,...n};const r=i(e),o=await p.applyCommit(this._apiUrl,r,t,n,this._config.syncInterval);return this.buildStreamFromDocument(o)}async requestAnchor(e,t={}){t={...ui,...t};const{anchorStatus:n}=await(0,h.r)(`${this._apiUrl}/streams/${e.toString()}/anchor`,{method:"post",body:{opts:t}});return n}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}buildStreamFromState(e){const t=new p(e,this._apiUrl,this._config.syncInterval);return this.buildStreamFromDocument(t)}buildStreamFromDocument(e){const t=e.state.type,n=this._streamConstructors[t];if(!n)throw new Error(`Failed to find constructor for stream ${t}`);return new n(e,this.context)}async setDID(e){this.context.did=e}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:e}=await(0,h.r)(this._apiUrl+"/node/chains");return this._supportedChains=e,e}async close(){}}},3576:function(e,t,n){"use strict";n.d(t,{U:function(){return m}});var r=n(3188),i=n(826),o=n(7366),s=n(4747),a=n(7118);var u,c=n(3465),f=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const l=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},d={anchor:!1,publish:!0,sync:r.l.PREFER_CACHE},h={anchor:!0,publish:!0},p={sync:r.l.PREFER_CACHE};let m=u=class extends i.F6{constructor(){super(...arguments),this._isReadOnly=!1}get did(){return this.content}get metadata(){const{next:e,metadata:t}=this.state$.value;return c(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async fromAccount(e,t,n={}){n={...d,...n};const r=function(e){if("string"===typeof e&&e.includes("@")){const[t,n]=e.split("@");if(!t||!n)throw new Error("Invalid accountId provided");return new a.hX({address:t,chainId:n})}return new a.hX(e)}(t),i=u.makeGenesis(r);return u.fromGenesis(e,i,n)}static async fromGenesis(e,t,n={}){return n={...d,...n},e.createStreamFromGenesis(u.STREAM_TYPE_ID,t,n)}async setDid(e,t,n={}){n={...h,...n};const r="string"==typeof e?e.trim():e.id;if((0,s.Qc)(r)?.did!==r)throw new Error(`DID is not valid: '${r}'`);const i=await t.createLink(r);return this.setDidProof(i,n)}async setDidProof(e,t={}){t={...h,...t};const n=this.makeCommit(e),r=await this.api.applyCommit(this.id,n,t);this.state$.next(r.state)}async clearDid(e,t={}){t={...h,...t};const n=await e.createLink("");return this.setDidProof(n,t)}static async load(e,t,n={}){n={...p,...n};const r=o.i.from(t);if(r.type!=u.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${u.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}static makeGenesis(e){"eip155"===e.chainId.namespace&&(e.address=e.address.toLowerCase());return{header:{controllers:[`${e.address}@${e.chainId.toString()}`],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.id.cid}}makeReadOnly(){this.setDidProof=l,this.setDid=l,this.sync=l,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};m.STREAM_TYPE_NAME="caip10-link",m.STREAM_TYPE_ID=1,m=u=f([(0,i.oC)()],m)},7982:function(e,t,n){"use strict";n.d(t,{E:function(){return At}});var r=n(6631),i=n(3465);const o=["string","number","bigint","symbol"],s=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function a(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(o.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(s.includes(t))return t;return}(e);return n||"Object"}class u{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}u.uint=new u(0,"uint",!0),u.negint=new u(1,"negint",!0),u.bytes=new u(2,"bytes",!0),u.string=new u(3,"string",!0),u.array=new u(4,"array",!1),u.map=new u(5,"map",!1),u.tag=new u(6,"tag",!1),u.float=new u(7,"float",!0),u.false=new u(7,"false",!0),u.true=new u(7,"true",!0),u.null=new u(7,"null",!0),u.undefined=new u(7,"undefined",!0),u.break=new u(7,"break",!0);class c{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const f=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,l=new TextDecoder,d=new TextEncoder;function h(e){return f&&globalThis.Buffer.isBuffer(e)}function p(e){return e instanceof Uint8Array?h(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const m=f?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):T(e,t,n):(e,t,n)=>n-t>64?l.decode(e.subarray(t,n)):T(e,t,n),y=f?e=>e.length>64?globalThis.Buffer.from(e):E(e):e=>e.length>64?d.encode(e):E(e),g=e=>Uint8Array.from(e),v=f?(e,t,n)=>h(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),w=f?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),p(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},b=f?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function E(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function T(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&i)<<6|63&n,u>127&&(o=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&i)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}const I=4096;class _{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=b(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=v(n,0,this.cursor)}else t=w(this.chunks,this.cursor);return e&&this.reset(),t}}const A=[];function S(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}A[23]=1,A[24]=2,A[25]=3,A[26]=5,A[27]=9;const N=[24,256,65536,4294967296,BigInt("18446744073709551616")];function x(e,t,n){S(e,t,1);const r=e[t];if(!0===n.strict&&r<N[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function O(e,t,n){S(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<N[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function k(e,t,n){S(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<N[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function C(e,t,n){S(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(r)<<BigInt(32))+BigInt(i);if(!0===n.strict&&o<N[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===n.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function D(e,t){return M(e,0,t.value)}function M(e,t,n){if(n<N[0]){const r=Number(n);e.push([t|r])}else if(n<N[1]){const r=Number(n);e.push([24|t,r])}else if(n<N[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<N[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<N[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}D.encodedSize=function(e){return M.encodedSize(e.value)},M.encodedSize=function(e){return e<N[0]?1:e<N[1]?2:e<N[2]?3:e<N[3]?5:9},D.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const R=BigInt(-1),U=BigInt(1);function B(e,t){const n=t.value,r="bigint"===typeof n?n*R-U:-1*n-1;M(e,t.type.majorEncoded,r)}function L(e,t,n,r){S(e,t,n+r);const i=v(e,t+n,t+n+r);return new c(u.bytes,i,n+r)}function P(e,t,n,r){return L(e,t,1,n)}function j(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===u.string?y(e.value):e.value),e.encodedBytes}function F(e,t){const n=j(t);M(e,t.type.majorEncoded,n.length),e.push(n)}function $(e,t,n,r,i){const o=n+r;S(e,t,o);const s=new c(u.string,m(e,t+n,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=v(e,t+n,t+o)),s}function V(e,t,n,r){return $(e,t,1,n,r)}B.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*R-U:-1*t-1;return n<N[0]?1:n<N[1]?2:n<N[2]?3:n<N[3]?5:9},B.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},F.encodedSize=function(e){const t=j(e);return M.encodedSize(t.length)+t.length},F.compareTokens=function(e,t){return n=j(e),r=j(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(h(e)&&h(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const z=F;function G(e,t,n,r){return new c(u.array,r,n)}function q(e,t,n,r){return G(0,0,1,n)}function H(e,t){M(e,u.array.majorEncoded,t.value)}function J(e,t,n,r){return new c(u.map,r,n)}function K(e,t,n,r){return J(0,0,1,n)}function Y(e,t){M(e,u.map.majorEncoded,t.value)}function W(e,t,n,r){return new c(u.tag,n,1)}function X(e,t){M(e,u.tag.majorEncoded,t.value)}H.compareTokens=D.compareTokens,H.encodedSize=function(e){return M.encodedSize(e.value)},Y.compareTokens=D.compareTokens,Y.encodedSize=function(e){return M.encodedSize(e.value)},X.compareTokens=D.compareTokens,X.encodedSize=function(e){return M.encodedSize(e.value)};function Q(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new c(u.float,e,t)}function Z(e,t,n){const r=t.value;if(!1===r)e.push([20|u.float.majorEncoded]);else if(!0===r)e.push([21|u.float.majorEncoded]);else if(null===r)e.push([22|u.float.majorEncoded]);else if(void 0===r)e.push([23|u.float.majorEncoded]);else{let t,o=!1;n&&!0===n.float64||(re(r),t=ie(ne,1),r===t||Number.isNaN(r)?(ne[0]=249,e.push(ne.slice(0,3)),o=!0):(oe(r),t=se(ne,1),r===t&&(ne[0]=250,e.push(ne.slice(0,5)),o=!0))),o||(i=r,te.setFloat64(0,i,!1),t=ae(ne,1),ne[0]=251,e.push(ne.slice(0,9)))}var i}Z.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){re(n);let e=ie(ne,1);if(n===e||Number.isNaN(n))return 3;if(oe(n),e=se(ne,1),n===e)return 5}return 9};const ee=new ArrayBuffer(9),te=new DataView(ee,1),ne=new Uint8Array(ee,0);function re(e){if(e===1/0)te.setUint16(0,31744,!1);else if(e===-1/0)te.setUint16(0,64512,!1);else if(Number.isNaN(e))te.setUint16(0,32256,!1);else{te.setFloat32(0,e);const t=te.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)te.setUint16(0,31744,!1);else if(0===n)te.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?te.setUint16(0,0):e<-14?te.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):te.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function ie(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let o;return o=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-o:o}function oe(e){te.setFloat32(0,e,!1)}function se(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function ae(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function ue(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function ce(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Z.compareTokens=D.compareTokens;const fe=[];for(let St=0;St<=23;St++)fe[St]=ue;fe[24]=function(e,t,n,r){return new c(u.uint,x(e,t+1,r),2)},fe[25]=function(e,t,n,r){return new c(u.uint,O(e,t+1,r),3)},fe[26]=function(e,t,n,r){return new c(u.uint,k(e,t+1,r),5)},fe[27]=function(e,t,n,r){return new c(u.uint,C(e,t+1,r),9)},fe[28]=ue,fe[29]=ue,fe[30]=ue,fe[31]=ue;for(let St=32;St<=55;St++)fe[St]=ue;fe[56]=function(e,t,n,r){return new c(u.negint,-1-x(e,t+1,r),2)},fe[57]=function(e,t,n,r){return new c(u.negint,-1-O(e,t+1,r),3)},fe[58]=function(e,t,n,r){return new c(u.negint,-1-k(e,t+1,r),5)},fe[59]=function(e,t,n,r){const i=C(e,t+1,r);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new c(u.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new c(u.negint,R-BigInt(i),9)},fe[60]=ue,fe[61]=ue,fe[62]=ue,fe[63]=ue;for(let St=64;St<=87;St++)fe[St]=P;fe[88]=function(e,t,n,r){return L(e,t,2,x(e,t+1,r))},fe[89]=function(e,t,n,r){return L(e,t,3,O(e,t+1,r))},fe[90]=function(e,t,n,r){return L(e,t,5,k(e,t+1,r))},fe[91]=function(e,t,n,r){const i=C(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return L(e,t,9,i)},fe[92]=ue,fe[93]=ue,fe[94]=ue,fe[95]=ce("indefinite length bytes/strings are not supported");for(let St=96;St<=119;St++)fe[St]=V;fe[120]=function(e,t,n,r){return $(e,t,2,x(e,t+1,r),r)},fe[121]=function(e,t,n,r){return $(e,t,3,O(e,t+1,r),r)},fe[122]=function(e,t,n,r){return $(e,t,5,k(e,t+1,r),r)},fe[123]=function(e,t,n,r){const i=C(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return $(e,t,9,i,r)},fe[124]=ue,fe[125]=ue,fe[126]=ue,fe[127]=ce("indefinite length bytes/strings are not supported");for(let St=128;St<=151;St++)fe[St]=q;fe[152]=function(e,t,n,r){return G(0,0,2,x(e,t+1,r))},fe[153]=function(e,t,n,r){return G(0,0,3,O(e,t+1,r))},fe[154]=function(e,t,n,r){return G(0,0,5,k(e,t+1,r))},fe[155]=function(e,t,n,r){const i=C(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return G(0,0,9,i)},fe[156]=ue,fe[157]=ue,fe[158]=ue,fe[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return G(0,0,1,1/0)};for(let St=160;St<=183;St++)fe[St]=K;fe[184]=function(e,t,n,r){return J(0,0,2,x(e,t+1,r))},fe[185]=function(e,t,n,r){return J(0,0,3,O(e,t+1,r))},fe[186]=function(e,t,n,r){return J(0,0,5,k(e,t+1,r))},fe[187]=function(e,t,n,r){const i=C(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return J(0,0,9,i)},fe[188]=ue,fe[189]=ue,fe[190]=ue,fe[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return J(0,0,1,1/0)};for(let St=192;St<=215;St++)fe[St]=W;fe[216]=function(e,t,n,r){return new c(u.tag,x(e,t+1,r),2)},fe[217]=function(e,t,n,r){return new c(u.tag,O(e,t+1,r),3)},fe[218]=function(e,t,n,r){return new c(u.tag,k(e,t+1,r),5)},fe[219]=function(e,t,n,r){return new c(u.tag,C(e,t+1,r),9)},fe[220]=ue,fe[221]=ue,fe[222]=ue,fe[223]=ue;for(let St=224;St<=243;St++)fe[St]=ce("simple values are not supported");fe[244]=ue,fe[245]=ue,fe[246]=ue,fe[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new c(u.null,null,1):new c(u.undefined,void 0,1)},fe[248]=ce("simple values are not supported"),fe[249]=function(e,t,n,r){return Q(ie(e,t+1),3,r)},fe[250]=function(e,t,n,r){return Q(se(e,t+1),5,r)},fe[251]=function(e,t,n,r){return Q(ae(e,t+1),9,r)},fe[252]=ue,fe[253]=ue,fe[254]=ue,fe[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new c(u.break,void 0,1)};const le=[];for(let St=0;St<24;St++)le[St]=new c(u.uint,St,1);for(let St=-1;St>=-24;St--)le[31-St]=new c(u.negint,St,1);le[64]=new c(u.bytes,new Uint8Array(0),1),le[96]=new c(u.string,"",1),le[128]=new c(u.array,0,1),le[160]=new c(u.map,0,1),le[244]=new c(u.false,!1,1),le[245]=new c(u.true,!0,1),le[246]=new c(u.null,null,1);const de={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=he[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case u.false:return g([244]);case u.true:return g([245]);case u.null:return g([246]);case u.bytes:return e.value.length?void 0:g([64]);case u.string:return""===e.value?g([96]):void 0;case u.array:return 0===e.value?g([128]):void 0;case u.map:return 0===e.value?g([160]):void 0;case u.uint:return e.value<24?g([Number(e.value)]):void 0;case u.negint:if(e.value>=-24)return g([31-Number(e.value)])}}};const he=function(){const e=[];return e[u.uint.major]=D,e[u.negint.major]=B,e[u.bytes.major]=F,e[u.string.major]=z,e[u.array.major]=H,e[u.map.major]=Y,e[u.tag.major]=X,e[u.float.major]=Z,e}(),pe=new _;class me{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new me(t,e)}}const ye={null:new c(u.null,null),undefined:new c(u.undefined,void 0),true:new c(u.true,!0),false:new c(u.false,!1),emptyArray:new c(u.array,0),emptyMap:new c(u.map,0)},ge={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new c(e>=0?u.uint:u.negint,e):new c(u.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new c(u.uint,e):new c(u.negint,e),Uint8Array:(e,t,n,r)=>new c(u.bytes,e),string:(e,t,n,r)=>new c(u.string,e),boolean:(e,t,n,r)=>e?ye.true:ye.false,null:(e,t,n,r)=>ye.null,undefined:(e,t,n,r)=>ye.undefined,ArrayBuffer:(e,t,n,r)=>new c(u.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new c(u.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[ye.emptyArray,new c(u.break)]:ye.emptyArray;r=me.createCheck(r,e);const i=[];let o=0;for(const s of e)i[o++]=ve(s,n,r);return n.addBreakTokens?[new c(u.array,e.length),i,new c(u.break)]:[new c(u.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===n.addBreakTokens?[ye.emptyMap,new c(u.break)]:ye.emptyMap;r=me.createCheck(r,e);const a=[];let f=0;for(const u of o)a[f++]=[ve(u,n,r),ve(i?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new c(u.map,s),a,new c(u.break)]:[new c(u.map,s),a]}};ge.Map=ge.Object,ge.Buffer=ge.Uint8Array;for(const St of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ge[`${St}Array`]=ge.DataView;function ve(e,t={},n){const r=a(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||ge[r];if("function"===typeof i){const o=i(e,r,t,n);if(null!=o)return o}const o=ge[r];if(!o)throw new Error(`CBOR encode error: unsupported type: ${r}`);return o(e,r,t,n)}function we(e,t,n,r){if(Array.isArray(t))for(const i of t)we(e,i,n,r);else n[t.type.major](e,t,r)}function be(e,t,n){const r=ve(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new _(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return p(t.chunks[0])}}return pe.reset(),we(pe,r,t,n),pe.toBytes(!0)}Symbol.for("DONE"),Symbol.for("BREAK");var Ee=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=Te;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Te=Math.pow(2,31);var Ie=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var _e=Math.pow(2,7),Ae=Math.pow(2,14),Se=Math.pow(2,21),Ne=Math.pow(2,28),xe=Math.pow(2,35),Oe=Math.pow(2,42),ke=Math.pow(2,49),Ce=Math.pow(2,56),De=Math.pow(2,63),Me={encode:Ee,decode:Ie,encodingLength:function(e){return e<_e?1:e<Ae?2:e<Se?3:e<Ne?4:e<xe?5:e<Oe?6:e<ke?7:e<Ce?8:e<De?9:10}};const Re=(e,t=0)=>[Me.decode(e,t),Me.decode.bytes],Ue=(e,t,n=0)=>(Me.encode(e,t,n),t),Be=e=>Me.encodingLength(e),Le=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Pe{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var je=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class Fe{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $e{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ze(this,e)}}class Ve{constructor(e){this.decoders=e}or(e){return ze(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ze=(e,t)=>new Ve({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ge{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Fe(e,t,n),this.decoder=new $e(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const qe=({name:e,prefix:t,encode:n,decode:r})=>new Ge(e,t,n,r),He=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=je(n,t);return qe({prefix:e,name:t,encode:r,decode:e=>Le(i(e))})},Je=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>qe({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Ke=He({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ye=(He({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Je({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));Je({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Je({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Je({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Je({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Je({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Je({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Je({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Je({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class We{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ot,byteLength:ot,code:it,version:it,multihash:it,bytes:it,_baseCache:ot,asCID:ot})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==et)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==tt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return We.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Be(e),i=r+Be(n),o=new Uint8Array(i+n);return Ue(e,o,0),Ue(n,o,r),o.set(t,i),new Pe(e,n,t,o)})(e,t);return We.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return Qe(t,r,e||Ke.encoder);default:return Ze(t,r,e||Ye.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return st(/^0\.0/,at),!(!e||!e[rt]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof We)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new We(t,n,r,i||nt(t,n,r.bytes))}if(null!=e&&!0===e[rt]){const{version:t,multihash:n,code:r}=e,i=(e=>{const t=Le(e),[n,r]=Re(t),[i,o]=Re(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Pe(n,i,s,t)})(n);return We.create(t,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==et)throw new Error(`Version 0 CID must use dag-pb (code: ${et}) block encoding`);return new We(e,t,n,n.bytes);case 1:{const r=nt(e,t,n.bytes);return new We(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return We.create(0,et,e)}static createV1(e,t){return We.create(1,e,t)}static decode(e){const[t,n]=We.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=We.inspectBytes(e),n=t.size-t.multihashSize,r=Le(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new Pe(t.multihashCode,t.digestSize,i,r);return[0===t.version?We.createV0(o):We.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Re(e.subarray(t));return t+=r,n};let r=n(),i=et;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=Xe(e,t),i=We.decode(r);return i._baseCache.set(n,e),i}}const Xe=(e,t)=>{switch(e[0]){case"Q":{const n=t||Ke;return[Ke.prefix,n.decode(`${Ke.prefix}${e}`)]}case Ke.prefix:{const n=t||Ke;return[Ke.prefix,n.decode(e)]}case Ye.prefix:{const n=t||Ye;return[Ye.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Qe=(e,t,n)=>{const{prefix:r}=n;if(r!==Ke.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},Ze=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},et=112,tt=18,nt=(e,t,n)=>{const r=Be(e),i=r+Be(t),o=new Uint8Array(i+n.byteLength);return Ue(e,o,0),Ue(t,o,r),o.set(n,i),o},rt=Symbol.for("@ipld/js-cid/CID"),it={writable:!1,configurable:!1,enumerable:!0},ot={writable:!1,enumerable:!1,configurable:!1},st=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},at="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const ut={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=We.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new c(u.tag,42),new c(u.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const ct={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};ct.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return We.decode(e.subarray(1))};const ft=e=>{return t=e,n=ut,n=Object.assign({},de,n),be(t,he,n);var t,n};var lt,dt=n(738),ht=n(1416),pt=n(3188),mt=n(826),yt=n(1002),gt=n(7366),vt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const wt={anchor:!0,publish:!0,sync:pt.l.PREFER_CACHE},bt={sync:pt.l.PREFER_CACHE},Et={anchor:!0,publish:!0};function Tt(e,t){if("string"===typeof e?.schema)try{yt.NQ.fromString(e.schema)}catch{throw new Error("Schema must be a CommitID")}const n={controllers:e?.controllers,family:e?.family,schema:e?.schema?.toString(),tags:e?.tags};if(t)e?.deterministic||(n.unique=dt.BB((0,ht.randomBytes)(12),"base64")),e?.forbidControllerChange&&(n.forbidControllerChange=!0);else{if(void 0!==e?.deterministic||void 0!==e?.unique)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if(void 0!==e?.forbidControllerChange)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(n).forEach((e=>void 0===n[e]&&delete n[e])),n}async function It(e){if(!e.did)throw new Error("No DID provided");return e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`)),e.did}async function _t(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let At=lt=class extends mt.F6{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){const{next:e,metadata:t}=this.state$.value;return i(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async create(e,t,n,r={}){r={...wt,...r},n?.deterministic||void 0!=r.syncTimeoutSeconds||(r.syncTimeoutSeconds=0);const i=r.asDID?{did:r.asDID}:e,o=await lt.makeGenesis(i,t,n);return e.createStreamFromGenesis(lt.STREAM_TYPE_ID,o,r)}static async createFromGenesis(e,t,n={}){n={...wt,...n},t.header?.unique&&void 0==n.syncTimeoutSeconds&&(n.syncTimeoutSeconds=0);const r=t.data?await lt._signDagJWS(e,t):t;return e.createStreamFromGenesis(lt.STREAM_TYPE_ID,r,n)}static async deterministic(e,t,n={}){if(n={...wt,...n},null==(t={...t,deterministic:!0}).family&&null==t.tags)throw new Error("Family and/or tags are required when creating a deterministic tile document");const r=await lt.makeGenesis(e,null,t);return e.createStreamFromGenesis(lt.STREAM_TYPE_ID,r,n)}static async load(e,t,n={}){n={...bt,...n};const r=gt.i.from(t);if(r.type!=lt.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${lt.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}async update(e,t,n={}){const r=(n={...Et,...n}).asDID?{did:n.asDID}:this.api,i=await this.makeCommit(r,e,t),o=await this.api.applyCommit(this.id,i,n);this.state$.next(o.state)}async patch(e,t={}){t={...Et,...t};const n={header:Tt(this.metadata,!1),data:e,prev:this.tip,id:this.id.cid},r=await lt._signDagJWS(this.api,n),i=await this.api.applyCommit(this.id,r,t);this.state$.next(i.state)}makeReadOnly(){this.update=_t,this.patch=_t,this.sync=_t,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}async makeCommit(e,t,n){const r=await this._makeRawCommit(t,n);return lt._signDagJWS(e,r)}async _makeRawCommit(e,t){t||(t={});const n=Tt(t,!1);if(null==e&&(e=this.content),n.controllers){if(1!==n.controllers.length)throw new Error("Exactly one controller must be specified");if(!n.controllers[0])throw new Error("Controller cannot be updated to an undefined value.")}const i=r.ZP.compare(this.content,e),o=this.state.log[0];return{header:n,data:i,prev:this.tip,id:o.cid}}static async makeGenesis(e,t,n){if(n||(n={}),!n.controllers||0===n.controllers.length){if(!e.did)throw new Error("No controllers specified");{const t=await It(e);n.controllers=[t.hasParent?t.parent:t.id]}}if(1!==n.controllers?.length)throw new Error("Exactly one controller must be specified");const r=Tt(n,!0);if(n?.deterministic&&t)throw new Error("Initial content must be null when creating a deterministic Tile document");if(null==t){const e={header:r};return ft(e),e}const i={data:t,header:r};return lt._signDagJWS(e,i)}static async _signDagJWS(e,t){return(await It(e)).createDagJWS(t)}};At.STREAM_TYPE_NAME="tile",At.STREAM_TYPE_ID=0,At=lt=vt([(0,mt.oC)()],At)},1002:function(e,t,n){"use strict";n.d(t,{NQ:function(){return A}});var r,i,o,s=n(8161),a=n(8673),u=n(8595),c=n(4676),f=n(738),l=n(6105),d=n(9287),h=n(132),p=n(468),m=n(551),y=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},w=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class b extends Error{constructor(e){super(`Error while parsing CommitID from bytes ${a.base36.encode(e)}: no commit information provided`)}}class E extends Error{constructor(e){super(`Error while parsing CommitID from string ${e}: no commit information provided`)}}function T(e){const t=m.xv(e,"CommitID");if("commit-id"===t.kind)return new A(t.type,t.genesis,t.commit);throw new b(e)}function I(e){const t=m.mL(e,"CommitID");if("commit-id"===t.kind)return new A(t.type,t.genesis,t.commit);throw new E(e)}const _=Symbol.for("@ceramicnetwork/streamid/CommitID");class A{constructor(e,t,n=null){if(this._tag=_,r.set(this,void 0),i.set(this,void 0),o.set(this,void 0),!e&&0!==e)throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");v(this,r,"string"===typeof e?u.j.codeByName(e):e,"f"),v(this,i,"string"===typeof t?s.k0.parse(t):t,"f"),v(this,o,m.zD(w(this,i,"f"),n),"f")}static isInstance(e){return"object"===typeof e&&"_tag"in e&&e._tag===_}get baseID(){return new h.Eb(w(this,r,"f"),w(this,i,"f"))}get type(){return w(this,r,"f")}get typeName(){return u.j.nameByCode(w(this,r,"f"))}get cid(){return w(this,i,"f")}get commit(){return w(this,o,"f")||w(this,i,"f")}get bytes(){const e=c.encode(d.B),t=c.encode(this.type),n=w(this,o,"f")?.bytes||new Uint8Array([0]);return(0,f.zo)([e,t,this.cid.bytes,n])}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return a.base36.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[(r=new WeakMap,i=new WeakMap,o=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}A.fromBytes=T,A.fromBytesNoThrow=function(e){return(0,p.Y)((()=>T(e)))},A.fromString=I,A.fromStringNoThrow=function(e){return(0,p.Y)((()=>I(e)))},A.make=function(e,t){return new A(e.type,e.cid,t)},y([(0,l.PW)(),g("design:type",h.Eb),g("design:paramtypes",[])],A.prototype,"baseID",null),y([(0,l.PW)(),g("design:type",String),g("design:paramtypes",[])],A.prototype,"typeName",null),y([(0,l.PW)(),g("design:type",s.k0),g("design:paramtypes",[])],A.prototype,"commit",null),y([(0,l.PW)(),g("design:type",Uint8Array),g("design:paramtypes",[])],A.prototype,"bytes",null),y([(0,l.PW)(),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",String)],A.prototype,"toString",null),y([(0,l.PW)(),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",String)],A.prototype,"toUrl",null)},9287:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});const r=206},132:function(e,t,n){"use strict";n.d(t,{Eb:function(){return Bt}});var r={};n.r(r),n.d(r,{code:function(){return bt},decode:function(){return Tt},encode:function(){return Et},name:function(){return wt}});var i=n(8161),o=n(7618),s=n(8673),a=n(7353),u=n(4676);const c=["string","number","bigint","symbol"],f=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function l(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(c.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(f.includes(t))return t;return}(e);return n||"Object"}class d{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}d.uint=new d(0,"uint",!0),d.negint=new d(1,"negint",!0),d.bytes=new d(2,"bytes",!0),d.string=new d(3,"string",!0),d.array=new d(4,"array",!1),d.map=new d(5,"map",!1),d.tag=new d(6,"tag",!1),d.float=new d(7,"float",!0),d.false=new d(7,"false",!0),d.true=new d(7,"true",!0),d.null=new d(7,"null",!0),d.undefined=new d(7,"undefined",!0),d.break=new d(7,"break",!0);class h{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const p=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,m=new TextDecoder,y=new TextEncoder;function g(e){return p&&globalThis.Buffer.isBuffer(e)}function v(e){return e instanceof Uint8Array?g(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const w=p?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):S(e,t,n):(e,t,n)=>n-t>64?m.decode(e.subarray(t,n)):S(e,t,n),b=p?e=>e.length>64?globalThis.Buffer.from(e):A(e):e=>e.length>64?y.encode(e):A(e),E=e=>Uint8Array.from(e),T=p?(e,t,n)=>g(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),I=p?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),v(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},_=p?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function A(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function S(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&i)<<6|63&n,u>127&&(o=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&i)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}(r)}const N=4096;class x{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=_(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=T(n,0,this.cursor)}else t=I(this.chunks,this.cursor);return e&&this.reset(),t}}const O=[];function k(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}O[23]=1,O[24]=2,O[25]=3,O[26]=5,O[27]=9;const C=[24,256,65536,4294967296,BigInt("18446744073709551616")];function D(e,t,n){k(e,t,1);const r=e[t];if(!0===n.strict&&r<C[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function M(e,t,n){k(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<C[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function R(e,t,n){k(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<C[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function U(e,t,n){k(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(r)<<BigInt(32))+BigInt(i);if(!0===n.strict&&o<C[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===n.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function B(e,t){return L(e,0,t.value)}function L(e,t,n){if(n<C[0]){const r=Number(n);e.push([t|r])}else if(n<C[1]){const r=Number(n);e.push([24|t,r])}else if(n<C[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<C[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<C[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}B.encodedSize=function(e){return L.encodedSize(e.value)},L.encodedSize=function(e){return e<C[0]?1:e<C[1]?2:e<C[2]?3:e<C[3]?5:9},B.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const P=BigInt(-1),j=BigInt(1);function F(e,t){const n=t.value,r="bigint"===typeof n?n*P-j:-1*n-1;L(e,t.type.majorEncoded,r)}function $(e,t,n,r){k(e,t,n+r);const i=T(e,t+n,t+n+r);return new h(d.bytes,i,n+r)}function V(e,t,n,r){return $(e,t,1,n)}function z(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===d.string?b(e.value):e.value),e.encodedBytes}function G(e,t){const n=z(t);L(e,t.type.majorEncoded,n.length),e.push(n)}function q(e,t,n,r,i){const o=n+r;k(e,t,o);const s=new h(d.string,w(e,t+n,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=T(e,t+n,t+o)),s}function H(e,t,n,r){return q(e,t,1,n,r)}F.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*P-j:-1*t-1;return n<C[0]?1:n<C[1]?2:n<C[2]?3:n<C[3]?5:9},F.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},G.encodedSize=function(e){const t=z(e);return L.encodedSize(t.length)+t.length},G.compareTokens=function(e,t){return n=z(e),r=z(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(g(e)&&g(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const J=G;function K(e,t,n,r){return new h(d.array,r,n)}function Y(e,t,n,r){return K(0,0,1,n)}function W(e,t){L(e,d.array.majorEncoded,t.value)}function X(e,t,n,r){return new h(d.map,r,n)}function Q(e,t,n,r){return X(0,0,1,n)}function Z(e,t){L(e,d.map.majorEncoded,t.value)}function ee(e,t,n,r){return new h(d.tag,n,1)}function te(e,t){L(e,d.tag.majorEncoded,t.value)}W.compareTokens=B.compareTokens,W.encodedSize=function(e){return L.encodedSize(e.value)},Z.compareTokens=B.compareTokens,Z.encodedSize=function(e){return L.encodedSize(e.value)},te.compareTokens=B.compareTokens,te.encodedSize=function(e){return L.encodedSize(e.value)};function ne(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new h(d.float,e,t)}function re(e,t,n){const r=t.value;if(!1===r)e.push([20|d.float.majorEncoded]);else if(!0===r)e.push([21|d.float.majorEncoded]);else if(null===r)e.push([22|d.float.majorEncoded]);else if(void 0===r)e.push([23|d.float.majorEncoded]);else{let t,o=!1;n&&!0===n.float64||(ae(r),t=ue(se,1),r===t||Number.isNaN(r)?(se[0]=249,e.push(se.slice(0,3)),o=!0):(ce(r),t=fe(se,1),r===t&&(se[0]=250,e.push(se.slice(0,5)),o=!0))),o||(i=r,oe.setFloat64(0,i,!1),t=le(se,1),se[0]=251,e.push(se.slice(0,9)))}var i}re.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){ae(n);let e=ue(se,1);if(n===e||Number.isNaN(n))return 3;if(ce(n),e=fe(se,1),n===e)return 5}return 9};const ie=new ArrayBuffer(9),oe=new DataView(ie,1),se=new Uint8Array(ie,0);function ae(e){if(e===1/0)oe.setUint16(0,31744,!1);else if(e===-1/0)oe.setUint16(0,64512,!1);else if(Number.isNaN(e))oe.setUint16(0,32256,!1);else{oe.setFloat32(0,e);const t=oe.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)oe.setUint16(0,31744,!1);else if(0===n)oe.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?oe.setUint16(0,0):e<-14?oe.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):oe.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function ue(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let o;return o=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-o:o}function ce(e){oe.setFloat32(0,e,!1)}function fe(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function le(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function de(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function he(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}re.compareTokens=B.compareTokens;const pe=[];for(let Lt=0;Lt<=23;Lt++)pe[Lt]=de;pe[24]=function(e,t,n,r){return new h(d.uint,D(e,t+1,r),2)},pe[25]=function(e,t,n,r){return new h(d.uint,M(e,t+1,r),3)},pe[26]=function(e,t,n,r){return new h(d.uint,R(e,t+1,r),5)},pe[27]=function(e,t,n,r){return new h(d.uint,U(e,t+1,r),9)},pe[28]=de,pe[29]=de,pe[30]=de,pe[31]=de;for(let Lt=32;Lt<=55;Lt++)pe[Lt]=de;pe[56]=function(e,t,n,r){return new h(d.negint,-1-D(e,t+1,r),2)},pe[57]=function(e,t,n,r){return new h(d.negint,-1-M(e,t+1,r),3)},pe[58]=function(e,t,n,r){return new h(d.negint,-1-R(e,t+1,r),5)},pe[59]=function(e,t,n,r){const i=U(e,t+1,r);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new h(d.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new h(d.negint,P-BigInt(i),9)},pe[60]=de,pe[61]=de,pe[62]=de,pe[63]=de;for(let Lt=64;Lt<=87;Lt++)pe[Lt]=V;pe[88]=function(e,t,n,r){return $(e,t,2,D(e,t+1,r))},pe[89]=function(e,t,n,r){return $(e,t,3,M(e,t+1,r))},pe[90]=function(e,t,n,r){return $(e,t,5,R(e,t+1,r))},pe[91]=function(e,t,n,r){const i=U(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return $(e,t,9,i)},pe[92]=de,pe[93]=de,pe[94]=de,pe[95]=he("indefinite length bytes/strings are not supported");for(let Lt=96;Lt<=119;Lt++)pe[Lt]=H;pe[120]=function(e,t,n,r){return q(e,t,2,D(e,t+1,r),r)},pe[121]=function(e,t,n,r){return q(e,t,3,M(e,t+1,r),r)},pe[122]=function(e,t,n,r){return q(e,t,5,R(e,t+1,r),r)},pe[123]=function(e,t,n,r){const i=U(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return q(e,t,9,i,r)},pe[124]=de,pe[125]=de,pe[126]=de,pe[127]=he("indefinite length bytes/strings are not supported");for(let Lt=128;Lt<=151;Lt++)pe[Lt]=Y;pe[152]=function(e,t,n,r){return K(0,0,2,D(e,t+1,r))},pe[153]=function(e,t,n,r){return K(0,0,3,M(e,t+1,r))},pe[154]=function(e,t,n,r){return K(0,0,5,R(e,t+1,r))},pe[155]=function(e,t,n,r){const i=U(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return K(0,0,9,i)},pe[156]=de,pe[157]=de,pe[158]=de,pe[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return K(0,0,1,1/0)};for(let Lt=160;Lt<=183;Lt++)pe[Lt]=Q;pe[184]=function(e,t,n,r){return X(0,0,2,D(e,t+1,r))},pe[185]=function(e,t,n,r){return X(0,0,3,M(e,t+1,r))},pe[186]=function(e,t,n,r){return X(0,0,5,R(e,t+1,r))},pe[187]=function(e,t,n,r){const i=U(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return X(0,0,9,i)},pe[188]=de,pe[189]=de,pe[190]=de,pe[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return X(0,0,1,1/0)};for(let Lt=192;Lt<=215;Lt++)pe[Lt]=ee;pe[216]=function(e,t,n,r){return new h(d.tag,D(e,t+1,r),2)},pe[217]=function(e,t,n,r){return new h(d.tag,M(e,t+1,r),3)},pe[218]=function(e,t,n,r){return new h(d.tag,R(e,t+1,r),5)},pe[219]=function(e,t,n,r){return new h(d.tag,U(e,t+1,r),9)},pe[220]=de,pe[221]=de,pe[222]=de,pe[223]=de;for(let Lt=224;Lt<=243;Lt++)pe[Lt]=he("simple values are not supported");pe[244]=de,pe[245]=de,pe[246]=de,pe[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new h(d.null,null,1):new h(d.undefined,void 0,1)},pe[248]=he("simple values are not supported"),pe[249]=function(e,t,n,r){return ne(ue(e,t+1),3,r)},pe[250]=function(e,t,n,r){return ne(fe(e,t+1),5,r)},pe[251]=function(e,t,n,r){return ne(le(e,t+1),9,r)},pe[252]=de,pe[253]=de,pe[254]=de,pe[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new h(d.break,void 0,1)};const me=[];for(let Lt=0;Lt<24;Lt++)me[Lt]=new h(d.uint,Lt,1);for(let Lt=-1;Lt>=-24;Lt--)me[31-Lt]=new h(d.negint,Lt,1);me[64]=new h(d.bytes,new Uint8Array(0),1),me[96]=new h(d.string,"",1),me[128]=new h(d.array,0,1),me[160]=new h(d.map,0,1),me[244]=new h(d.false,!1,1),me[245]=new h(d.true,!0,1),me[246]=new h(d.null,null,1);const ye={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=ge[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case d.false:return E([244]);case d.true:return E([245]);case d.null:return E([246]);case d.bytes:return e.value.length?void 0:E([64]);case d.string:return""===e.value?E([96]):void 0;case d.array:return 0===e.value?E([128]):void 0;case d.map:return 0===e.value?E([160]):void 0;case d.uint:return e.value<24?E([Number(e.value)]):void 0;case d.negint:if(e.value>=-24)return E([31-Number(e.value)])}}};const ge=function(){const e=[];return e[d.uint.major]=B,e[d.negint.major]=F,e[d.bytes.major]=G,e[d.string.major]=J,e[d.array.major]=W,e[d.map.major]=Z,e[d.tag.major]=te,e[d.float.major]=re,e}(),ve=new x;class we{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new we(t,e)}}const be={null:new h(d.null,null),undefined:new h(d.undefined,void 0),true:new h(d.true,!0),false:new h(d.false,!1),emptyArray:new h(d.array,0),emptyMap:new h(d.map,0)},Ee={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new h(e>=0?d.uint:d.negint,e):new h(d.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new h(d.uint,e):new h(d.negint,e),Uint8Array:(e,t,n,r)=>new h(d.bytes,e),string:(e,t,n,r)=>new h(d.string,e),boolean:(e,t,n,r)=>e?be.true:be.false,null:(e,t,n,r)=>be.null,undefined:(e,t,n,r)=>be.undefined,ArrayBuffer:(e,t,n,r)=>new h(d.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new h(d.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[be.emptyArray,new h(d.break)]:be.emptyArray;r=we.createCheck(r,e);const i=[];let o=0;for(const s of e)i[o++]=Te(s,n,r);return n.addBreakTokens?[new h(d.array,e.length),i,new h(d.break)]:[new h(d.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===n.addBreakTokens?[be.emptyMap,new h(d.break)]:be.emptyMap;r=we.createCheck(r,e);const a=[];let u=0;for(const c of o)a[u++]=[Te(c,n,r),Te(i?e.get(c):e[c],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new h(d.map,s),a,new h(d.break)]:[new h(d.map,s),a]}};Ee.Map=Ee.Object,Ee.Buffer=Ee.Uint8Array;for(const Lt of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Ee[`${Lt}Array`]=Ee.DataView;function Te(e,t={},n){const r=l(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||Ee[r];if("function"===typeof i){const o=i(e,r,t,n);if(null!=o)return o}const o=Ee[r];if(!o)throw new Error(`CBOR encode error: unsupported type: ${r}`);return o(e,r,t,n)}function Ie(e,t,n,r){if(Array.isArray(t))for(const i of t)Ie(e,i,n,r);else n[t.type.major](e,t,r)}function _e(e,t,n){const r=Te(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new x(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return v(t.chunks[0])}}return ve.reset(),Ie(ve,r,t,n),ve.toBytes(!0)}const Ae={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Se{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=me[e];if(void 0===t){const n=pe[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this.pos,r,this.options)}return this.pos+=t.encodedLength,t}}const Ne=Symbol.for("DONE"),xe=Symbol.for("BREAK");function Oe(e,t){if(e.done())return Ne;const n=e.next();if(n.type===d.break)return xe;if(n.type.terminal)return n.value;if(n.type===d.array)return function(e,t,n){const r=[];for(let i=0;i<e.value;i++){const o=Oe(t,n);if(o===xe){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===Ne)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);r[i]=o}return r}(n,e,t);if(n.type===d.map)return function(e,t,n){const r=!0===n.useMaps,i=r?void 0:{},o=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=Oe(t,n);if(a===xe){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Ne)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&o.has(a)||!r&&a in i))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const u=Oe(t,n);if(u===Ne)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?o.set(a,u):i[a]=u}return r?o:i}(n,e,t);if(n.type===d.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=Oe(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}var ke=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=Ce;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Ce=Math.pow(2,31);var De=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var Me=Math.pow(2,7),Re=Math.pow(2,14),Ue=Math.pow(2,21),Be=Math.pow(2,28),Le=Math.pow(2,35),Pe=Math.pow(2,42),je=Math.pow(2,49),Fe=Math.pow(2,56),$e=Math.pow(2,63),Ve={encode:ke,decode:De,encodingLength:function(e){return e<Me?1:e<Re?2:e<Ue?3:e<Be?4:e<Le?5:e<Pe?6:e<je?7:e<Fe?8:e<$e?9:10}};const ze=(e,t=0)=>[Ve.decode(e,t),Ve.decode.bytes],Ge=(e,t,n=0)=>(Ve.encode(e,t,n),t),qe=e=>Ve.encodingLength(e),He=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Je{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var Ke=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class Ye{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class We{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Qe(this,e)}}class Xe{constructor(e){this.decoders=e}or(e){return Qe(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Qe=(e,t)=>new Xe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ze{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Ye(e,t,n),this.decoder=new We(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const et=({name:e,prefix:t,encode:n,decode:r})=>new Ze(e,t,n,r),tt=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Ke(n,t);return et({prefix:e,name:t,encode:r,decode:e=>He(i(e))})},nt=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>et({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),rt=tt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),it=(tt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),nt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));nt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class ot{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:pt,byteLength:pt,code:ht,version:ht,multihash:ht,bytes:ht,_baseCache:pt,asCID:pt})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==ct)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ft)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ot.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=qe(e),i=r+qe(n),o=new Uint8Array(i+n);return Ge(e,o,0),Ge(n,o,r),o.set(t,i),new Je(e,n,t,o)})(e,t);return ot.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return at(t,r,e||rt.encoder);default:return ut(t,r,e||it.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return mt(/^0\.0/,yt),!(!e||!e[dt]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ot)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new ot(t,n,r,i||lt(t,n,r.bytes))}if(null!=e&&!0===e[dt]){const{version:t,multihash:n,code:r}=e,i=(e=>{const t=He(e),[n,r]=ze(t),[i,o]=ze(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Je(n,i,s,t)})(n);return ot.create(t,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==ct)throw new Error(`Version 0 CID must use dag-pb (code: ${ct}) block encoding`);return new ot(e,t,n,n.bytes);case 1:{const r=lt(e,t,n.bytes);return new ot(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return ot.create(0,ct,e)}static createV1(e,t){return ot.create(1,e,t)}static decode(e){const[t,n]=ot.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=ot.inspectBytes(e),n=t.size-t.multihashSize,r=He(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new Je(t.multihashCode,t.digestSize,i,r);return[0===t.version?ot.createV0(o):ot.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=ze(e.subarray(t));return t+=r,n};let r=n(),i=ct;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=st(e,t),i=ot.decode(r);return i._baseCache.set(n,e),i}}const st=(e,t)=>{switch(e[0]){case"Q":{const n=t||rt;return[rt.prefix,n.decode(`${rt.prefix}${e}`)]}case rt.prefix:{const n=t||rt;return[rt.prefix,n.decode(e)]}case it.prefix:{const n=t||it;return[it.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},at=(e,t,n)=>{const{prefix:r}=n;if(r!==rt.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},ut=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},ct=112,ft=18,lt=(e,t,n)=>{const r=qe(e),i=r+qe(t),o=new Uint8Array(i+n.byteLength);return Ge(e,o,0),Ge(t,o,r),o.set(n,i),o},dt=Symbol.for("@ipld/js-cid/CID"),ht={writable:!1,configurable:!1,enumerable:!0},pt={writable:!1,enumerable:!1,configurable:!1},mt=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},yt="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const gt={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=ot.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new h(d.tag,42),new h(d.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const vt={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};vt.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ot.decode(e.subarray(1))};const wt="dag-cbor",bt=113,Et=e=>{return t=e,n=gt,n=Object.assign({},ye,n),_e(t,ge,n);var t,n},Tt=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},Ae,t)).tokenizer||new Se(e,t),r=Oe(n,t);if(r===Ne)throw new Error("CBOR decode error: did not find any content to decode");if(r===xe)throw new Error("CBOR decode error: got unexpected break");if(!n.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return r}(e,vt);var It=n(738),_t=n(9287),At=n(6105),St=n(8595),Nt=n(468),xt=n(551),Ot=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},kt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};class Ct extends Error{constructor(e){super(`Invalid StreamID bytes ${s.base36.encode(e)}: contains commit`)}}class Dt extends Error{constructor(e){super(`Invalid StreamID string ${e}: contains commit`)}}function Mt(e){const t=xt.xv(e,"StreamID");if("stream-id"===t.kind)return new Bt(t.type,t.genesis);throw new Ct(e)}function Rt(e){const t=xt.mL(e,"StreamID");if("stream-id"===t.kind)return new Bt(t.type,t.genesis);throw new Dt(e)}const Ut=Symbol.for("@ceramicnetwork/streamid/StreamID");class Bt{constructor(e,t){if(this._tag=Ut,!e&&0!==e)throw new Error("StreamID constructor: type required");if(!t)throw new Error("StreamID constructor: cid required");this._type="string"===typeof e?St.j.codeByName(e):e,this._cid="string"===typeof t?i.k0.parse(t):t}static isInstance(e){return"object"===typeof e&&"_tag"in e&&e._tag===Ut}static async fromGenesis(e,t){const n=await o.cv({value:t,codec:r,hasher:a.sha256});return new Bt(e,n.cid)}get type(){return this._type}get typeName(){return St.j.nameByCode(this._type)}get cid(){return this._cid}get bytes(){const e=u.encode(_t.B),t=u.encode(this.type);return(0,It.zo)([e,t,this.cid.bytes])}get baseID(){return new Bt(this._type,this._cid)}equals(e){return!!Bt.isInstance(e)&&(this.type===e.type&&this.cid.equals(e.cid))}toString(){return s.base36.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[Symbol.for("nodejs.util.inspect.custom")](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}Bt.fromBytes=Mt,Bt.fromBytesNoThrow=function(e){return(0,Nt.Y)((()=>Mt(e)))},Bt.fromString=Rt,Bt.fromStringNoThrow=function(e){return(0,Nt.Y)((()=>Rt(e)))},Ot([(0,At.PW)(),kt("design:type",String),kt("design:paramtypes",[])],Bt.prototype,"typeName",null),Ot([(0,At.PW)(),kt("design:type",Uint8Array),kt("design:paramtypes",[])],Bt.prototype,"bytes",null),Ot([(0,At.PW)(),kt("design:type",Bt),kt("design:paramtypes",[])],Bt.prototype,"baseID",null),Ot([(0,At.PW)(),kt("design:type",Function),kt("design:paramtypes",[]),kt("design:returntype",String)],Bt.prototype,"toString",null),Ot([(0,At.PW)(),kt("design:type",Function),kt("design:paramtypes",[]),kt("design:returntype",String)],Bt.prototype,"toUrl",null)},551:function(e,t,n){"use strict";n.d(t,{xv:function(){return f},mL:function(){return d},zD:function(){return h}});var r=n(8161),i=n(4676),o=n(9094);function s(e){const t=i.decode(e),n=i.decode.bytes;return[t,e.subarray(n),n]}function a(e){const[t,n]=s(e);if(0!==(i=t)&&1!==i)throw new Error(`Unknown CID version ${t}`);var i;const[a,u]=s(n),[,c,f]=s(u),[l,,d]=s(c),h=u.subarray(0,f+d+l),p=u.subarray(f+d+l);return[r.k0.create(t,a,(0,o.Jx)(h)),p]}var u=n(9287),c=n(8673);function f(e,t="StreamRef"){const[n,r]=s(e);if(n!==u.B)throw new Error(`Invalid ${t}, does not include streamid codec`);const[i,o]=s(r),c=a(o),[f,l]=c;if(0===l.length)return{kind:"stream-id",type:i,genesis:f};if(1===l.length&&0===l[0])return{kind:"commit-id",type:i,genesis:f,commit:null};{const[e]=a(l);return{kind:"commit-id",type:i,genesis:f,commit:e}}}const l=/(ceramic:\/\/|\/ceramic\/)?([a-zA-Z0-9]+)(\?commit=([a-zA-Z0-9]+))?/;function d(e,t="StreamRef"){const n=l.exec(e)||[],r=n[2];if(!r)throw new Error(`Malformed ${t} string: ${e}`);const i=f(c.base36.decode(r)),o=n[4];return o?{kind:"commit-id",type:i.type,genesis:i.genesis,commit:h(i.genesis,o)}:i}function h(e,t=null){if(!t)return null;if("0"===t)return null;const n=function(e){try{return"string"===typeof e?r.k0.parse(e):r.k0.asCID(e)}catch{return null}}(t);if(n)return e.equals(n)?null:n;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}},7366:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r,i=n(132),o=n(1002),s=n(8673),a=n(551);!function(e){function t(e){const t=a.xv(e);switch(t.kind){case"commit-id":return new o.NQ(t.type,t.genesis,t.commit);case"stream-id":return new i.Eb(t.type,t.genesis);default:throw new Error(`Malformed StreamRef bytes: ${s.base36.encode(e)}`)}}function n(e){const t=a.mL(e);switch(t.kind){case"commit-id":return new o.NQ(t.type,t.genesis,t.commit);case"stream-id":return new i.Eb(t.type,t.genesis);default:throw new Error(`Malformed StreamRef string: ${e}`)}}e.fromBytes=t,e.fromString=n,e.from=function(e){if(i.Eb.isInstance(e))return e;if(o.NQ.isInstance(e))return e;if(e instanceof Uint8Array)return t(e);if("string"===typeof e)return n(e);throw new Error(`Can not build CommitID or StreamID from ${JSON.stringify(e)}`)}}(r||(r={}))},8595:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});const r={tile:0,"caip10-link":1,model:2,MID:3,UNLOADABLE:4};class i{}i.nameByCode=function(e){const t=Object.entries(r).find((([,t])=>t===e));if(t)return t[0];throw new Error(`No stream type registered for index ${e}`)},i.codeByName=function(e){const t=r[e];if("undefined"!==typeof t)return t;throw new Error(`No stream type registered for name ${e}`)}},468:function(e,t,n){"use strict";function r(e){try{return e()}catch(t){return t}}n.d(t,{Y:function(){return r}})},249:function(e,t,n){"use strict";n.d(t,{e:function(){return tf}});var r=n(2027);function i(e){const t={model:e.model};return null!=e.account&&(t.account=e.account),null!=e.filter&&(t.filter=e.filter),t}async function o(e,t){const n=function(e){const{after:t,before:n,first:r,last:o,...s}=e;let a;if(null!=r?(a={first:r},null!=t&&(a.after=t)):null!=o&&(a={last:o},null!=n&&(a.before=n)),null==a)throw new Error('Missing "first" or "last" connection argument');return{...i(s),...a}}(t),r=await e.index.query(n);return function(e,t){return{edges:(t.edges??[]).map((({cursor:t,node:n})=>({cursor:t,node:n?e.buildStreamFromState(n):null}))),pageInfo:{...t.pageInfo,startCursor:t.pageInfo.startCursor??null,endCursor:t.pageInfo.endCursor??null}}}(e,r)}var s=n(6631);const a=["string","number","bigint","symbol"],u=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function c(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(a.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(u.includes(t))return t;return}(e);return n||"Object"}class f{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}f.uint=new f(0,"uint",!0),f.negint=new f(1,"negint",!0),f.bytes=new f(2,"bytes",!0),f.string=new f(3,"string",!0),f.array=new f(4,"array",!1),f.map=new f(5,"map",!1),f.tag=new f(6,"tag",!1),f.float=new f(7,"float",!0),f.false=new f(7,"false",!0),f.true=new f(7,"true",!0),f.null=new f(7,"null",!0),f.undefined=new f(7,"undefined",!0),f.break=new f(7,"break",!0);class l{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const d=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,h=new TextDecoder,p=new TextEncoder;function m(e){return d&&globalThis.Buffer.isBuffer(e)}function y(e){return e instanceof Uint8Array?m(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const g=d?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):_(e,t,n):(e,t,n)=>n-t>64?h.decode(e.subarray(t,n)):_(e,t,n),v=d?e=>e.length>64?globalThis.Buffer.from(e):I(e):e=>e.length>64?p.encode(e):I(e),w=e=>Uint8Array.from(e),b=d?(e,t,n)=>m(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),E=d?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),y(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},T=d?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function I(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function _(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&i)<<6|63&n,u>127&&(o=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&i)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}const A=4096;class S{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=T(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=b(n,0,this.cursor)}else t=E(this.chunks,this.cursor);return e&&this.reset(),t}}const N=[];function x(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}N[23]=1,N[24]=2,N[25]=3,N[26]=5,N[27]=9;const O=[24,256,65536,4294967296,BigInt("18446744073709551616")];function k(e,t,n){x(e,t,1);const r=e[t];if(!0===n.strict&&r<O[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function C(e,t,n){x(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<O[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function D(e,t,n){x(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<O[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function M(e,t,n){x(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(r)<<BigInt(32))+BigInt(i);if(!0===n.strict&&o<O[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===n.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function R(e,t){return U(e,0,t.value)}function U(e,t,n){if(n<O[0]){const r=Number(n);e.push([t|r])}else if(n<O[1]){const r=Number(n);e.push([24|t,r])}else if(n<O[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<O[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<O[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}R.encodedSize=function(e){return U.encodedSize(e.value)},U.encodedSize=function(e){return e<O[0]?1:e<O[1]?2:e<O[2]?3:e<O[3]?5:9},R.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const B=BigInt(-1),L=BigInt(1);function P(e,t){const n=t.value,r="bigint"===typeof n?n*B-L:-1*n-1;U(e,t.type.majorEncoded,r)}function j(e,t,n,r){x(e,t,n+r);const i=b(e,t+n,t+n+r);return new l(f.bytes,i,n+r)}function F(e,t,n,r){return j(e,t,1,n)}function $(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===f.string?v(e.value):e.value),e.encodedBytes}function V(e,t){const n=$(t);U(e,t.type.majorEncoded,n.length),e.push(n)}function z(e,t,n,r,i){const o=n+r;x(e,t,o);const s=new l(f.string,g(e,t+n,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=b(e,t+n,t+o)),s}function G(e,t,n,r){return z(e,t,1,n,r)}P.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*B-L:-1*t-1;return n<O[0]?1:n<O[1]?2:n<O[2]?3:n<O[3]?5:9},P.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},V.encodedSize=function(e){const t=$(e);return U.encodedSize(t.length)+t.length},V.compareTokens=function(e,t){return n=$(e),r=$(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(m(e)&&m(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const q=V;function H(e,t,n,r){return new l(f.array,r,n)}function J(e,t,n,r){return H(0,0,1,n)}function K(e,t){U(e,f.array.majorEncoded,t.value)}function Y(e,t,n,r){return new l(f.map,r,n)}function W(e,t,n,r){return Y(0,0,1,n)}function X(e,t){U(e,f.map.majorEncoded,t.value)}function Q(e,t,n,r){return new l(f.tag,n,1)}function Z(e,t){U(e,f.tag.majorEncoded,t.value)}K.compareTokens=R.compareTokens,K.encodedSize=function(e){return U.encodedSize(e.value)},X.compareTokens=R.compareTokens,X.encodedSize=function(e){return U.encodedSize(e.value)},Z.compareTokens=R.compareTokens,Z.encodedSize=function(e){return U.encodedSize(e.value)};function ee(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new l(f.float,e,t)}function te(e,t,n){const r=t.value;if(!1===r)e.push([20|f.float.majorEncoded]);else if(!0===r)e.push([21|f.float.majorEncoded]);else if(null===r)e.push([22|f.float.majorEncoded]);else if(void 0===r)e.push([23|f.float.majorEncoded]);else{let t,o=!1;n&&!0===n.float64||(oe(r),t=se(ie,1),r===t||Number.isNaN(r)?(ie[0]=249,e.push(ie.slice(0,3)),o=!0):(ae(r),t=ue(ie,1),r===t&&(ie[0]=250,e.push(ie.slice(0,5)),o=!0))),o||(i=r,re.setFloat64(0,i,!1),t=ce(ie,1),ie[0]=251,e.push(ie.slice(0,9)))}var i}te.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){oe(n);let e=se(ie,1);if(n===e||Number.isNaN(n))return 3;if(ae(n),e=ue(ie,1),n===e)return 5}return 9};const ne=new ArrayBuffer(9),re=new DataView(ne,1),ie=new Uint8Array(ne,0);function oe(e){if(e===1/0)re.setUint16(0,31744,!1);else if(e===-1/0)re.setUint16(0,64512,!1);else if(Number.isNaN(e))re.setUint16(0,32256,!1);else{re.setFloat32(0,e);const t=re.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)re.setUint16(0,31744,!1);else if(0===n)re.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?re.setUint16(0,0):e<-14?re.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):re.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function se(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let o;return o=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-o:o}function ae(e){re.setFloat32(0,e,!1)}function ue(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function ce(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function fe(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function le(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}te.compareTokens=R.compareTokens;const de=[];for(let nf=0;nf<=23;nf++)de[nf]=fe;de[24]=function(e,t,n,r){return new l(f.uint,k(e,t+1,r),2)},de[25]=function(e,t,n,r){return new l(f.uint,C(e,t+1,r),3)},de[26]=function(e,t,n,r){return new l(f.uint,D(e,t+1,r),5)},de[27]=function(e,t,n,r){return new l(f.uint,M(e,t+1,r),9)},de[28]=fe,de[29]=fe,de[30]=fe,de[31]=fe;for(let nf=32;nf<=55;nf++)de[nf]=fe;de[56]=function(e,t,n,r){return new l(f.negint,-1-k(e,t+1,r),2)},de[57]=function(e,t,n,r){return new l(f.negint,-1-C(e,t+1,r),3)},de[58]=function(e,t,n,r){return new l(f.negint,-1-D(e,t+1,r),5)},de[59]=function(e,t,n,r){const i=M(e,t+1,r);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new l(f.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new l(f.negint,B-BigInt(i),9)},de[60]=fe,de[61]=fe,de[62]=fe,de[63]=fe;for(let nf=64;nf<=87;nf++)de[nf]=F;de[88]=function(e,t,n,r){return j(e,t,2,k(e,t+1,r))},de[89]=function(e,t,n,r){return j(e,t,3,C(e,t+1,r))},de[90]=function(e,t,n,r){return j(e,t,5,D(e,t+1,r))},de[91]=function(e,t,n,r){const i=M(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return j(e,t,9,i)},de[92]=fe,de[93]=fe,de[94]=fe,de[95]=le("indefinite length bytes/strings are not supported");for(let nf=96;nf<=119;nf++)de[nf]=G;de[120]=function(e,t,n,r){return z(e,t,2,k(e,t+1,r),r)},de[121]=function(e,t,n,r){return z(e,t,3,C(e,t+1,r),r)},de[122]=function(e,t,n,r){return z(e,t,5,D(e,t+1,r),r)},de[123]=function(e,t,n,r){const i=M(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return z(e,t,9,i,r)},de[124]=fe,de[125]=fe,de[126]=fe,de[127]=le("indefinite length bytes/strings are not supported");for(let nf=128;nf<=151;nf++)de[nf]=J;de[152]=function(e,t,n,r){return H(0,0,2,k(e,t+1,r))},de[153]=function(e,t,n,r){return H(0,0,3,C(e,t+1,r))},de[154]=function(e,t,n,r){return H(0,0,5,D(e,t+1,r))},de[155]=function(e,t,n,r){const i=M(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return H(0,0,9,i)},de[156]=fe,de[157]=fe,de[158]=fe,de[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return H(0,0,1,1/0)};for(let nf=160;nf<=183;nf++)de[nf]=W;de[184]=function(e,t,n,r){return Y(0,0,2,k(e,t+1,r))},de[185]=function(e,t,n,r){return Y(0,0,3,C(e,t+1,r))},de[186]=function(e,t,n,r){return Y(0,0,5,D(e,t+1,r))},de[187]=function(e,t,n,r){const i=M(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return Y(0,0,9,i)},de[188]=fe,de[189]=fe,de[190]=fe,de[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Y(0,0,1,1/0)};for(let nf=192;nf<=215;nf++)de[nf]=Q;de[216]=function(e,t,n,r){return new l(f.tag,k(e,t+1,r),2)},de[217]=function(e,t,n,r){return new l(f.tag,C(e,t+1,r),3)},de[218]=function(e,t,n,r){return new l(f.tag,D(e,t+1,r),5)},de[219]=function(e,t,n,r){return new l(f.tag,M(e,t+1,r),9)},de[220]=fe,de[221]=fe,de[222]=fe,de[223]=fe;for(let nf=224;nf<=243;nf++)de[nf]=le("simple values are not supported");de[244]=fe,de[245]=fe,de[246]=fe,de[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new l(f.null,null,1):new l(f.undefined,void 0,1)},de[248]=le("simple values are not supported"),de[249]=function(e,t,n,r){return ee(se(e,t+1),3,r)},de[250]=function(e,t,n,r){return ee(ue(e,t+1),5,r)},de[251]=function(e,t,n,r){return ee(ce(e,t+1),9,r)},de[252]=fe,de[253]=fe,de[254]=fe,de[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new l(f.break,void 0,1)};const he=[];for(let nf=0;nf<24;nf++)he[nf]=new l(f.uint,nf,1);for(let nf=-1;nf>=-24;nf--)he[31-nf]=new l(f.negint,nf,1);he[64]=new l(f.bytes,new Uint8Array(0),1),he[96]=new l(f.string,"",1),he[128]=new l(f.array,0,1),he[160]=new l(f.map,0,1),he[244]=new l(f.false,!1,1),he[245]=new l(f.true,!0,1),he[246]=new l(f.null,null,1);const pe={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=me[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case f.false:return w([244]);case f.true:return w([245]);case f.null:return w([246]);case f.bytes:return e.value.length?void 0:w([64]);case f.string:return""===e.value?w([96]):void 0;case f.array:return 0===e.value?w([128]):void 0;case f.map:return 0===e.value?w([160]):void 0;case f.uint:return e.value<24?w([Number(e.value)]):void 0;case f.negint:if(e.value>=-24)return w([31-Number(e.value)])}}};const me=function(){const e=[];return e[f.uint.major]=R,e[f.negint.major]=P,e[f.bytes.major]=V,e[f.string.major]=q,e[f.array.major]=K,e[f.map.major]=X,e[f.tag.major]=Z,e[f.float.major]=te,e}(),ye=new S;class ge{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new ge(t,e)}}const ve={null:new l(f.null,null),undefined:new l(f.undefined,void 0),true:new l(f.true,!0),false:new l(f.false,!1),emptyArray:new l(f.array,0),emptyMap:new l(f.map,0)},we={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new l(e>=0?f.uint:f.negint,e):new l(f.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new l(f.uint,e):new l(f.negint,e),Uint8Array:(e,t,n,r)=>new l(f.bytes,e),string:(e,t,n,r)=>new l(f.string,e),boolean:(e,t,n,r)=>e?ve.true:ve.false,null:(e,t,n,r)=>ve.null,undefined:(e,t,n,r)=>ve.undefined,ArrayBuffer:(e,t,n,r)=>new l(f.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new l(f.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[ve.emptyArray,new l(f.break)]:ve.emptyArray;r=ge.createCheck(r,e);const i=[];let o=0;for(const s of e)i[o++]=be(s,n,r);return n.addBreakTokens?[new l(f.array,e.length),i,new l(f.break)]:[new l(f.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===n.addBreakTokens?[ve.emptyMap,new l(f.break)]:ve.emptyMap;r=ge.createCheck(r,e);const a=[];let u=0;for(const c of o)a[u++]=[be(c,n,r),be(i?e.get(c):e[c],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new l(f.map,s),a,new l(f.break)]:[new l(f.map,s),a]}};we.Map=we.Object,we.Buffer=we.Uint8Array;for(const nf of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))we[`${nf}Array`]=we.DataView;function be(e,t={},n){const r=c(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||we[r];if("function"===typeof i){const o=i(e,r,t,n);if(null!=o)return o}const o=we[r];if(!o)throw new Error(`CBOR encode error: unsupported type: ${r}`);return o(e,r,t,n)}function Ee(e,t,n,r){if(Array.isArray(t))for(const i of t)Ee(e,i,n,r);else n[t.type.major](e,t,r)}function Te(e,t,n){const r=be(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new S(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return y(t.chunks[0])}}return ye.reset(),Ee(ye,r,t,n),ye.toBytes(!0)}Symbol.for("DONE"),Symbol.for("BREAK");var Ie=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=_e;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},_e=Math.pow(2,31);var Ae=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var Se=Math.pow(2,7),Ne=Math.pow(2,14),xe=Math.pow(2,21),Oe=Math.pow(2,28),ke=Math.pow(2,35),Ce=Math.pow(2,42),De=Math.pow(2,49),Me=Math.pow(2,56),Re=Math.pow(2,63),Ue={encode:Ie,decode:Ae,encodingLength:function(e){return e<Se?1:e<Ne?2:e<xe?3:e<Oe?4:e<ke?5:e<Ce?6:e<De?7:e<Me?8:e<Re?9:10}};const Be=(e,t=0)=>[Ue.decode(e,t),Ue.decode.bytes],Le=(e,t,n=0)=>(Ue.encode(e,t,n),t),Pe=e=>Ue.encodingLength(e),je=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Fe{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var $e=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class Ve{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ze{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return qe(this,e)}}class Ge{constructor(e){this.decoders=e}or(e){return qe(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const qe=(e,t)=>new Ge({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class He{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Ve(e,t,n),this.decoder=new ze(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Je=({name:e,prefix:t,encode:n,decode:r})=>new He(e,t,n,r),Ke=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=$e(n,t);return Je({prefix:e,name:t,encode:r,decode:e=>je(i(e))})},Ye=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Je({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),We=Ke({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xe=(Ke({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ye({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));Ye({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ye({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ye({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ye({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ye({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ye({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ye({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ye({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class Qe{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:at,byteLength:at,code:st,version:st,multihash:st,bytes:st,_baseCache:at,asCID:at})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==nt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==rt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Qe.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Pe(e),i=r+Pe(n),o=new Uint8Array(i+n);return Le(e,o,0),Le(n,o,r),o.set(t,i),new Fe(e,n,t,o)})(e,t);return Qe.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return et(t,r,e||We.encoder);default:return tt(t,r,e||Xe.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return ut(/^0\.0/,ct),!(!e||!e[ot]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Qe)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new Qe(t,n,r,i||it(t,n,r.bytes))}if(null!=e&&!0===e[ot]){const{version:t,multihash:n,code:r}=e,i=(e=>{const t=je(e),[n,r]=Be(t),[i,o]=Be(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Fe(n,i,s,t)})(n);return Qe.create(t,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==nt)throw new Error(`Version 0 CID must use dag-pb (code: ${nt}) block encoding`);return new Qe(e,t,n,n.bytes);case 1:{const r=it(e,t,n.bytes);return new Qe(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Qe.create(0,nt,e)}static createV1(e,t){return Qe.create(1,e,t)}static decode(e){const[t,n]=Qe.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Qe.inspectBytes(e),n=t.size-t.multihashSize,r=je(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new Fe(t.multihashCode,t.digestSize,i,r);return[0===t.version?Qe.createV0(o):Qe.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Be(e.subarray(t));return t+=r,n};let r=n(),i=nt;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=Ze(e,t),i=Qe.decode(r);return i._baseCache.set(n,e),i}}const Ze=(e,t)=>{switch(e[0]){case"Q":{const n=t||We;return[We.prefix,n.decode(`${We.prefix}${e}`)]}case We.prefix:{const n=t||We;return[We.prefix,n.decode(e)]}case Xe.prefix:{const n=t||Xe;return[Xe.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},et=(e,t,n)=>{const{prefix:r}=n;if(r!==We.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},tt=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},nt=112,rt=18,it=(e,t,n)=>{const r=Pe(e),i=r+Pe(t),o=new Uint8Array(i+n.byteLength);return Le(e,o,0),Le(t,o,r),o.set(n,i),o},ot=Symbol.for("@ipld/js-cid/CID"),st={writable:!1,configurable:!1,enumerable:!0},at={writable:!1,enumerable:!1,configurable:!1},ut=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},ct="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const ft={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=Qe.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new l(f.tag,42),new l(f.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const lt={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};lt.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Qe.decode(e.subarray(1))};const dt=e=>{return t=e,n=ft,n=Object.assign({},pe,n),Te(t,me,n);var t,n};var ht,pt=n(1416),mt=n(4225),yt=n(3188),gt=n(826),vt=n(7366),wt=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const bt={anchor:!0,publish:!0,sync:yt.l.NEVER_SYNC,syncTimeoutSeconds:0},Et={anchor:!1,publish:!1,sync:yt.l.PREFER_CACHE},Tt={sync:yt.l.PREFER_CACHE},It={anchor:!0,publish:!0};async function _t(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function At(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let St=ht=class extends gt.F6{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){const e=this.state$.value.metadata;return{controller:e.controllers[0],model:e.model}}static async create(e,t,n,r={}){const i=(r={...bt,...r}).asDID?{did:r.asDID}:e,o=await ht._makeGenesis(i,t,n);return e.createStreamFromGenesis(ht.STREAM_TYPE_ID,o,r)}static async single(e,t,n={}){const r=(n={...Et,...n}).asDID?{did:n.asDID}:e;t={...t,deterministic:!0};const i=await ht._makeGenesis(r,null,t);return e.createStreamFromGenesis(ht.STREAM_TYPE_ID,i,n)}static async load(e,t,n={}){n={...Tt,...n};const r=vt.i.from(t);if(r.type!=ht.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${ht.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}async replace(e,t={}){t={...It,...t},Nt(e);const n=t.asDID?{did:t.asDID}:this.api,r=await this._makeCommit(n,e),i=await this.api.applyCommit(this.id,r,t);this.state$.next(i.state)}async patch(e,t={}){t={...It,...t},e.forEach((e=>{switch(e.op){case"add":case"replace":Nt(e.value)}}));const n={data:e,prev:this.tip,id:this.id.cid},r=await ht._signDagJWS(this.api,n),i=await this.api.applyCommit(this.id,r,t);this.state$.next(i.state)}makeReadOnly(){this.replace=At,this.patch=At,this.sync=At,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}_makeCommit(e,t){const n=this._makeRawCommit(t);return ht._signDagJWS(e,n)}_makeRawCommit(e){return{data:s.ZP.compare(this.content,e||{}),prev:this.tip,id:this.state.log[0].cid}}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return n.deterministic?(dt(r),r):ht._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(!n.model)throw new Error("Must specify a 'model' when creating a ModelInstanceDocument");Nt(t);let r=n.controller;if(!r){if(!e.did)throw new Error("No controller specified");await _t(e),r=e.did.hasParent?e.did.parent:e.did.id}const i={controllers:[r],model:n.model.bytes,sep:"model"};return n.deterministic||(i.unique=(0,pt.randomBytes)(12)),{data:t,header:i}}static async _signDagJWS(e,t){return await _t(e),e.did.createDagJWS(t)}};function Nt(e){if(e){const t=mt(e);if(t>St.MAX_DOCUMENT_SIZE)throw new Error(`Content has length of ${t}B which exceeds maximum size of ${St.MAX_DOCUMENT_SIZE}B`)}}St.STREAM_TYPE_NAME="MID",St.STREAM_TYPE_ID=3,St.MAX_DOCUMENT_SIZE=16e6,St=ht=wt([(0,gt.oC)()],St);var xt=n(132),Ot=n(5933);function kt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Ct(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,kt(e,t,"get"))}function Dt(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Mt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,kt(e,t,"set"),n),n}function Rt(e){return"string"===typeof e?vt.i.from(e).toString():e.toString()}const Ut=()=>Promise.resolve([]);var Bt=new WeakMap,Lt=new WeakMap;class Pt extends Ot{cache(e){if(!Ct(this,Lt))return!1;const t=e.id.toString();return this.clear(t).prime(t,e),!0}async create(e,t,{controller:n,...r}={}){const i={controller:n,model:e instanceof xt.Eb?e:xt.Eb.fromString(e)},o=await St.create(Ct(this,Bt),t,i,r);return this.cache(o),o}async load(e){return await super.load(e)}async single(e,t,n){const r={controller:e,model:t instanceof xt.Eb?t:xt.Eb.fromString(t)},i=await St.single(Ct(this,Bt),r,n);return this.cache(i),i}async update(e,t,{replace:n,version:r,...i}={}){const o=Rt(e);this.clear(o);const s=await this.load(o);if(null!=r&&s.commitId.toString()!==r)throw new Error("Stream version mismatch");const a=n?t:{...s.content,...t};return await s.replace(a,i),s}constructor(e){super(Ut,{cache:!0,cacheKeyFn:Rt,cacheMap:null!=e.cache&&"boolean"!==typeof e.cache?e.cache:void 0}),Dt(this,Bt,{writable:!0,value:void 0}),Dt(this,Lt,{writable:!0,value:void 0}),this._batchLoadFn=async t=>{e.cache||this.clearAll();const n=await e.ceramic.multiQuery(t.map(Rt).map((e=>({streamId:e}))),e.multiqueryTimeout);return t.map((e=>{const t=Rt(e),r=n[t];return r||new Error(`Failed to load document: ${t}`)}))},Mt(this,Bt,e.ceramic),Mt(this,Lt,!!e.cache)}}function jt(e){const{cache:t,ceramic:n,fallbackViewerID:r}=e,s=e.loader??new Pt({ceramic:n,cache:t});function a(){const e=n.did;return e?e.hasParent?e.parent:e.id:r??null}return{ceramic:n,loader:s,getViewerID:a,isAuthenticated:()=>n.did?.authenticated??!1,loadDoc:async(e,t=!1)=>(t&&s.clear(e),await s.load(e)),createDoc:async(e,t)=>await s.create(e,t),createSingle:async(e,t)=>{const n=a();if(null==n)throw new Error("Document can only be created with an authenticated account");const r=await s.single(n,e);return await r.replace(t),r},updateDoc:async(e,t,n)=>await s.update(e,t,n),queryConnection:async e=>await o(n,e),queryCount:async e=>await n.index.count(i(e)),querySingle:async e=>await async function(e,t){const n={...i(t),last:1},r=(await e.index.query(n)).edges?.[0]?.node;return r?e.buildStreamFromState(r):null}(n,e)}}function Ft(e){return"string"===typeof e?xt.Eb.fromString(e):e}function $t(e){const t={};for(const[n,r]of Object.entries(e))xt.Eb.isInstance(r)?t[n]=r.toString():t[n]=r;return t}class Vt extends Error{constructor(){super("Failed to get DID.  Please make sure your Ceramic client has an authenticated DID attached")}}var zt=n(9293),Gt=n(4144),qt=n(5978),Ht=n(2362),Jt=n(2108),Kt=n(5664);class Yt extends zt.y{constructor(e,t,n){super((e=>{0===this.state$.observers.length&&(this.periodicSubscription=(0,Gt.H)(0,n).pipe((0,qt.P)((()=>this._syncState(this.id,{sync:yt.l.PREFER_CACHE})))).subscribe()),this.state$.subscribe(e).add((()=>{0===this.state$.observers.length&&this.periodicSubscription?.unsubscribe()}))})),this.state$=new Ht.s(e),this._apiUrl=new URL(t)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){const n=await Yt._load(e,this._apiUrl,t);this.state$.next(Jt.e.deserializeState(n))}get id(){return new xt.Eb(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,n,r,i){const o=new URL("./streams",e),{state:s}=await(0,Kt.r)(o,{method:"post",body:{type:t,genesis:Jt.e.serializeCommit(n),opts:r}});return new Yt(Jt.e.deserializeState(s),e,i)}static async applyCommit(e,t,n,r,i){const o=new URL("./commits",e),{state:s}=await(0,Kt.r)(o,{method:"post",body:{streamId:t.toString(),commit:Jt.e.serializeCommit(n),opts:r}});return new Yt(Jt.e.deserializeState(s),e,i)}static async _load(e,t,n){const r=function(e,t){const n=new URL(e);for(const[r,i]of Object.entries(t))xt.Eb.isInstance(i)?n.searchParams.set(r,i.toString()):"object"==typeof i?n.searchParams.set(r,JSON.stringify(i)):n.searchParams.set(r,i);return n}(new URL(`./streams/${e}`,t),n),{state:i}=await(0,Kt.r)(r);return i}static async load(e,t,n,r){const i=await Yt._load(e,t,r);return new Yt(Jt.e.deserializeState(i),t,n)}static async loadStreamCommits(e,t){const n=new URL(`./commits/${e}`,t),{commits:r}=await(0,Kt.r)(n);return r.map((e=>({cid:e.cid,value:Jt.e.deserializeCommit(e.value)})))}complete(){this.state$.complete()}}var Wt,Xt=n(7982),Qt=n(3576),Zt=n(8161),en=n(9094),tn=n(8370),nn=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const rn=/^[0-9]+\.[0-9]+$/;function on(e){if(!rn.test(e))throw new Error(`Unsupported version format: ${e}`);const[t,n]=e.split(".").map((e=>parseInt(e,10)));return[t,n]}const sn={sync:yt.l.PREFER_CACHE};async function an(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function un(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let cn=Wt=class extends gt.F6{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){return{controller:this.state$.value.metadata.controllers[0],model:Wt.MODEL}}static async create(e,t,n){Wt.assertComplete(t),Wt.assertVersionValid(t,"minor"),Wt.assertRelationsValid(t);const r={publish:!0,anchor:!0,sync:yt.l.NEVER_SYNC},i=await Wt._makeGenesis(e,t,n);return await e.createStreamFromGenesis(Wt.STREAM_TYPE_ID,i,r)}static assertComplete(e,t){if(!e.name)throw t?new Error(`Model with StreamID ${t.toString()} is missing a 'name' field`):new Error("Model is missing a 'name' field");if(!e.version)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'version' field`):new Error(`Model ${e.name} is missing a 'version' field`);if(!e.schema)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'schema' field`):new Error(`Model ${e.name} is missing a 'schema' field`);if(!e.accountRelation)throw t?new Error(`Model ${e.name} (${t.toString()}) is missing a 'accountRelation' field`):new Error(`Model ${e.name} is missing a 'accountRelation' field`)}static assertVersionValid(e,t="minor"){const[n,r]=on(Wt.VERSION),[i,o]=on(e.version);if(i>n||"minor"===t&&i===n&&o>r)throw new Error(`Unsupported version ${e.version} for model ${e.name}, the maximum version supported by the Ceramic node is ${Wt.VERSION}. Please update your Ceramic node to a newer version supporting at least version ${e.version} of the Model definition.`)}static assertRelationsValid(e){if(e.relations)for(const[n,r]of Object.entries(e.relations))switch(r.type){case"account":continue;case"document":try{xt.Eb.fromString(r.model)}catch(t){throw new Error(`Relation on field ${n} has invalid model: ${t.toString()}`)}continue;default:throw new Error(`Relation on field ${n} has unexpected type ${r.type}`)}}static async load(e,t,n={}){n={...sn,...n};const r=vt.i.from(t);if(r.type!=Wt.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${Wt.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return await e.loadStream(r,n)}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return Wt._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(null==t)throw new Error("Genesis content cannot be null");if(!n||!n.controller){if(!e.did)throw new Error("No controller specified");await an(e),n={controller:e.did.hasParent?e.did.parent:e.did.id}}return{data:t,header:{controllers:[n.controller],model:Wt.MODEL.bytes,sep:"model"}}}makeReadOnly(){this.sync=un,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}static async _signDagJWS(e,t){return await an(e),e.did.createDagJWS(t)}};cn.STREAM_TYPE_NAME="model",cn.STREAM_TYPE_ID=2,cn.MODEL=function(){const e=dt("model-v1"),t=tn.encode(e,"identity"),n=(0,en.Ue)(113,t),r=Zt.k0.createV1(113,n);return new xt.Eb("UNLOADABLE",r)}(),cn.VERSION="1.0",cn=Wt=nn([(0,gt.oC)()],cn);class fn{constructor(e){this._fetchJson=Kt.r,this._collectionURL=new URL("./collection",e),this._countURL=new URL("./collection/count",e)}async count(e){return(await this._fetchJson(this._countURL,{method:"POST",body:$t(e)})).count}async query(e){const t=await this._fetchJson(this._collectionURL,{method:"POST",body:$t(e)});return{edges:t.edges.map((e=>({cursor:e.cursor,node:Jt.e.deserializeState(e.node)}))),pageInfo:t.pageInfo}}}class ln{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=Kt.r,this.getCodePath="./admin/getCode"}async buildJWS(e,t,n){if(!e)throw new Vt;const r=await e.createJWS({code:t,requestPath:n.pathname});return`${r.signatures[0].protected}.${r.payload}.${r.signatures[0].signature}`}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getBaseUrl(){return new URL("./admin/pins",this._apiUrl)}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async add(e,t){const n={};t&&(n.force=!0);const r=await this.generateCode(),i=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(i,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),r,this.getBaseUrl())}`},method:"post",body:n})}async rm(e,t){const n=await this.generateCode(),r=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(r,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`},method:"delete",body:{opts:t}})}async ls(e){let t=new URL("./admin/pins",this._apiUrl);e&&(t=new URL(`./admin/pins/${e.toString()}`,this._apiUrl));const n=await this.generateCode(),r=await this._fetchJson(t,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`}}),{pinnedStreamIds:i}=r;return{[Symbol.asyncIterator](){let e=0;return{next:()=>e===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[e++],done:!1})}}}}}class dn{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=Kt.r,this.modelsPath="./admin/models",this.getCodePath="./admin/getCode",this.nodeStatusPath="./admin/status",this._pinApi=new ln(this._apiUrl,this._getDidFn)}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getModelsUrl(){return new URL(this.modelsPath,this._apiUrl)}getStatusUrl(){return new URL(this.nodeStatusPath,this._apiUrl)}async buildJWS(e,t,n,r){if(!e)throw new Vt;const i=r?{models:r.map((e=>e.toString()))}:void 0,o=await e.createJWS({code:t,requestPath:n,requestBody:i});return`${o.signatures[0].protected}.${o.payload}.${o.signatures[0].signature}`}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async nodeStatus(){const e=await this.generateCode();return this._fetchJson(this.getStatusUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getStatusUrl().pathname)}`}})}async startIndexingModels(e){const t=await this.generateCode();await this._fetchJson(this.getModelsUrl(),{method:"post",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,e)}})}async getIndexedModels(){const e=await this.generateCode();return(await this._fetchJson(this.getModelsUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getModelsUrl().pathname)}`}})).models.map((e=>xt.Eb.fromString(e)))}async stopIndexingModels(e){const t=await this.generateCode();await this._fetchJson(this.getModelsUrl(),{method:"delete",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,e)}})}get pin(){return this._pinApi}}const hn={syncInterval:5e3},pn={anchor:!0,publish:!0,sync:yt.l.PREFER_CACHE},mn={anchor:!0,publish:!0,sync:yt.l.PREFER_CACHE},yn={sync:yt.l.PREFER_CACHE};class gn{constructor(e="http://localhost:7007",t={}){this._config={...hn,...t},this._apiUrl=new URL("/api/v0/",e),this.context={api:this},this.index=new fn(this._apiUrl);const n=(()=>this.did).bind(this);this.admin=new dn(this._apiUrl,n),this._streamConstructors={[Qt.U.STREAM_TYPE_ID]:Qt.U,[cn.STREAM_TYPE_ID]:cn,[St.STREAM_TYPE_ID]:St,[Xt.E.STREAM_TYPE_ID]:Xt.E}}get did(){return this.context.did}set did(e){this.context.did=e}async createStreamFromGenesis(e,t,n={}){n={...mn,...n};const r=await Yt.createFromGenesis(this._apiUrl,e,t,n,this._config.syncInterval);return this.buildStreamFromDocument(r)}async loadStream(e,t={}){t={...yn,...t};const n=vt.i.from(e),r=await Yt.load(n,this._apiUrl,this._config.syncInterval,t);return this.buildStreamFromDocument(r)}async multiQuery(e,t){const n=e.map((e=>({...e,streamId:"string"===typeof e.streamId?e.streamId:e.streamId.toString()}))),r=new URL("./multiqueries",this._apiUrl),i=await(0,Kt.r)(r,{method:"post",body:{queries:n,timeout:t}});return Object.entries(i).reduce(((e,t)=>{const[n,r]=t,i=Jt.e.deserializeState(r),o=new Yt(i,this._apiUrl,this._config.syncInterval);return e[n]=this.buildStreamFromDocument(o),e}),{})}loadStreamCommits(e){const t=Ft(e);return Yt.loadStreamCommits(t,this._apiUrl)}async applyCommit(e,t,n={}){n={...pn,...n};const r=Ft(e),i=await Yt.applyCommit(this._apiUrl,r,t,n,this._config.syncInterval);return this.buildStreamFromDocument(i)}async requestAnchor(e,t={}){t={...yn,...t};const{anchorStatus:n}=await(0,Kt.r)(`${this._apiUrl}/streams/${e.toString()}/anchor`,{method:"post",body:{opts:t}});return n}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}buildStreamFromState(e){const t=new Yt(e,this._apiUrl,this._config.syncInterval);return this.buildStreamFromDocument(t)}buildStreamFromDocument(e){const t=e.state.type,n=this._streamConstructors[t];if(!n)throw new Error(`Failed to find constructor for stream ${t}`);return new n(e,this.context)}async setDID(e){this.context.did=e}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:e}=await(0,Kt.r)(this._apiUrl+"/node/chains");return this._supportedChains=e,e}async close(){}}var vn=n(6584),wn=n(4296),bn=n(4275),En=n(3801),Tn=n(4454),In=n(7359),_n=n(5944),An=n(8087);function Sn(e,t){return _n.A.major>=17?new An.__(e,t):new An.__(e,null===t||void 0===t?void 0:t.nodes,null===t||void 0===t?void 0:t.source,null===t||void 0===t?void 0:t.positions,null===t||void 0===t?void 0:t.path,null===t||void 0===t?void 0:t.originalError,null===t||void 0===t?void 0:t.extensions)}const Nn=/^(AD|AE|AF|AG|AI|AL|AM|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BL|BM|BN|BO|BQ|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CF|CG|CH|CI|CK|CL|CM|CN|CO|CR|CU|CV|CW|CX|CY|CZ|DE|DJ|DK|DM|DO|DZ|EC|EE|EG|EH|ER|ES|ET|FI|FJ|FK|FM|FO|FR|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MF|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|SS|ST|SV|SX|SY|SZ|TC|TD|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TR|TT|TV|TW|TZ|UA|UG|UM|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|YE|YT|ZA|ZM|ZW)$/i,xn=(e,t)=>{if("string"!==typeof e)throw Sn(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Nn.test(e))throw Sn(`Value is not a valid country code: ${e}`,t?{nodes:t}:void 0);return e},On=new Tn.n2({name:"CountryCode",description:"A country code as defined by ISO 3166-1 alpha-2",serialize:e=>xn(e),parseValue:e=>xn(e),parseLiteral(e){if(e.kind!==In.h.STRING)throw Sn(`Can only validate strings as country codes but got a: ${e.kind}`,{nodes:[e]});return xn(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"CountryCode",type:"string",pattern:Nn.source}}}),kn=/^did:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*$/,Cn=(e,t)=>{if("string"!==typeof e)throw Sn(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!kn.test(e))throw Sn(`Value is not a valid DID: ${e}`,t?{nodes:t}:void 0);return e},Dn="https://www.w3.org/TR/did-core/",Mn={name:"DID",description:"A field whose value conforms to the standard DID format as specified in did-core: https://www.w3.org/TR/did-core/.",serialize:Cn,parseValue:Cn,parseLiteral(e){if(e.kind!==In.h.STRING)throw Sn(`Can only validate strings as DID but got a: ${e.kind}`,{nodes:e});return Cn(e.value,e)},specifiedByURL:Dn,specifiedByUrl:Dn,extensions:{codegenScalarType:"string",jsonSchema:{title:"DID",type:"string",pattern:kn.source}}},Rn=new Tn.n2(Mn),Un=/^(-|\+)?P(?!$)((-|\+)?\d+(?:(\.|,)\d+)?Y)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?W)?((-|\+)?\d+(?:(\.|,)\d+)?D)?(T(?=(-|\+)?\d)((-|\+)?\d+(?:(\.|,)\d+)?H)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?S)?)?$/,Bn={name:"Duration",description:"\n    A string representing a duration conforming to the ISO8601 standard,\n    such as: P1W1DT13H23M34S\n    P is the duration designator (for period) placed at the start of the duration representation.\n    Y is the year designator that follows the value for the number of years.\n    M is the month designator that follows the value for the number of months.\n    W is the week designator that follows the value for the number of weeks.\n    D is the day designator that follows the value for the number of days.\n    T is the time designator that precedes the time components of the representation.\n    H is the hour designator that follows the value for the number of hours.\n    M is the minute designator that follows the value for the number of minutes.\n    S is the second designator that follows the value for the number of seconds.\n\n    Note the time designator, T, that precedes the time value.\n\n    Matches moment.js, Luxon and DateFns implementations\n    ,/. is valid for decimal places and +/- is a valid prefix\n  ",serialize(e){if("string"!==typeof e)throw Sn(`Value is not string: ${e}`);if(!Un.test(e))throw Sn(`Value is not a valid ISO Duration: ${e}`);return e},parseValue(e){if("string"!==typeof e)throw Sn(`Value is not string: ${e}`);if(!Un.test(e))throw Sn(`Value is not a valid ISO Duration: ${e}`);return e},parseLiteral(e){if(e.kind!==In.h.STRING)throw Sn(`Can only validate strings as ISO Durations but got a: ${e.kind}`,{nodes:e});if(!Un.test(e.value))throw Sn(`Value is not a valid ISO Duration: ${e.value}`,{nodes:e});return e.value},extensions:{codegenScalarType:"string",jsonSchema:{title:"Duration",type:"string",pattern:Un.source}}},Ln=new Tn.n2({...Bn,name:"Duration"});var Pn,jn;!function(e){e[e.NEGATIVE=0]="NEGATIVE",e[e.NON_NEGATIVE=1]="NON_NEGATIVE",e[e.POSITIVE=2]="POSITIVE",e[e.NON_POSITIVE=3]="NON_POSITIVE"}(Pn||(Pn={})),function(e){e[e.INT=0]="INT",e[e.FLOAT=1]="FLOAT"}(jn||(jn={}));const Fn=/^([0-9]{1,3})\xb0\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['\u2032]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["\u2033]\s*)?([NEOSW]?)$/;Pn.NON_POSITIVE,jn.INT,Pn.POSITIVE,jn.INT,Pn.NON_NEGATIVE,jn.INT,Pn.NEGATIVE,jn.INT,Pn.NON_POSITIVE,jn.FLOAT,Pn.POSITIVE,jn.FLOAT,Pn.NON_NEGATIVE,jn.FLOAT,Pn.NEGATIVE,jn.FLOAT;function $n(e){const t=e.toString().trim();return!Number.isNaN(Number.parseFloat(t))&&Number.parseFloat(t)===Number(t)}function Vn(e){return"string"===typeof e&&Fn.test(e.toString().trim())}function zn(e){const t=Fn.exec(e);if("undefined"===typeof t||null===t)throw Sn(`Value is not in sexagesimal format: ${e}`);const n=Number(t[2])/60||0,r=Number(t[4])/3600||0,i=Number.parseFloat(t[1])+n+r;return["S","W"].includes(t[7])?-i:i}const Gn=(e,t)=>{if("string"!==typeof e&&"number"!==typeof e||null===e||"undefined"===typeof e||Number.isNaN(e))throw Sn(`Value is neither a number nor a string: ${e}`,t?{nodes:t}:void 0);if($n(e)){const n="string"===typeof e?Number.parseFloat(e):e;if(n<-90||n>90)throw Sn(`Value must be between -90 and 90: ${e}`,t?{nodes:t}:void 0);return Number.parseFloat(n.toFixed(8))}if(Vn(e))return Gn(zn(e));throw Sn(`Value is not a valid latitude: ${e}`,t?{nodes:t}:void 0)},qn=new Tn.n2({name:"Latitude",description:"A field whose value is a valid decimal degrees latitude number (53.471): https://en.wikipedia.org/wiki/Latitude",serialize:e=>Gn(e),parseValue:e=>Gn(e),parseLiteral(e){if(e.kind!==In.h.FLOAT&&e.kind!==In.h.STRING)throw Sn(`Can only validate floats or strings as latitude but got a: ${e.kind}`,{nodes:[e]});return Gn(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"Latitude",type:"number",minimum:-90,maximum:90}}}),Hn=/^\d{4}-\d{2}-\d{2}$/;function Jn(e,t){if("string"!==typeof e)throw Sn(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Hn.test(e))throw Sn(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);const n=new Date(e);if(!!isNaN(n.getTime()))throw Sn(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);if(!(n.toISOString()===`${e}T00:00:00.000Z`))throw Sn(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);return e}const Kn=new Tn.n2({name:"LocalDate",description:"A local date string (i.e., with no associated timezone) in `YYYY-MM-DD` format, e.g. `2020-01-01`.",serialize:e=>Jn(e),parseValue:e=>Jn(e),parseLiteral(e){if(e.kind!==In.h.STRING)throw Sn(`Can only validate strings as local dates but got a: ${e.kind}`,{nodes:e});return Jn(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalDate",type:"string",pattern:Hn.source}}}),Yn=/^(((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+))$/;function Wn(e,t){if(!e)throw Sn(`Value is not a valid string. Received: ${e}`,t?{nodes:t}:void 0);if(!Yn.test(e))throw Sn(`Value is not a valid BCP-47 standard formatted string. Received: ${e}`,t?{nodes:t}:void 0);return e}const Xn=new Tn.n2({name:"Locale",description:"The locale in the format of a BCP 47 (RFC 5646) standard string",serialize:Wn,parseValue:Wn,parseLiteral(e){if(e.kind===In.h.STRING)return Wn(e.value,e);throw Sn(`Value is not a string. Received: ${e.kind}`,{nodes:e})},extensions:{codegenScalarType:"string",jsonSchema:{title:"Locale",type:"string",pattern:Yn.source}}}),Qn=/^([0-1][0-9]|2[0-3]):([0-5][0-9])(:[0-5][0-9](\.\d{3})?)?$/;function Zn(e,t){if("string"!==typeof e)throw Sn(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Qn.test(e))throw Sn(`Value is not a valid LocalTime: ${e}`,t?{nodes:t}:void 0);return e}const er=new Tn.n2({name:"LocalTime",description:"A local time string (i.e., with no associated timezone) in 24-hr `HH:mm[:ss[.SSS]]` format, e.g. `14:25` or `14:25:06` or `14:25:06.123`.",serialize:e=>Zn(e),parseValue:e=>Zn(e),parseLiteral(e){if(e.kind!==In.h.STRING)throw Sn(`Can only validate strings as local times but got a: ${e.kind}`,{nodes:e});return Zn(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalTime",type:"string",pattern:Qn.source}}}),tr=-180,nr=(e,t)=>{if("string"!==typeof e&&"number"!==typeof e||null===e||"undefined"===typeof e||Number.isNaN(e))throw Sn(`Value is neither a number nor a string: ${e}`,t?{nodes:t}:void 0);if($n(e)){const n="string"===typeof e?Number.parseFloat(e):e;if(n<tr||n>180)throw Sn(`Value must be between -180 and 180: ${e}`,t?{nodes:t}:void 0);return Number.parseFloat(n.toFixed(8))}if(Vn(e))return nr(zn(e));throw Sn(`Value is not a valid longitude: ${e}`,t?{nodes:t}:void 0)},rr=new Tn.n2({name:"Longitude",description:"A field whose value is a valid decimal degrees longitude number (53.471): https://en.wikipedia.org/wiki/Longitude",serialize:e=>nr(e),parseValue:e=>nr(e),parseLiteral(e){if(e.kind!==In.h.FLOAT&&e.kind!==In.h.STRING)throw Sn(`Can only validate floats or strings as longitude but got a: ${e.kind}`,{nodes:[e]});return nr(e.value,e)},extensions:{codegenScalarType:"string | number",jsonSchema:{type:"number",minimum:tr,maximum:180}}}),ir=(e,t)=>{if(!(null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat().resolvedOptions().timeZone))throw Sn("Time zones are not available in this environment",t?{nodes:t}:void 0);try{return Intl.DateTimeFormat(void 0,{timeZone:e}),e}catch(n){throw n instanceof RangeError?Sn(`Value is not a valid IANA time zone: ${e}`,t?{nodes:t}:void 0):Sn("Could not validate time zone.",t?{nodes:t}:void 0)}},or=new Tn.n2({name:"TimeZone",description:"A field whose value exists in the standard IANA Time Zone Database: https://www.iana.org/time-zones",serialize:ir,parseValue:ir,parseLiteral(e){if(e.kind!==In.h.STRING)throw Sn(`Can only sanitize time zone strings, but got: ${e.kind}`);return ir(e.value)},extensions:{codegenScalarType:"string",jsonSchema:{title:"TimeZone",type:"string",pattern:"^(?:[A-Za-z0-9_]|(?:%[0-9A-Fa-f]{2}))+"}}}),sr=/^([+-]?)(\d{2}):(\d{2})$/,ar=(e,t)=>{if("string"!==typeof e)throw Sn(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!sr.test(e))throw Sn(`Value is not a valid UTC Offset: ${e}`,t?{nodes:t}:void 0);return e},ur=new Tn.n2({name:"UtcOffset",description:"A field whose value is a UTC Offset: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",serialize:ar,parseValue:ar,parseLiteral(e){if(e.kind!==In.h.STRING)throw Sn(`Can only validate strings as UTC Offset but got a: ${e.kind}`,{nodes:e});return ar(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"UtcOffset",type:"string",pattern:sr.source}}});var cr=n(1002);function fr(e){return cr.NQ.fromString(e).toString()}function lr(e){return xt.Eb.fromString(e).toString()}const dr=new Tn.n2({name:"CeramicCommitID",description:"A Ceramic Commit ID",specifiedByURL:"https://github.com/ceramicnetwork/CIP/blob/main/CIPs/CIP-59/CIP-59.md#commitid",serialize:fr,parseValue:fr,parseLiteral(e){if(e.kind!==In.h.STRING)throw new An.__(`Can only validate strings as CommitID but got a: ${e.kind}`);return fr(e.value)}}),hr=new Tn.n2({name:"CeramicStreamID",description:"A Ceramic Stream ID",specifiedByURL:"https://github.com/ceramicnetwork/CIP/blob/main/CIPs/CIP-59/CIP-59.md#streamid",serialize:lr,parseValue:lr,parseLiteral(e){if(e.kind!==In.h.STRING)throw new An.__(`Can only validate strings as StreamID but got a: ${e.kind}`);return lr(e.value)}});var pr=n(7118);function mr(e){return new pr.hX(e).toString()}function yr(e){return new pr.a_(e).toString()}const gr=new Tn.n2({name:"ChainAgnosticAccountID",description:"A Chain Agnostic AccountId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md",serialize:mr,parseValue:mr,parseLiteral(e){if(e.kind!==In.h.STRING)throw new An.__(`Can only validate strings as ChainAgnosticAccountID but got a: ${e.kind}`);return mr(e.value)}}),vr=new Tn.n2({name:"ChainAgnosticChainID",description:"A Chain Agnostic ChainId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md",serialize:yr,parseValue:yr,parseLiteral(e){if(e.kind!==In.h.STRING)throw new An.__(`Can only validate strings as ChainAgnosticAccountID but got a: ${e.kind}`);return yr(e.value)}});function wr(e){e=e?.toUpperCase();return/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(e)}function br(e){if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))$/.test(e))return!1;const t=Number(e.substring(0,4)),n=Number(e.substring(5,2)),r=Number(e.substring(8,2));switch(n){case 2:return!((t%4===0&&t%100!==0||t%400===0)&&r>29)&&!((t%4===0&&t%100!==0||t%400===0)&&r>28);case 4:case 6:case 9:case 11:if(r>30)return!1}return!0}function Er(e){e=e?.toUpperCase();if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60))(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(e))return!1;const t=Date.parse(e);if(Number.isNaN(t))return!1;const n=e.indexOf("T"),r=e.substring(0,n),i=e.substring(n+1);return br(r)&&wr(i)}const Tr=new Tn.n2({name:"Date",description:"A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:e=>{if("string"===typeof e&&br(e))return e;throw new TypeError(`Date cannot represent an invalid date-string ${String(e)}.`)},parseValue:e=>{if("string"===typeof e&&br(e))return e;throw new TypeError(`Date cannot represent an invalid date-string ${String(e)}.`)},parseLiteral:e=>{if(e.kind!==In.h.STRING)throw new TypeError("Date cannot represent non string or Date type");const{value:t}=e;if(br(t))return t;throw new TypeError(`Date cannot represent an invalid date-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date"}}}),Ir=new Tn.n2({name:"DateTime",description:"A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:e=>{if("string"===typeof e&&Er(e)){if(-1!==e.indexOf("Z"))return e;throw new TypeError(`DateTime string must be formatted to UTC time ${String(e)}.`)}throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(e)}.`)},parseValue:e=>{if("string"===typeof e&&Er(e))return e;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(e)}.`)},parseLiteral:e=>{if(e.kind!==In.h.STRING)throw new TypeError("DateTime cannot represent non string or Date type");const{value:t}=e;if(Er(t))return t;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date-time"}}}),_r=new Tn.n2({name:"Time",description:"A time string at UTC, such as 10:15:30Z, compliant with the `full-time` format outlined in section 5.6 of the RFC 3339profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize(e){if(e instanceof Date){const t=e.toISOString();return t.substring(t.indexOf("T")+1)}if("string"===typeof e){if(wr(e))return e;throw new TypeError(`Time cannot represent an invalid time-string ${e}.`)}throw new TypeError("Time cannot be serialized from a non string, or non Date type "+JSON.stringify(e))},parseValue(e){if("string"!==typeof e)throw new TypeError(`Time cannot represent non string type ${JSON.stringify(e)}`);if(wr(e))return e;throw new TypeError(`Time cannot represent an invalid time-string ${e}.`)},parseLiteral(e){if(e.kind!==In.h.STRING)throw new TypeError(`Time cannot represent non string type: ${e.kind}`);const t=e.value;if(wr(t))return t;throw new TypeError(`Time cannot represent an invalid time-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"time"}}});function Ar(e){const t="string"===typeof e?Zt.k0.parse(e):Zt.k0.asCID(e);if(null==t)throw new An.__(`Could not parse input as CID: ${e}`);return t.toV1().toString()}const Sr=new Tn.n2({name:"InterPlanetaryCID",description:"A IPLD CID",specifiedByURL:"https://github.com/multiformats/cid",serialize:Ar,parseValue:Ar,parseLiteral(e){if(e.kind!==In.h.STRING)throw new An.__(`Can only validate strings as CID but got a: ${e.kind}`);return Ar(e.value)}}),Nr=new Tn.n2({name:"URI",description:"A field whose value conforms to the standard Uniform Resource Identifier (URI) format as specified in RFC3986.",specifiedByURL:"https://www.ietf.org/rfc/rfc3986.txt",parseValue:e=>e,parseLiteral(e){if(e.kind!==In.h.STRING)throw new An.__(`Can only validate strings as URIs but got a: ${e.kind}`);return e.value},extensions:{jsonSchema:{type:"string",format:"uri"}}}),xr={accountid:gr,boolean:En.EZ,chainid:vr,cid:Sr,commitid:dr,countrycode:On,date:Tr,datetime:Ir,did:Rn,duration:Ln,float:En.av,id:En.km,integer:En._o,latitude:qn,localdate:Kn,locale:Xn,localtime:er,longitude:rr,streamid:hr,string:En.kH,time:_r,timezone:or,uri:Nr,utcoffset:ur},Or=Object.keys(xr);function kr(e){if(function(e){return Or.includes(e)}(e))return xr[e];throw new Error(`Unsupported scalar type: ${e}`)}var Cr=n(9655),Dr=n(9678),Mr=n(8863);function Rr(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Ur(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Rr(e,t,"get"))}function Br(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Lr(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Rr(e,t,"set"),n),n}const Pr={...Mr.Zd,account:{type:En.km,description:"Returns only documents created by the provided account"}},jr=new Tn.sR({name:"UpdateOptionsInput",fields:{replace:{type:En.EZ,defaultValue:!1,description:"Fully replace the document contents instead of performing a shallow merge"},version:{type:dr,description:"Only perform mutation if the document matches the provided version"}}});var Fr=new WeakMap,$r=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Gr=new WeakMap,qr=new WeakMap;class Hr{build(){this._buildEnums();const e=this._createSharedDefinitions();this._buildObjects(e),this._buildConnections();const t=this._createSchema(e);return(0,Cr.J)(t),t}_createSharedDefinitions(){const e=(0,Mr.SX)((async(e,t)=>e.startsWith("did:")?e:await t.loadDoc(e)),(e=>"string"===typeof e?"CeramicAccount":Ur(this,qr)[e.metadata.model?.toString()])),t=new Tn.h6({name:"CeramicAccount",interfaces:[e.nodeInterface],fields:()=>{const e={id:{type:new Tn.bM(En.km),description:"Globally unique identifier of the account (DID string)",resolve:e=>e},isViewer:{type:new Tn.bM(En.EZ),description:"Whether the Ceramic instance is currently authenticated with this account or not",resolve:(e,t,n)=>n.isAuthenticated()&&n.getViewerID()===e}};for(const[t,n]of Object.entries(Ur(this,Fr).accountData??{})){const r=Ur(this,Fr).models[n.name];if(null==r)throw new Error(`Missing model for reference name: ${n.name}`);if("node"===n.type)e[t]={type:Ur(this,Vr)[n.name],resolve:async(e,t,n)=>await n.querySingle({account:e,model:r.id})};else{if("connection"!==n.type)throw new Error(`Unsupported reference type: ${n.type}`);e[t]={type:Ur(this,Vr)[`${n.name}Connection`],args:Mr.Zd,resolve:async(e,t,n)=>await n.queryConnection({...t,account:e,model:r.id})}}}return e}}),n={node:e.nodeField,viewer:{type:t,description:"Account currently authenticated on the Ceramic instance, if set",resolve:(e,t,n)=>n.getViewerID()}};return{...e,accountObject:t,queryFields:n}}_buildEnums(){for(const[e,t]of Object.entries(Ur(this,Fr).enums))Ur(this,Vr)[e]=new Tn.mR({name:e,values:t.reduce(((e,t)=>(e[t]={value:t},e)),{})})}_buildObjects(e){for(const[t,n]of Object.entries(Ur(this,Fr).objects))this._buildObjectType({definitions:e,name:t,fields:n})}_buildObjectType(e){const t=Ur(this,Fr).models[e.name];return t?this._buildDocumentObjectType({model:t,...e}):this._buildEmbeddedObjectType(e)}_buildDocumentObjectType({model:e,definitions:t,name:n,fields:r}){Ur(this,Vr)[n]=new Tn.h6({name:n,interfaces:[t.nodeInterface],isTypeOf:t=>t.metadata.model.toString()===e.id,fields:()=>{const e={id:{type:new Tn.bM(En.km),resolve:e=>e.id.toString()}};for(const[n,i]of Object.entries(r))switch(i.type){case"meta":continue;case"reference":e[n]=this._buildDocumentObjectReferenceField(n,i);break;case"list":e[n]={type:this._buildObjectListFieldType(t,i),resolve:e=>e.content?.[n]};break;case"view":e[n]=this._buildDocumentObjectViewField(n,t,i,r);break;default:e[n]={type:this._buildScalarFieldType(t,i),resolve:e=>e.content?.[n]}}return e}}),Ur(this,$r)||(this._buildInputObjectType(n,r),this._buildNodeMutations(t.queryFields,n,e))}_buildEmbeddedObjectType({definitions:e,name:t,fields:n}){Ur(this,Vr)[t]=new Tn.h6({name:t,fields:()=>{const r={};for(const[i,o]of Object.entries(n))switch(o.type){case"meta":continue;case"reference":r[i]=this._buildEmbeddedObjectReferenceField(i,o);break;case"list":r[i]={type:this._buildObjectListFieldType(e,o),resolve:e=>e[i]};break;case"view":throw new Error(`Unsupported view field ${i} on embedded object ${t}`);default:r[i]={type:this._buildScalarFieldType(e,o),resolve:e=>e[i]}}return r}}),Ur(this,$r)||this._buildInputObjectType(t,n)}_buildConnections(){for(const e of Object.keys(Ur(this,Fr).models)){const t=Ur(this,Vr)[e];if(null==t)throw new Error(`Missing object type for connection: ${e}`);const{connectionType:n,edgeType:r}=(0,Mr.Tr)({nodeType:t});Ur(this,Vr)[`${e}Connection`]=n,Ur(this,Vr)[`${e}Edge`]=r}}_buildDocumentObjectReferenceField(e,t){const n="connection"===t.refType?t.refName+"Connection":t.refName,r=Ur(this,Vr)[n];if(null==r)throw new Error(`Missing type: ${n}`);const i=t.required?new Tn.bM(r):r;switch(t.refType){case"connection":return{type:i,args:Mr.Zd,resolve:(e,t,n)=>{throw new Error("Not implemented")}};case"node":return{type:i,args:Mr.Zd,resolve:async(t,n,r)=>await r.loadDoc(t.content[e])};case"enum":case"object":return{type:i,resolve:t=>t.content[e]};default:throw new Error(`Unsupported reference type on document object: ${t.refType}`)}}_buildEmbeddedObjectReferenceField(e,t){const n=Ur(this,Vr)[t.refName];if(null==n)throw new Error(`Missing type: ${t.refName}`);const r=t.required?new Tn.bM(n):n;switch(t.refType){case"enum":case"object":return{type:r,resolve:t=>t[e]};default:throw new Error(`Unsupported reference type on embedded object: ${t.refType}`)}}_buildObjectListFieldType(e,t){let n;if("reference"===t.item.type){if(n=Ur(this,Vr)[t.item.refName],null==n)throw new Error(`Missing referenced object type: ${t.item.refName}`)}else n="did"===t.item.type?e.accountObject:kr(t.item.type);t.item.required&&(n=new Tn.bM(n));const r=new Tn.p2(n);return t.required?new Tn.bM(r):r}_buildDocumentObjectRelation(e,t,n){const r=Ur(this,qr)[t.model];if(null==r)throw new Error(`Model alias not found for relation with ID ${t.model} on field ${e}`);switch(t.source){case"document":if(null==n[t.property])throw new Error(`Missing reference field ${t.property} for relation defined on field ${e}`);return{type:Ur(this,Vr)[r],resolve:async(e,n,r)=>{const i=e.content?.[t.property];if(null==i)return null;const o=await r.loadDoc(i);if(null==o)return null;const s=o.metadata.model.toString();return null!=t.model&&s!==t.model?(console.warn(`Ignoring unexpected model ${s} for document ${i}, expected model ${t.model}`),null):o}};case"queryConnection":return{type:new Tn.bM(Ur(this,Vr)[`${r}Connection`]),args:Pr,resolve:async(e,n,r)=>{const i="documentAccount"===n.account?e.metadata.controller:n.account;return await r.queryConnection({...n,account:i,model:t.model,filter:{[t.property]:e.id.toString()}})}};case"queryCount":return{type:new Tn.bM(En._o),args:{account:{type:En.km,description:"Counts only documents created by the provided account"}},resolve:async(e,n,r)=>{const i="documentAccount"===n.account?e.metadata.controller:n.account;return await r.queryCount({account:i,model:t.model,filter:{[t.property]:e.id.toString()}})}};default:throw new Error(`Unsupported relation source: ${t.source}`)}}_buildDocumentObjectViewField(e,t,n,r){switch(n.viewType){case"documentAccount":return{type:new Tn.bM(t.accountObject),description:"Account controlling the document",resolve:e=>e.metadata.controller};case"documentVersion":return{type:new Tn.bM(dr),description:"Current version of the document",resolve:e=>e.commitId.toString()};case"relation":return this._buildDocumentObjectRelation(e,n.relation,r);default:throw new Error(`Unsupported view type: ${n.viewType}`)}}_buildScalarFieldType(e,t){const n="did"===t.type?e.accountObject:kr(t.type);return t.required?new Tn.bM(n):n}_buildInputObjectType(e,t){const n=null!=Ur(this,Fr).models[e],r=e=>{const r={},i=n||e?"":"Partial";for(const[n,o]of Object.entries(t)){let t;switch(o.type){case"meta":case"view":continue;case"reference":switch(o.refType){case"connection":continue;case"enum":t=Ur(this,Vr)[o.refName];break;case"node":t=En.km;break;case"object":if(t=Ur(this,zr)[i+o.refName],null==t)throw new Error(`Missing referenced input type: ${i+o.refName}`)}break;case"list":{let e;if("reference"===o.item.type){if(e=Ur(this,zr)[i+o.item.refName],null==e)throw new Error(`Missing referenced input type: ${i+o.item.refName}`)}else e=kr(o.item.type);t=new Tn.p2(e);break}default:t=kr(o.type)}null!=t&&(r[n]={type:e&&o.required?new Tn.bM(t):t})}return r};Ur(this,zr)[e]=new Tn.sR({name:`${e}Input`,fields:()=>r(!0)}),n&&(Ur(this,zr)[`Partial${e}`]=new Tn.sR({name:`Partial${e}Input`,fields:()=>r(!1)}))}_buildNodeMutations(e,t,n){Ur(this,Gr)[`create${t}`]=(0,Mr.Fj)({name:`Create${t}`,inputFields:()=>({content:{type:new Tn.bM(Ur(this,zr)[t])}}),outputFields:()=>({...e,document:{type:new Tn.bM(Ur(this,Vr)[t])}}),mutateAndGetPayload:async(e,t)=>{if(null==t.ceramic.did||!t.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:"single"===n.accountRelation.type?await t.createSingle(n.id,e.content):await t.createDoc(n.id,e.content)}}}),Ur(this,Gr)[`update${t}`]=(0,Mr.Fj)({name:`Update${t}`,inputFields:()=>({id:{type:new Tn.bM(En.km)},content:{type:new Tn.bM(Ur(this,zr)[`Partial${t}`])},options:{type:jr}}),outputFields:()=>({...e,document:{type:new Tn.bM(Ur(this,Vr)[t])}}),mutateAndGetPayload:async(e,t)=>{if(null==t.ceramic.did||!t.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:await t.updateDoc(e.id,e.content,e.options)}}})}_createSchema(e){const t={...e.queryFields};for(const[r,i]of Object.entries(Ur(this,Fr).models)){t[`${r[0].toLowerCase()}${r.slice(1)}Index`]={type:Ur(this,Vr)[`${r}Connection`],args:Mr.Zd,resolve:async(e,t,n)=>await n.queryConnection({...t,model:i.id})}}const n={query:new Tn.h6({name:"Query",fields:t})};return Ur(this,$r)||0===Object.keys(Ur(this,Gr)).length||(n.mutation=new Tn.h6({name:"Mutation",fields:Ur(this,Gr)})),new Dr.XO(n)}constructor(e){Br(this,Fr,{writable:!0,value:void 0}),Br(this,$r,{writable:!0,value:void 0}),Br(this,Vr,{writable:!0,value:{}}),Br(this,zr,{writable:!0,value:{}}),Br(this,Gr,{writable:!0,value:{}}),Br(this,qr,{writable:!0,value:void 0}),Lr(this,Fr,e.definition),Lr(this,$r,!!e.readonly),Lr(this,qr,Object.entries(Ur(this,Fr).models).reduce(((e,[t,n])=>(e[n.id]=t,e)),{}))}}function Jr(e){return new Hr(e).build()}function Kr(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Yr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Kr(e,t,"get"))}function Wr(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Xr(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Kr(e,t,"set"),n),n}var Qr=new WeakMap,Zr=new WeakMap;class ei{get context(){return Yr(this,Qr)}async execute(e,t){const n=(0,vn.Gu)(Yr(this,Zr),e);return n.length>0?{errors:n}:await(0,wn.ht)({document:e,variableValues:t,contextValue:Yr(this,Qr),schema:Yr(this,Zr)})}async executeQuery(e,t){let n;try{n=(0,bn.Qc)(e)}catch(r){return{errors:[r]}}return await this.execute(n,t)}constructor(e){Wr(this,Qr,{writable:!0,value:void 0}),Wr(this,Zr,{writable:!0,value:void 0});const{ceramic:t,context:n,definition:r,readonly:i,schema:o,...s}=e,a="string"===typeof t?new gn(t):t;Xr(this,Qr,n??jt({...s,ceramic:a})),Xr(this,Zr,function(e){const{definition:t,readonly:n,schema:r}=e;if(null!=r)return r;if(null==t)throw new Error("Invalid parameters to get schema: missing definition or schema");return Jr({definition:t,readonly:n})}({definition:r,readonly:i,schema:o}))}}var ti=n(2100);function ni(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0===r){const r=e(n);return t.set(n,r),r}return r}}function ri(e){const t=new WeakMap;return function(n,r){let i=t.get(n);if(!i){i=new WeakMap,t.set(n,i);const o=e(n,r);return i.set(r,o),o}const o=i.get(r);if(void 0===o){const t=e(n,r);return i.set(r,t),t}return o}}function ii(e){const t=new WeakMap;return function(n,r,i){let o=t.get(n);if(!o){o=new WeakMap,t.set(n,o);const s=new WeakMap;o.set(r,s);const a=e(n,r,i);return s.set(i,a),a}let s=o.get(r);if(!s){s=new WeakMap,o.set(r,s);const t=e(n,r,i);return s.set(i,t),t}const a=s.get(i);if(void 0===a){const t=e(n,r,i);return s.set(i,t),t}return a}}function oi(e){const t=new WeakMap;return function(n,r,i,o,s){let a=t.get(n);if(!a){a=new WeakMap,t.set(n,a);const u=new WeakMap;a.set(r,u);const c=new WeakMap;u.set(i,c);const f=new WeakMap;c.set(o,f);const l=e(n,r,i,o,s);return f.set(s,l),l}let u=a.get(r);if(!u){u=new WeakMap,a.set(r,u);const t=new WeakMap;u.set(i,t);const c=new WeakMap;t.set(o,c);const f=e(n,r,i,o,s);return c.set(s,f),f}let c=u.get(i);if(!c){c=new WeakMap,u.set(i,c);const t=new WeakMap;c.set(o,t);const a=e(n,r,i,o,s);return t.set(s,a),a}let f=c.get(o);if(!f){f=new WeakMap,c.set(o,f);const t=e(n,r,i,o,s);return f.set(s,t),t}const l=f.get(s);if(void 0===l){const t=e(n,r,i,o,s);return f.set(s,t),t}return l}}const si=ni((function(e){return function(e,t){const n=(0,ti.S)(e,t);if(!n)throw new Error(`Cannot infer operation ${t||""}`);return n}(e.document,e.operationName)}));var ai=n(7304);function ui(e){return`_${e}_`}function ci(e){const t=/^_([\d]+)_(.*)$/.exec(e);if(t&&3===t.length&&!isNaN(Number(t[1]))&&t[2])return{index:Number(t[1]),originalKey:t[2]};throw new Error(`Key ${e} is not correctly prefixed`)}function fi(e,t){var n;const r=null!==(n=t.variables)&&void 0!==n?n:{};function i(t){return hi(t,e)}let o=function(e,t){const n={[In.h.OPERATION_DEFINITION]:n=>{const{selections:r}=n.selectionSet;return{...n,selectionSet:{...n.selectionSet,selections:li(e,r,t)}}}};return(0,ai.Vn)(t,n,{[In.h.DOCUMENT]:["definitions"]})}(e,t.document);const s=Object.keys(r),a=t.document.definitions.some((e=>mi(e))),u={};(s.length>0||a)&&(o=(0,ai.Vn)(o,{[In.h.VARIABLE]:i,[In.h.FRAGMENT_DEFINITION]:i,[In.h.FRAGMENT_SPREAD]:t=>(t=hi(t,e),u[t.name.value]=!0,t)}));const c={};for(const f of s)c[e+f]=r[f];return a&&(o={...o,definitions:o.definitions.filter((e=>!mi(e)||u[e.name.value]))}),{document:o,variables:c}}function li(e,t,n){return t.map((t=>{switch(t.kind){case In.h.INLINE_FRAGMENT:return di(e,t,n);case In.h.FRAGMENT_SPREAD:{const r=function(e,t){const n=t.definitions.find((t=>mi(t)&&t.name.value===e.name.value));if(!n)throw new Error(`Fragment ${e.name.value} does not exist`);const{typeCondition:r,selectionSet:i}=n;return{kind:In.h.INLINE_FRAGMENT,typeCondition:r,selectionSet:i,directives:e.directives}}(t,n);return di(e,r,n)}case In.h.FIELD:default:return function(e,t){const n=e.alias?e.alias:e.name;return{...e,alias:{...n,value:t+n.value}}}(t,e)}}))}function di(e,t,n){const{selections:r}=t.selectionSet;return{...t,selectionSet:{...t.selectionSet,selections:li(e,r,n)}}}function hi(e,t){return{...e,name:{...e.name,value:t+e.name.value}}}function pi(e){return e.kind===In.h.OPERATION_DEFINITION}function mi(e){return e.kind===In.h.FRAGMENT_DEFINITION}function yi(e,t){return _n.A.major>=17?new An.__(e,t):new An.__(e,null===t||void 0===t?void 0:t.nodes,null===t||void 0===t?void 0:t.source,null===t||void 0===t?void 0:t.positions,null===t||void 0===t?void 0:t.path,null===t||void 0===t?void 0:t.originalError,null===t||void 0===t?void 0:t.extensions)}function gi(e,t){return yi(e.message,{nodes:e.nodes,source:e.source,positions:e.positions,path:null==t?e.path:t,originalError:e,extensions:e.extensions})}const vi=e=>{throw e};class wi{state;constructor(e){let t;try{t=e()}catch(r){return void(this.state={status:"rejected",value:r})}var n;null==(n=t)||"function"!==typeof n.then?this.state={status:"fulfilled",value:t}:this.state={status:"pending",value:t}}then(e,t){const n=this.state;if("pending"===n.status)return new wi((()=>n.value.then(e,t)));const r="function"===typeof t?t:vi;if("rejected"===n.status)return new wi((()=>r(n.value)));try{const t="function"===typeof e?e:void 0;return new wi(void 0===t?()=>n.value:()=>t(n.value))}catch(i){return new wi((()=>r(i)))}}catch(e){return this.then(void 0,e)}resolve(){const e=this.state;if("pending"===e.status)return Promise.resolve(e.value);if("rejected"===e.status)throw e.value;return e.value}static all(e){let t,n=!1,r=!1;const i=[];for(const o of e){const e=o.state;if("rejected"!==e.status)"pending"===e.status&&(r=!0),i.push(e.value);else{if(n)continue;n=!0,t=e.value}}return r?n?(Promise.all(i).catch((()=>{})),new wi((()=>{throw t}))):new wi((()=>Promise.all(i))):new wi((()=>i))}}function bi(e,t,n=Ei){const r=function(e,t){return function(n){if(1===n.length)return new wi((()=>e(n[0]))).then((e=>[e])).catch((e=>[e]));const r=[];let i=0;const o=n[i];let s=[o];r.push(s);const a=si(o).operation;if(null==a)throw new Error("could not identify operation type of document");for(;++i<n.length;){const e=n[i];a===si(e).operation?s.push(e):(s=[e],r.push(s))}return wi.all(r.map((n=>new wi((()=>{const r=function(e,t){var n,r,i,o,s;const a=Object.create(null),u=[],c=[],f=[];let l=Object.create(null);for(const y in e){const n=e[y],r=fi(ui(y),n);for(const e of r.document.definitions)pi(e)&&(c.push(...e.selectionSet.selections),e.variableDefinitions&&u.push(...e.variableDefinitions)),mi(e)&&f.push(e);Object.assign(a,r.variables),l=t(l,n)}const d=e[0],h=null!==(n=d.operationType)&&void 0!==n?n:si(d).operation,p={kind:In.h.OPERATION_DEFINITION,operation:h,variableDefinitions:u,selectionSet:{kind:In.h.SELECTION_SET,selections:c}},m=null!==(r=d.operationName)&&void 0!==r?r:null===(s=null===(o=null===(i=d.info)||void 0===i?void 0:i.operation)||void 0===o?void 0:o.name)||void 0===s?void 0:s.value;return m&&(p.name={kind:In.h.NAME,value:m}),{document:{kind:In.h.DOCUMENT,definitions:[p,...f]},variables:a,extensions:l,context:e[0].context,info:e[0].info,operationType:h}}(n,t);return e(r)})).then((e=>function({data:e,errors:t},n){const r=[];for(let i=0;i<n;i++)r.push({});if(e)for(const i in e){const{index:t,originalKey:n}=ci(i),o=r[t];null!=o&&(null==o.data?o.data={[n]:e[i]}:o.data[n]=e[i])}if(t)for(const i of t)if(i.path){const e=ci(i.path[0]),{index:t,originalKey:n}=e,o=gi(i,[n,...i.path.slice(1)]);(r[t].errors=r[t].errors||[]).push(o)}else r.forEach((e=>{(e.errors=e.errors||[]).push(i)}));return r}(e,n.length)))))).then((e=>e.flat()))}}(e,n),i=new Ot(r,t);return function(t){return"subscription"===si(t).operation?e(t):i.load(t)}}function Ei(e,t){const n=t.extensions;return null!=n&&Object.assign(e,n),e}var Ti=n(8238),Ii=n(9557);function _i(e,t){const n={},r=e.getTypeMap();for(const i in r){const e=r[i];if("getInterfaces"in e){n[i]={};for(const o of e.getInterfaces())if(t[o.name])for(const e in t[o.name])"__isTypeOf"!==e&&e.startsWith("__")||(n[i][e]=t[o.name][e]);const r=t[i];n[i]={...n[i],...r}}else{const e=t[i];null!=e&&(n[i]=e)}}return n}function Ai(e,t){const n=e.getTypeMap();for(const r in n){const e=n[r];if(!(0,Tn.xC)(e).name.startsWith("__"))if((0,Tn.lp)(e)){const n=e.getFields();for(const e in n){const r=n[e];for(const e of r.args)e.defaultValue=t(e.type,e.defaultValue)}}else if((0,Tn.hL)(e)){const n=e.getFields();for(const e in n){const r=n[e];r.defaultValue=t(r.type,r.defaultValue)}}}}function Si(e){var t,n;let r;return"alias"in e&&(r=null===(t=e.alias)||void 0===t?void 0:t.value),null==r&&"name"in e&&(r=null===(n=e.name)||void 0===n?void 0:n.value),null==r&&(r=e.kind),r}function Ni(e,t,n){const r=Si(e),i=Si(t);return"function"===typeof n?n(r,i):function(e,t){return String(e)<String(t)?-1:String(e)>String(t)?1:0}(r,i)}function xi(e){return null!=e}function Oi(e,t,n=null,r=null){if(null==t)return t;const i=(0,Tn.tf)(e);if((0,Tn.UT)(i))return null!=n?n(i,t):t;if((0,Tn.HG)(i))return(o=t,Array.isArray(o)?o:o?[o]:[]).map((e=>Oi(i.ofType,e,n,r)));if((0,Tn.hL)(i)){const e=i.getFields(),o={};for(const i in t){const s=e[i];null!=s&&(o[i]=Oi(s.type,t[i],n,r))}return null!=r?r(i,o):o}var o}function ki(e,t){return Oi(e,t,((e,t)=>{try{return e.serialize(t)}catch(n){return t}}))}function Ci(e,t){return Oi(e,t,((e,t)=>{try{return e.parseValue(t)}catch(n){return t}}))}function Di(e){return function(e,t){const n=Object.create(null);for(const c in e){const t=e[c];if(null==t||c.startsWith("__"))continue;const r=t.name;r.startsWith("__")||(null==n[r]?n[r]=t:console.warn(`Duplicate schema type name ${r} found; keeping the existing one found in the schema`))}for(const c in n){const t=n[c];e[c]=t}for(const c of t)c.args=c.args.filter((e=>(e.type=u(e.type),null!==e.type)));for(const c in e){const t=e[c];!c.startsWith("__")&&c in n&&null!=t&&r(t)}for(const c in e)c.startsWith("__")||c in n||delete e[c];function r(e){if((0,Tn.lp)(e))return i(e),void o(e);if((0,Tn.oT)(e))return i(e),void("getInterfaces"in e&&o(e));if((0,Tn.EN)(e))a(e);else if((0,Tn.hL)(e))s(e);else if(!(0,Tn.UT)(e))throw new Error(`Unexpected schema type: ${e}`)}function i(e){const t=e.getFields();for(const[n,r]of Object.entries(t))r.args.map((e=>(e.type=u(e.type),null===e.type?null:e))).filter(Boolean),r.type=u(r.type),null===r.type&&delete t[n]}function o(e){if("getInterfaces"in e){const t=e.getInterfaces();t.push(...t.splice(0).map((e=>u(e))).filter(Boolean))}}function s(e){const t=e.getFields();for(const[n,r]of Object.entries(t))r.type=u(r.type),null===r.type&&delete t[n]}function a(e){const t=e.getTypes();t.push(...t.splice(0).map((e=>u(e))).filter(Boolean))}function u(t){if((0,Tn.HG)(t)){const e=u(t.ofType);return null!=e?new Tn.p2(e):null}if((0,Tn.zM)(t)){const e=u(t.ofType);return null!=e?new Tn.bM(e):null}if((0,Tn.Zs)(t)){const n=e[t.name];if(n&&t!==n)return n}return t}}(e.getTypeMap(),e.getDirectives()),e}function Mi(e,t){const n=e.getTypeMap();for(const r in n){const e=n[r];if(!(0,Tn.xC)(e).name.startsWith("__")&&(0,Tn.lp)(e)){const n=e.getFields();for(const e in n){t(n[e],r,e)}}}}function Ri(e,t){if(t){const n=e[t.name];if((0,Tn.lp)(n))return n}}var Ui;function Bi(e,t){let n;return n="object"===t?Tn.h6:"interface"===t?Tn.oW:Tn.sR,new n({name:e,fields:{_fake:{type:En.kH}}})}function Li(e,t){switch(e.kind){case In.h.LIST_TYPE:return new Tn.p2(Li(e.type,t));case In.h.NON_NULL_TYPE:return new Tn.bM(Li(e.type,t));default:return Bi(e.name.value,"output"===t?"object":"input")}}function Pi(e,t){const n=Object.create(null);for(const f in e)n[f]=e[f];const r=Object.create(null);for(const f in n){const e=n[f];if(null==e||f.startsWith("__"))continue;const t=e.name;t.startsWith("__")||(null==r[t]?r[t]=e:console.warn(`Duplicate schema type name ${t} found; keeping the existing one found in the schema`))}for(const f in r)r[f]=s(r[f]);const i=t.map((e=>function(e){if((0,Ti.xg)(e))return e;const t=e.toConfig();return t.args=o(t.args),new Ti.NZ(t)}(e)));return{typeMap:r,directives:i};function o(e){const t={};for(const n in e){const r=e[n],i=c(r.type);null!=i&&(r.type=i,t[n]=r)}return t}function s(e){if((0,Tn.lp)(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields),interfaces:()=>u(t.interfaces)};return new Tn.h6(n)}if((0,Tn.oT)(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields)};return"interfaces"in n&&(n.interfaces=()=>u(t.interfaces)),new Tn.oW(n)}if((0,Tn.EN)(e)){const t=e.toConfig(),n={...t,types:()=>u(t.types)};return new Tn.Gp(n)}if((0,Tn.hL)(e)){const t=e.toConfig(),n={...t,fields:()=>function(e){const t={};for(const n in e){const r=e[n],i=c(r.type);null!=i&&(r.type=i,t[n]=r)}return t}(t.fields)};return new Tn.sR(n)}if((0,Tn.EM)(e)){const t=e.toConfig();return new Tn.mR(t)}if((0,Tn.KA)(e)){if((0,En.u1)(e))return e;const t=e.toConfig();return new Tn.n2(t)}throw new Error(`Unexpected schema type: ${e}`)}function a(e){const t={};for(const n in e){const r=e[n],i=c(r.type);null!=i&&r.args&&(r.type=i,r.args=o(r.args),t[n]=r)}return t}function u(e){const t=[];for(const n of e){const e=c(n);null!=e&&t.push(e)}return t}function c(e){if((0,Tn.HG)(e)){const t=c(e.ofType);return null!=t?new Tn.p2(t):null}if((0,Tn.zM)(e)){const t=c(e.ofType);return null!=t?new Tn.bM(t):null}if((0,Tn.Zs)(e)){let t=n[e.name];return void 0===t&&(t=function(e){if("getFields"in e){const t=e.getFields();for(const e in t)return"_fake"===t[e].name}return!1}(e)?function(e){switch(e.name){case En._o.name:return En._o;case En.av.name:return En.av;case En.kH.name:return En.kH;case En.EZ.name:return En.EZ;case En.km.name:return En.km;default:return e}}(e):s(e),r[t.name]=n[e.name]=t),null!=t?r[t.name]:null}return null}}function ji(e,t={}){const n=Gi(zi(Fi($i(function(e,t,n){const r=function(e){const t=e[Ui.ENUM_VALUE];return null!=t?t:null}(n);if(!r)return e;return Fi(e,t,{[Ui.ENUM_TYPE]:e=>{const n=e.toConfig(),i=n.values,o={};for(const s in i){const n=i[s],a=r(n,e.name,t,s);if(void 0===a)o[s]=n;else if(Array.isArray(a)){const[e,t]=a;o[e]=void 0===t?n:t}else null!==a&&(o[s]=a)}return Ki(new Tn.mR({...n,values:o}))}},(e=>(0,Tn.EM)(e)))}(Fi($i(e.getTypeMap(),e,ki),e,t,(e=>(0,Tn.UT)(e))),e,t),e,Ci),e,t,(e=>!(0,Tn.UT)(e))),e,t),e,t),r=function(e,t,n){const r=function(e){const t=e[Ui.DIRECTIVE];return null!=t?t:null}(n);if(null==r)return e.slice();const i=[];for(const o of e){const e=r(o,t);void 0===e?i.push(o):null!==e&&i.push(e)}return i}(e.getDirectives(),e,t),{typeMap:i,directives:o}=Pi(n,r);return new Dr.XO({...e.toConfig(),query:Ri(i,Ri(n,e.getQueryType())),mutation:Ri(i,Ri(n,e.getMutationType())),subscription:Ri(i,Ri(n,e.getSubscriptionType())),types:Object.values(i),directives:o})}function Fi(e,t,n,r=(()=>!0)){const i={};for(const o in e)if(!o.startsWith("__")){const s=e[o];if(null==s||!r(s)){i[o]=s;continue}const a=qi(t,n,o);if(null==a){i[o]=s;continue}const u=a(s,t);if(void 0===u){i[o]=s;continue}i[o]=u}return i}function $i(e,t,n){const r=Gi(e,t,{[Ui.ARGUMENT]:t=>{if(void 0===t.defaultValue)return t;const r=Vi(e,t.type);return null!=r?{...t,defaultValue:n(r,t.defaultValue)}:void 0}});return zi(r,t,{[Ui.INPUT_OBJECT_FIELD]:e=>{if(void 0===e.defaultValue)return e;const t=Vi(r,e.type);return null!=t?{...e,defaultValue:n(t,e.defaultValue)}:void 0}})}function Vi(e,t){if((0,Tn.HG)(t)){const n=Vi(e,t.ofType);return null!=n?new Tn.p2(n):null}if((0,Tn.zM)(t)){const n=Vi(e,t.ofType);return null!=n?new Tn.bM(n):null}if((0,Tn.Zs)(t)){const n=e[t.name];return null!=n?n:null}return null}function zi(e,t,n){const r={};for(const i in e)if(!i.startsWith("__")){const o=e[i];if(!(0,Tn.lp)(o)&&!(0,Tn.oT)(o)&&!(0,Tn.hL)(o)){r[i]=o;continue}const s=Hi(t,n,i);if(null==s){r[i]=o;continue}const a=o.toConfig(),u=a.fields,c={};for(const e in u){const n=u[e],r=s(n,e,i,t);if(void 0===r)c[e]=n;else if(Array.isArray(r)){const[e,t]=r;null!=t.astNode&&(t.astNode={...t.astNode,name:{...t.astNode.name,value:e}}),c[e]=void 0===t?n:t}else null!==r&&(c[e]=r)}(0,Tn.lp)(o)?r[i]=Ki(new Tn.h6({...a,fields:c})):(0,Tn.oT)(o)?r[i]=Ki(new Tn.oW({...a,fields:c})):r[i]=Ki(new Tn.sR({...a,fields:c}))}return r}function Gi(e,t,n){const r={};for(const i in e)if(!i.startsWith("__")){const o=e[i];if(!(0,Tn.lp)(o)&&!(0,Tn.oT)(o)){r[i]=o;continue}const s=Ji(n);if(null==s){r[i]=o;continue}const a=o.toConfig(),u=a.fields,c={};for(const e in u){const n=u[e],r=n.args;if(null==r){c[e]=n;continue}const o=Object.keys(r);if(!o.length){c[e]=n;continue}const a={};for(const u of o){const n=r[u],o=s(n,e,i,t);if(void 0===o)a[u]=n;else if(Array.isArray(o)){const[e,t]=o;a[e]=t}else null!==o&&(a[u]=o)}c[e]={...n,args:a}}(0,Tn.lp)(o)?r[i]=new Tn.h6({...a,fields:c}):(0,Tn.oT)(o)?r[i]=new Tn.oW({...a,fields:c}):r[i]=new Tn.sR({...a,fields:c})}return r}function qi(e,t,n){let r;const i=[...function(e,t){var n,r,i;const o=e.getType(t),s=[Ui.TYPE];return(0,Tn.lp)(o)?(s.push(Ui.COMPOSITE_TYPE,Ui.OBJECT_TYPE),t===(null===(n=e.getQueryType())||void 0===n?void 0:n.name)?s.push(Ui.ROOT_OBJECT,Ui.QUERY):t===(null===(r=e.getMutationType())||void 0===r?void 0:r.name)?s.push(Ui.ROOT_OBJECT,Ui.MUTATION):t===(null===(i=e.getSubscriptionType())||void 0===i?void 0:i.name)&&s.push(Ui.ROOT_OBJECT,Ui.SUBSCRIPTION)):(0,Tn.hL)(o)?s.push(Ui.INPUT_OBJECT_TYPE):(0,Tn.oT)(o)?s.push(Ui.COMPOSITE_TYPE,Ui.ABSTRACT_TYPE,Ui.INTERFACE_TYPE):(0,Tn.EN)(o)?s.push(Ui.COMPOSITE_TYPE,Ui.ABSTRACT_TYPE,Ui.UNION_TYPE):(0,Tn.EM)(o)?s.push(Ui.ENUM_TYPE):(0,Tn.KA)(o)&&s.push(Ui.SCALAR_TYPE),s}(e,n)];for(;!r&&i.length>0;){r=t[i.pop()]}return null!=r?r:null}function Hi(e,t,n){let r;const i=[...function(e,t){var n,r,i;const o=e.getType(t),s=[Ui.FIELD];return(0,Tn.lp)(o)?(s.push(Ui.COMPOSITE_FIELD,Ui.OBJECT_FIELD),t===(null===(n=e.getQueryType())||void 0===n?void 0:n.name)?s.push(Ui.ROOT_FIELD,Ui.QUERY_ROOT_FIELD):t===(null===(r=e.getMutationType())||void 0===r?void 0:r.name)?s.push(Ui.ROOT_FIELD,Ui.MUTATION_ROOT_FIELD):t===(null===(i=e.getSubscriptionType())||void 0===i?void 0:i.name)&&s.push(Ui.ROOT_FIELD,Ui.SUBSCRIPTION_ROOT_FIELD)):(0,Tn.oT)(o)?s.push(Ui.COMPOSITE_FIELD,Ui.INTERFACE_FIELD):(0,Tn.hL)(o)&&s.push(Ui.INPUT_OBJECT_FIELD),s}(e,n)];for(;!r&&i.length>0;){r=t[i.pop()]}return null!==r&&void 0!==r?r:null}function Ji(e){const t=e[Ui.ARGUMENT];return null!=t?t:null}function Ki(e){if((0,Tn.lp)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:In.h.OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:In.h.OBJECT_TYPE_EXTENSION,fields:void 0})))),new Tn.h6(t)}if((0,Tn.oT)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:In.h.INTERFACE_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:In.h.INTERFACE_TYPE_EXTENSION,fields:void 0})))),new Tn.oW(t)}if((0,Tn.hL)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:In.h.INPUT_OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:In.h.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0})))),new Tn.sR(t)}if((0,Tn.EM)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.values){const r=t.values[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,values:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,values:void 0})))),new Tn.mR(t)}return e}function Yi({schema:e,resolvers:t,defaultFieldResolver:n,resolverValidationOptions:r={},inheritResolversFromInterfaces:i=!1,updateResolversInPlace:o=!1}){const{requireResolversToMatchSchema:s="error",requireResolversForResolveType:a}=r,u=i?_i(e,t):t;for(const c in u){const t=u[c];if("object"!==typeof t)throw new Error(`"${c}" defined in resolvers, but has invalid value "${t}". The resolver's value must be of type object.`);const n=e.getType(c);if(null==n){if("ignore"===s)continue;throw new Error(`"${c}" defined in resolvers, but not in schema`)}if((0,En.u1)(n))for(const e in t)e.startsWith("__")?n[e.substring(2)]=t[e]:n[e]=t[e];else if((0,Tn.EM)(n)){const e=n.getValues();for(const r in t)if(!r.startsWith("__")&&!e.some((e=>e.name===r))&&s&&"ignore"!==s)throw new Error(`${n.name}.${r} was defined in resolvers, but not present within ${n.name}`)}else if((0,Tn.EN)(n)){for(const e in t)if(!e.startsWith("__")&&s&&"ignore"!==s)throw new Error(`${n.name}.${e} was defined in resolvers, but ${n.name} is not an object or interface type`)}else if((0,Tn.lp)(n)||(0,Tn.oT)(n))for(const e in t)if(!e.startsWith("__")){if(null==n.getFields()[e]){if(s&&"ignore"!==s)throw new Error(`${c}.${e} defined in resolvers, but not in schema`)}else{const n=t[e];if("function"!==typeof n&&"object"!==typeof n)throw new Error(`Resolver ${c}.${e} must be object or function`)}}}return e=o?function(e,t,n){var r,i,o,s,a,u,c,f,l,d,h,p;const m=e.getTypeMap();for(const y in t){const n=e.getType(y),g=t[y];if((0,Tn.KA)(n))for(const e in g)e.startsWith("__")?n[e.substring(2)]=g[e]:"astNode"===e&&null!=n.astNode?n.astNode={...n.astNode,description:null!==(i=null===(r=null===g||void 0===g?void 0:g.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:n.astNode.description,directives:(null!==(o=n.astNode.directives)&&void 0!==o?o:[]).concat(null!==(a=null===(s=null===g||void 0===g?void 0:g.astNode)||void 0===s?void 0:s.directives)&&void 0!==a?a:[])}:"extensionASTNodes"===e&&null!=n.extensionASTNodes?n.extensionASTNodes=n.extensionASTNodes.concat(null!==(u=null===g||void 0===g?void 0:g.extensionASTNodes)&&void 0!==u?u:[]):"extensions"===e&&null!=n.extensions&&null!=g.extensions?n.extensions=Object.assign(Object.create(null),n.extensions,g.extensions):n[e]=g[e];else if((0,Tn.EM)(n)){const e=n.toConfig(),t=e.values;for(const r in g)r.startsWith("__")?e[r.substring(2)]=g[r]:"astNode"===r&&null!=e.astNode?e.astNode={...e.astNode,description:null!==(f=null===(c=null===g||void 0===g?void 0:g.astNode)||void 0===c?void 0:c.description)&&void 0!==f?f:e.astNode.description,directives:(null!==(l=e.astNode.directives)&&void 0!==l?l:[]).concat(null!==(h=null===(d=null===g||void 0===g?void 0:g.astNode)||void 0===d?void 0:d.directives)&&void 0!==h?h:[])}:"extensionASTNodes"===r&&null!=e.extensionASTNodes?e.extensionASTNodes=e.extensionASTNodes.concat(null!==(p=null===g||void 0===g?void 0:g.extensionASTNodes)&&void 0!==p?p:[]):"extensions"===r&&null!=n.extensions&&null!=g.extensions?n.extensions=Object.assign(Object.create(null),n.extensions,g.extensions):t[r]&&(t[r].value=g[r]);m[y]=new Tn.mR(e)}else if((0,Tn.EN)(n))for(const e in g)e.startsWith("__")&&(n[e.substring(2)]=g[e]);else if((0,Tn.lp)(n)||(0,Tn.oT)(n))for(const e in g){if(e.startsWith("__")){n[e.substring(2)]=g[e];continue}const t=n.getFields()[e];if(null!=t){const n=g[e];"function"===typeof n?t.resolve=n.bind(g):Wi(t,n)}}}Ai(e,ki),Di(e),Ai(e,Ci),null!=n&&Mi(e,(e=>{e.resolve||(e.resolve=n)}));return e}(e,u,n):function(e,t,n){e=ji(e,{[Ui.SCALAR_TYPE]:e=>{var n,r,i,o,s,a;const u=e.toConfig(),c=t[e.name];if(!(0,En.u1)(e)&&null!=c){for(const t in c)t.startsWith("__")?u[t.substring(2)]=c[t]:"astNode"===t&&null!=u.astNode?u.astNode={...u.astNode,description:null!==(r=null===(n=null===c||void 0===c?void 0:c.astNode)||void 0===n?void 0:n.description)&&void 0!==r?r:u.astNode.description,directives:(null!==(i=u.astNode.directives)&&void 0!==i?i:[]).concat(null!==(s=null===(o=null===c||void 0===c?void 0:c.astNode)||void 0===o?void 0:o.directives)&&void 0!==s?s:[])}:"extensionASTNodes"===t&&null!=u.extensionASTNodes?u.extensionASTNodes=u.extensionASTNodes.concat(null!==(a=null===c||void 0===c?void 0:c.extensionASTNodes)&&void 0!==a?a:[]):"extensions"===t&&null!=u.extensions&&null!=c.extensions?u.extensions=Object.assign(Object.create(null),e.extensions,c.extensions):u[t]=c[t];return new Tn.n2(u)}},[Ui.ENUM_TYPE]:e=>{var n,r,i,o,s,a;const u=t[e.name],c=e.toConfig(),f=c.values;if(null!=u){for(const t in u)t.startsWith("__")?c[t.substring(2)]=u[t]:"astNode"===t&&null!=c.astNode?c.astNode={...c.astNode,description:null!==(r=null===(n=null===u||void 0===u?void 0:u.astNode)||void 0===n?void 0:n.description)&&void 0!==r?r:c.astNode.description,directives:(null!==(i=c.astNode.directives)&&void 0!==i?i:[]).concat(null!==(s=null===(o=null===u||void 0===u?void 0:u.astNode)||void 0===o?void 0:o.directives)&&void 0!==s?s:[])}:"extensionASTNodes"===t&&null!=c.extensionASTNodes?c.extensionASTNodes=c.extensionASTNodes.concat(null!==(a=null===u||void 0===u?void 0:u.extensionASTNodes)&&void 0!==a?a:[]):"extensions"===t&&null!=c.extensions&&null!=u.extensions?c.extensions=Object.assign(Object.create(null),e.extensions,u.extensions):f[t]&&(f[t].value=u[t]);return new Tn.mR(c)}},[Ui.UNION_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new Tn.Gp(t)}},[Ui.OBJECT_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__isTypeOf&&(t.isTypeOf=n.__isTypeOf),new Tn.h6(t)}},[Ui.INTERFACE_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new Tn.oW(t)}},[Ui.COMPOSITE_FIELD]:(e,n,r)=>{const i=t[r];if(null!=i){const t=i[n];if(null!=t){const n={...e};return"function"===typeof t?n.resolve=t.bind(i):Wi(n,t),n}}}}),null!=n&&(e=ji(e,{[Ui.OBJECT_FIELD]:e=>({...e,resolve:null!=e.resolve?e.resolve:n})}));return e}(e,u,n),a&&"ignore"!==a&&function(e,t){ji(e,{[Ui.ABSTRACT_TYPE]:e=>{if(!e.resolveType){const n=`Type "${e.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}})}(e,a),e}function Wi(e,t){for(const n in t)e[n]=t[n]}function Xi(e,t,n,r,i){if(n.resolve){if("function"!==typeof n.resolve)throw new Error(`Resolver "${r}.${i}" must be a function`)}else{const n=`Resolver missing for "${r}.${i}".\nTo disable this validator, use:\n  resolverValidationOptions: {\n    ${e}: 'ignore'\n  }`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}function Qi(e){return null!=e.fieldNodes[0].alias?e.fieldNodes[0].alias.value:e.fieldName}!function(e){e.TYPE="MapperKind.TYPE",e.SCALAR_TYPE="MapperKind.SCALAR_TYPE",e.ENUM_TYPE="MapperKind.ENUM_TYPE",e.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",e.OBJECT_TYPE="MapperKind.OBJECT_TYPE",e.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",e.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",e.UNION_TYPE="MapperKind.UNION_TYPE",e.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",e.ROOT_OBJECT="MapperKind.ROOT_OBJECT",e.QUERY="MapperKind.QUERY",e.MUTATION="MapperKind.MUTATION",e.SUBSCRIPTION="MapperKind.SUBSCRIPTION",e.DIRECTIVE="MapperKind.DIRECTIVE",e.FIELD="MapperKind.FIELD",e.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",e.OBJECT_FIELD="MapperKind.OBJECT_FIELD",e.ROOT_FIELD="MapperKind.ROOT_FIELD",e.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",e.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",e.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",e.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",e.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",e.ARGUMENT="MapperKind.ARGUMENT",e.ENUM_VALUE="MapperKind.ENUM_VALUE"}(Ui||(Ui={}));var Zi=n(1394);let eo;if("undefined"===typeof AggregateError){class e extends Error{constructor(t,n=""){super(n),this.errors=t,this.name="AggregateError",Error.captureStackTrace(this,e)}}eo=function(t,n){return new e(t,n)}}else eo=AggregateError;var to=n(9380),no=n(6422),ro=n(77),io=n(9878);const oo=new Ti.NZ({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[io.B.FRAGMENT_SPREAD,io.B.INLINE_FRAGMENT],args:{if:{type:new Tn.bM(En.EZ),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:En.kH,description:"Unique name"}}}),so=new Ti.NZ({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[io.B.FIELD],args:{if:{type:new Tn.bM(En.EZ),description:"Stream when true or undefined.",defaultValue:!0},label:{type:En.kH,description:"Unique name"},initialCount:{defaultValue:0,type:En._o,description:"Number of items to return immediately"}}});class ao extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(e,t){const n=this.get(e);void 0===n?this.set(e,[t]):n.push(t)}}function uo(e,t,n,r,i,o,s,a){for(const c of i.selections)switch(c.kind){case In.h.FIELD:if(!fo(n,c))continue;o.add((u=c).alias?u.alias.value:u.name.value,c);break;case In.h.INLINE_FRAGMENT:{if(!fo(n,c)||!lo(e,c,r))continue;const i=ho(n,c);if(i){const o=new ao;uo(e,t,n,r,c.selectionSet,o,s,a),s.push({label:i.label,fields:o})}else uo(e,t,n,r,c.selectionSet,o,s,a);break}case In.h.FRAGMENT_SPREAD:{const i=c.name.value;if(!fo(n,c))continue;const u=ho(n,c);if(a.has(i)&&!u)continue;const f=t[i];if(!f||!lo(e,f,r))continue;if(u||a.add(i),u){const i=new ao;uo(e,t,n,r,f.selectionSet,i,s,a),s.push({label:u.label,fields:i})}else uo(e,t,n,r,f.selectionSet,o,s,a);break}}var u}function co(e,t,n,r,i){const o=new ao,s=[];return uo(e,t,n,r,i,o,s,new Set),{fields:o,patches:s}}function fo(e,t){const n=(0,no.zu)(Ti.QE,t,e);if(!0===(null===n||void 0===n?void 0:n.if))return!1;const r=(0,no.zu)(Ti.Yf,t,e);return!1!==(null===r||void 0===r?void 0:r.if)}function lo(e,t,n){const r=t.typeCondition;if(!r)return!0;const i=(0,ro._)(e,r);if(i===n)return!0;if((0,Tn.m0)(i)){return e.getPossibleTypes(i).includes(n)}return!1}function ho(e,t){const n=(0,no.zu)(oo,t,e);if(n&&!1!==n.if)return{label:"string"===typeof n.label?n.label:void 0}}const po=oi((function(e,t,n,r,i){const o=new ao,s=new Set,a=[],u={fields:o,patches:a};for(const c of i)c.selectionSet&&uo(e,t,n,r,c.selectionSet,o,a,s);return u})),mo=Symbol.for("subschemaErrors"),yo=Symbol.for("initialSubschema"),go=Symbol.for("subschemaMap");function vo(e){return void 0!==e[mo]}function wo(e,t){var n;return null!==(n=e[go][t])&&void 0!==n?n:e[yo]}function bo(e){return e[mo]}const Eo=[],To=Object.create(null);const Io=ni((function(e){return[e]}));function _o(e,t,n,r,i){var o;const s=e.delegationPlanBuilder(i.schema,n,null!=i.variableValues&&Object.keys(i.variableValues).length>0?i.variableValues:To,null!=i.fragments&&Object.keys(i.fragments).length>0?i.fragments:To,(null===(o=i.fieldNodes)||void 0===o?void 0:o.length)?1===i.fieldNodes.length?Io(i.fieldNodes[0]):i.fieldNodes:Eo);return(a=s,u=n=>function(e,t,n,r,i){const o=n[mo],s=(0,to.N)(i.path),a=n[go];function u(e,t,r){var u;if(e instanceof Error||null==e){const o=t.transformedSchema||i.schema,a=o.getType(n.__typename),{fields:u}=co(o,To,To,a,r),c={};for(const[t,n]of u){const r=[...s,t];e instanceof An.__?c[t]=gi(e,r):e instanceof Error?c[t]=(0,Zi.y)(e,n,r):c[t]=null}e=c}else e[mo]&&o.push(...e[mo]);const c=e[yo],f=e[go];for(const i in e){const t=n[i],r=e[i];null==r&&null!=t||(n[i]=r),a[i]=null!==(u=null===f||void 0===f?void 0:f[i])&&void 0!==u?u:c}}return wi.all([...t.entries()].map((([t,o])=>new wi((()=>{const s=(t.transformedSchema||i.schema).getType(n.__typename),a=e.resolvers.get(t);if(a)return a(n,r,i,t,o,void 0,s)})).then((e=>u(e,t,o))).catch((e=>u(e,t,o)))))).then((()=>{}))}(e,n,t,r,i),a.reduce(((e,t)=>e.then((()=>u(t)))),new wi((()=>{})))).then((()=>t));var a,u}function Ao(e,t,n,r,i,o=function(e){if(null==e)throw new Error("Return type cannot be inferred without a source schema.");return e.returnType}(i),s){const a=(0,Tn.tf)(o);return e instanceof Error?e:null==e?function(e){if(e.length){const t=[];for(const n of e)So.has(n)||(t.push(n),So.set(n,!0));if(t.length){if(1===t.length)return t[0];const e=new eo(t,t.map((e=>e.message)).join(", \n"));return(0,Zi.y)(e,void 0,t[0].path)}}return null}(t):"parseValue"in a?a.parseValue(e):(0,Tn.Gv)(a)?function(e,t,n,r,i,o,s){var a;vo(t)||function(e,t,n,r){Object.defineProperties(e,{[yo]:{value:n},[go]:{value:r},[mo]:{value:t}})}(t,n,r,Object.create(null));if(s||null==o)return t;const u=null===(a=o.schema.extensions)||void 0===a?void 0:a.stitchingInfo;if(null==u)return t;const c=(0,Tn.m0)(e)?t.__typename:e.name,f=u.mergedTypes[c];let l;null!=f&&(l=f.targetSubschemas.get(r));if(!l||!l.length)return t;return _o(f,t,r,i,o).resolve()}(a,e,t,n,r,i,s):(0,Tn.HG)(a)?Array.isArray(e)?function(e,t,n,r,i,o,s){return t.map((t=>Ao(t,n,r,i,o,e.ofType,s)))}(a,e,t,n,r,i,s):Ao(e,t,n,r,i,a.ofType,s):void 0}const So=new WeakMap;function No(e,t,n,r){if(!e)return null;const i=Qi(r);if(!vo(e))return(0,wn.El)(e,t,n,r);return Ao(e[i],bo(e),wo(e,i),n,r)}function xo(e){return Boolean(null===e||void 0===e?void 0:e.schema)}function Oo(e){var t,n;const r={...e,transforms:null!=e.transforms?[...e.transforms]:void 0};if(null!=r.merge){r.merge={...e.merge};for(const i in r.merge){const o=r.merge[i]={...null!==(n=null===(t=e.merge)||void 0===t?void 0:t[i])&&void 0!==n?n:{}};if(null!=o.entryPoints&&(o.entryPoints=o.entryPoints.map((e=>({...e})))),null!=o.fields){const e=o.fields={...o.fields};for(const t in e)e[t]={...e[t]}}}}return r}const ko=ri((function(e,t){const n=t.transforms;return null==n?e:n.reduce(((e,n)=>{var r;return(null===(r=n.transformSchema)||void 0===r?void 0:r.call(n,e,t))||e}),e)}));class Co{constructor(e){var t;this.schema=e.schema,this.executor=e.executor,this.batch=e.batch,this.batchingOptions=e.batchingOptions,this.createProxyingResolver=e.createProxyingResolver,this.transforms=null!==(t=e.transforms)&&void 0!==t?t:[],this.merge=e.merge}get transformedSchema(){var e,t;return this._transformedSchema||(null!=(null===(t=null===(e=globalThis.process)||void 0===e?void 0:e.env)||void 0===t?void 0:t.DEBUG)&&console.warn("Transformed schema is not set yet. Returning a dummy one."),this._transformedSchema=ko(this.schema,this)),this._transformedSchema}set transformedSchema(e){this._transformedSchema=e}}function Do(e,t,n){const r=Uo(e).get(t);if(null==r)throw yi(`Schema is not configured to execute ${t} operation.`,{nodes:n});return r}const Mo=ni((function(e){const t=Ro(e);return new Set([...t].map((e=>e.name)))})),Ro=ni((function(e){const t=Uo(e);return new Set(t.values())})),Uo=ni((function(e){const t=new Map,n=e.getQueryType();n&&t.set("query",n);const r=e.getMutationType();r&&t.set("mutation",r);const i=e.getSubscriptionType();return i&&t.set("subscription",i),t}));function Bo(e){return Lo(e,[])}function Lo(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(e instanceof Error)return"errors"in(n=e)&&Array.isArray(n.errors)?Po(e)+"\n"+jo(e.errors,t):Po(e);var n;if(t.includes(e))return"[Circular]";const r=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:Lo(t,r)}else if(Array.isArray(e))return jo(e,r);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>3)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";return"{ "+n.map((([e,n])=>e+": "+Lo(n,t))).join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}function Po(e){return e instanceof An.__?e.toString():`${e.name}: ${e.message};\n ${e.stack}`}function jo(e,t){if(0===e.length)return"[]";if(t.length>3)return"[Array]";const n=e.length,r=[];for(let i=0;i<n;++i)r.push(Lo(e[i],t));return"["+r.join(", ")+"]"}var Fo=n(2319),$o=n(4635);let Vo={};function zo(){Vo={}}function Go(e){var t;const n=null===(t=e.name)||void 0===t?void 0:t.value;if(null!=n)switch(qo(e,n),e.kind){case"EnumTypeDefinition":if(e.values)for(const t of e.values)qo(t,n,t.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields)for(const t of e.fields)if(qo(t,n,t.name.value),es(t)&&t.arguments)for(const e of t.arguments)qo(e,n,t.name.value,e.name.value)}}function qo(e,t,n,r){const i=ns(e);if("string"!==typeof i||0===i.length)return;const o=[t];n&&(o.push(n),r&&o.push(r));const s=o.join(".");Vo[s]||(Vo[s]=[]),Vo[s].push(i)}function Ho(e){return"\n# "+e.replace(/\n/g,"\n# ")}function Jo(e,t){return e?e.filter((e=>e)).join(t||""):""}function Ko(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}function Yo(e){return e&&`  ${e.replace(/\n/g,"\n  ")}`}function Wo(e){return e&&0!==e.length?`{\n${Yo(Jo(e,"\n"))}\n}`:""}function Xo(e,t,n){return t?e+t+(n||""):""}const Qo={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Jo(e.definitions,"\n\n")},OperationDefinition:{leave:e=>{const t=Xo("(",Jo(e.variableDefinitions,", "),")");return Jo([e.operation,Jo([e.name,t]),Jo(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+Xo(" = ",n)+Xo(" ",Jo(r," "))},SelectionSet:{leave:({selections:e})=>Wo(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=Xo("",e,": ")+t;let s=o+Xo("(",Jo(n,", "),")");return s.length>80&&(s=o+Xo("(\n",Yo(Jo(n,"\n")),"\n)")),Jo([s,Jo(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Xo(" ",Jo(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Jo(["...",Xo("on ",e),Jo(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${Xo("(",Jo(n,", "),")")} on ${t} ${Xo("",Jo(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t=!1){const n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?`"""\n${t?n:Yo(n)}\n"""`:`"""${n.replace(/"$/,'"\n')}"""`}(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Jo(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Jo(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Xo("(",Jo(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>Jo(["schema",Jo(e," "),Wo(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>Jo(["scalar",e,Jo(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Jo(["type",e,Xo("implements ",Jo(t," & ")),Jo(n," "),Wo(r)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:n,directives:r})=>e+(Ko(t)?Xo("(\n",Yo(Jo(t,"\n")),"\n)"):Xo("(",Jo(t,", "),")"))+": "+n+Xo(" ",Jo(r," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:n,directives:r})=>Jo([e+": "+t,Xo("= ",n),Jo(r," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Jo(["interface",e,Xo("implements ",Jo(t," & ")),Jo(n," "),Wo(r)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:n})=>Jo(["union",e,Jo(t," "),Xo("= ",Jo(n," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:n})=>Jo(["enum",e,Jo(t," "),Wo(n)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>Jo([e,Jo(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:n})=>Jo(["input",e,Jo(t," "),Wo(n)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:n,locations:r})=>"directive @"+e+(Ko(t)?Xo("(\n",Yo(Jo(t,"\n")),"\n)"):Xo("(",Jo(t,", "),")"))+(n?" repeatable":"")+" on "+Jo(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Jo(["extend schema",Jo(e," "),Wo(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Jo(["extend scalar",e,Jo(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Jo(["extend type",e,Xo("implements ",Jo(t," & ")),Jo(n," "),Wo(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Jo(["extend interface",e,Xo("implements ",Jo(t," & ")),Jo(n," "),Wo(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Jo(["extend union",e,Jo(t," "),Xo("= ",Jo(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Jo(["extend enum",e,Jo(t," "),Wo(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Jo(["extend input",e,Jo(t," "),Wo(n)]," ")}},Zo=Object.keys(Qo).reduce(((e,t)=>{return{...e,[t]:{leave:(n=Qo[t].leave,(e,t,r,i,o)=>{var s;const a=[],u=i.reduce(((e,t)=>(["fields","arguments","values"].includes(t)&&e.name&&a.push(e.name.value),e[t])),o[0]),c=[...a,null===(s=null===u||void 0===u?void 0:u.name)||void 0===s?void 0:s.value].filter(Boolean).join("."),f=[];return e.kind.includes("Definition")&&Vo[c]&&f.push(...Vo[c]),Jo([...f.map(Ho),e.description,n(e,t,r,i,o)],"\n")})}};var n}),{});function es(e){return"FieldDefinition"===e.kind}function ts(e,t){return null!=e.description?e.description.value:(null===t||void 0===t?void 0:t.commentDescriptions)?ns(e):void 0}function ns(e){const t=function(e){const t=e.loc;if(!t)return;const n=[];let r=t.startToken.prev;for(;null!=r&&r.kind===$o.T.COMMENT&&null!=r.next&&null!=r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){const e=String(r.value);n.push(e),r=r.prev}return n.length>0?n.reverse().join("\n"):void 0}(e);if(void 0!==t)return function(e){const t=e.split(/\r\n|[\n\r]/g),n=function(e){let t=null;for(let n=1;n<e.length;n++){const r=e[n],i=rs(r);if(i!==r.length&&((null===t||i<t)&&(t=i,0===t)))break}return null===t?0:t}(t);if(0!==n)for(let r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&is(t[0]);)t.shift();for(;t.length>0&&is(t[t.length-1]);)t.pop();return t.join("\n")}(`\n${t}`)}function rs(e){let t=0;for(;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function is(e){return rs(e)===e.length}const os={commentDescriptions:!0};var ss=function(e){switch(e.kind){case In.h.OBJECT_TYPE_DEFINITION:return function(e){const t={name:e.name.value,description:ts(e,os),interfaces:()=>{var t;return(null===(t=e.interfaces)||void 0===t?void 0:t.map((e=>Bi(e.name.value,"interface"))))||[]},fields:()=>null!=e.fields?as(e.fields):{},astNode:e};return new Tn.h6(t)}(e);case In.h.INTERFACE_TYPE_DEFINITION:return function(e){const t={name:e.name.value,description:ts(e,os),interfaces:()=>{var t;return null===(t=e.interfaces)||void 0===t?void 0:t.map((e=>Bi(e.name.value,"interface")))},fields:()=>null!=e.fields?as(e.fields):{},astNode:e};return new Tn.oW(t)}(e);case In.h.ENUM_TYPE_DEFINITION:return function(e){var t,n;const r=null!==(n=null===(t=e.values)||void 0===t?void 0:t.reduce(((e,t)=>({...e,[t.name.value]:{description:ts(t,os),deprecationReason:fs(t),astNode:t}})),{}))&&void 0!==n?n:{};return new Tn.mR({name:e.name.value,description:ts(e,os),values:r,astNode:e})}(e);case In.h.UNION_TYPE_DEFINITION:return function(e){return new Tn.Gp({name:e.name.value,description:ts(e,os),types:()=>{var t,n;return null!==(n=null===(t=e.types)||void 0===t?void 0:t.map((e=>Bi(e.name.value,"object"))))&&void 0!==n?n:[]},astNode:e})}(e);case In.h.SCALAR_TYPE_DEFINITION:return function(e){return new Tn.n2({name:e.name.value,description:ts(e,os),astNode:e,serialize:e=>e})}(e);case In.h.INPUT_OBJECT_TYPE_DEFINITION:return function(e){return new Tn.sR({name:e.name.value,description:ts(e,os),fields:()=>e.fields?us(e.fields):{},astNode:e})}(e);case In.h.DIRECTIVE_DEFINITION:return function(e){var t;const n=[];for(const r of e.locations){const e=r.value;cs(e)&&n.push(e)}return new Ti.NZ({name:e.name.value,description:null!=e.description?e.description.value:null,locations:n,isRepeatable:e.repeatable,args:us(null!==(t=e.arguments)&&void 0!==t?t:[]),astNode:e})}(e);default:return null}};function as(e){return e.reduce(((e,t)=>{var n;return{...e,[t.name.value]:{type:Li(t.type,"output"),description:ts(t,os),args:us(null!==(n=t.arguments)&&void 0!==n?n:[]),deprecationReason:fs(t),astNode:t}}}),{})}function us(e){return e.reduce(((e,t)=>({...e,[t.name.value]:{type:Li(t.type,"input"),defaultValue:void 0!==t.defaultValue?(0,Fo.M)(t.defaultValue):void 0,description:ts(t,os),astNode:t}})),{})}function cs(e){return e in io.B}function fs(e){const t=(0,no.zu)(Ti.fg,e);return null===t||void 0===t?void 0:t.reason}var ls,ds=n(7926);function hs(e){let t=e;for(;t.kind===In.h.LIST_TYPE||"NonNullType"===t.kind;)t=t.type;return t}function ps(e){return e.kind!==In.h.NAMED_TYPE}function ms(e){return e.kind===In.h.LIST_TYPE}function ys(e){return e.kind===In.h.NON_NULL_TYPE}function gs(e){return ms(e)?`[${gs(e.type)}]`:ys(e)?`${gs(e.type)}!`:e.name.value}function vs(e,t){return null==e&&null==t?ls.A_EQUALS_B:null==e?ls.A_SMALLER_THAN_B:null==t?ls.A_GREATER_THAN_B:e<t?ls.A_SMALLER_THAN_B:e>t?ls.A_GREATER_THAN_B:ls.A_EQUALS_B}!function(e){e[e.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",e[e.A_EQUALS_B=0]="A_EQUALS_B",e[e.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"}(ls||(ls={}));var ws,bs=n(6918);function Es(e,t){return!!e.find((e=>e.name.value===t.name.value))}function Ts(e,t){var n;return!!(null===(n=null===t||void 0===t?void 0:t[e.name.value])||void 0===n?void 0:n.repeatable)}function Is(e,t){const n=[...t];for(const r of e){const e=n.findIndex((e=>e.name.value===r.name.value));if(e>-1){const t=n[e];if("ListValue"===t.value.kind){const e=t.value.values,n=r.value.values;t.value.values=Ss(e,n,((e,t)=>{const n=e.value;return!n||!t.some((e=>e.value===n))}))}else t.value=r.value}else n.push(r)}return n}function _s(e=[],t=[],n,r){const i=n&&n.reverseDirectives,o=i?t:e,s=function(e,t){return e.map(((e,n,r)=>{const i=r.findIndex((t=>t.name.value===e.name.value));if(i!==n&&!Ts(e,t)){const t=r[i];return e.arguments=Is(e.arguments,t.arguments),null}return e})).filter(xi)}([...i?e:t],r);for(const a of o)if(Es(s,a)&&!Ts(a,r)){const e=s.findIndex((e=>e.name.value===a.name.value)),t=s[e];s[e].arguments=Is(a.arguments||[],t.arguments||[])}else s.push(a);return s}function As(e,t){return t?(function(e,t){const n=(0,bs.S)({...e,description:void 0}),r=(0,bs.S)({...t,description:void 0}),i=new RegExp("(directive @w*d*)|( on .*$)","g");if(n.replace(i,"")!==r.replace(i,""))throw new Error(`Unable to merge GraphQL directive "${e.name.value}". \nExisting directive:  \n\t${r} \nReceived directive: \n\t${n}`)}(e,t),{...e,locations:[...t.locations,...e.locations.filter((e=>!function(e,t){return t.some((({value:t})=>t===e.value))}(e,t.locations)))]}):e}function Ss(e,t,n){return e.concat(t.filter((t=>n(t,e))))}function Ns(e,t,n){const r=function(e,t){return e.reduce(((e,n)=>{const r=e.findIndex((e=>e.name.value===n.name.value));return-1===r?e.concat([n]):((null===t||void 0===t?void 0:t.reverseArguments)||(e[r]=n),e)}),[])}([...t,...e].filter(xi),n);return n&&n.sort&&r.sort(Ni),r}function xs(e,t){const n=e.findIndex((e=>e.name.value===t.name.value));return[n>-1?e[n]:null,n]}function Os(e,t,n,r,i){const o=[];if(null!=n&&o.push(...n),null!=t)for(const s of t){const[t,n]=xs(o,s);if(t&&!(null===r||void 0===r?void 0:r.ignoreFieldConflicts)){const a=(null===r||void 0===r?void 0:r.onFieldTypeConflict)&&r.onFieldTypeConflict(t,s,e,null===r||void 0===r?void 0:r.throwOnConflict)||ks(e,t,s,null===r||void 0===r?void 0:r.throwOnConflict);a.arguments=Ns(s.arguments||[],t.arguments||[],r),a.directives=_s(s.directives,t.directives,r,i),a.description=s.description||t.description,o[n]=a}else o.push(s)}if(r&&r.sort&&o.sort(Ni),r&&r.exclusions){const t=r.exclusions;return o.filter((n=>!t.includes(`${e.name.value}.${n.name.value}`)))}return o}function ks(e,t,n,r=!1){const i=gs(t.type),o=gs(n.type);if(i!==o){const s=hs(t.type),a=hs(n.type);if(s.name.value!==a.name.value)throw new Error(`Field "${n.name.value}" already defined with a different type. Declared as "${s.name.value}", but you tried to override with "${a.name.value}"`);if(!Cs(t.type,n.type,!r))throw new Error(`Field '${e.name.value}.${t.name.value}' changed type from '${i}' to '${o}'`)}return ys(n.type)&&!ys(t.type)&&(t.type=n.type),t}function Cs(e,t,n=!1){if(!ps(e)&&!ps(t))return e.toString()===t.toString();if(ys(t)){return Cs(ys(e)?e.type:e,t.type)}return ys(e)?Cs(t,e,n):!!ms(e)&&(ms(t)&&Cs(e.type,t.type)||ys(t)&&Cs(e,t.type))}function Ds(e=[],t=[],n={}){const r=[...t,...e.filter((e=>{return n=e,!t.find((e=>e.name.value===n.name.value));var n}))];return n&&n.sort&&r.sort(Ni),r}function Ms(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:(null===n||void 0===n?void 0:n.convertExtensions)||"ObjectTypeDefinition"===e.kind||"ObjectTypeDefinition"===t.kind?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:Os(e,e.fields,t.fields,n),directives:_s(e.directives,t.directives,n,r),interfaces:Ds(e.interfaces,t.interfaces,n)}}catch(i){throw new Error(`Unable to merge GraphQL type "${e.name.value}": ${i.message}`)}return(null===n||void 0===n?void 0:n.convertExtensions)?{...e,kind:In.h.OBJECT_TYPE_DEFINITION}:e}function Rs(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:(null===n||void 0===n?void 0:n.convertExtensions)||"InputObjectTypeDefinition"===e.kind||"InputObjectTypeDefinition"===t.kind?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:Os(e,e.fields,t.fields,n),directives:_s(e.directives,t.directives,n,r)}}catch(i){throw new Error(`Unable to merge GraphQL input type "${e.name.value}": ${i.message}`)}return(null===n||void 0===n?void 0:n.convertExtensions)?{...e,kind:In.h.INPUT_OBJECT_TYPE_DEFINITION}:e}function Us(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:(null===n||void 0===n?void 0:n.convertExtensions)||"InterfaceTypeDefinition"===e.kind||"InterfaceTypeDefinition"===t.kind?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:Os(e,e.fields,t.fields,n),directives:_s(e.directives,t.directives,n,r),interfaces:e.interfaces?Ds(e.interfaces,t.interfaces,n):void 0}}catch(i){throw new Error(`Unable to merge GraphQL interface "${e.name.value}": ${i.message}`)}return(null===n||void 0===n?void 0:n.convertExtensions)?{...e,kind:In.h.INTERFACE_TYPE_DEFINITION}:e}function Bs(e,t,n,r){return t?{name:e.name,description:e.description||t.description,directives:_s(e.directives,t.directives,n,r),kind:(null===n||void 0===n?void 0:n.convertExtensions)||"UnionTypeDefinition"===e.kind||"UnionTypeDefinition"===t.kind?In.h.UNION_TYPE_DEFINITION:In.h.UNION_TYPE_EXTENSION,loc:e.loc,types:Ds(e.types,t.types,n)}:(null===n||void 0===n?void 0:n.convertExtensions)?{...e,kind:In.h.UNION_TYPE_DEFINITION}:e}function Ls(e,t,n,r){if(null===n||void 0===n?void 0:n.consistentEnumMerge){const n=[];e&&n.push(...e),e=t,t=n}const i=new Map;if(e)for(const s of e)i.set(s.name.value,s);if(t)for(const s of t){const e=s.name.value;if(i.has(e)){const t=i.get(e);t.description=s.description||t.description,t.directives=_s(s.directives,t.directives,r)}else i.set(e,s)}const o=[...i.values()];return n&&n.sort&&o.sort(Ni),o}function Ps(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:(null===n||void 0===n?void 0:n.convertExtensions)||"EnumTypeDefinition"===e.kind||"EnumTypeDefinition"===t.kind?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:_s(e.directives,t.directives,n,r),values:Ls(e.values,t.values,n)}:(null===n||void 0===n?void 0:n.convertExtensions)?{...e,kind:In.h.ENUM_TYPE_DEFINITION}:e}function js(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:(null===n||void 0===n?void 0:n.convertExtensions)||"ScalarTypeDefinition"===e.kind||"ScalarTypeDefinition"===t.kind?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:_s(e.directives,t.directives,n,r)}:(null===n||void 0===n?void 0:n.convertExtensions)?{...e,kind:In.h.SCALAR_TYPE_DEFINITION}:e}function Fs(e,t,n){const r=`${t[0].type.name}.${t[0].fieldName}`,i=t.map((e=>e.inputFieldConfig)),o=(0,Tn.xC)(e.type),s=(0,Tn.zM)(e.type);$s(e,i,"input field",r,n),qs(r,n).strictNullComparison&&t.some((e=>s!==(0,Tn.zM)(e.inputFieldConfig.type)))?Gs(`Nullability of input field "${r}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,r,n):!s&&t.some((e=>(0,Tn.zM)(e.inputFieldConfig.type)))&&Gs(`Canonical definition of input field "${r}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,r,n),(0,Tn.EM)(o)&&zs(o,i,n)}function $s(e,t,n,r,i){var o,s,a;const u=(0,Tn.xC)(e.type),c=(0,Tn.KA)(u),f=Vs(e.type);for(const l of t){if(f!==Vs(l.type))throw new Error(`Definitions of ${n} "${r}" implement inconsistent list types across subschemas and cannot be merged.`);const e=(0,Tn.xC)(l.type);if(u.toString()!==e.toString()){const t=!!(null===(a=null===(s=null===(o=null===i||void 0===i?void 0:i.validationSettings)||void 0===o?void 0:o.proxiableScalars)||void 0===s?void 0:s[u.toString()])||void 0===a?void 0:a.includes(e.toString())),f=c&&(0,Tn.KA)(e),l=t&&f;if(t&&!f)throw new Error(`Types ${u} and ${e} are not proxiable scalars.`);l||Gs(`Definitions of ${n} "${r}" implement inconsistent named types across subschemas. This will be an automatic error in future versions.`,r,i)}}}function Vs(e){return(0,Tn.HG)((0,Tn.tf)(e))}function zs(e,t,n){const r=Object.create(null);for(const i of t){const e=(0,Tn.xC)(i.type);if((0,Tn.EM)(e))for(const{value:t}of e.getValues())r[t]=r[t]||0,r[t]+=1}Object.values(r).some((e=>t.length!==e))&&Gs(`Enum "${e.name}" is used as an input with inconsistent values across subschemas. This will be an automatic error in future versions.`,e.name,n)}function Gs(e,t,n){var r;const i=`typeMergingOptions.validationScopes['${t}'].validationLevel`;switch(null!==(r=qs(t,n).validationLevel)&&void 0!==r?r:ws.Warn){case ws.Off:return;case ws.Error:throw new Error(`${e} If this is intentional, you may disable this error by setting ${i} = "warn|off"`);default:console.warn(`${e} To disable this warning or elevate it to an error, set ${i} = "error|off"`)}}function qs(e,t){var n,r,i;return{...null!==(n=null===t||void 0===t?void 0:t.validationSettings)&&void 0!==n?n:{},...null!==(i=null===(r=null===t||void 0===t?void 0:t.validationScopes)||void 0===r?void 0:r[e])&&void 0!==i?i:{}}}function Hs(e,t,n){const r=t[0].type;if(t.some((e=>e.type.constructor!==r.constructor)))throw new Error(`Cannot merge different type categories into common type ${e}.`);if((0,Tn.lp)(r))return function(e,t,n){const r=Xs(t=Ys(t,n),n),i=Zs(t,n),o=t.map((e=>e.type.toConfig())).map((e=>e.interfaces)).reduce(((e,t)=>{if(null!=t)for(const n of t)e[n.name]=n;return e}),Object.create(null)),s=Object.values(o),a=Js("astNode",t),u=ra(t).map((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.astNode})).filter((e=>null!=e));a.length>1&&u.length&&a.push({...a[a.length-1],fields:JSON.parse(JSON.stringify(u))});const c=a.slice(1).reduce(((e,t)=>Ms(t,e,{ignoreFieldConflicts:!0})),a[0]),f=Js("extensionASTNodes",t),l=Object.assign({},...Js("extensions",t)),d={name:e,description:r,fields:i,interfaces:s,astNode:c,extensionASTNodes:f,extensions:l};return new Tn.h6(d)}(e,t,n);if((0,Tn.hL)(r))return function(e,t,n){const r=Xs(t=Ys(t,n),n),i=function(e,t){var n;const r=Object.create(null),i=Object.create(null);for(const s of e){const e=s.type.toConfig().fields;for(const t in e){const n=e[t];i[t]=i[t]||0,i[t]+=1;const o={inputFieldConfig:n,fieldName:t,type:s.type,subschema:s.subschema,transformedSubschema:s.transformedSubschema};t in r?r[t].push(o):r[t]=[o]}}!function(e,t,n){for(const r in e){const i=e[r];if(t.length!==i){const e=`${t[0].type.name}.${r}`;Gs(`Definition of input field "${e}" is not implemented by all subschemas. Input may be filtered from some requests.`,e,n)}}}(i,e,t);const o=Object.create(null);for(const s in r){const e=null!==(n=null===t||void 0===t?void 0:t.inputFieldConfigMerger)&&void 0!==n?n:na;o[s]=e(r[s]),Fs(o[s],r[s],t)}return o}(t,n),o=Js("astNode",t),s=ra(t).map((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.astNode})).filter((e=>null!=e));o.length>1&&s.length&&o.push({...o[o.length-1],fields:JSON.parse(JSON.stringify(s))});const a=o.slice(1).reduce(((e,t)=>Rs(t,e,{ignoreFieldConflicts:!0})),o[0]),u=Js("extensionASTNodes",t),c=Object.assign({},...Js("extensions",t)),f={name:e,description:r,fields:i,astNode:a,extensionASTNodes:u,extensions:c};return new Tn.sR(f)}(e,t,n);if((0,Tn.oT)(r))return function(e,t,n){const r=Xs(t=Ys(t,n),n),i=Zs(t,n),o=t.map((e=>e.type.toConfig())).map((e=>"interfaces"in e?e.interfaces:[])).reduce(((e,t)=>{if(null!=t)for(const n of t)e[n.name]=n;return e}),Object.create(null)),s=Object.values(o),a=Js("astNode",t),u=ra(t).map((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.astNode})).filter((e=>null!=e));a.length>1&&u.length&&a.push({...a[a.length-1],fields:JSON.parse(JSON.stringify(u))});const c=a.slice(1).reduce(((e,t)=>Us(t,e,{ignoreFieldConflicts:!0})),a[0]),f=Js("extensionASTNodes",t),l=Object.assign({},...Js("extensions",t)),d={name:e,description:r,fields:i,interfaces:s,astNode:c,extensionASTNodes:f,extensions:l};return new Tn.oW(d)}(e,t,n);if((0,Tn.EN)(r))return function(e,t,n){const r=Xs(t=Ys(t,n),n),i=t.map((e=>{if(!(0,Tn.EN)(e.type))throw new Error(`Expected ${e.type} to be a union type!`);return e.type.toConfig()})).reduce(((e,t)=>{for(const n of t.types)e[n.name]=n;return e}),Object.create(null)),o=Object.values(i),s=Js("astNode",t),a=s.slice(1).reduce(((e,t)=>Bs(t,e)),s[0]),u=Js("extensionASTNodes",t),c=Object.assign({},...Js("extensions",t)),f={name:e,description:r,types:o,astNode:a,extensionASTNodes:u,extensions:c};return new Tn.Gp(f)}(e,t,n);if((0,Tn.EM)(r))return function(e,t,n){const r=Xs(t=Ys(t,n),n),i=function(e,t){var n;const r=Object.create(null);for(const o of e){const e=o.type.toConfig().values;for(const t in e){const n={enumValueConfig:e[t],enumValue:t,type:o.type,subschema:o.subschema,transformedSubschema:o.transformedSubschema};t in r?r[t].push(n):r[t]=[n]}}const i=Object.create(null);for(const o in r){const e=null!==(n=null===t||void 0===t?void 0:t.enumValueConfigMerger)&&void 0!==n?n:Ks;i[o]=e(r[o])}return i}(t,n),o=Js("astNode",t),s=o.slice(1).reduce(((e,t)=>Ps(t,e,{consistentEnumMerge:!0})),o[0]),a=Js("extensionASTNodes",t),u=Object.assign({},...Js("extensions",t)),c={name:e,description:r,values:i,astNode:s,extensionASTNodes:a,extensions:u};return new Tn.mR(c)}(e,t,n);if((0,Tn.KA)(r))return function(e,t,n){const r=Xs(t=Ys(t,n),n),i=Js("serialize",t),o=i[i.length-1],s=Js("parseValue",t),a=s[s.length-1],u=Js("parseLiteral",t),c=u[u.length-1],f=Js("astNode",t),l=f.slice(1).reduce(((e,t)=>js(t,e)),f[0]),d=Js("extensionASTNodes",t),h=Object.assign({},...Js("extensions",t)),p={name:e,description:r,serialize:o,parseValue:a,parseLiteral:c,astNode:l,extensionASTNodes:d,extensions:h};return new Tn.n2(p)}(e,t,n);throw new Error(`Type ${e} has unknown GraphQL type.`)}function Js(e,t){return t.map((t=>t.type[e])).filter((e=>null!=e))}function Ks(e){return(e.find((({type:e,transformedSubschema:t})=>{var n,r;return xo(t)&&(null===(r=null===(n=t.merge)||void 0===n?void 0:n[e.name])||void 0===r?void 0:r.canonical)}))||e[e.length-1]).enumValueConfig}function Ys(e,t){var n;const r=(null!==(n=null===t||void 0===t?void 0:t.typeCandidateMerger)&&void 0!==n?n:Ws)(e);return e.filter((e=>e!==r)).concat([r])}function Ws(e){const t=e.filter((({type:e,transformedSubschema:t})=>{var n,r;return!!xo(t)&&(null===(r=null===(n=t.merge)||void 0===n?void 0:n[e.name])||void 0===r?void 0:r.canonical)}));if(t.length>1)throw new Error(`Multiple canonical definitions for "${t[0].type.name}"`);return t.length?t[0]:e[e.length-1]}function Xs(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.typeDescriptionsMerger)&&void 0!==n?n:Qs)(e)}function Qs(e){return e[e.length-1].type.description}function Zs(e,t){const n=Object.create(null);for(const i of e){const e=i.type.toConfig().fields;for(const t in e){const r={fieldConfig:e[t],fieldName:t,type:i.type,subschema:i.subschema,transformedSubschema:i.transformedSubschema};t in n?n[t].push(r):n[t]=[r]}}const r=Object.create(null);for(const i in n)r[i]=ea(n[i],t);return r}function ea(e,t){var n;const r=(null!==(n=null===t||void 0===t?void 0:t.fieldConfigMerger)&&void 0!==n?n:ta)(e);return function(e,t,n){const r=`${t[0].type.name}.${t[0].fieldName}`,i=(0,Tn.zM)(e.type);$s(e,t.map((e=>e.fieldConfig)),"field",r,n),qs(r,n).strictNullComparison&&t.some((e=>i!==(0,Tn.zM)(e.fieldConfig.type)))?Gs(`Nullability of field "${r}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,r,n):i&&t.some((e=>!(0,Tn.zM)(e.fieldConfig.type)))&&Gs(`Canonical definition of field "${r}" is not-null while some subschemas permit null. This will be an automatic error in future versions.`,r,n);const o=Object.create(null);for(const{fieldConfig:s}of t)if(null!=s.args)for(const e in s.args){const t=s.args[e];o[e]=o[e]||[],o[e].push(t)}Object.values(o).some((e=>t.length!==e.length))&&Gs(`Canonical definition of field "${r}" implements inconsistent argument names across subschemas. Input may be filtered from some requests.`,r,n);for(const s in o){if(null==e.args)continue;const t=o[s],i=`${r}.${s}`,a=e.args[s]||t[t.length-1],u=(0,Tn.xC)(a.type),c=(0,Tn.zM)(a.type);$s(a,t,"argument",i,n),qs(i,n).strictNullComparison&&t.some((e=>c!==(0,Tn.zM)(e.type)))?Gs(`Nullability of argument "${i}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,i,n):!c&&t.some((e=>(0,Tn.zM)(e.type)))&&Gs(`Canonical definition of argument "${i}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,i,n),(0,Tn.EM)(u)&&zs(u,t,n)}}(r,e,t),r}function ta(e){var t,n,r,i,o,s;const a=[],u=[];for(const{type:c,fieldName:f,fieldConfig:l,transformedSubschema:d}of e)xo(d)&&((null===(i=null===(r=null===(n=null===(t=d.merge)||void 0===t?void 0:t[c.name])||void 0===n?void 0:n.fields)||void 0===r?void 0:r[f])||void 0===i?void 0:i.canonical)?a.push(l):(null===(s=null===(o=d.merge)||void 0===o?void 0:o[c.name])||void 0===s?void 0:s.canonical)&&u.push(l));if(a.length>1)throw new Error(`Multiple canonical definitions for "${e[0].type.name}.${e[0].fieldName}"`);return a.length?a[0]:u.length?u[0]:e[e.length-1].fieldConfig}function na(e){var t,n,r,i,o,s;const a=[],u=[];for(const{type:c,fieldName:f,inputFieldConfig:l,transformedSubschema:d}of e)xo(d)&&((null===(i=null===(r=null===(n=null===(t=d.merge)||void 0===t?void 0:t[c.name])||void 0===n?void 0:n.fields)||void 0===r?void 0:r[f])||void 0===i?void 0:i.canonical)?a.push(l):(null===(s=null===(o=d.merge)||void 0===o?void 0:o[c.name])||void 0===s?void 0:s.canonical)&&u.push(l));if(a.length>1)throw new Error(`Multiple canonical definitions for "${e[0].type.name}.${e[0].fieldName}"`);return a.length?a[0]:u.length?u[0]:e[e.length-1].inputFieldConfig}function ra(e){var t;const n=Object.create(null);for(const{type:r,transformedSubschema:i}of e){if(!xo(i))continue;const e=null===(t=i.merge)||void 0===t?void 0:t[r.name];if(null!=e&&null!=e.fields&&!e.canonical)for(const t in e.fields){e.fields[t].canonical&&(n[t]=!0)}}return Object.keys(n)}!function(e){e.Error="error",e.Warn="warn",e.Off="off"}(ws||(ws={}));var ia=n(5844);const oa={query:"Query",mutation:"Mutation",subscription:"Subscription"};function sa(e=[],t=[]){const n=[];for(const r in oa){const i=e.find((e=>e.operation===r))||t.find((e=>e.operation===r));i&&n.push(i)}return n}function aa(e,t,n,r){return t?{kind:e.kind===In.h.SCHEMA_DEFINITION||t.kind===In.h.SCHEMA_DEFINITION?In.h.SCHEMA_DEFINITION:In.h.SCHEMA_EXTENSION,description:e.description||t.description,directives:_s(e.directives,t.directives,n,r),operationTypes:sa(e.operationTypes,t.operationTypes)}:(null===n||void 0===n?void 0:n.convertExtensions)?{...e,kind:In.h.SCHEMA_DEFINITION}:e}const ua="SCHEMA_DEF_SYMBOL";function ca(e,t,n={}){var r,i,o;const s=n;for(const a of e)if("name"in a){const e=null===(r=a.name)||void 0===r?void 0:r.value;if((null===t||void 0===t?void 0:t.commentDescriptions)&&Go(a),null==e)continue;if((null===(i=null===t||void 0===t?void 0:t.exclusions)||void 0===i?void 0:i.includes(e+".*"))||(null===(o=null===t||void 0===t?void 0:t.exclusions)||void 0===o?void 0:o.includes(e)))delete s[e];else switch(a.kind){case In.h.OBJECT_TYPE_DEFINITION:case In.h.OBJECT_TYPE_EXTENSION:s[e]=Ms(a,s[e],t,n);break;case In.h.ENUM_TYPE_DEFINITION:case In.h.ENUM_TYPE_EXTENSION:s[e]=Ps(a,s[e],t,n);break;case In.h.UNION_TYPE_DEFINITION:case In.h.UNION_TYPE_EXTENSION:s[e]=Bs(a,s[e],t,n);break;case In.h.SCALAR_TYPE_DEFINITION:case In.h.SCALAR_TYPE_EXTENSION:s[e]=js(a,s[e],t,n);break;case In.h.INPUT_OBJECT_TYPE_DEFINITION:case In.h.INPUT_OBJECT_TYPE_EXTENSION:s[e]=Rs(a,s[e],t,n);break;case In.h.INTERFACE_TYPE_DEFINITION:case In.h.INTERFACE_TYPE_EXTENSION:s[e]=Us(a,s[e],t,n);break;case In.h.DIRECTIVE_DEFINITION:s[e]=As(a,s[e])}}else a.kind!==In.h.SCHEMA_DEFINITION&&a.kind!==In.h.SCHEMA_EXTENSION||(s[ua]=aa(a,s[ua],t));return s}var fa=n(2433),la=n(8631);function da(e){if((0,Tn.zM)(e)){const t=da(e.ofType);if(t.kind===In.h.NON_NULL_TYPE)throw new Error(`Invalid type node ${Bo(e)}. Inner type of non-null type cannot be a non-null type.`);return{kind:In.h.NON_NULL_TYPE,type:t}}return(0,Tn.HG)(e)?{kind:In.h.LIST_TYPE,type:da(e.ofType)}:{kind:In.h.NAMED_TYPE,name:{kind:In.h.NAME,value:e.name}}}function ha(e,t=["directives"]){return t.reduce(((e,t)=>null==e?e:e[t]),null===e||void 0===e?void 0:e.extensions)}function pa(e){if(null===e)return{kind:In.h.NULL};if(void 0===e)return null;if(Array.isArray(e)){const t=[];for(const n of e){const e=pa(n);null!=e&&t.push(e)}return{kind:In.h.LIST,values:t}}if("object"===typeof e){const t=[];for(const n in e){const r=pa(e[n]);r&&t.push({kind:In.h.OBJECT_FIELD,name:{kind:In.h.NAME,value:n},value:r})}return{kind:In.h.OBJECT,fields:t}}if("boolean"===typeof e)return{kind:In.h.BOOLEAN,value:e};if("number"===typeof e&&isFinite(e)){const t=String(e);return ma.test(t)?{kind:In.h.INT,value:t}:{kind:In.h.FLOAT,value:t}}if("string"===typeof e)return{kind:In.h.STRING,value:e};throw new TypeError(`Cannot convert value to AST: ${e}.`)}const ma=/^-?(?:0|[1-9][0-9]*)$/;function ya(e,t={}){const n=t.pathToDirectivesInExtensions,r=e.getTypeMap(),i=function(e,t){var n,r;const i=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),o=[];null!=e.astNode&&o.push(e.astNode);if(null!=e.extensionASTNodes)for(const f of e.extensionASTNodes)o.push(f);for(const f of o)if(f.operationTypes)for(const e of f.operationTypes)i.set(e.operation,e);const s=Uo(e);for(const[f,l]of i){const e=s.get(f);if(null!=e){const t=da(e);null!=l?l.type=t:i.set(f,{kind:In.h.OPERATION_TYPE_DEFINITION,operation:f,type:t})}}const a=[...i.values()].filter(xi),u=va(e,e,t);if(!a.length&&!u.length)return null;const c={kind:null!=a?In.h.SCHEMA_DEFINITION:In.h.SCHEMA_EXTENSION,operationTypes:a,directives:u};return c.description=(null!==(r=null===(n=e.astNode)||void 0===n?void 0:n.description)&&void 0!==r?r:null!=e.description)?{kind:In.h.STRING,value:e.description,block:!0}:void 0,c}(e,n),o=null!=i?[i]:[],s=e.getDirectives();for(const a of s)(0,Ti.xg)(a)||o.push(ga(a,e,n));for(const a in r){const t=r[a],i=(0,En.u1)(t),s=(0,fa.s9)(t);if(!i&&!s)if((0,Tn.lp)(t))o.push(Ea(t,e,n));else if((0,Tn.oT)(t))o.push(Ta(t,e,n));else if((0,Tn.EN)(t))o.push(Ia(t,e,n));else if((0,Tn.hL)(t))o.push(_a(t,e,n));else if((0,Tn.EM)(t))o.push(Aa(t,e,n));else{if(!(0,Tn.KA)(t))throw new Error(`Unknown type ${t}.`);o.push(Sa(t,e,n))}}return{kind:In.h.DOCUMENT,definitions:o}}function ga(e,t,n){var r,i,o,s;return{kind:In.h.DIRECTIVE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description}:void 0,name:{kind:In.h.NAME,value:e.name},arguments:null===(o=e.args)||void 0===o?void 0:o.map((e=>ba(e,t,n))),repeatable:e.isRepeatable,locations:(null===(s=e.locations)||void 0===s?void 0:s.map((e=>({kind:In.h.NAME,value:e}))))||[]}}function va(e,t,n){const r=ha(e,n);let i,o=[];if(null!=e.astNode&&o.push(e.astNode),"extensionASTNodes"in e&&null!=e.extensionASTNodes&&(o=o.concat(e.extensionASTNodes)),null!=r)i=Oa(t,r);else{i=[];for(const e of o)e.directives&&i.push(...e.directives)}return i}function wa(e,t,n){var r,i;let o=[],s=null;const a=ha(e,n);let u;return u=null!=a?Oa(t,a):null===(r=e.astNode)||void 0===r?void 0:r.directives,null!=u&&(o=u.filter((e=>"deprecated"!==e.name.value)),null!=e.deprecationReason&&(s=null===(i=u.filter((e=>"deprecated"===e.name.value)))||void 0===i?void 0:i[0])),null!=e.deprecationReason&&null==s&&(s=xa("deprecated",{reason:e.deprecationReason},Ti.fg)),null==s?o:[s].concat(o)}function ba(e,t,n){var r,i,o;return{kind:In.h.INPUT_VALUE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},type:da(e.type),defaultValue:void 0!==e.defaultValue&&null!==(o=(0,la.J)(e.defaultValue,e.type))&&void 0!==o?o:void 0,directives:wa(e,t,n)}}function Ea(e,t,n){var r,i;return{kind:In.h.OBJECT_TYPE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>Na(e,t,n))),interfaces:Object.values(e.getInterfaces()).map((e=>da(e))),directives:va(e,t,n)}}function Ta(e,t,n){var r,i;const o={kind:In.h.INTERFACE_TYPE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>Na(e,t,n))),directives:va(e,t,n)};return"getInterfaces"in e&&(o.interfaces=Object.values(e.getInterfaces()).map((e=>da(e)))),o}function Ia(e,t,n){var r,i;return{kind:In.h.UNION_TYPE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},directives:va(e,t,n),types:e.getTypes().map((e=>da(e)))}}function _a(e,t,n){var r,i;return{kind:In.h.INPUT_OBJECT_TYPE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>function(e,t,n){var r,i,o;return{kind:In.h.INPUT_VALUE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},type:da(e.type),directives:wa(e,t,n),defaultValue:null!==(o=(0,la.J)(e.defaultValue,e.type))&&void 0!==o?o:void 0}}(e,t,n))),directives:va(e,t,n)}}function Aa(e,t,n){var r,i;return{kind:In.h.ENUM_TYPE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},values:Object.values(e.getValues()).map((e=>function(e,t,n){var r,i;return{kind:In.h.ENUM_VALUE_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},directives:wa(e,t,n)}}(e,t,n))),directives:va(e,t,n)}}function Sa(e,t,n){var r,i,o;const s=ha(e,n),a=s?Oa(t,s):(null===(r=e.astNode)||void 0===r?void 0:r.directives)||[],u=e.specifiedByUrl||e.specifiedByURL;if(u&&!a.some((e=>"specifiedBy"===e.name.value))){const e={url:u};a.push(xa("specifiedBy",e))}return{kind:In.h.SCALAR_TYPE_DEFINITION,description:null!==(o=null===(i=e.astNode)||void 0===i?void 0:i.description)&&void 0!==o?o:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},directives:a}}function Na(e,t,n){var r,i;return{kind:In.h.FIELD_DEFINITION,description:null!==(i=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==i?i:e.description?{kind:In.h.STRING,value:e.description,block:!0}:void 0,name:{kind:In.h.NAME,value:e.name},arguments:e.args.map((e=>ba(e,t,n))),type:da(e.type),directives:wa(e,t,n)}}function xa(e,t,n){const r=[];if(null!=n)for(const i of n.args){const e=i.name,n=t[e];if(void 0!==n){const t=(0,la.J)(n,i.type);t&&r.push({kind:In.h.ARGUMENT,name:{kind:In.h.NAME,value:e},value:t})}}else for(const i in t){const e=pa(t[i]);e&&r.push({kind:In.h.ARGUMENT,name:{kind:In.h.NAME,value:i},value:e})}return{kind:In.h.DIRECTIVE,name:{kind:In.h.NAME,value:e},arguments:r}}function Oa(e,t){const n=[];for(const r in t){const i=t[r],o=null===e||void 0===e?void 0:e.getDirective(r);if(Array.isArray(i))for(const e of i)n.push(xa(r,e,o));else n.push(xa(r,i,o))}return n}function ka(e,t){zo();const n={kind:In.h.DOCUMENT,definitions:Da(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};let r;var i;return(null===t||void 0===t?void 0:t.commentDescriptions)?(i=n,r=(0,ai.Vn)(i,Zo)):r=n,zo(),r}function Ca(e,t,n=[],r=[],i=new Set){if(e&&!i.has(e))if(i.add(e),"function"===typeof e)Ca(e(),t,n,r,i);else if(Array.isArray(e))for(const s of e)Ca(s,t,n,r,i);else if((0,Dr.nN)(e)){Ca(ya(e,t).definitions,t,n,r,i)}else if("string"===typeof e||function(e){return e instanceof ds.H}(e)){Ca((0,bn.Qc)(e,t).definitions,t,n,r,i)}else if("object"===typeof e&&(0,ia.Ir)(e))e.kind===In.h.DIRECTIVE_DEFINITION?n.push(e):r.push(e);else{if(!(o=e)||"object"!==typeof o||!("kind"in o)||o.kind!==In.h.DOCUMENT)throw new Error("typeDefs must contain only strings, documents, schemas, or functions, got "+typeof e);Ca(e.definitions,t,n,r,i)}var o;return{allDirectives:n,allNodes:r}}function Da(e,t){var n,r,i;zo();const{allDirectives:o,allNodes:s}=Ca(e,t),a=ca(o,t),u=ca(s,t,a);if(null===t||void 0===t?void 0:t.useSchemaDefinition){const e=u[ua]||{kind:In.h.SCHEMA_DEFINITION,operationTypes:[]},t=e.operationTypes;for(const n in oa){if(!t.find((e=>e.operation===n))){const e=u[oa[n]];null!=e&&null!=e.name&&t.push({kind:In.h.OPERATION_TYPE_DEFINITION,type:{kind:In.h.NAMED_TYPE,name:e.name},operation:n})}}null!=(null===(n=null===e||void 0===e?void 0:e.operationTypes)||void 0===n?void 0:n.length)&&e.operationTypes.length>0&&(u[ua]=e)}(null===t||void 0===t?void 0:t.forceSchemaDefinition)&&!(null===(i=null===(r=u[ua])||void 0===r?void 0:r.operationTypes)||void 0===i?void 0:i.length)&&(u[ua]={kind:In.h.SCHEMA_DEFINITION,operationTypes:[{kind:In.h.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:In.h.NAMED_TYPE,name:{kind:In.h.NAME,value:"Query"}}}]});const c=Object.values(u);if(null===t||void 0===t?void 0:t.sort){const e="function"===typeof t.sort?t.sort:vs;c.sort(((t,n)=>{var r,i;return e(null===(r=t.name)||void 0===r?void 0:r.value,null===(i=n.name)||void 0===i?void 0:i.value)}))}return c}const Ma=function(e){const t=new WeakMap;return function(n,r,i,o){let s=t.get(n);if(!s){s=new WeakMap,t.set(n,s);const a=e(n,r,i,o);return s.set(r,a),a}const a=s.get(r);if(void 0===a){const t=e(n,r,i,o);return s.set(r,t),t}return a}}((function(e,t,n,r){return bi(t,n,r)}));function Ra(e){return"object"===typeof e&&null!=e&&Symbol.asyncIterator in e&&"function"===typeof e[Symbol.asyncIterator]}function Ua(e,t,n){let r,i,o;function s(e){return e.done?e:Ba(e.value,t).then(La,i)}if("function"===typeof e.return&&(r=e.return,i=t=>{const n=()=>Promise.reject(t);return r.call(e).then(n,n)}),n){const e=n;o=t=>Ba(t,e).then(La,i)}return{next:()=>e.next().then(s,o),return:()=>r?r.call(e).then(s,o):Promise.resolve({value:void 0,done:!0}),throw:t=>"function"===typeof e.throw?e.throw(t).then(s,o):Promise.reject(t).catch(i),[Symbol.asyncIterator](){return this}}}function Ba(e,t){return new Promise((n=>n(t(e))))}function La(e){return{value:e,done:!1}}function Pa(e,t,n,r,i,o,s){e[r]={kind:In.h.ARGUMENT,name:{kind:In.h.NAME,value:r},value:{kind:In.h.VARIABLE,name:{kind:In.h.NAME,value:i}}},t[i]={kind:In.h.VARIABLE_DEFINITION,variable:{kind:In.h.VARIABLE,name:{kind:In.h.NAME,value:i}},type:da(o)},void 0===s?i in n&&delete n[i]:n[i]=s}function ja(e){let t=0;return n=>{let r;do{r=`_v${(t++).toString()}_${n}`}while(r in e);return r}}function Fa(e,t){return e===t.getMutationType()?"mutation":e===t.getSubscriptionType()?"subscription":"query"}function $a({sourceSchema:e,sourceParentType:t,sourceFieldName:n,fragments:r,variableDefinitions:i,variableValues:o,targetRootValue:s,targetOperationName:a,targetOperation:u,targetFieldName:c,selectionSet:f,fieldNodes:l,context:d,info:h}){var p,m;let y;const g=Object.create(null);if(null!=f)y=f;else{const e=[];for(const n of l||[])if(n.selectionSet)for(const t of n.selectionSet.selections)e.push(t);y=e.length?{kind:In.h.SELECTION_SET,selections:e}:void 0;const t=null===(p=null===l||void 0===l?void 0:l[0])||void 0===p?void 0:p.arguments;if(t)for(const n of t)g[n.name.value]=n}const v=Object.create(null),w=Object.create(null);if(null!=e&&null!=i)for(const _ of i){const t=_.variable.name.value;w[t]=_;const n=ki((0,ro._)(e,_.type),null===o||void 0===o?void 0:o[t]);void 0!==n&&(v[t]=n)}null!=t&&null!=n&&function(e,t,n,r,i){const o=ja(r),s=e.getFields()[t];if(!s)throw new Error(`Field "${t}" was not found in type "${e}".`);for(const a of s.args){const e=a.name,t=a.type;if(void 0===n[e]){const s=a.defaultValue;void 0!==s&&Pa(n,r,i,e,o(e),t,ki(t,s))}}}(t,n,g,w,v);const b=null!==c&&void 0!==c?c:null===(m=null===l||void 0===l?void 0:l[0])||void 0===m?void 0:m.name.value;if(void 0===b)throw new Error('Either "targetFieldName" or a non empty "fieldNodes" array must be provided.');const E={kind:In.h.FIELD,arguments:Object.values(g),name:{kind:In.h.NAME,value:b},selectionSet:y},T=a?{kind:In.h.NAME,value:a}:void 0,I=[{kind:In.h.OPERATION_DEFINITION,name:T,operation:u,variableDefinitions:Object.values(w),selectionSet:{kind:In.h.SELECTION_SET,selections:[E]}}];if(null!=r)for(const _ in r){const e=r[_];I.push(e)}return{document:{kind:In.h.DOCUMENT,definitions:I},variables:v,rootValue:s,operationName:a,context:d,info:h,operationType:u}}var Va=n(2676),za=n(316);function Ga(e,t,n){return null!=n&&null!=t&&(t===n||!(!(0,Tn.Gv)(t)||!(0,Tn.Gv)(n))&&(0,za.zR)(e,t,n))}function qa(e){const t=[],n=[],r=new Set;for(let i=0;i<e.definitions.length;i++){const o=e.definitions[i];o.kind===In.h.FRAGMENT_DEFINITION?(n.push(o),r.add(o.name.value)):o.kind===In.h.OPERATION_DEFINITION&&t.push(o)}return{operations:t,fragments:n,fragmentNames:r}}function Ha(e,t,n,r){const i=function(e,t,n){const r=(0,Tn.xC)(e);if(!(0,Tn.Gv)(r))return n;const i=Mo(t),o=new Va.a(t),s={Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]};return(0,ai.Vn)(n,(0,Va.y)(o,{[In.h.FRAGMENT_DEFINITION]:e=>{const t=e.typeCondition.name.value;if(!i.has(t))return!1},[In.h.FIELD]:e=>{const t=o.getType();if(null!=t&&(0,Tn.m0)((0,Tn.xC)(t)))return{...e,selectionSet:{kind:In.h.SELECTION_SET,selections:[{kind:In.h.INLINE_FRAGMENT,typeCondition:{kind:In.h.NAMED_TYPE,name:{kind:In.h.NAME,value:r.name}},selectionSet:e.selectionSet}]}}}}),s)}(n,t,e);if(null==r)return i;const{possibleTypesMap:o,reversePossibleTypesMap:s,interfaceExtensionsMap:a,fieldNodesByType:u,fieldNodesByField:c,dynamicSelectionSetsByField:f}=Ka(r,t),{operations:l,fragments:d,fragmentNames:h}=qa(i),{expandedFragments:p,fragmentReplacements:m}=function(e,t,n){let r=0;function i(e){let n;do{n=`_${e}_Fragment${r.toString()}`,r++}while(t.has(n));return n}const o=[],s=Object.create(null);for(const a of e){const e=n[a.typeCondition.name.value];if(null!=e){const n=a.name.value;s[n]=[];for(const r of e){const e=i(r);t.add(e),o.push({kind:In.h.FRAGMENT_DEFINITION,name:{kind:In.h.NAME,value:e},typeCondition:{kind:In.h.NAMED_TYPE,name:{kind:In.h.NAME,value:r}},selectionSet:a.selectionSet}),s[n].push({fragmentName:e,typeName:r})}}}return{expandedFragments:o,fragmentReplacements:s}}(d,h,o),y=new Va.a(t),g={kind:In.h.DOCUMENT,definitions:[...l,...d,...p]};return(0,ai.Vn)(g,(0,Va.y)(y,{[In.h.SELECTION_SET]:e=>function(e,t,n,r,i,o,s,a,u,c){var f,l;const d=new Set,h=r.getParentType();if(null!=h){const r=(0,Tn.xC)(h),p=r.name,m=a[p];if(m)for(const e of m)d.add(e);const y=s[r.name],g=[];for(const o of e.selections)if(o.kind===In.h.INLINE_FRAGMENT){if(null!=o.typeCondition){const e=i[o.typeCondition.name.value];if(null==e){d.add(o);continue}for(const t of e){const e=n.getType(t);null!=e&&Ga(n,r,e)&&d.add(Ja(t,o.selectionSet))}}}else if(o.kind===In.h.FRAGMENT_SPREAD){const e=o.name.value;if(!t[e]){d.add(o);continue}for(const i of t[e]){const e=i.typeName;null!=n.getType(e)&&Ga(n,r,h)&&d.add({kind:In.h.FRAGMENT_SPREAD,name:{kind:In.h.NAME,value:i.fragmentName}})}}else{const e=o.name.value,t=null===(f=u[p])||void 0===f?void 0:f[e];if(null!=t)for(const r of t)d.add(r);const n=null===(l=c[p])||void 0===l?void 0:l[e];if(null!=n)for(const r of n){const e=r(o);if(null!=e)for(const t of e.selections)d.add(t)}(null===y||void 0===y?void 0:y[e])?g.push(o):d.add(o)}if(o[r.name]&&d.add({kind:In.h.FIELD,name:{kind:In.h.NAME,value:"__typename"}}),g.length){const e=i[r.name];if(null!=e)for(const t of e)d.add(Ja(t,{kind:In.h.SELECTION_SET,selections:g}))}return{...e,selections:Array.from(d)}}return e}(e,m,t,y,o,s,a,u,c,f)}),{Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]})}function Ja(e,t){return{kind:In.h.INLINE_FRAGMENT,typeCondition:{kind:In.h.NAMED_TYPE,name:{kind:In.h.NAME,value:e}},selectionSet:t}}const Ka=ri(((e,t)=>{var n,r,i,o;const s=e.getTypeMap(),a=t.getTypeMap(),u=Object.create(null),c=Object.create(null);for(const l in s){const t=s[l];if((0,Tn.m0)(t)){const n=a[l];if((0,Tn.oT)(t)&&(0,Tn.oT)(n)){const e=n.getFields(),r=t.getFields(),i=Object.create(null);let o=!0;for(const t in r)e[t]||(i[t]=!0,o=!1);o||(c[l]=i)}if(c[l]||!(0,Tn.m0)(n)){const n=e.getPossibleTypes(t);u[l]=[];for(const e of n)a[e.name]&&u[l].push(e.name)}}}const f=null===(n=e.extensions)||void 0===n?void 0:n.stitchingInfo;return{possibleTypesMap:u,reversePossibleTypesMap:Ya(u),interfaceExtensionsMap:c,fieldNodesByType:null!==(r=null===f||void 0===f?void 0:f.fieldNodesByType)&&void 0!==r?r:{},fieldNodesByField:null!==(i=null===f||void 0===f?void 0:f.fieldNodesByField)&&void 0!==i?i:{},dynamicSelectionSetsByField:null!==(o=null===f||void 0===f?void 0:f.dynamicSelectionSetsByField)&&void 0!==o?o:{}}}));function Ya(e){const t=Object.create(null);for(const n in e){const r=e[n];for(const e of r)t[e]||(t[e]=[]),t[e].push(n)}return t}function Wa(e,t){let{document:n,variables:r}=e,{operations:i,fragments:o}=qa(n);const{targetSchema:s,args:a}=t;if(a){const e=function(e,t,n){const r=Object.create(null);return{newOperations:t.map((t=>{var i,o;const s=(null!==(i=t.variableDefinitions)&&void 0!==i?i:[]).reduce(((e,t)=>({...e,[t.variable.name.value]:t})),{}),a=Do(e,t.operation),u=[];for(const e of t.selectionSet.selections)if(e.kind===In.h.FIELD){const t=(null!==(o=e.arguments)&&void 0!==o?o:[]).reduce(((e,t)=>({...e,[t.name.value]:t})),{}),i=a.getFields()[e.name.value];null!=i&&Xa(i,t,s,r,n),u.push({...e,arguments:Object.values(t)})}else u.push(e);const c={kind:In.h.SELECTION_SET,selections:u};return{...t,variableDefinitions:Object.values(s),selectionSet:c}})),newVariables:r}}(s,i,a);i=e.newOperations,r=Object.assign({},null!==r&&void 0!==r?r:{},e.newVariables)}const{usedVariables:u,newDocument:c}=function(e,t,n){var r;let i=[],o=[];const s=[];let a=[];const u=[],c=Object.create(null);for(const l of t){const t=l.typeCondition.name.value,n=e.getType(t);null!=n&&(u.push(l),c[l.name.value]=n)}let f=Object.create(null);for(const l of n){const t=Do(e,l.operation),{selectionSet:n,usedFragments:d,usedVariables:h}=tu(e,t,c,l.selectionSet);o=nu(o,d);const{usedVariables:p,newFragments:m,fragmentSet:y}=Qa(e,f,u,c,o),g=nu(h,p);i=nu(i,g),a=m,f=y;const v=(null!==(r=l.variableDefinitions)&&void 0!==r?r:[]).filter((e=>-1!==g.indexOf(e.variable.name.value)));s.push({kind:In.h.OPERATION_DEFINITION,operation:l.operation,name:l.name,directives:l.directives,variableDefinitions:v,selectionSet:n})}return{usedVariables:i,newDocument:{kind:In.h.DOCUMENT,definitions:[...s,...a]}}}(s,o,i),f={};if(null!=r)for(const l of u){const e=r[l];void 0!==e&&(f[l]=e)}return{...e,document:c,variables:f}}function Xa(e,t,n,r,i){const o=ja(n);for(const s of e.args){const e=s.name,a=s.type;e in i&&Pa(t,n,r,e,o(e),a,ki(a,i[e]))}}function Qa(e,t,n,r,i){let o=i.slice(),s=[];const a=[];for(;0!==o.length;){const i=o.pop(),u=n.find((e=>e.name.value===i));if(null!=u){const n=i,c=u.typeCondition.name.value,f=e.getType(c);if(null==f)throw new Error(`Fragment reference type "${c}", but the type is not contained within the target schema.`);const{selectionSet:l,usedFragments:d,usedVariables:h}=tu(e,f,r,u.selectionSet);o=nu(o,d),s=nu(s,h),n&&!(n in t)&&(t[n]=!0,a.push({kind:In.h.FRAGMENT_DEFINITION,name:{kind:In.h.NAME,value:n},typeCondition:u.typeCondition,selectionSet:l}))}}return{usedVariables:s,newFragments:a,fragmentSet:t}}const Za={SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]},eu={SelectionSet:["selections"],Field:["arguments","directives","selectionSet"],Argument:["value"],InlineFragment:["directives","selectionSet"],FragmentSpread:["directives"],FragmentDefinition:["selectionSet"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["arguments"],ListValue:["values"]};function tu(e,t,n,r){const i=[],o=[],s=_n.A.major<16?new Va.a(e,void 0,t):new Va.a(e,t),a=(0,ai.Vn)(r,(0,Va.y)(s,{[In.h.FIELD]:{enter:e=>{const t=s.getParentType();if((0,Tn.lp)(t)||(0,Tn.oT)(t)){const n=t.getFields(),r="__typename"===e.name.value?fa.hU:n[e.name.value];if(!r)return null;const i=null!=r.args?r.args:[],o=Object.create(null);for(const e of i)o[e.name]=e;if(null!=e.arguments){const t=[];for(const n of e.arguments)n.name.value in o&&t.push(n);if(t.length!==e.arguments.length)return{...e,arguments:t}}}},leave:t=>{const n=s.getType();if(null==n)throw new Error(`No type was found for field node ${Bo(t)}.`);const r=(0,Tn.xC)(n);if(null==!e.getType(r.name))return null;if((0,Tn.lp)(r)||(0,Tn.oT)(r)){const e=null!=t.selectionSet?t.selectionSet.selections:null;if(null==e||0===e.length)return null}}},[In.h.FRAGMENT_SPREAD]:{enter:t=>{if(!(t.name.value in n))return null;const r=s.getParentType(),o=n[t.name.value];if(!Ga(e,r,o))return null;i.push(t.name.value)}},[In.h.INLINE_FRAGMENT]:{enter:t=>{if(null!=t.typeCondition){const n=s.getParentType(),r=e.getType(t.typeCondition.name.value);if(!Ga(e,n,r))return null}}},[In.h.SELECTION_SET]:{leave:e=>{const t=s.getParentType();if(null!=t&&(0,Tn.m0)(t)){const t=e.selections.concat([{kind:In.h.FIELD,name:{kind:In.h.NAME,value:"__typename"}}]);return{...e,selections:t}}}}}),Za);return(0,ai.Vn)(a,{[In.h.VARIABLE]:e=>{o.push(e.name.value)}},eu),{selectionSet:a,usedFragments:i,usedVariables:o}}function nu(...e){const t=Object.create(null),n=[];for(const r of e)for(const e of r)e in t||(t[e]=!0,n.push(e));return n}function ru(e,t){const{context:n,info:r,fieldName:i=ou(r),subschema:o,returnType:s=su(r),skipTypeMerging:a,onLocatedError:u}=t,{data:c,unpathedErrors:f}=iu(null==e.data?void 0:e.data[i],null==e.errors?[]:e.errors,null!=r&&r.path?(0,to.N)(r.path):void 0,u);return Ao(c,f,o,n,r,s,a)}function iu(e,t,n,r,i=1){var o;if(null==e){if(!t.length)return{data:null,unpathedErrors:[]};if(1===t.length){const e=r?r(t[0]):t[0],i=void 0===n?e.path:e.path?n.concat(e.path.slice(1)):n;return{data:gi(t[0],i),unpathedErrors:[]}}const e=new eo(t,t.map((e=>e.message)).join(", \n"));return{data:(0,Zi.y)(e,void 0,n),unpathedErrors:[]}}if(!t.length)return{data:e,unpathedErrors:[]};const s=[],a=new Map;for(const u of t){const e=null===(o=u.path)||void 0===o?void 0:o[i];if(null!=e){let t=a.get(e);void 0===t?(t=[u],a.set(e,t)):t.push(u)}else s.push(u)}for(const[u,c]of a)if(void 0!==e[u]){const{data:t,unpathedErrors:o}=iu(e[u],c,n,r,i+1);e[u]=t,s.push(...o)}else s.push(...c);return{data:e,unpathedErrors:s}}function ou(e){if(null==e)throw new Error("Data cannot be extracted from result without an explicit key or source schema.");return Qi(e)}function su(e){if(null==e)throw new Error("Return type cannot be inferred without a source schema.");return e.returnType}class au{constructor(e){this.transformations=[],this.delegationContext=e;const t=e.transforms.slice().reverse();for(const n of t)this.addTransform(n,{})}addTransform(e,t={}){this.transformations.push({transform:e,context:t})}transformRequest(e){var t;let n={...e,document:Ha(e.document,this.delegationContext.transformedSchema,this.delegationContext.returnType,null===(t=this.delegationContext.info)||void 0===t?void 0:t.schema)};for(const r of this.transformations)r.transform.transformRequest&&(n=r.transform.transformRequest(n,this.delegationContext,r.context));return Wa(n,this.delegationContext)}transformResult(e){let t=e;for(let n=this.transformations.length-1;n>=0;n--){const e=this.transformations[n];e.transform.transformResult&&(t=e.transform.transformResult(t,this.delegationContext,e.context))}return ru(t,this.delegationContext)}}function uu(e){return"object"===typeof e&&null!==e}function cu(e){return uu(e)&&"function"===typeof e.then}function fu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lu(e,t,n){return{prev:e,key:t,typename:n}}function du(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}function hu(e){return e.map((e=>"number"===typeof e?"["+e.toString()+"]":"."+e)).join("")}var pu=n(2221);function mu(e,t,n={}){var r;const i={},o=(null!==(r=t.arguments)&&void 0!==r?r:[]).reduce(((e,t)=>({...e,[t.name.value]:t})),{});for(const{name:s,type:a,defaultValue:u}of e.args){const e=o[s];if(!e){if(void 0!==u)i[s]=u;else if((0,Tn.zM)(a))throw yi(`Argument "${s}" of required type "${Bo(a)}" was not provided.`,{nodes:[t]});continue}const r=e.value;let c=r.kind===In.h.NULL;if(r.kind===In.h.VARIABLE){const e=r.name.value;if(null==n||!fu(n,e)){if(void 0!==u)i[s]=u;else if((0,Tn.zM)(a))throw yi(`Argument "${s}" of required type "${Bo(a)}" was provided the variable "$${e}" which was not provided a runtime value.`,{nodes:[r]});continue}c=null==n[e]}if(c&&(0,Tn.zM)(a))throw yi(`Argument "${s}" of non-null type "${Bo(a)}" must not be null.`,{nodes:[r]});const f=(0,pu.u)(r,a,n);if(void 0===f)throw yi(`Argument "${s}" has invalid value ${(0,bs.S)(r)}.`,{nodes:[r]});i[s]=f}return i}var yu=n(7816);function gu(e,t,n,r){const i=[],o=null===r||void 0===r?void 0:r.maxErrors;try{const r=function(e,t,n,r){const i={};for(const o of t){const t=o.variable.name.value,s=(0,ro._)(e,o.type);if(!(0,Tn.j$)(s)){const e=(0,bs.S)(o.type);r(yi(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:o.type}));continue}if(!fu(n,t)){if(o.defaultValue)i[t]=(0,pu.u)(o.defaultValue,s);else if((0,Tn.zM)(s)){const e=Bo(s);r(yi(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:o}))}continue}const a=n[t];if(null===a&&(0,Tn.zM)(s)){const e=Bo(s);r(yi(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:o}))}else i[t]=(0,yu.K)(a,s,((e,n,i)=>{let s=`Variable "$${t}" got invalid value `+Bo(n);e.length>0&&(s+=` at "${t}${hu(e)}"`),r(yi(s+"; "+i.message,{nodes:o,originalError:i.originalError}))}))}return i}(e,t,n,(e=>{if(null!=o&&i.length>=o)throw yi("Too many errors processing variables, error limit reached. Execution aborted.");i.push(e)}));if(0===i.length)return{coerced:r}}catch(s){i.push(s)}return{errors:i}}async function vu(e){const t=Object.create(null);return await Promise.all(Object.entries(e).map((async([e,n])=>{t[e]=await n}))),t}function wu(e,t){if(!e)throw new Error(null!=t?t:"Unexpected invariant triggered.")}const bu=ii(((e,t,n)=>po(e.schema,e.fragments,e.variableValues,t,n)));function Eu(e){const t=Au(e);return"schema"in t?Tu(t):{errors:t.map((e=>{var t;return Object.defineProperty(e,"extensions",{value:{...e.extensions,http:{...null===(t=e.extensions)||void 0===t?void 0:t.http,status:400}}}),e}))}}function Tu(e){return new wi((()=>function(e){const{operation:t,schema:n,fragments:r,variableValues:i,rootValue:o}=e,s=Do(n,t.operation,[t]);null==s&&yi(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const{fields:a,patches:u}=co(n,r,i,s,t.selectionSet),c=void 0;let f;f="mutation"===t.operation?function(e,t,n,r,i){return function(e,t,n){let r=n;for(const i of e)r=cu(r)?r.then((e=>t(e,i))):t(r,i);return r}(i,((i,[o,s])=>{const a=lu(r,o,t.name);return new wi((()=>Nu(e,t,n,s,a))).then((e=>(void 0===e||(i[o]=e),i)))}),Object.create(null)).resolve()}(e,s,o,c,a):Su(e,s,o,c,a);for(const l of u){const{label:t,fields:n}=l;zu(e,s,o,n,t,c)}return f}(e))).then((t=>{const n=Iu(t,e.errors);return e.subsequentPayloads.size>0?{initialResult:{...n,hasNext:!0},subsequentResults:Ku(e)}:n}),(t=>(e.errors.push(t),Iu(null,e.errors)))).resolve()}function Iu(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}const _u=ni((function(e){const t=Object.create(null);for(const n of e.definitions)n.kind===In.h.FRAGMENT_DEFINITION&&(t[n.name.value]=n);return t}));function Au(e){var t,n;const{schema:r,document:i,rootValue:o,contextValue:s,variableValues:a,operationName:u,fieldResolver:c,typeResolver:f,subscribeFieldResolver:l}=e;(0,Cr.J)(r);const d=_u(i);let h;for(const m of i.definitions)switch(m.kind){case In.h.OPERATION_DEFINITION:if(null==u){if(void 0!==h)return[yi("Must provide operation name if query contains multiple operations.")];h=m}else(null===(t=m.name)||void 0===t?void 0:t.value)===u&&(h=m)}if(null==h)return null!=u?[yi(`Unknown operation named "${u}".`)]:[yi("Must provide an operation.")];const p=gu(r,null!==(n=h.variableDefinitions)&&void 0!==n?n:[],null!==a&&void 0!==a?a:{},{maxErrors:50});return p.errors?p.errors:{schema:r,fragments:d,rootValue:o,contextValue:s,operation:h,variableValues:p.coerced,fieldResolver:null!==c&&void 0!==c?c:Pu,typeResolver:null!==f&&void 0!==f?f:Lu,subscribeFieldResolver:null!==l&&void 0!==l?l:Pu,subsequentPayloads:new Set,errors:[]}}function Su(e,t,n,r,i,o){const s=Object.create(null);let a=!1;try{for(const[u,c]of i){const i=Nu(e,t,n,c,lu(r,u,t.name),o);void 0!==i&&(s[u]=i,cu(i)&&(a=!0))}}catch(u){if(a)return vu(s).finally((()=>{throw u}));throw u}return a?vu(s):s}function Nu(e,t,n,r,i,o){var s,a;const u=null!==(s=null===o||void 0===o?void 0:o.errors)&&void 0!==s?s:e.errors,c=Qu(e.schema,t,r[0]);if(!c)return;const f=c.type,l=null!==(a=c.resolve)&&void 0!==a?a:e.fieldResolver,d=xu(e,c,r,t,i);try{const t=mu(c,r[0],e.variableValues),s=l(n,t,e.contextValue,d);let a;return a=cu(s)?s.then((t=>ku(e,f,r,d,i,t,o))):ku(e,f,r,d,i,s,o),cu(a)?a.then(void 0,(t=>{const n=Ou((0,Zi.y)(t,r,du(i)),f,u);return Ju(e,i,o),n})):a}catch(h){const t=Ou((0,Zi.y)(h,r,du(i)),f,u);return Ju(e,i,o),t}}function xu(e,t,n,r,i){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function Ou(e,t,n){if((0,Tn.zM)(t))throw e;return n.push(e),null}function ku(e,t,n,r,i,o,s){if(o instanceof Error)throw o;if((0,Tn.zM)(t)){const a=ku(e,t.ofType,n,r,i,o,s);if(null===a)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return a}return null==o?null:(0,Tn.HG)(t)?function(e,t,n,r,i,o,s){var a;const u=t.ofType,c=null!==(a=null===s||void 0===s?void 0:s.errors)&&void 0!==a?a:e.errors;if(Ra(o)){return async function(e,t,n,r,i,o,s){var a;const u=null!==(a=null===s||void 0===s?void 0:s.errors)&&void 0!==a?a:e.errors,c=Cu(e,n,i);let f=!1;const l=[];let d=0;for(;;){if(c&&"number"===typeof c.initialCount&&d>=c.initialCount){Hu(d,o,e,n,r,t,i,c.label,s);break}const a=lu(i,d,void 0);let p;try{if(p=await o.next(),p.done)break}catch(h){const e=(0,Zi.y)(h,n,du(a));l.push(Ou(e,t,u));break}Du(p.value,l,u,e,t,n,r,a,s)&&(f=!0),d+=1}return f?Promise.all(l):l}(e,u,n,r,i,o[Symbol.asyncIterator](),s)}if(f=o,null==f||"object"!==typeof f||!(Symbol.iterator in f))throw yi(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);var f;const l=Cu(e,n,i);let d=!1,h=s;const p=[];let m=0;for(const y of o){const t=lu(i,m,void 0);l&&"number"===typeof l.initialCount&&m>=l.initialCount?(h=Gu(i,t,y,e,n,r,u,l.label,h),m++):(Du(y,p,c,e,u,n,r,t,s)&&(d=!0),m++)}return d?Promise.all(p):p}(e,t,n,r,i,o,s):(0,Tn.UT)(t)?function(e,t){const n=e.serialize(t);if(null==n)throw new Error(`Expected \`${Bo(e)}.serialize(${Bo(t)})\` to return non-nullable value, returned: ${Bo(n)}`);return n}(t,o):(0,Tn.m0)(t)?function(e,t,n,r,i,o,s){var a;const u=null!==(a=t.resolveType)&&void 0!==a?a:e.typeResolver,c=e.contextValue,f=u(o,c,r,t);if(cu(f))return f.then((a=>Ru(e,Mu(a,e,t,n,r,o),n,r,i,o,s)));return Ru(e,Mu(f,e,t,n,r,o),n,r,i,o,s)}(e,t,n,r,i,o,s):(0,Tn.lp)(t)?Ru(e,t,n,r,i,o,s):void console.assert(!1,"Cannot complete value of unexpected output type: "+Bo(t))}function Cu(e,t,n){if("number"===typeof n.key)return;const r=(0,no.zu)(so,t[0],e.variableValues);return r&&!1!==r.if?(wu("number"===typeof r.initialCount,"initialCount must be a number"),wu(r.initialCount>=0,"initialCount must be a positive integer"),{initialCount:r.initialCount,label:"string"===typeof r.label?r.label:void 0}):void 0}function Du(e,t,n,r,i,o,s,a,u){try{let c;if(c=cu(e)?e.then((e=>ku(r,i,o,s,a,e,u))):ku(r,i,o,s,a,e,u),cu(c))return t.push(c.then(void 0,(e=>{const t=Ou((0,Zi.y)(e,o,du(a)),i,n);return Ju(r,a,u),t}))),!0;t.push(c)}catch(c){const e=Ou((0,Zi.y)(c,o,du(a)),i,n);Ju(r,a,u),t.push(e)}return!1}function Mu(e,t,n,r,i,o){if(null==e)throw yi(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,{nodes:r});if((0,Tn.lp)(e))throw yi("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!==typeof e)throw yi(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}" with value ${Bo(o)}, received "${Bo(e)}".`);const s=t.schema.getType(e);if(null==s)throw yi(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!(0,Tn.lp)(s))throw yi(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,s))throw yi(`Runtime Object type "${s.name}" is not a possible type for "${n.name}".`,{nodes:r});return s}function Ru(e,t,n,r,i,o,s){if(t.isTypeOf){const a=t.isTypeOf(o,e.contextValue,r);if(cu(a))return a.then((r=>{if(!r)throw Uu(t,o,n);return Bu(e,t,n,i,o,s)}));if(!a)throw Uu(t,o,n)}return Bu(e,t,n,i,o,s)}function Uu(e,t,n){return yi(`Expected value of type "${e.name}" but got: ${Bo(t)}.`,{nodes:n})}function Bu(e,t,n,r,i,o){const{fields:s,patches:a}=bu(e,t,n),u=Su(e,t,i,r,s,o);for(const c of a){const{label:n,fields:s}=c;zu(e,t,i,s,n,r,o)}return u}const Lu=function(e,t,n,r){if(uu(e)&&"string"===typeof e.__typename)return e.__typename;const i=n.schema.getPossibleTypes(r),o=[];for(let s=0;s<i.length;s++){const r=i[s];if(r.isTypeOf){const i=r.isTypeOf(e,t,n);if(cu(i))o[s]=i;else if(i)return r.name}}return o.length?Promise.all(o).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return i[t].name})):void 0},Pu=function(e,t,n,r){if(uu(e)||"function"===typeof e){const i=e[r.fieldName];return"function"===typeof i?e[r.fieldName](t,n,r):i}};function ju(e){const t=Au(e);if(!("schema"in t))return{errors:t.map((e=>{var t;return Object.defineProperty(e,"extensions",{value:{...e.extensions,http:{...null===(t=e.extensions)||void 0===t?void 0:t.http,status:400}}}),e}))};const n=function(e){try{const t=function(e){var t;const{schema:n,fragments:r,operation:i,variableValues:o,rootValue:s}=e,a=n.getSubscriptionType();if(null==a)throw yi("Schema is not configured to execute subscription operation.",{nodes:i});const{fields:u}=co(n,r,o,a,i.selectionSet),[c,f]=[...u.entries()][0],l=f[0].name.value,d=Qu(n,a,f[0]);if(!d)throw yi(`The subscription field "${l}" is not defined.`,{nodes:f});const h=lu(void 0,c,a.name),p=xu(e,d,f,a,h);try{const n=mu(d,f[0],o),r=e.contextValue,i=(null!==(t=d.subscribe)&&void 0!==t?t:e.subscribeFieldResolver)(s,n,r,p);return cu(i)?i.then(Vu).then(void 0,(e=>{throw(0,Zi.y)(e,f,du(h))})):Vu(i)}catch(m){throw(0,Zi.y)(m,f,du(h))}}(e);return cu(t)?t.then(void 0,(e=>({errors:[e]}))):t}catch(t){return{errors:[t]}}}(t);return cu(n)?n.then((e=>$u(t,e))):$u(t,n)}function Fu(e){const t=e.subsequentResults;let n=!1,r=!1;return{[Symbol.asyncIterator](){return this},next:async()=>r?{value:void 0,done:r}:n?t.next():(n=!0,Promise.resolve({value:e.initialResult,done:r})),return:()=>(r=!0,t.return()),throw:e=>(r=!0,t.throw(e))}}function $u(e,t){return Ra(t)?function(e){const t=e[Symbol.asyncIterator]();let n,r,i=!1;return{next:async function e(){if(i)return{value:void 0,done:!0};try{if(!n){if(r)return await r,await e();let o;r=new Promise((e=>{o=e}));const s=await t.next();return s.done?(i=!0,await e()):(n=s.value[Symbol.asyncIterator](),r=void 0,o(),await e())}const o=n,s=await n.next();return s.done?(n===o&&(n=void 0),await e()):s}catch(o){throw i=!0,o}},async return(){var e,r;return i=!0,await Promise.all([null===(e=null===n||void 0===n?void 0:n.return)||void 0===e?void 0:e.call(n),null===(r=t.return)||void 0===r?void 0:r.call(t)]),{value:void 0,done:!0}},async throw(e){var r,o;throw i=!0,await Promise.all([null===(r=null===n||void 0===n?void 0:n.throw)||void 0===r?void 0:r.call(n,e),null===(o=t.throw)||void 0===o?void 0:o.call(t,e)]),e},[Symbol.asyncIterator](){return this}}}(Ua(t[Symbol.asyncIterator](),(async t=>async function*(e){"initialResult"in e?yield*Fu(e):yield e}(await Tu(function(e,t){return{...e,rootValue:t,subsequentPayloads:new Set,errors:[]}}(e,t)))),(async function*(t){const n=yi(t.message,{originalError:t,nodes:[e.operation]});yield{errors:[n]}}))):t}function Vu(e){if(e instanceof Error)throw e;if(!Ra(e))throw yi(`Subscription field must return Async Iterable. Received: ${Bo(e)}.`);return e}function zu(e,t,n,r,i,o,s){const a=new Yu({label:i,path:o,parentContext:s,exeContext:e});let u;try{u=Su(e,t,n,o,r,a),cu(u)&&(u=u.then(null,(e=>(a.errors.push(e),null))))}catch(c){a.errors.push(c),u=null}a.addData(u)}function Gu(e,t,n,r,i,o,s,a,u){const c=new Wu({label:a,path:t,parentContext:u,exeContext:r});let f,l;try{try{f=cu(n)?n.then((e=>ku(r,s,i,o,t,e,c))):ku(r,s,i,o,t,n,c),cu(f)&&(f=f.then(void 0,(e=>{const n=Ou((0,Zi.y)(e,i,du(t)),s,c.errors);return Ju(r,t,c),n})))}catch(d){f=Ou((0,Zi.y)(d,i,du(t)),s,c.errors),Ju(r,t,c)}}catch(h){return c.errors.push(h),Ju(r,e,c),c.addItems(null),c}return l=cu(f)?f.then((e=>[e]),(t=>(c.errors.push(t),Ju(r,e,c),null))):[f],c.addItems(l),c}async function qu(e,t,n,r,i,o,s){let a,u;try{const{value:t,done:n}=await e.next();if(n)return o.setIsCompletedIterator(),{done:n,value:void 0};a=t}catch(c){return{done:!0,value:Ou((0,Zi.y)(c,n,du(s)),i,o.errors)}}try{return u=ku(t,i,n,r,s,a,o),cu(u)&&(u=u.then(void 0,(e=>{const r=Ou((0,Zi.y)(e,n,du(s)),i,o.errors);return Ju(t,s,o),r}))),{done:!1,value:u}}catch(c){const e=Ou((0,Zi.y)(c,n,du(s)),i,o.errors);return Ju(t,s,o),{done:!1,value:e}}}async function Hu(e,t,n,r,i,o,s,a,u){let c=e,f=null!==u&&void 0!==u?u:void 0;for(;;){const e=lu(s,c,void 0),u=new Wu({label:a,path:e,parentContext:f,iterator:t,exeContext:n});let d;try{d=await qu(t,n,r,i,o,u,e)}catch(l){return u.errors.push(l),Ju(n,s,u),u.addItems(null),void((null===t||void 0===t?void 0:t.return)&&t.return().catch((()=>{})))}const{done:h,value:p}=d;let m;if(m=cu(p)?p.then((e=>[e]),(e=>(u.errors.push(e),Ju(n,s,u),null))):[p],u.addItems(m),h)break;f=u,c++}}function Ju(e,t,n){const r=du(t);e.subsequentPayloads.forEach((t=>{var i;if(t!==n){for(let e=0;e<r.length;e++)if(t.path[e]!==r[e])return;Xu(t)&&(null===(i=t.iterator)||void 0===i?void 0:i.return)&&t.iterator.return().catch((()=>{})),e.subsequentPayloads.delete(t)}}))}function Ku(e){let t=!1;function n(){const t=[];return e.subsequentPayloads.forEach((e=>{var n;Xu(e)&&(null===(n=e.iterator)||void 0===n?void 0:n.return)&&t.push(e.iterator.return())})),Promise.all(t)}return{[Symbol.asyncIterator](){return this},next:async function n(){if(t)return{value:void 0,done:!0};if(await Promise.race(Array.from(e.subsequentPayloads).map((e=>e.promise))),t)return{value:void 0,done:!0};const r=function(e){const t=[];for(const n of e.subsequentPayloads){const r={};if(n.isCompleted){if(e.subsequentPayloads.delete(n),Xu(n)){const e=n.items;if(n.isCompletedIterator)continue;r.items=e}else{const e=n.data;r.data=null!==e&&void 0!==e?e:null}r.path=n.path,n.label&&(r.label=n.label),n.errors.length>0&&(r.errors=n.errors),t.push(r)}}return t}(e),i=e.subsequentPayloads.size>0;return!r.length&&i?n():(i||(t=!0),{value:r.length?{incremental:r,hasNext:i}:{hasNext:i},done:!1})},return:async()=>(await n(),t=!0,{value:void 0,done:!0}),throw:async e=>(await n(),t=!0,Promise.reject(e))}}class Yu{constructor(e){this.type="defer",this.label=e.label,this.path=du(e.path),this.parentContext=e.parentContext,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.data=null,this.promise=new Promise((e=>{this._resolve=t=>{e(t)}})).then((e=>{this.data=e,this.isCompleted=!0}))}addData(e){var t,n,r;const i=null===(t=this.parentContext)||void 0===t?void 0:t.promise;i?null===(n=this._resolve)||void 0===n||n.call(this,i.then((()=>e))):null===(r=this._resolve)||void 0===r||r.call(this,e)}}class Wu{constructor(e){this.type="stream",this.items=null,this.label=e.label,this.path=du(e.path),this.parentContext=e.parentContext,this.iterator=e.iterator,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.items=null,this.promise=new Promise((e=>{this._resolve=t=>{e(t)}})).then((e=>{this.items=e,this.isCompleted=!0}))}addItems(e){var t,n,r;const i=null===(t=this.parentContext)||void 0===t?void 0:t.promise;i?null===(n=this._resolve)||void 0===n||n.call(this,i.then((()=>e))):null===(r=this._resolve)||void 0===r||r.call(this,e)}setIsCompletedIterator(){this.isCompletedIterator=!0}}function Xu(e){return"stream"===e.type}function Qu(e,t,n){const r=n.name.value;return r===fa.Az.name&&e.getQueryType()===t?fa.Az:r===fa.tF.name&&e.getQueryType()===t?fa.tF:r===fa.hU.name?fa.hU:t.getFields()[r]}function Zu(e){var t,n;const{info:r,schema:i,rootValue:o=(null!==(t=i.rootValue)&&void 0!==t?t:r.rootValue),operationName:s=(null===(n=r.operation.name)||void 0===n?void 0:n.value),operation:a=Fa(r.parentType,r.schema),fieldName:u=r.fieldName,selectionSet:c,fieldNodes:f=r.fieldNodes,context:l}=e,d=$a({sourceSchema:r.schema,sourceParentType:r.parentType,sourceFieldName:r.fieldName,fragments:r.fragments,variableDefinitions:r.operation.variableDefinitions,variableValues:r.variableValues,targetRootValue:o,targetOperationName:s,targetOperation:a,targetFieldName:u,selectionSet:c,fieldNodes:f,context:l,info:r});return function(e){const t=function({request:e,schema:t,fieldName:n,returnType:r,args:i,info:o,transforms:s=[],transformedSchema:a,skipTypeMerging:u=!1}){var c,f,l,d;const h=si(e);let p;p=null==n?h.selectionSet.selections[0].name.value:n;const m=null===(c=null===o||void 0===o?void 0:o.schema.extensions)||void 0===c?void 0:c.stitchingInfo,y=null!==(f=null===m||void 0===m?void 0:m.subschemaMap.get(t))&&void 0!==f?f:t,g=h.operation;if(xo(y)){const n=y.schema;return{subschema:t,subschemaConfig:y,targetSchema:n,operation:g,fieldName:p,args:i,context:e.context,info:o,returnType:null!==(l=null!==r&&void 0!==r?r:null===o||void 0===o?void 0:o.returnType)&&void 0!==l?l:ec(n,g,p),transforms:null!=y.transforms?y.transforms.concat(s):s,transformedSchema:null!==a&&void 0!==a?a:y instanceof Co?y.transformedSchema:ko(n,y),skipTypeMerging:u}}return{subschema:t,subschemaConfig:void 0,targetSchema:y,operation:g,fieldName:p,args:i,context:e.context,info:o,returnType:null!==(d=null!==r&&void 0!==r?r:null===o||void 0===o?void 0:o.returnType)&&void 0!==d?d:ec(y,g,p),transforms:s,transformedSchema:null!==a&&void 0!==a?a:y,skipTypeMerging:u}}(e),n=new au(t),r=n.transformRequest(e.request);e.validateRequest&&function(e,t){const n=(0,vn.Gu)(e.targetSchema,t);if(n.length>0){if(n.length>1){throw new eo(n,n.map((e=>e.message)).join(", \n"))}const e=n[0];throw e.originalError||e}}(t,r.document);const i=function(e){const{subschemaConfig:t,targetSchema:n,context:r}=e;let i=(null===t||void 0===t?void 0:t.executor)||nc(n);if(null===t||void 0===t?void 0:t.batch){const e=null===t||void 0===t?void 0:t.batchingOptions;i=Ma(null!==r&&void 0!==r?r:tc,i,null===e||void 0===e?void 0:e.dataLoaderOptions,null===e||void 0===e?void 0:e.extensionsReducer)}return i}(t);return new wi((()=>i(r))).then((e=>{if(Ra(e)){return Ua(e[Symbol.asyncIterator](),(e=>n.transformResult(e)))}return n.transformResult(e)})).resolve()}({...e,request:d})}function ec(e,t,n){const r=Do(e,t),i=r.getFields()[n];if(!i)throw new Error(`Unable to find field '${n}' in type '${r}'.`);return i.type}const tc={};const nc=ni((function(e){return function(t){return function(e){const t=(0,ti.S)(e.document,e.operationName);if(null==t)throw new Error("Must provide an operation.");return"subscription"===t.operation?ju(e):new wi((()=>Eu(e))).then((e=>"initialResult"in e?Fu(e):e)).resolve()}({schema:e,document:t.document,rootValue:t.rootValue,contextValue:t.context,variableValues:t.variables,operationName:t.operationName})}}));function rc(e){return e}function ic(e,t){return function(n,r,i,o){if(null!=n){const t=Qi(o);if(vo(n)){const r=bo(n),s=wo(n,t);if(e===s&&void 0!==n[t])return Ao(n[t],r,s,i,o)}}return t(n,r,i,o)}}function oc({subschemaConfig:e,operation:t}){return function(n,r,i,o){return Zu({schema:e,operation:t,context:i,info:o})}}const sc=ni((function(e){const t=function(e,t){return ji(e,{[Ui.ROOT_FIELD]:(e,n,r)=>{var i;return{...e,...null===(i=t[r])||void 0===i?void 0:i[n]}},[Ui.OBJECT_FIELD]:e=>({...e,resolve:No,subscribe:void 0}),[Ui.OBJECT_TYPE]:e=>{const t=e.toConfig();return new Tn.h6({...t,isTypeOf:void 0})},[Ui.INTERFACE_TYPE]:e=>{const t=e.toConfig();return new Tn.oW({...t,resolveType:void 0})},[Ui.UNION_TYPE]:e=>{const t=e.toConfig();return new Tn.Gp({...t,resolveType:void 0})},[Ui.ENUM_VALUE]:e=>({...e,value:void 0})})}(e.schema,function(e){var t;const n=e.schema,r=null!==(t=e.createProxyingResolver)&&void 0!==t?t:oc,i=Uo(n),o={};for(const[s,a]of i.entries()){const t=a.name,n=a.getFields();o[t]={};for(const i in n){const n=ic(e,r({subschemaConfig:e,operation:s,fieldName:i}));o[t][i]="subscription"===s?{subscribe:n,resolve:rc}:{resolve:n}}}return o}(e));return ko(t,e)}));function ac({subschemas:e,originalSubschemaMap:t,types:n,typeDefs:r,parseOptions:i,directiveMap:o,schemaDefs:s,mergeDirectives:a}){const u=[],c=Object.create(null);let f,l,d,h=[];(r&&!Array.isArray(r)||Array.isArray(r)&&r.length)&&(l=ka(r,i),d=function(e){const t=[],n=[],r=[],i=[],o=[];for(const s of e.definitions)switch(s.kind){case In.h.OBJECT_TYPE_DEFINITION:case In.h.INTERFACE_TYPE_DEFINITION:case In.h.INPUT_OBJECT_TYPE_DEFINITION:case In.h.UNION_TYPE_DEFINITION:case In.h.ENUM_TYPE_DEFINITION:case In.h.SCALAR_TYPE_DEFINITION:t.push(s);break;case In.h.DIRECTIVE_DEFINITION:n.push(s);break;case In.h.SCHEMA_DEFINITION:r.push(s);break;case In.h.SCHEMA_EXTENSION:i.push(s);break;case In.h.OBJECT_TYPE_EXTENSION:case In.h.INTERFACE_TYPE_EXTENSION:case In.h.INPUT_OBJECT_TYPE_EXTENSION:case In.h.UNION_TYPE_EXTENSION:case In.h.ENUM_TYPE_EXTENSION:case In.h.SCALAR_TYPE_EXTENSION:o.push(s)}return{typeDefinitions:t,directiveDefs:n,schemaDefs:r,schemaExtensions:i,extensionDefs:o}}(l),f=d.schemaDefs[0],h=h.concat(d.schemaExtensions)),s.schemaDef=null!==f&&void 0!==f?f:s.schemaDef,s.schemaExtensions=h;const p=function({schemaDef:e,schemaExtensions:t}){const n={query:"Query",mutation:"Mutation",subscription:"Subscription"},r=t.slice();null!=e&&r.unshift(e);for(const i of r)if(null!=i.operationTypes)for(const e of i.operationTypes)n[e.operation]=e.type.name.value;return n}(s);for(const m of e){const e=m.transformedSchema=sc(m),n=Uo(e),r=Ro(e);for(const[o,s]of n.entries())uc(c,p[o],{type:s,subschema:t.get(m),transformedSubschema:m});if(!0===a)for(const t of e.getDirectives())o[t.name]=t;const i=e.getTypeMap();for(const o in i){const e=i[o];(0,Tn.Zs)(e)&&"__"!==(0,Tn.xC)(e).name.slice(0,2)&&!r.has(e)&&uc(c,e.name,{type:e,subschema:t.get(m),transformedSubschema:m})}}if(null!=l&&null!=d){for(const e of d.typeDefinitions){const t=ss(e);if(!(0,Tn.Zs)(t))throw new Error(`Expected to get named typed but got ${Bo(e)}`);null!=t&&uc(c,t.name,{type:t})}for(const e of d.directiveDefs){const t=ss(e);if(!(0,Ti.wX)(t))throw new Error(`Expected to get directive type but got ${Bo(e)}`);o[t.name]=t}d.extensionDefs.length>0&&u.push({...l,definitions:d.extensionDefs})}for(const m of n)uc(c,m.name,{type:m});return[c,p,u]}function uc(e,t,n){t in e||(e[t]=[]),e[t].push(n)}function cc(e){return t=>t.reduce(((t,n)=>{const r=e(t.type,n.type,{left:{subschema:t.subschema,transformedSubschema:t.transformedSubschema},right:{subschema:n.subschema,transformedSubschema:n.transformedSubschema}});return t.type===r?t:n.type===r?n:{schemaName:"unknown",type:r}}))}function fc(e,t){return(0,bn.Qc)(e,t).definitions[0].selectionSet}const lc=ri((function(e,t){return new Map})),dc={},hc=ni((function(e){return JSON.stringify(e)})),pc=ni(bs.S);function mc(e){return"object"===typeof e?hc(e):e}function yc(e){const{schema:t,context:n,info:r,fieldName:i=r.fieldName,dataLoaderOptions:o,fieldNodes:s=Io(r.fieldNodes[0]),selectionSet:a=s[0].selectionSet}=e,u=lc(null!==n&&void 0!==n?n:dc,t);let c=i;null!=a&&(c+=pc(a));let f=u.get(c);if(void 0===f){const t=function(e){var t,n;const r=null!==(t=e.argsFromKeys)&&void 0!==t?t:e=>({ids:e}),i=null!==(n=e.fieldName)&&void 0!==n?n:e.info.fieldName,{valuesFromResults:o,lazyOptionsFn:s}=e;return function(t){return new wi((()=>Zu({returnType:new Tn.p2((0,Tn.xC)(e.info.returnType)),onLocatedError:e=>{if(null==e.path)return e;const[t,n]=e.path;return t!==i||"number"!==typeof n?e:gi(e,e.path.slice(0,0).concat(e.path.slice(2)))},args:r(t),...null==s?e:s(e,t)}))).then((e=>{if(e instanceof Error)return t.map((()=>e));const n=null==o?e:o(e,t);return Array.isArray(n)?n:t.map((()=>n))}))}}(e);f=new Ot(t,{cacheKeyFn:mc,...o}),u.set(c,f)}return f}function gc(e){const{fieldName:t,argsFromKeys:n,valuesFromResults:r,args:i}=e;return null!=n?function(e,i,o,s,a,u,c=(0,Tn.xC)(o.returnType)){return function(e){const t=e.key;if(null==t)return null;if(Array.isArray(t)&&!t.length)return[];const n=yc(e);return Array.isArray(t)?n.loadMany(t):n.load(t)}({schema:s,operation:"query",fieldName:t,returnType:new Tn.p2(c),key:u,argsFromKeys:n,valuesFromResults:r,selectionSet:a,context:i,info:o,skipTypeMerging:!0})}:null!=i?function(e,n,r,o,s,a,u=(0,Tn.xC)(r.returnType)){return Zu({schema:o,operation:"query",fieldName:t,returnType:u,args:i(e),selectionSet:s,context:n,info:r,skipTypeMerging:!0})}:void 0}function vc(e,t,n,r){var i;const{selectionSets:o,fieldSelectionSets:s,uniqueFields:a,nonUniqueFields:u}=e,c=[],f=[];for(const h of n){const n=o.get(h),i=s.get(h);(null==n||Tc(e,t,n))&&(null==i||r.every((n=>{const r=n.name.value,o=i[r];return null==o||Tc(e,t,o)})))?c.push(h):f.push(h)}const l=[],d=new Map;for(const h of r){if("__typename"===h.name.value)continue;const e=a[h.name.value];if(null!=e){if(!c.includes(e)){l.push(h);continue}const t=null===(i=d.get(e))||void 0===i?void 0:i.selections;null!=t?t.push(h):d.set(e,{kind:In.h.SELECTION_SET,selections:[h]});continue}let t=u[h.name.value];if(null==t){l.push(h);continue}if(t=t.filter((e=>c.includes(e))),!t.length){l.push(h);continue}const n=t.find((e=>d.has(e)));null!=n?d.get(n).selections.push(h):d.set(t[0],{kind:In.h.SELECTION_SET,selections:[h]})}return{delegationMap:d,proxiableSubschemas:c,nonProxiableSubschemas:f,unproxiableFieldNodes:l}}function wc(e){return oi((function(t,n,r,i,o){var s;const a=function(e){var t;const n=null===(t=e.extensions)||void 0===t?void 0:t.stitchingInfo;if(!n)throw new Error("Schema is not a stitched schema.");return n}(t),u=null===e||void 0===e?void 0:e.targetSubschemas.get(n);if(!u||!u.length)return[];const c=e.typeName,f=function(e,t,n,r,i,o,s){var a;const{fields:u}=po(e,o,s,n,i),c=null===t||void 0===t?void 0:t.fieldNodesByField,f=r.getFields(),l=new Set;for(const[,d]of u){const e=d[0].name.value;if(!f[e])for(const n of d)l.add(n);const t=null===(a=null===c||void 0===c?void 0:c[n.name])||void 0===a?void 0:a[e];if(t)for(const n of t)f[n.name.value]||l.add(n)}return Array.from(l)}(t,a,t.getType(c),null===(s=e.typeMaps.get(n))||void 0===s?void 0:s[c],o,i,r);if(!f.length)return[];const l=[];let d=bc(n),h=vc(e,d,u,f),{delegationMap:p}=h;for(;p.size;){l.push(p);const{proxiableSubschemas:t,nonProxiableSubschemas:n,unproxiableFieldNodes:r}=h;d=Ec(d,t),h=vc(e,d,n,r),p=h.delegationMap}return l}))}const bc=ni((function(e){return[e]})),Ec=ri((function(e,t){return e.concat(t)})),Tc=ii((function(e,t,n){return Ic(t.map((t=>t.transformedSchema.getType(e.typeName))),n)}));function Ic(e,t){var n;const r=e.map((e=>e.getFields()));for(const i of t.selections)if(i.kind===In.h.FIELD){const e=r.map((e=>e[i.name.value])).filter((e=>null!=e));if(!e.length)return!1;if(null!=i.selectionSet)return Ic(e.map((e=>(0,Tn.xC)(e.type))),i.selectionSet)}else if(i.kind===In.h.INLINE_FRAGMENT&&(null===(n=i.typeCondition)||void 0===n?void 0:n.name.value)===e[0].name)return Ic(e,i.selectionSet);return!0}function _c(e,t,n){const r=function(e,t){var n,r;const i=Object.create(null);for(const o in e)if(e[o].length>1&&((0,Tn.lp)(e[o][0].type)||(0,Tn.oT)(e[o][0].type))){const s=e[o].filter((e=>null!=e.transformedSubschema&&null!=e.transformedSubschema.merge&&o in e.transformedSubschema.merge));if(!0===t||"function"===typeof t&&t(e[o],o)||Array.isArray(t)&&t.includes(o)||s.length){const t=[],s=new Map,a=Object.create({}),u=new Map,c=new Map,f=new Map;for(const i of e[o]){const e=i.transformedSubschema;if(null==e)continue;s.set(e,e.transformedSchema.getTypeMap());const l=null===(n=null===e||void 0===e?void 0:e.merge)||void 0===n?void 0:n[o];if(null==l)continue;if(l.selectionSet){const t=fc(l.selectionSet,{noLocation:!0});u.set(e,t)}if(l.fields){const t=Object.create(null);for(const e in l.fields)if(l.fields[e].selectionSet){const n=l.fields[e].selectionSet;t[e]=n?fc(n,{noLocation:!0}):void 0}c.set(e,t)}const d=null!==(r=l.resolve)&&void 0!==r?r:gc(l);if(null==d)continue;const h=l.key;f.set(e,h?function(e,t,n,r,i,o){return new wi((()=>h(e))).then((s=>d(e,t,n,r,i,s,o))).resolve()}:d),t.push(e);const p=e.transformedSchema.getType(o).getFields(),m=u.get(e);for(const t in p){const n=p[t],r=(0,Tn.xC)(n.type);m&&(0,Tn.UT)(r)&&Nc(m,t)||(t in a||(a[t]=[]),a[t].push(e))}}const l=e[o].map((e=>null===e||void 0===e?void 0:e.transformedSubschema)).filter(xi),d=new Map;for(const e of l){const n=t.filter((t=>t!==e));n.length&&d.set(e,n)}i[o]={typeName:o,targetSubschemas:d,typeMaps:s,selectionSets:u,fieldSelectionSets:c,uniqueFields:Object.create({}),nonUniqueFields:Object.create({}),resolvers:f},i[o].delegationPlanBuilder=wc(i[o]);for(const e in a)1===a[e].length?i[o].uniqueFields[e]=a[e][0]:i[o].nonUniqueFields[e]=a[e]}}return i}(t,n);return{subschemaMap:e,fieldNodesByType:Object.create(null),fieldNodesByField:Object.create(null),dynamicSelectionSetsByField:Object.create(null),mergedTypes:r}}function Ac(e,t,n,r,i){if(i){Sc(e,t,n,r,fc("{ __typename }",{noLocation:!0}))}else Sc(e,t,n,r)}function Sc(e,t,n,r,i){if(null==e[t]){const o=void 0===i?[r]:[i,r];e[t]={[n]:o}}else if(null==e[t][n]){const o=void 0===i?[r]:[i,r];e[t][n]=o}else e[t][n].push(r)}function Nc(e,t){return e.selections.some((e=>e.kind===In.h.FIELD&&e.name.value===t))}function xc(e,t){const n=t.getTypeMap(),r=[];for(const i in n){const t=n[i];if((0,Tn.lp)(t)){t.getInterfaces().find((t=>t.name===e))&&r.push(t.name)}}return r}function Oc(e,t={}){const{skipEmptyCompositeTypePruning:n,skipEmptyUnionPruning:r,skipPruning:i,skipUnimplementedInterfacesPruning:o,skipUnusedTypesPruning:s}=t;let a=[],u=e;do{let e=kc(u);if(i){const t=[];for(const e in u.getTypeMap()){if(e.startsWith("__"))continue;const n=u.getType(e);n&&i(n)&&t.push(e)}e=Cc(t,u,e)}a=[],u=ji(u,{[Ui.TYPE]:t=>{if(!e.has(t.name)&&!(0,En.u1)(t)){if((0,Tn.EN)(t)||(0,Tn.hL)(t)||(0,Tn.oT)(t)||(0,Tn.lp)(t)||(0,Tn.KA)(t)){if(s)return t;if((0,Tn.EN)(t)&&r&&!Object.keys(t.getTypes()).length)return t;if(((0,Tn.hL)(t)||(0,Tn.oT)(t)||(0,Tn.lp)(t))&&n&&!Object.keys(t.getFields()).length)return t;if((0,Tn.oT)(t)&&o)return t}return a.push(t.name),e.delete(t.name),null}return t}})}while(a.length);return u}function kc(e){const t=[];for(const n of Ro(e))t.push(n.name);return Cc(t,e)}function Cc(e,t,n=new Set){const r=new Map;for(;e.length;){const i=e.pop();if(n.has(i)&&!0!==r[i])continue;const o=t.getType(i);if(o){if((0,Tn.EN)(o)&&e.push(...o.getTypes().map((e=>e.name))),(0,Tn.oT)(o)&&!0===r[i]&&(e.push(...xc(o.name,t)),r[i]=!1),(0,Tn.EM)(o)&&e.push(...o.getValues().flatMap((e=>e.astNode?Dc(t,e.astNode):[]))),"getInterfaces"in o&&e.push(...o.getInterfaces().map((e=>e.name))),"getFields"in o){const n=o.getFields(),i=Object.entries(n);if(!i.length)continue;for(const[,s]of i){(0,Tn.lp)(o)&&e.push(...s.args.flatMap((e=>{const n=[(0,Tn.xC)(e.type).name];return e.astNode&&n.push(...Dc(t,e.astNode)),n})));const n=(0,Tn.xC)(s.type);e.push(n.name),s.astNode&&e.push(...Dc(t,s.astNode)),(0,Tn.oT)(n)&&!(n.name in r)&&(r[n.name]=!0)}}o.astNode&&e.push(...Dc(t,o.astNode)),n.add(i)}}return n}function Dc(e,t){var n;return(null!==(n=t.directives)&&void 0!==n?n:[]).flatMap((t=>{var n,r;return null!==(r=null===(n=e.getDirective(t.name.value))||void 0===n?void 0:n.args.map((e=>(0,Tn.xC)(e.type).name)))&&void 0!==r?r:[]}))}function Mc({schema:e,typeFilter:t=(()=>!0),fieldFilter:n,rootFieldFilter:r,objectFieldFilter:i,interfaceFieldFilter:o,inputObjectFieldFilter:s,argumentFilter:a}){return ji(e,{[Ui.QUERY]:e=>Rc(e,"Query",r,a),[Ui.MUTATION]:e=>Rc(e,"Mutation",r,a),[Ui.SUBSCRIPTION]:e=>Rc(e,"Subscription",r,a),[Ui.OBJECT_TYPE]:e=>t(e.name,e)?Uc(Tn.h6,e,i||n,a):null,[Ui.INTERFACE_TYPE]:e=>t(e.name,e)?Uc(Tn.oW,e,o||n,a):null,[Ui.INPUT_OBJECT_TYPE]:e=>t(e.name,e)?Uc(Tn.sR,e,s||n):null,[Ui.UNION_TYPE]:e=>t(e.name,e)?void 0:null,[Ui.ENUM_TYPE]:e=>t(e.name,e)?void 0:null,[Ui.SCALAR_TYPE]:e=>t(e.name,e)?void 0:null})}function Rc(e,t,n,r){if(n||r){const i=e.toConfig();for(const e in i.fields){const o=i.fields[e];if(n&&!n(t,e,i.fields[e]))delete i.fields[e];else if(r&&o.args)for(const n in o.args)r(t,e,n,o.args[n])||delete o.args[n]}return new Tn.h6(i)}return e}function Uc(e,t,n,r){if(n||r){const i=t.toConfig();for(const e in i.fields){const o=i.fields[e];if(n&&!n(t.name,e,i.fields[e]))delete i.fields[e];else if(r&&"args"in o)for(const n in o.args)r(t.name,e,n,o.args[n])||delete o.args[n]}return new e(i)}}function Bc(e,t,n){if(Array.isArray(e))return e.map((e=>Bc(e,t,n)));if("object"===typeof e){const r=null!=t?t(e):e;if(null!=r)for(const e in r){const i=r[e];Object.defineProperty(r,e,{value:Bc(i,t,n)})}return null!=n?n(r):r}return e}class Lc{constructor(e,t,n,r){this.fieldTransformer=e,this.fieldNodeTransformer=t,this.dataTransformer=n,this.errorsTransformer=r,this.mapping={}}_getTypeInfo(){const e=this.typeInfo;if(void 0===e)throw new Error('The TransformCompositeFields transform\'s  "transformRequest" and "transformResult" methods cannot be used without first calling "transformSchema".');return e}transformSchema(e,t){var n;return this.transformedSchema=ji(e,{[Ui.COMPOSITE_FIELD]:(e,t,n)=>{const r=this.fieldTransformer(n,t,e);if(Array.isArray(r)){const e=r[0];e!==t&&(n in this.mapping||(this.mapping[n]={}),this.mapping[n][e]=t)}return r}}),this.typeInfo=new Va.a(this.transformedSchema),this.subscriptionTypeName=null===(n=e.getSubscriptionType())||void 0===n?void 0:n.name,this.transformedSchema}transformRequest(e,t,n){const r=e.document;return{...e,document:this.transformDocument(r,n)}}transformResult(e,t,n){const r=this.dataTransformer;return null!=r&&(e.data=Bc(e.data,(e=>r(e,n)))),null!=this.errorsTransformer&&Array.isArray(e.errors)&&(e.errors=this.errorsTransformer(e.errors,n)),e}transformDocument(e,t){const n=Object.create(null);for(const r of e.definitions)r.kind===In.h.FRAGMENT_DEFINITION&&(n[r.name.value]=r);return(0,ai.Vn)(e,(0,Va.y)(this._getTypeInfo(),{[In.h.SELECTION_SET]:{leave:e=>this.transformSelectionSet(e,this._getTypeInfo(),n,t)}}))}transformSelectionSet(e,t,n,r){var i,o;const s=t.getParentType();if(null==s)return;const a=s.name;let u=[],c=e.selections.some((e=>e.kind===In.h.FIELD&&"__typename"===e.name.value));for(const f of e.selections){if(f.kind!==In.h.FIELD||"__typename"===f.name.value){u.push(f);continue}const e=f.name.value;let t;if(c||null==this.dataTransformer&&null==this.errorsTransformer||null!=this.subscriptionTypeName&&a===this.subscriptionTypeName||(u.push({kind:In.h.FIELD,name:{kind:In.h.NAME,value:"__typename"}}),c=!0),null==this.fieldNodeTransformer?t=f:(t=this.fieldNodeTransformer(a,e,f,n,r),t=void 0===t?f:t),null==t)continue;if(Array.isArray(t)){u=u.concat(t);continue}if(t.kind!==In.h.FIELD){u.push(t);continue}if(null==this.mapping[a]){u.push(t);continue}const s=this.mapping[a][e];null!=s?u.push({...t,name:{kind:In.h.NAME,value:s},alias:{kind:In.h.NAME,value:null!==(o=null===(i=t.alias)||void 0===i?void 0:i.value)&&void 0!==o?o:e}}):u.push(t)}return{...e,selections:u}}}function Pc(e,t){var n;const r=e.schema,i={},o=Oc(Mc({schema:r,objectFieldFilter:(e,n)=>{var r,i;return!(null===(i=null===(r=t[e])||void 0===r?void 0:r.fields)||void 0===i?void 0:i[n])},interfaceFieldFilter:(e,n)=>(i[e]||(i[e]=xc(e,r)),!i[e].some((e=>{var r,i;return null===(i=null===(r=t[e])||void 0===r?void 0:r.fields)||void 0===i?void 0:i[n]})))})),s={};for(const f in o.getTypeMap()){const e=o.getType(f);if((0,Tn.lp)(e)||(0,Tn.oT)(e)){s[f]={__typename:!0};const t=e.getFields();for(const e in t)s[f][e]=!0}}const a={...e,merge:e.merge?{...e.merge}:void 0,transforms:(null!==(n=e.transforms)&&void 0!==n?n:[]).concat([new Lc(((e,t)=>{var n;return(null===(n=s[e])||void 0===n?void 0:n[t])?void 0:null}),((e,t)=>{var n;return(null===(n=s[e])||void 0===n?void 0:n[t])?void 0:null}))])},u=o.getTypeMap(),c=a.merge;if(c){for(const e in c)u[e]||delete c[e];Object.keys(c).length||delete a.merge}return a}function jc(e){var t,n,r;const i={};for(const u in e.merge){const n=e.merge[u],r=null!==(t=n.entryPoints)&&void 0!==t?t:[n];for(const e of r)null!=e.fieldName&&(i[e.fieldName]=!0)}const o={};for(const u in e.merge){const t=e.schema.getType(u);if(!t||!("getInterfaces"in t))throw new Error(`${u} expected to have 'getInterfaces' method`);for(const r of t.getInterfaces()){const t=e.schema.getType(r.name);if(!t||!("getFields"in t))throw new Error(`${r.name} expected to have 'getFields' method`);for(const i in t.getFields())(null===(n=e.merge[u].fields)||void 0===n?void 0:n[i])&&(o[r.name]=o[r.name]||{},o[r.name][i]=!0)}}const s=Oc(Mc({schema:e.schema,rootFieldFilter:(e,t)=>"Query"===e&&null!=i[t],objectFieldFilter:(t,n)=>{var r,i;return null!=(null===(i=null===(r=e.merge[t])||void 0===r?void 0:r.fields)||void 0===i?void 0:i[n])},interfaceFieldFilter:(e,t)=>{var n;return null!=(null===(n=o[e])||void 0===n?void 0:n[t])}})),a={};for(const u in s.getTypeMap()){const e=s.getType(u);if((0,Tn.lp)(e)||(0,Tn.oT)(e)){a[u]={__typename:!0};const t=e.getFields();for(const e in t)a[u][e]=!0}}return{...e,transforms:(null!==(r=e.transforms)&&void 0!==r?r:[]).concat([new Lc(((e,t)=>{var n;return(null===(n=a[e])||void 0===n?void 0:n[t])?void 0:null}),((e,t)=>{var n;return(null===(n=a[e])||void 0===n?void 0:n[t])?void 0:null}))])}}function Fc(e,t=!1){const n=e[0]||{},r={};t&&Object.setPrototypeOf(r,Object.create(Object.getPrototypeOf(n)));for(const i of e)if($c(n)&&$c(i)){if(t){const e=Object.getPrototypeOf(r),t=Object.getPrototypeOf(i);if(t)for(const n of Object.getOwnPropertyNames(t)){const r=Object.getOwnPropertyDescriptor(t,n);xi(r)&&Object.defineProperty(e,n,r)}}for(const e in i)$c(i[e])?e in r?r[e]=Fc([r[e],i[e]],t):Object.assign(r,{[e]:i[e]}):Object.assign(r,{[e]:i[e]})}return r}function $c(e){return e&&"object"===typeof e&&!Array.isArray(e)}function Vc(e,t){if(!e||Array.isArray(e)&&0===e.length)return{};if(!Array.isArray(e))return e;if(1===e.length)return e[0]||{};const n=new Array;for(let i of e)Array.isArray(i)&&(i=Vc(i)),"object"===typeof i&&i&&n.push(i);const r=Fc(n,!0);if(null===t||void 0===t?void 0:t.exclusions)for(const i of t.exclusions){const[e,t]=i.split(".");t&&"*"!==t?r[e]&&delete r[e][t]:delete r[e]}return r}function zc(e,t){e&&(e.extensions=Fc([e.extensions||{},t||{}]))}function Gc({subschemas:e=[],types:t=[],typeDefs:n=[],onTypeConflict:r,mergeDirectives:i,mergeTypes:o=!0,typeMergingOptions:s,subschemaConfigTransforms:a=[],resolvers:u={},inheritResolversFromInterfaces:c=!1,resolverValidationOptions:f={},updateResolversInPlace:l=!0,schemaExtensions:d,...h}){const p=[],m=new Map,y=new Map;for(const O of e)for(const e of Hc(a,O,m,y))p.push(e);const g=Object.create(null);for(const O of Ti.V4)g[O.name]=O;const v=Object.create(null),[w,b,E]=ac({subschemas:p,originalSubschemaMap:y,types:t,typeDefs:n||[],parseOptions:h,directiveMap:g,schemaDefs:v,mergeDirectives:i});let T=_c(m,w,o);const{typeMap:I,directives:_}=function({typeCandidates:e,directives:t,stitchingInfo:n,rootTypeNames:r,onTypeConflict:i,mergeTypes:o,typeMergingOptions:s}){const a=Object.create(null);for(const u in e)if(r.includes(u)||!0===o&&!e[u].some((e=>(0,En.u1)(e.type)))||"function"===typeof o&&o(e[u],u)||Array.isArray(o)&&o.includes(u)||null!=n&&u in n.mergedTypes)a[u]=Hs(u,e[u],s);else{const t=null!=i?cc(i):e=>e[e.length-1];a[u]=t(e[u]).type}return Pi(a,t)}({typeCandidates:w,directives:Object.values(g),stitchingInfo:T,rootTypeNames:Object.values(b),onTypeConflict:r,mergeTypes:o,typeMergingOptions:s});let A=new Dr.XO({query:I[b.query],mutation:I[b.mutation],subscription:I[b.subscription],types:Object.values(I),directives:_,astNode:v.schemaDef,extensionASTNodes:v.schemaExtensions,extensions:null});for(const O of E)A=(0,Ii.a)(A,O,{commentDescriptions:!0});const S=Vc(u),N=c?_i(A,S):S;T=function(e,t,n){const{fieldNodesByType:r,fieldNodesByField:i,dynamicSelectionSetsByField:o,mergedTypes:s}=e,a=[n.getQueryType(),n.getMutationType()];for(const d of a)d&&(r[d.name]=[fc("{ __typename }",{noLocation:!0}).selections[0]]);const u=Object.create(null);for(const d in s){const e=s[d];if(null!=e.selectionSets||null!=e.fieldSelectionSets){for(const[t,n]of e.selectionSets){const e=t.transformedSchema.getType(d).getFields();for(const t in e){const r=e[t],i=(0,Tn.xC)(r.type);n&&(0,Tn.UT)(i)&&Nc(n,t)||Ac(u,d,t,n,!0)}}for(const[,t]of e.fieldSelectionSets)for(const e in t)Ac(u,d,e,t[e],!0)}}for(const d in t){const e=n.getType(d);if(void 0===e||(0,Tn.UT)(e)||(0,Tn.hL)(e)||(0,Tn.EN)(e))continue;const r=t[d];for(const t in r){const e=r[t];"function"===typeof e.selectionSet?(d in o||(o[d]=Object.create(null)),t in o[d]||(o[d][t]=[]),o[d][t].push(e.selectionSet)):e.selectionSet&&Ac(u,d,t,fc(e.selectionSet,{noLocation:!0}))}}const c=Object.create(null),f=Object.create(null),l=Object.create(null);for(const d in u){const e=n.getType(d);for(const t in u[d])for(const r of u[d][t]){const{fields:o}=co(n,f,c,e,r);for(const[,e]of o)for(const n of e){const e=(0,bs.S)(n);null==l[e]?(l[e]=n,Sc(i,d,t,n)):Sc(i,d,t,l[e])}}}return e}(T,N,A),A=Yi({schema:A,defaultFieldResolver:No,resolvers:N,resolverValidationOptions:f,inheritResolversFromInterfaces:!1,updateResolversInPlace:l});const x=Object.entries(f);return x.length>0&&x.some((([,e])=>"ignore"!==e))&&function(e,t={}){const{requireResolversForArgs:n,requireResolversForNonScalar:r,requireResolversForAllFields:i}=t;if(i&&(n||r))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");Mi(e,((e,t,o)=>{i&&Xi("requireResolversForAllFields",i,e,t,o),n&&e.args.length>0&&Xi("requireResolversForArgs",n,e,t,o),"ignore"===r||(0,Tn.KA)((0,Tn.xC)(e.type))||Xi("requireResolversForNonScalar",r,e,t,o)}))}(A,f),function(e,t){e.extensions={...e.extensions,stitchingInfo:t}}(A,T),d&&(Array.isArray(d)&&(d=function(e){return Fc(e)}(d)),function(e,t){zc(e,t.schemaExtensions);for(const[n,r]of Object.entries(t.types||{})){const t=e.getType(n);if(t)if(zc(t,r.extensions),"object"===r.type||"interface"===r.type)for(const[e,n]of Object.entries(r.fields)){const r=t.getFields()[e];if(r){zc(r,n.extensions);for(const[e,t]of Object.entries(n.arguments))zc(r.args.find((t=>t.name===e)),t)}}else if("input"===r.type)for(const[e,n]of Object.entries(r.fields))zc(t.getFields()[e],n.extensions);else if("enum"===r.type)for(const[e,n]of Object.entries(r.values))zc(t.getValue(e),n)}}(A,d)),A}const qc=[function(e){if(null==e.merge)return[e];const t=Object.create(null),n=Object.create(null);for(const r in e.merge){const i=e.merge[r];if(t[r]=i,i.fields){const o=Object.create(null),s=Object.create(null);for(const e in i.fields){const t=i.fields[e];if(t.computed&&t.selectionSet)s[e]=t;else{if(t.computed)throw new Error(`A selectionSet is required for computed field "${r}.${e}"`);o[e]=t}}const a=Object.keys(s).length,u=e.schema.getType(r);a&&a!==Object.keys(u.getFields()).length&&(t[r]={...i,fields:o},n[r]={...i,fields:s,canonical:void 0})}}return Object.keys(n).length?[Pc({...e,merge:t},n),jc({...e,merge:n})]:[e]},function(e){var t,n,r,i;if(!e.merge)return[e];const o=Object.values(e.merge).reduce(((e,t)=>{var n,r;return Math.max(e,null!==(r=null===(n=null===t||void 0===t?void 0:t.entryPoints)||void 0===n?void 0:n.length)&&void 0!==r?r:0)}),0);if(0===o)return[e];const s=[];for(let a=0;a<o;a+=1){const o=Oo(e),u=null!==(t=o.merge)&&void 0!==t?t:Object.create(null);let c=u;a>0&&(o.merge=c=Object.create(null));for(const e in u){const t=u[e],o=null===(n=null===t||void 0===t?void 0:t.entryPoints)||void 0===n?void 0:n[a];if(o){if(null!==(i=null!==(r=t.selectionSet)&&void 0!==r?r:t.fieldName)&&void 0!==i?i:t.resolve)throw new Error(`Merged type ${e} may not define entryPoints in addition to selectionSet, fieldName, or resolve`);if(Object.assign(t,o),delete t.entryPoints,a>0&&(delete t.canonical,null!=t.fields))for(const e in t.fields){delete t.fields[e].canonical}c[e]=t}}s.push(o)}return s}];function Hc(e,t,n,r){let i;if(xo(t))i=t;else{if(!(t instanceof Dr.XO))throw new TypeError("Received invalid input.");i={schema:t}}const o=e.concat(qc).reduce(((e,t)=>e.flatMap((e=>t(e)))),[i]).map((e=>new Co(e))),s=o[0];n.set(t,s);for(const a of o)r.set(a,t);return o}function Jc(e){const{definition:t,getViewerID:n,remoteExecutor:r,serverURL:i}=e;let o;if("function"===typeof r)o=r;else{if("function"!==typeof n||"string"!==typeof i)throw new Error("Invalid parameters to create hybrid schema: missing `remoteExecutor` or `getViewerID` and `serverURL` parameters");o=function(e,t){return bi((async({document:n,variables:r})=>{const i=t(),o=i?{"ComposeDB-ViewerID":i}:{};return await(0,Kt.r)(e,{method:"POST",headers:o,body:{query:(0,bs.S)(n),variables:r}})}))}(i,n)}const s={executor:o,schema:Jr({definition:t,readonly:!0})};return Gc({subschemas:[Jr({definition:t}),s],mergeTypes:!1,onTypeConflict:(e,t,n)=>n?.left.subschema===s?e:t})}function Kc(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Yc(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Kc(e,t,"get"))}function Wc(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Xc(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Kc(e,t,"set"),n),n}var Qc=new WeakMap,Zc=new WeakMap,ef=new WeakMap;class tf{get context(){return Yc(this,Qc)}get did(){return Yc(this,Qc).ceramic.did}get id(){return Yc(this,Qc).getViewerID()}get resources(){return Yc(this,Zc)}setDID(e){Yc(this,Qc).ceramic.did=e}async execute(e,t){return await Yc(this,ef).execute(e,t)}async executeQuery(e,t){return await Yc(this,ef).executeQuery(e,t)}constructor(e){Wc(this,Qc,{writable:!0,value:void 0}),Wc(this,Zc,{writable:!0,value:void 0}),Wc(this,ef,{writable:!0,value:void 0});const{ceramic:t,definition:n,remoteExecutor:i,serverURL:o,...s}=e,a="string"===typeof t?new r.v(t):t;Xc(this,Qc,jt({...s,ceramic:a})),Xc(this,Zc,Object.values(n.models).map((e=>`ceramic://*?model=${e.id}`)));const u={ceramic:a,context:Yc(this,Qc),definition:n};null==i&&null==o||(u.schema=Jc({definition:n,getViewerID:()=>this.id,remoteExecutor:i,serverURL:o})),Xc(this,ef,new ei(u))}}},154:function(e,t,n){"use strict";n.d(t,{yK:function(){return wt},LT:function(){return bt},MB:function(){return Et},ZX:function(){return Tt}});var r={};n.r(r),n.d(r,{code:function(){return pt},decode:function(){return yt},encode:function(){return mt},name:function(){return ht}});const i=["string","number","bigint","symbol"],o=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function s(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(i.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(o.includes(t))return t;return}(e);return n||"Object"}class a{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}a.uint=new a(0,"uint",!0),a.negint=new a(1,"negint",!0),a.bytes=new a(2,"bytes",!0),a.string=new a(3,"string",!0),a.array=new a(4,"array",!1),a.map=new a(5,"map",!1),a.tag=new a(6,"tag",!1),a.float=new a(7,"float",!0),a.false=new a(7,"false",!0),a.true=new a(7,"true",!0),a.null=new a(7,"null",!0),a.undefined=new a(7,"undefined",!0),a.break=new a(7,"break",!0);class u{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const c=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,f=new TextDecoder,l=new TextEncoder;function d(e){return c&&globalThis.Buffer.isBuffer(e)}function h(e){return e instanceof Uint8Array?d(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const p=c?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):E(e,t,n):(e,t,n)=>n-t>64?f.decode(e.subarray(t,n)):E(e,t,n),m=c?e=>e.length>64?globalThis.Buffer.from(e):b(e):e=>e.length>64?l.encode(e):b(e),y=e=>Uint8Array.from(e),g=c?(e,t,n)=>d(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),v=c?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),h(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},w=c?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function b(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function E(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&i)<<6|63&n,u>127&&(o=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&i)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}const T=4096;class I{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=w(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=g(n,0,this.cursor)}else t=v(this.chunks,this.cursor);return e&&this.reset(),t}}const _=[];function A(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}_[23]=1,_[24]=2,_[25]=3,_[26]=5,_[27]=9;const S=[24,256,65536,4294967296,BigInt("18446744073709551616")];function N(e,t,n){A(e,t,1);const r=e[t];if(!0===n.strict&&r<S[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function x(e,t,n){A(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<S[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function O(e,t,n){A(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<S[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function k(e,t,n){A(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(r)<<BigInt(32))+BigInt(i);if(!0===n.strict&&o<S[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===n.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function C(e,t){return D(e,0,t.value)}function D(e,t,n){if(n<S[0]){const r=Number(n);e.push([t|r])}else if(n<S[1]){const r=Number(n);e.push([24|t,r])}else if(n<S[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<S[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<S[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}C.encodedSize=function(e){return D.encodedSize(e.value)},D.encodedSize=function(e){return e<S[0]?1:e<S[1]?2:e<S[2]?3:e<S[3]?5:9},C.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const M=BigInt(-1),R=BigInt(1);function U(e,t){const n=t.value,r="bigint"===typeof n?n*M-R:-1*n-1;D(e,t.type.majorEncoded,r)}function B(e,t,n,r){A(e,t,n+r);const i=g(e,t+n,t+n+r);return new u(a.bytes,i,n+r)}function L(e,t,n,r){return B(e,t,1,n)}function P(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===a.string?m(e.value):e.value),e.encodedBytes}function j(e,t){const n=P(t);D(e,t.type.majorEncoded,n.length),e.push(n)}function F(e,t,n,r,i){const o=n+r;A(e,t,o);const s=new u(a.string,p(e,t+n,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=g(e,t+n,t+o)),s}function $(e,t,n,r){return F(e,t,1,n,r)}U.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*M-R:-1*t-1;return n<S[0]?1:n<S[1]?2:n<S[2]?3:n<S[3]?5:9},U.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},j.encodedSize=function(e){const t=P(e);return D.encodedSize(t.length)+t.length},j.compareTokens=function(e,t){return n=P(e),r=P(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(d(e)&&d(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const V=j;function z(e,t,n,r){return new u(a.array,r,n)}function G(e,t,n,r){return z(0,0,1,n)}function q(e,t){D(e,a.array.majorEncoded,t.value)}function H(e,t,n,r){return new u(a.map,r,n)}function J(e,t,n,r){return H(0,0,1,n)}function K(e,t){D(e,a.map.majorEncoded,t.value)}function Y(e,t,n,r){return new u(a.tag,n,1)}function W(e,t){D(e,a.tag.majorEncoded,t.value)}q.compareTokens=C.compareTokens,q.encodedSize=function(e){return D.encodedSize(e.value)},K.compareTokens=C.compareTokens,K.encodedSize=function(e){return D.encodedSize(e.value)},W.compareTokens=C.compareTokens,W.encodedSize=function(e){return D.encodedSize(e.value)};function X(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new u(a.float,e,t)}function Q(e,t,n){const r=t.value;if(!1===r)e.push([20|a.float.majorEncoded]);else if(!0===r)e.push([21|a.float.majorEncoded]);else if(null===r)e.push([22|a.float.majorEncoded]);else if(void 0===r)e.push([23|a.float.majorEncoded]);else{let t,o=!1;n&&!0===n.float64||(ne(r),t=re(te,1),r===t||Number.isNaN(r)?(te[0]=249,e.push(te.slice(0,3)),o=!0):(ie(r),t=oe(te,1),r===t&&(te[0]=250,e.push(te.slice(0,5)),o=!0))),o||(i=r,ee.setFloat64(0,i,!1),t=se(te,1),te[0]=251,e.push(te.slice(0,9)))}var i}Q.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){ne(n);let e=re(te,1);if(n===e||Number.isNaN(n))return 3;if(ie(n),e=oe(te,1),n===e)return 5}return 9};const Z=new ArrayBuffer(9),ee=new DataView(Z,1),te=new Uint8Array(Z,0);function ne(e){if(e===1/0)ee.setUint16(0,31744,!1);else if(e===-1/0)ee.setUint16(0,64512,!1);else if(Number.isNaN(e))ee.setUint16(0,32256,!1);else{ee.setFloat32(0,e);const t=ee.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)ee.setUint16(0,31744,!1);else if(0===n)ee.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?ee.setUint16(0,0):e<-14?ee.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):ee.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function re(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let o;return o=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-o:o}function ie(e){ee.setFloat32(0,e,!1)}function oe(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function se(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function ae(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function ue(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Q.compareTokens=C.compareTokens;const ce=[];for(let It=0;It<=23;It++)ce[It]=ae;ce[24]=function(e,t,n,r){return new u(a.uint,N(e,t+1,r),2)},ce[25]=function(e,t,n,r){return new u(a.uint,x(e,t+1,r),3)},ce[26]=function(e,t,n,r){return new u(a.uint,O(e,t+1,r),5)},ce[27]=function(e,t,n,r){return new u(a.uint,k(e,t+1,r),9)},ce[28]=ae,ce[29]=ae,ce[30]=ae,ce[31]=ae;for(let It=32;It<=55;It++)ce[It]=ae;ce[56]=function(e,t,n,r){return new u(a.negint,-1-N(e,t+1,r),2)},ce[57]=function(e,t,n,r){return new u(a.negint,-1-x(e,t+1,r),3)},ce[58]=function(e,t,n,r){return new u(a.negint,-1-O(e,t+1,r),5)},ce[59]=function(e,t,n,r){const i=k(e,t+1,r);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new u(a.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new u(a.negint,M-BigInt(i),9)},ce[60]=ae,ce[61]=ae,ce[62]=ae,ce[63]=ae;for(let It=64;It<=87;It++)ce[It]=L;ce[88]=function(e,t,n,r){return B(e,t,2,N(e,t+1,r))},ce[89]=function(e,t,n,r){return B(e,t,3,x(e,t+1,r))},ce[90]=function(e,t,n,r){return B(e,t,5,O(e,t+1,r))},ce[91]=function(e,t,n,r){const i=k(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return B(e,t,9,i)},ce[92]=ae,ce[93]=ae,ce[94]=ae,ce[95]=ue("indefinite length bytes/strings are not supported");for(let It=96;It<=119;It++)ce[It]=$;ce[120]=function(e,t,n,r){return F(e,t,2,N(e,t+1,r),r)},ce[121]=function(e,t,n,r){return F(e,t,3,x(e,t+1,r),r)},ce[122]=function(e,t,n,r){return F(e,t,5,O(e,t+1,r),r)},ce[123]=function(e,t,n,r){const i=k(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return F(e,t,9,i,r)},ce[124]=ae,ce[125]=ae,ce[126]=ae,ce[127]=ue("indefinite length bytes/strings are not supported");for(let It=128;It<=151;It++)ce[It]=G;ce[152]=function(e,t,n,r){return z(0,0,2,N(e,t+1,r))},ce[153]=function(e,t,n,r){return z(0,0,3,x(e,t+1,r))},ce[154]=function(e,t,n,r){return z(0,0,5,O(e,t+1,r))},ce[155]=function(e,t,n,r){const i=k(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return z(0,0,9,i)},ce[156]=ae,ce[157]=ae,ce[158]=ae,ce[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return z(0,0,1,1/0)};for(let It=160;It<=183;It++)ce[It]=J;ce[184]=function(e,t,n,r){return H(0,0,2,N(e,t+1,r))},ce[185]=function(e,t,n,r){return H(0,0,3,x(e,t+1,r))},ce[186]=function(e,t,n,r){return H(0,0,5,O(e,t+1,r))},ce[187]=function(e,t,n,r){const i=k(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return H(0,0,9,i)},ce[188]=ae,ce[189]=ae,ce[190]=ae,ce[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return H(0,0,1,1/0)};for(let It=192;It<=215;It++)ce[It]=Y;ce[216]=function(e,t,n,r){return new u(a.tag,N(e,t+1,r),2)},ce[217]=function(e,t,n,r){return new u(a.tag,x(e,t+1,r),3)},ce[218]=function(e,t,n,r){return new u(a.tag,O(e,t+1,r),5)},ce[219]=function(e,t,n,r){return new u(a.tag,k(e,t+1,r),9)},ce[220]=ae,ce[221]=ae,ce[222]=ae,ce[223]=ae;for(let It=224;It<=243;It++)ce[It]=ue("simple values are not supported");ce[244]=ae,ce[245]=ae,ce[246]=ae,ce[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new u(a.null,null,1):new u(a.undefined,void 0,1)},ce[248]=ue("simple values are not supported"),ce[249]=function(e,t,n,r){return X(re(e,t+1),3,r)},ce[250]=function(e,t,n,r){return X(oe(e,t+1),5,r)},ce[251]=function(e,t,n,r){return X(se(e,t+1),9,r)},ce[252]=ae,ce[253]=ae,ce[254]=ae,ce[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new u(a.break,void 0,1)};const fe=[];for(let It=0;It<24;It++)fe[It]=new u(a.uint,It,1);for(let It=-1;It>=-24;It--)fe[31-It]=new u(a.negint,It,1);fe[64]=new u(a.bytes,new Uint8Array(0),1),fe[96]=new u(a.string,"",1),fe[128]=new u(a.array,0,1),fe[160]=new u(a.map,0,1),fe[244]=new u(a.false,!1,1),fe[245]=new u(a.true,!0,1),fe[246]=new u(a.null,null,1);const le={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=de[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case a.false:return y([244]);case a.true:return y([245]);case a.null:return y([246]);case a.bytes:return e.value.length?void 0:y([64]);case a.string:return""===e.value?y([96]):void 0;case a.array:return 0===e.value?y([128]):void 0;case a.map:return 0===e.value?y([160]):void 0;case a.uint:return e.value<24?y([Number(e.value)]):void 0;case a.negint:if(e.value>=-24)return y([31-Number(e.value)])}}};const de=function(){const e=[];return e[a.uint.major]=C,e[a.negint.major]=U,e[a.bytes.major]=j,e[a.string.major]=V,e[a.array.major]=q,e[a.map.major]=K,e[a.tag.major]=W,e[a.float.major]=Q,e}(),he=new I;class pe{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new pe(t,e)}}const me={null:new u(a.null,null),undefined:new u(a.undefined,void 0),true:new u(a.true,!0),false:new u(a.false,!1),emptyArray:new u(a.array,0),emptyMap:new u(a.map,0)},ye={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new u(e>=0?a.uint:a.negint,e):new u(a.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new u(a.uint,e):new u(a.negint,e),Uint8Array:(e,t,n,r)=>new u(a.bytes,e),string:(e,t,n,r)=>new u(a.string,e),boolean:(e,t,n,r)=>e?me.true:me.false,null:(e,t,n,r)=>me.null,undefined:(e,t,n,r)=>me.undefined,ArrayBuffer:(e,t,n,r)=>new u(a.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new u(a.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[me.emptyArray,new u(a.break)]:me.emptyArray;r=pe.createCheck(r,e);const i=[];let o=0;for(const s of e)i[o++]=ge(s,n,r);return n.addBreakTokens?[new u(a.array,e.length),i,new u(a.break)]:[new u(a.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===n.addBreakTokens?[me.emptyMap,new u(a.break)]:me.emptyMap;r=pe.createCheck(r,e);const c=[];let f=0;for(const a of o)c[f++]=[ge(a,n,r),ge(i?e.get(a):e[a],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(c,n),n.addBreakTokens?[new u(a.map,s),c,new u(a.break)]:[new u(a.map,s),c]}};ye.Map=ye.Object,ye.Buffer=ye.Uint8Array;for(const It of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ye[`${It}Array`]=ye.DataView;function ge(e,t={},n){const r=s(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||ye[r];if("function"===typeof i){const o=i(e,r,t,n);if(null!=o)return o}const o=ye[r];if(!o)throw new Error(`CBOR encode error: unsupported type: ${r}`);return o(e,r,t,n)}function ve(e,t,n,r){if(Array.isArray(t))for(const i of t)ve(e,i,n,r);else n[t.type.major](e,t,r)}function we(e,t,n){const r=ge(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new I(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return h(t.chunks[0])}}return he.reset(),ve(he,r,t,n),he.toBytes(!0)}const be={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Ee{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=fe[e];if(void 0===t){const n=ce[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this.pos,r,this.options)}return this.pos+=t.encodedLength,t}}const Te=Symbol.for("DONE"),Ie=Symbol.for("BREAK");function _e(e,t){if(e.done())return Te;const n=e.next();if(n.type===a.break)return Ie;if(n.type.terminal)return n.value;if(n.type===a.array)return function(e,t,n){const r=[];for(let i=0;i<e.value;i++){const o=_e(t,n);if(o===Ie){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===Te)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);r[i]=o}return r}(n,e,t);if(n.type===a.map)return function(e,t,n){const r=!0===n.useMaps,i=r?void 0:{},o=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=_e(t,n);if(a===Ie){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Te)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&o.has(a)||!r&&a in i))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const u=_e(t,n);if(u===Te)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?o.set(a,u):i[a]=u}return r?o:i}(n,e,t);if(n.type===a.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=_e(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}var Ae=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=Se;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Se=Math.pow(2,31);var Ne=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var xe=Math.pow(2,7),Oe=Math.pow(2,14),ke=Math.pow(2,21),Ce=Math.pow(2,28),De=Math.pow(2,35),Me=Math.pow(2,42),Re=Math.pow(2,49),Ue=Math.pow(2,56),Be=Math.pow(2,63),Le={encode:Ae,decode:Ne,encodingLength:function(e){return e<xe?1:e<Oe?2:e<ke?3:e<Ce?4:e<De?5:e<Me?6:e<Re?7:e<Ue?8:e<Be?9:10}};const Pe=(e,t=0)=>[Le.decode(e,t),Le.decode.bytes],je=(e,t,n=0)=>(Le.encode(e,t,n),t),Fe=e=>Le.encodingLength(e),$e=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Ve{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var ze=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class Ge{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class qe{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Je(this,e)}}class He{constructor(e){this.decoders=e}or(e){return Je(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Je=(e,t)=>new He({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ke{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Ge(e,t,n),this.decoder=new qe(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ye=({name:e,prefix:t,encode:n,decode:r})=>new Ke(e,t,n,r),We=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=ze(n,t);return Ye({prefix:e,name:t,encode:r,decode:e=>$e(i(e))})},Xe=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Ye({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Qe=We({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ze=(We({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Xe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),et=(Xe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Xe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Xe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Xe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return ot(n,nt(e),t||Qe.encoder);default:return st(n,nt(e),t||Ze.encoder)}}),tt=new WeakMap,nt=e=>{const t=tt.get(e);if(null==t){const t=new Map;return tt.set(e,t),t}return t};class rt{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==at)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ut)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return rt.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Fe(e),i=r+Fe(n),o=new Uint8Array(i+n);return je(e,o,0),je(n,o,r),o.set(t,i),new Ve(e,n,t,o)})(e,t);return rt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return rt.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&((e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(e.bytes,n.bytes)}})(e.multihash,n.multihash)}toString(e){return et(this,e)}toJSON(){return{"/":et(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof rt)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:i}=t;return new rt(e,n,r,i||ct(e,n,r.bytes))}if(!0===t[ft]){const{version:e,multihash:n,code:r}=t,i=(e=>{const t=$e(e),[n,r]=Pe(t),[i,o]=Pe(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Ve(n,i,s,t)})(n);return rt.create(e,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==at)throw new Error(`Version 0 CID must use dag-pb (code: ${at}) block encoding`);return new rt(e,t,n,n.bytes);case 1:{const r=ct(e,t,n.bytes);return new rt(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return rt.create(0,at,e)}static createV1(e,t){return rt.create(1,e,t)}static decode(e){const[t,n]=rt.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=rt.inspectBytes(e),n=t.size-t.multihashSize,r=$e(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new Ve(t.multihashCode,t.digestSize,i,r);return[0===t.version?rt.createV0(o):rt.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Pe(e.subarray(t));return t+=r,n};let r=n(),i=at;if(18===r?(r=0,t=0):i=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=it(e,t),i=rt.decode(r);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return nt(i).set(n,e),i}}const it=(e,t)=>{switch(e[0]){case"Q":{const n=t||Qe;return[Qe.prefix,n.decode(`${Qe.prefix}${e}`)]}case Qe.prefix:{const n=t||Qe;return[Qe.prefix,n.decode(e)]}case Ze.prefix:{const n=t||Ze;return[Ze.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ot=(e,t,n)=>{const{prefix:r}=n;if(r!==Qe.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},st=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},at=112,ut=18,ct=(e,t,n)=>{const r=Fe(e),i=r+Fe(t),o=new Uint8Array(i+n.byteLength);return je(e,o,0),je(t,o,r),o.set(n,i),o},ft=Symbol.for("@ipld/js-cid/CID");const lt={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=rt.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new u(a.tag,42),new u(a.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const dt={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};dt.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return rt.decode(e.subarray(1))};const ht="dag-cbor",pt=113,mt=e=>{return t=e,n=lt,n=Object.assign({},le,n),we(t,de,n);var t,n},yt=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},be,t)).tokenizer||new Ee(e,t),r=_e(n,t);if(r===Te)throw new Error("CBOR decode error: did not find any content to decode");if(r===Ie)throw new Error("CBOR decode error: got unexpected break");if(!n.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return r}(e,dt);var gt=n(7618),vt=n(7353);new Date("2022-09-20").valueOf();var wt,bt;function Et(e){if(null===e.s||void 0===e.s)throw new Error("CACAO does not have a signature")}function Tt(e,t){const n=t.atTime?t.atTime.getTime():Date.now(),r=1e3*(t.clockSkewSecs??300);if(Date.parse(e.p.iat)>n+r||Date.parse(e.p.nbf)>n+r)throw new Error("CACAO is not valid yet");const i=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0;if(!t.disableExpirationCheck&&Date.parse(e.p.exp)+i+r<n)throw new Error("CACAO has expired")}!function(e){e.fromSiweMessage=function(e){const t={h:{t:"eip4361"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:eip155:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"eip191",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwsMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:solana:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"solana:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwTezosMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:tezos:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"tezos:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwStacksMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:stacks:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"stacks:secp256k1",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromBlockBytes=async function(e){return(await gt.Jx({bytes:e,codec:r,hasher:vt.sha256})).value},e.verify=async function(e,t={}){Et(e);const n=t.verifiers[e.s.t];if(!n)throw new Error("Unsupported CACAO signature type, register the needed verifier");return n(e,t)}}(wt||(wt={})),function(e){e.fromCacao=function(e){return gt.cv({value:e,codec:r,hasher:vt.sha256})}}(bt||(bt={}))},4474:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(7997);class i extends r.Gg{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;switch(this.type){case r.BG.PERSONAL_SIGNATURE:default:e=this.toMessage()}return e}}},7997:function(e,t,n){"use strict";n.d(t,{BG:function(){return Te},Gg:function(){return Ie},y6:function(){return _e}});var r=n(7118),i=n(8401);class o{input;position=0;constructor(e){this.input=e}get isEOF(){return this.position>=this.input.length}}function s(e,t,n){return n.position=t,a(e)}function a(e){return(0,i.t$)(e)}function u(e){return function(t){return t.input.slice(t.position,t.position+e.length)===e?(t.position+=e.length,(0,i.F2)(e)):a(new Error(`Can not match literal "${e}"`))}}function c(e,t){return function(n){const r=n.position,o=e(n);if((0,i.nM)(o))return n.position=r,o;const a=t(o.right);return(0,i.nM)(a)?s(a.left,r,n):a}}function f(e,t){return function(n){const r=n.position,o=e(n);return(0,i.nM)(o)?(n.position=r,o):(0,i.F2)(t(o.right))}}function l(e){return function(t){const n=t.input.slice(t.position).match(e);return n?(t.position+=n[0].length,(0,i.F2)(n[0])):a(new Error(`Can not match ${e}`))}}function d(...e){return h(m(e))}function h(e,t=""){return function(n){const r=n.position,o=e(n);return(0,i.nM)(o)?(n.position=r,o):(0,i.F2)(o.right.join(t))}}function p(...e){return m(e)}function m(e){return function(t){const n=t.position,r=[];for(const o of e){const e=o(t);if((0,i.nM)(e))return s(e.left,n,t);r.push(e.right)}return(0,i.F2)(r)}}function y(e,t){return function(n){const r=e(n);return(0,i.nM)(r)?(0,i.F2)(t):r}}function g(...e){return function(t){for(const n of e){const e=t.position,r=n(t);if(!(0,i.nM)(r))return r;t.position=e}return a(new Error(`Can not find any of ${e.map((e=>e.name)).join(", ")}`))}}function v(e,t,n=1,r=1/0){return function(o){const a=o.position,u=[],c=e(o);if((0,i.nM)(c))return s(c.left,a,o);u.push(c.right);let f=o.position;const l=e=>u.length<n?s(e.left,f,o):(o.position=f,(0,i.F2)(u));for(;!o.isEOF&&u.length<r;){f=o.position;const n=t(o);if((0,i.nM)(n))return l(n);const r=e(o);if((0,i.nM)(r))return l(r);u.push(r.right)}return u.length<n?s(new Error(`Got ${u}/${n} instances of ${e.name}`),a,o):(0,i.F2)(u)}}function w(e){return function(t){const n=t.position,r=e(t);return(0,i.nM)(r)||t.isEOF?r:s(new Error(`Consumed only ${t.position} of ${t.input.length} input length`),n,t)}}var b=n(4415);const E=u("."),T=u(":"),I=u("::"),_=l(/^([0-9a-fA-F]{2}){1,4}/),A=l(/^(25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|(\d)/),S=d(A,E,A,E,A,E,A),N=g(d(_,T,_),S);const x=function(){const e=e=>h(function(e,t=1,n=1/0){return function(r){const o=r.position,a=[];for(;!r.isEOF&&a.length<n;){const n=e(r);if((0,i.nM)(n))return a.length<t?s(n.left,o,r):(0,i.F2)(a);a.push(n.right)}return(0,i.F2)(a)}}(d(_,T),e,e)),t=e=>y(h(v(_,T,1,e),":"),"");return h(g(p(e(6),N),p(I,e(5),N),p(t(1),I,e(4),N),p(t(2),I,e(3),N),p(t(3),I,e(2),N),p(t(4),I,e(1),N),p(t(5),I,N),p(t(6),I,_),p(t(7),I)))}(),O=d(u("["),x,u("]")),k=c(l(/^\d+/),(e=>String(parseInt(e,10))===e?(0,b.F2)(e):(0,b.t$)(new Error(`Invalid port ${e}`)))),C=g(O,S,l(/^([a-zA-Z0-9\-._~!$&'()*+,;=]|(%[a-fA-F0-9]{2}))*/)),D=d(u(":"),k),M=c(d(C,y(D,"")),(e=>e?(0,b.F2)(e):(0,b.t$)(new Error("domain can not be empty")))),R=c(l(/^\S+/),(e=>{try{return new URL(e),(0,b.F2)(e)}catch(t){return(0,b.t$)(new Error(`Invalid URI ${e}`))}})),U=u("\n"),B=l(/^\d+/),L=l(/^\w+/),P=f(p(M,u(" wants you to sign in with your "),L,u(" account:")),(e=>({domain:e[0],network:e[2]}))),j=l(/^\w+/),F=f(y(p(l(/^[^\n]+/),U),void 0),(e=>{if(e)return e[0]})),$=f(p(u("URI: "),R,U),(e=>e[1])),V=f(p(u("Version: 1"),U),(()=>"1")),z=f(p(u("Chain ID: "),B,U),(e=>e[1])),G=l(/^[a-zA-Z0-9]{8,}/),q=f(p(u("Nonce: "),G,U),(e=>e[1])),H=c(l(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|([+-](\d\d):(\d\d)))/),(e=>Number.isFinite(Date.parse(e))?(0,b.F2)(e):(0,b.t$)(new Error(`Invalid date-time ${e}`)))),J=e=>f(p(u(e),H),(e=>e[1])),K=J("Issued At: "),Y=J("Expiration Time: "),W=J("Not Before: "),X=l(/^([a-zA-Z0-9-._~!$&'():@]|(%[a-fA-F0-9]{2}))*/),Q=f(p(u("Request ID: "),X,U),(e=>e[1])),Z=R,ee=f(p(u("- "),Z),(e=>e[1])),te=f(p(u("Resources:"),U,y(v(ee,U),[])),(e=>e[2])),ne=f(p(P,U,j,U),(e=>({domain:e[0].domain,network:e[0].network,address:e[2]}))),re=f(p($,V,z,q,K),(e=>({uri:e[0],version:e[1],chainId:e[2],nonce:e[3],issuedAt:e[4]}))),ie=y(p(U,Y),void 0),oe=y(p(U,W),void 0),se=y(p(U,Q),void 0),ae=f(y(p(U,te),void 0),(e=>e?e[1]:void 0)),ue=f(p(ie,oe,se,ae),(e=>({expirationTime:e[0],notBefore:e[1],requestId:e[2],resources:e[3]}))),ce=f(p(ne,U,F,U,re,ue),(e=>{const t=e[0],n=e[2],r=e[4],i=e[5];return{domain:t.domain,network:t.network,address:t.address,statement:n,uri:r.uri,version:r.version,chainId:r.chainId,nonce:r.nonce,issuedAt:r.issuedAt,resources:i.resources}}));function fe(e){const t=w(e);return function(e){return(0,b.Gg)(t(new o(e)))}}const le=fe(M),de=fe(H),he=fe(R);function pe(e,t){if(e)return e;throw new Error(`Expect non-empty string for "${t}" field`)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ye{toString(){return function(e){const t=`${e.domain} wants you to sign in with your ${e.network} account:`,n=e.address,r=e.statement,i=`URI: ${e.uri}`,o=`Version: ${e.version}`,s=`Chain ID: ${e.chainId}`,a=`Nonce: ${e.nonce}`,u=`Issued At: ${e.issuedAt}`,c=e.expirationTime?`Expiration Time: ${e.expirationTime}`:void 0,f=e.notBefore?`Not Before: ${e.notBefore}`:void 0,l=e.requestId?`Request ID: ${e.requestId}`:void 0,d=e.resources?`Resources:\n${function(e){return e.map((e=>`- ${e}`)).join("\n")}(e.resources)}`:void 0;let h=`${t}\n${n}\n\n`;r&&(h+=`${r}\n`);return[h,i,o,s,a,u,c,f,l,d].filter(Boolean).join("\n")}(this)}constructor(e){var t;me(this,"domain",void 0),me(this,"network",void 0),me(this,"address",void 0),me(this,"statement",void 0),me(this,"uri",void 0),me(this,"version",void 0),me(this,"chainId",void 0),me(this,"nonce",void 0),me(this,"issuedAt",void 0),me(this,"expirationTime",void 0),me(this,"notBefore",void 0),me(this,"requestId",void 0),me(this,"resources",void 0),this.domain=le(e.domain),this.network=pe(e.network,"network"),this.address=pe(e.address,"address"),this.statement=we(e.statement,(e=>pe(e,"statement"))),this.uri=he(e.uri),this.version=function(e){if("1"!==String(e))throw new Error(`Invalid version string: ${e}`);return"1"}(e.version||"1"),this.chainId=(t=e.chainId,String(t)),this.nonce=function(e){return fe(G)(String(e))}(e.nonce),this.issuedAt=de(e.issuedAt),this.expirationTime=we(e.expirationTime,de),this.notBefore=we(e.notBefore,de),this.requestId=we(e.requestId,(e=>pe(e,"requestId"))),this.resources=we(e.resources,(e=>e.map(he)))}}function ge(e){const t=w(ce)(new o(e));return(0,b.nM)(t)?t:(0,b.F2)(new ye(t.right))}function ve(e){return(0,b.Gg)(ge(e))}function we(e,t){return void 0!==e?t(e):void 0}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee,Te;me(ye,"fromString",ve),me(ye,"fromStringSafe",ge),function(e){e.INVALID_SIGNATURE="Invalid signature.",e.EXPIRED_MESSAGE="Expired message.",e.MALFORMED_SESSION="Malformed session."}(Ee||(Ee={})),function(e){e.PERSONAL_SIGNATURE="Personal signature"}(Te||(Te={}));class Ie{static fromCacao(e){const t=r.hX.parse(e.p.iss.replace("did:pkh:","")),n=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new r.a_(t.chainId).reference});return e.p.statement&&(n.statement=e.p.statement),e.p.nonce&&(n.nonce=e.p.nonce),e.p.iat&&(n.issuedAt=e.p.iat),e.p.exp&&(n.expirationTime=e.p.exp),e.p.nbf&&(n.notBefore=e.p.nbf),e.p.requestId&&(n.requestId=e.p.requestId),e.p.resources&&(n.resources=e.p.resources),e.s&&(e.s.s&&(n.signature=e.s.s),"eip191"===e.s.t&&(n.type=Te.PERSONAL_SIGNATURE)),n}toMessage(e){return function(e,t){const n=`${e.domain} wants you to sign in with your ${t} account:`,r=`URI: ${e.uri}`;let i=[n,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=`Nonce: ${e.nonce}`,a=`Chain ID: ${e.chainId}`,u=[r,o,a,s];e.issuedAt&&Date.parse(e.issuedAt);if(e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),u.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;u.push(t)}e.notBefore&&u.push(`Not Before: ${e.notBefore}`);e.requestId&&u.push(`Request ID: ${e.requestId}`);e.resources&&e.resources.length>=1&&u.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const c=u.join("\n");e.statement&&(i=[i,e.statement].join("\n\n"));return[i,c].join("\n\n")}(this,e)}constructor(e){if(be(this,"domain",void 0),be(this,"address",void 0),be(this,"statement",void 0),be(this,"uri",void 0),be(this,"version",void 0),be(this,"nonce",void 0),be(this,"issuedAt",void 0),be(this,"expirationTime",void 0),be(this,"notBefore",void 0),be(this,"requestId",void 0),be(this,"chainId",void 0),be(this,"resources",void 0),be(this,"signature",void 0),be(this,"type",void 0),"string"===typeof e){const t=ve(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}}function _e(e,t){const n=`${e.domain} wants you to sign in with your ${t} account:`,r=`URI: ${e.uri}`;let i=[n,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=[r,o,`Nonce: ${e.nonce}`];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),s.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;s.push(t)}e.notBefore&&s.push(`Not Before: ${e.notBefore}`),e.requestId&&s.push(`Request ID: ${e.requestId}`),e.chainId&&s.push(`Chain ID: ${e.chainId}`),e.resources&&s.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const a=s.join("\n");return e.statement&&(i=[i,e.statement].join("\n\n")),[i,a].join("\n\n")}},2506:function(e,t,n){"use strict";n.d(t,{$2:function(){return c},_4:function(){return d}});var r=n(4474),i=n(154),o=n(1416),s=n(7118);function a(e,t,n){if(null==n&&(n=[]),e.request)return e.request({method:t,params:n}).then((e=>e),(e=>{throw e}));if(e.sendAsync||e.send){const r=(e.sendAsync?e.sendAsync:e.send).bind(e),i=function(e,t){return{jsonrpc:"2.0",id:1,method:e,params:t}}(t,n);return new Promise(((e,t)=>{r(i,((n,r)=>{if(n&&t(n),r.error){const e=new Error(r.error.message);e.code=r.error.code,e.data=r.error.data,t(e)}e(r.result)}))}))}throw new Error("Unsupported provider; provider must implement one of the following methods: send, sendAsync, request")}var u=n(738);var c,f;async function l(e,t,n){const c=new Date,f=new Date(c.getTime()+6048e5),l=(d=n,new s.hX({address:d.address.toLowerCase(),chainId:d.chainId}));var d;const h=new r.L({domain:e.domain,address:l.address,statement:e.statement??"Give this application access to some of your data on Ceramic",uri:e.uri,version:"1",nonce:e.nonce??(0,o.randomString)(10),issuedAt:c.toISOString(),expirationTime:e.expirationTime??f.toISOString(),chainId:l.chainId.reference,resources:e.resources}),p=await a(t,"personal_sign",[(m=h.signMessage(),`0x${u.BB(u.mL(m,"utf8"),"base16")}`),l.address]);var m;return h.signature=p,i.yK.fromSiweMessage(h)}async function d(e,t){const n=`eip155:${await async function(e){const t=await a(e,"eth_chainId",[]);return parseInt(t,16)}(e)}`;return new s.hX({address:t.toLowerCase(),chainId:n})}!function(e){e.getAuthMethod=async function(e,t){if("undefined"===typeof window)throw new Error("Web Auth method requires browser environment");const n=window.location.hostname;return async r=>(r.domain=n,l(r,e,t))}}(c||(c={})),function(e){e.getAuthMethod=async function(e,t,n){if(!n)throw new Error("Node Auth method requires an application name gethAuthMethod(ethProvider, account, appName)");return async r=>(r.domain=n,l(r,e,t))}}(f||(f={}))},7118:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{hX:function(){return d},a_:function(){return l}});var i={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},o={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},s={2:i,10:{name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},19:{assetName:o,assetType:{name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:i,1:o}}},assetId:{name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:i,1:o,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}}}};function a(e,t){return e.split(t.parameters.delimiter)}function u(e,t){var n=a(e,t),r={};return n.forEach((function(e,n){r[t.parameters.values[n].name]=e})),r}function c(e,t){return Object.values(t.parameters.values).map((function(t){var n=e[t.name];return"string"===typeof n?n:c(n,t)})).join(t.parameters.delimiter)}function f(e,t){if(!new RegExp(t.regex).test(e))return!1;var n=a(e,t);return n.length===Object.keys(t.parameters.values).length&&n.map((function(e,n){return new RegExp(t.parameters.values[n].regex).test(e)})).filter((function(e){return!!e})).length===n.length}var l=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!f(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(u(t,this.spec)).toJSON()},e.format=function(e){return c(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();l.spec=s[2];var d=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new l(t.chainId),this.address=t.address}e.parse=function(t){if(!f(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);var n=u(t,this.spec),r=n.namespace,i=n.reference,o=n.address;return new e({chainId:new l({namespace:r,reference:i}),address:o}).toJSON()},e.format=function(e){return c(r({},new l(e.chainId).toJSON(),{address:e.address}),this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},e}();d.spec=s[10];var h=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!f(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(u(t,this.spec)).toJSON()},e.format=function(e){return c(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();h.spec=s[19].assetName,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new l(t.chainId),this.assetName=new h(t.assetName)}e.parse=function(t){if(!f(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(u(t,this.spec)).toJSON()},e.format=function(e){return c(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},e}()).spec=s[19].assetType,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new l(t.chainId),this.assetName=new h(t.assetName),this.tokenId=t.tokenId}e.parse=function(t){if(!f(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(u(t,this.spec)).toJSON()},e.format=function(e){return c(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},e}()).spec=s[19].assetId},8401:function(e,t,n){"use strict";function r(e){return"Left"===e._tag}n.d(t,{nM:function(){return r},t$:function(){return i},F2:function(){return o},Gg:function(){return s}});function i(e){return{_tag:"Left",left:e}}function o(e){return{_tag:"Right",right:e}}function s(e){if(r(e))throw e.left;return e.right}},4415:function(e,t,n){"use strict";n.d(t,{Cs:function(){return f},Dy:function(){return A},Jx:function(){return o},Gg:function(){return r.Gg},nM:function(){return r.nM},t$:function(){return r.t$},i0:function(){return m},jt:function(){return S},F2:function(){return r.F2},rV:function(){return k},wY:function(){return _},Z_:function(){return d},G0:function(){return w}});var r=n(8401);class i{trail;constructor(e){this.trail=e}static root(e,t){return new i([{key:"",type:e,actual:t}])}failures(e){throw e[0]}success(e){return(0,r.F2)(e)}failure(e){throw new a(this.trail,e)}child(e,t,n){const r=this.trail.concat([{key:e,type:t,actual:n}]);return new i(r)}}function o(e,t){const n=i.root(e,t),o=e.decode(t,n);if((0,r.nM)(o))throw new Error(`Something is wrong: ${o} should be Right`);return o.right}function s(e){return e.length>0}class a extends Error{trail;constructor(e,t=`Invalid value ${function(e){return"function"===typeof e?b(e):"number"!==typeof e||isFinite(e)?JSON.stringify(e):isNaN(e)?"NaN":e>0?"Infinity":"-Infinity"}(e[e.length-1].actual)} supplied to ${function(e){return"/"+e.map((({key:e,type:t})=>`${e}(${t.name})`)).join("/")}(e)}`){super(t),this.trail=e}get value(){return this.trail[this.trail.length-1].actual}}class u{_A;_I;_O;name;constructor(e){this.name=e}pipe(e,t=`${this.name}\u2192${e.name}`){return new A(t,e.is,((t,n)=>{const i=this.decode(t,n);return(0,r.nM)(i)?i:e.decode(i.right,n)}),this.encode===c&&e.encode===c?c:t=>this.encode(e.encode(t)))}}function c(e){return e}class f extends u{is;constructor(e,t){super(e),this.is=t}encode=c;decode(e,t){return this.is(e)?t.success(e):t.failure()}}new f("null",(e=>null===e));const l=new f("undefined",(e=>void 0===e)),d=(new f("void",(e=>void 0===e)),new f("string",(e=>"string"===typeof e))),h=(new f("number",(e=>"number"===typeof e)),new f("boolean",(e=>"boolean"===typeof e)),new f("bigint",(e=>"bigint"===typeof e)),new f("unknown",(e=>!0)),new f("object",(e=>Boolean(e)&&"object"===typeof e)));class p extends f{value;keys;constructor(e,t=JSON.stringify(e)){super(t,(t=>t===e)),this.value=e,this.keys=[e]}}function m(e,t){return new p(e,t)}new f("UnknownArray",(e=>Array.isArray(e))),new f("UnknownDictionary",(e=>{if(!(Boolean(e)&&"object"===typeof e))return!1;if(Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const n=Object.hasOwn(t,"constructor")&&t.constructor;return"function"===typeof n&&n instanceof n&&n.toString()==Object.toString()}));new f("any",(e=>!0)),new f("never",(e=>!1));function y(e){return`{${function(e){return Object.keys(e).map((t=>`${t}:${e[t].name}`)).join(",")}(e)}}`}class g extends u{props;constructor(e,t=y(e)){super(t),this.props=e}decode(e,t){const n=h.decode(e,t);if((0,r.nM)(n))return n;const i=n.right,o={...i},a=[];return Object.entries(this.props).forEach((([e,n])=>{const s=i[e],u=n.decode(s,t.child(e,n,s));(0,r.nM)(u)?u.left.forEach((e=>a.push(e))):o[e]=u.right})),s(a)?t.failures(a):t.success(o)}encode(e){const t={...e};return Object.entries(this.props).forEach((([e,n])=>{t[e]=n.encode(t[e])})),t}is(e){if(!h.is(e))return!1;const t=e;return Object.entries(this.props).every((([n,r])=>{const i=t[n];return(i||Object.hasOwn(e,n))&&r.is(i)}))}}class v extends u{codecs;constructor(e,t=function(e){return e.map((e=>e.name)).join("|")}(e)){super(t),this.codecs=e}decode(e,t){const n=[];for(const[o,s]of this.codecs.entries())try{const i=s.decode(e,t.child(String(o),s,e));if(!(0,r.nM)(i))return t.success(i.right);i.left.forEach((e=>n.push(e)))}catch(i){n.push(i)}return t.failures(n)}encode(e){for(const t of this.codecs)if(t.is(e))return t.encode(e);throw new Error(`no codec found to encode value in union type ${this.name}`)}is(e){return this.codecs.some((t=>t.is(e)))}}function w(e,t){return new v(e,t)}function b(e){return e.displayName||e.name||`<function${e.length}>`}function E(e,t){const n=Object.getOwnPropertyNames(e);let r=!1;const i={};for(let o=0;o<n.length;o++){const s=n[o];Object.hasOwn(t,s)?i[s]=e[s]:r=!0}return r?i:e}class T extends u{codec;props;constructor(e,t=`Exact<${e.name}>`){super(t),this.codec=e,this.props=I(e)}is(e){return this.codec.is(e)}decode(e,t){const n=h.decode(e,t);if((0,r.nM)(n))return n;const i=n.right;return this.codec.decode(E(i,this.props),t)}encode(e){return this.codec.encode(E(e,this.props))}}function I(e){return function(e){return"props"in e}(e)?e.props:function(e){return"codec"in e}(e)?I(e.codec):function(e){return"codecs"in e}(e)?Object.assign({},...e.codecs.map((e=>I(e)))):{}}function _(e,t){return function(e,t){return new T(e,t)}(function(e,t){return new g(e,t)}(e),t)}class A extends u{name;is;decode;encode;constructor(e,t,n,r){super(e),this.name=e,this.is=t,this.decode=n,this.encode=r}}function S(e,t){return new N(e,t)}class N extends u{name;optional=!0;#codec;constructor(e,t=`${e.name}?`){super(t),this.name=t,this.#codec=w([e,l])}decode(e,t){return this.#codec.decode(e,t)}encode(e){return this.#codec.encode(e)}is(e){return this.#codec.is(e)}}function x(e){return"optional"in e&&e.optional}class O extends u{props;#codec;constructor(e,t=y(e)){super(t),this.props=e,this.#codec=new g(e)}#cleanup(e){return Object.entries(this.props).forEach((([t,n])=>{x(n)&&!e[t]&&delete e[t]})),e}decode(e,t){const n=this.#codec.decode(e,t);return(0,r.nM)(n)?n:t.success(this.#cleanup(n.right))}encode(e){const t=this.#codec.encode(e);return this.#cleanup(t)}is(e){const t={...e};return Object.entries(this.props).forEach((([e,n])=>{x(n)&&!t[e]&&(t[e]=void 0)})),this.#codec.is(t)}}const k=function(e,t){const n={},r={};for(const[i,o]of Object.entries(e))x(o)?n[i]=o:r[i]=o;return new O(e,t)}},452:function(e,t,n){"use strict";n.d(t,{vo:function(){return hi},zO:function(){return Pi},pk:function(){return Si},jB:function(){return Li},AX:function(){return Gi},ZW:function(){return ki},Y:function(){return Ki}});var r={};n.r(r),n.d(r,{identity:function(){return O}});var i={};n.r(i),n.d(i,{base2:function(){return k}});var o={};n.r(o),n.d(o,{base8:function(){return C}});var s={};n.r(s),n.d(s,{base10:function(){return D}});var a={};n.r(a),n.d(a,{base16:function(){return M},base16upper:function(){return R}});var u={};n.r(u),n.d(u,{base32:function(){return U},base32hex:function(){return j},base32hexpad:function(){return $},base32hexpadupper:function(){return V},base32hexupper:function(){return F},base32pad:function(){return L},base32padupper:function(){return P},base32upper:function(){return B},base32z:function(){return z}});var c={};n.r(c),n.d(c,{base36:function(){return G},base36upper:function(){return q}});var f={};n.r(f),n.d(f,{base58btc:function(){return H},base58flickr:function(){return J}});var l={};n.r(l),n.d(l,{base64:function(){return K},base64pad:function(){return Y},base64url:function(){return W},base64urlpad:function(){return X}});var d={};n.r(d),n.d(d,{base256emoji:function(){return te}});var h={};n.r(h),n.d(h,{sha256:function(){return Te},sha512:function(){return Ie}});var p={};n.r(p),n.d(p,{identity:function(){return Ae}});var m={};n.r(m),n.d(m,{code:function(){return Ne},decode:function(){return Oe},encode:function(){return xe},name:function(){return Se}});var y={};n.r(y),n.d(y,{code:function(){return Me},decode:function(){return Ue},encode:function(){return Re},name:function(){return De}});var g={};n.r(g),n.d(g,{bitGet:function(){return Ot},bitLen:function(){return xt},bitMask:function(){return Ct},bitSet:function(){return kt},bytesToHex:function(){return mt},bytesToNumberBE:function(){return wt},bytesToNumberLE:function(){return bt},concatBytes:function(){return At},createHmacDrbg:function(){return Rt},ensureBytes:function(){return _t},equalBytes:function(){return St},hexToBytes:function(){return vt},hexToNumber:function(){return gt},numberToBytesBE:function(){return Et},numberToBytesLE:function(){return Tt},numberToHexUnpadded:function(){return yt},numberToVarBytesBE:function(){return It},utf8ToBytes:function(){return Nt},validateObject:function(){return Bt}});var v=n(738);var w=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const b=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class E{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class T{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return _(this,e)}}class I{constructor(e){this.decoders=e}or(e){return _(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _=(e,t)=>new I({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class A{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new E(e,t,n),this.decoder=new T(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const S=({name:e,prefix:t,encode:n,decode:r})=>new A(e,t,n,r),N=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=w(n,t);return S({prefix:e,name:t,encode:r,decode:e=>b(i(e))})},x=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>S({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),O=S({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),k=x({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),C=x({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),D=N({prefix:"9",name:"base10",alphabet:"0123456789"}),M=x({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),R=x({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),U=x({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),B=x({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L=x({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),P=x({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),j=x({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),F=x({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$=x({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V=x({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),z=x({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),G=N({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),q=N({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),H=N({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),J=N({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),K=x({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Y=x({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),W=x({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),X=x({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Q=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Z=Q.reduce(((e,t,n)=>(e[n]=t,e)),[]),ee=Q.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const te=S({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Z[t]),"")},decode:function(e){const t=[];for(const n of e){const e=ee[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var ne=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=re;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},re=Math.pow(2,31);var ie=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var oe=Math.pow(2,7),se=Math.pow(2,14),ae=Math.pow(2,21),ue=Math.pow(2,28),ce=Math.pow(2,35),fe=Math.pow(2,42),le=Math.pow(2,49),de=Math.pow(2,56),he=Math.pow(2,63),pe={encode:ne,decode:ie,encodingLength:function(e){return e<oe?1:e<se?2:e<ae?3:e<ue?4:e<ce?5:e<fe?6:e<le?7:e<de?8:e<he?9:10}};const me=(e,t,n=0)=>(pe.encode(e,t,n),t),ye=e=>pe.encodingLength(e),ge=(e,t)=>{const n=t.byteLength,r=ye(e),i=r+ye(n),o=new Uint8Array(i+n);return me(e,o,0),me(n,o,r),o.set(t,i),new ve(e,n,t,o)};class ve{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const we=({name:e,code:t,encode:n})=>new be(e,t,n);class be{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ge(this.code,t):t.then((e=>ge(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Ee=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Te=we({name:"sha2-256",code:18,encode:Ee("SHA-256")}),Ie=we({name:"sha2-512",code:19,encode:Ee("SHA-512")}),_e=b,Ae={code:0,name:"identity",encode:_e,digest:e=>ge(0,_e(e))},Se="raw",Ne=85,xe=e=>b(e),Oe=e=>b(e),ke=new TextEncoder,Ce=new TextDecoder,De="json",Me=512,Re=e=>ke.encode(JSON.stringify(e)),Ue=e=>JSON.parse(Ce.decode(e));new WeakMap;Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Be={...r,...i,...o,...s,...a,...u,...c,...f,...l,...d};function Le(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Pe(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}var je={number:Le,bool:function(e){if("boolean"!==typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Pe,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Le(e.outputLen),Le(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Pe(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}};const Fe="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,$e=e=>e instanceof Uint8Array,Ve=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ze=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ge(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function qe(e){if("string"===typeof e&&(e=Ge(e)),!$e(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function He(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!$e(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class Je{clone(){return this._cloneInto()}}function Ke(e){const t=t=>e().update(qe(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ye(e=32){if(Fe&&"function"===typeof Fe.getRandomValues)return Fe.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class We extends Je{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ve(this.buffer)}update(e){je.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=qe(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Ve(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){je.exists(this),je.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let f=o;f<r;f++)t[f]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;e.setUint32(t+u,s,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=Ve(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)s.setUint32(4*f,c[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Xe=BigInt(2**32-1),Qe=BigInt(32);function Ze(e,t=!1){return t?{h:Number(e&Xe),l:Number(e>>Qe&Xe)}:{h:0|Number(e>>Qe&Xe),l:0|Number(e&Xe)}}var et={fromBig:Ze,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Ze(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<Qe|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)};const[tt,nt]=et.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),rt=new Uint32Array(80),it=new Uint32Array(80);class ot extends We{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:f,Fl:l,Gh:d,Gl:h,Hh:p,Hl:m}=this;return[e,t,n,r,i,o,s,a,u,c,f,l,d,h,p,m]}set(e,t,n,r,i,o,s,a,u,c,f,l,d,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|f,this.Fl=0|l,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let v=0;v<16;v++,t+=4)rt[v]=e.getUint32(t),it[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|rt[v-15],t=0|it[v-15],n=et.rotrSH(e,t,1)^et.rotrSH(e,t,8)^et.shrSH(e,t,7),r=et.rotrSL(e,t,1)^et.rotrSL(e,t,8)^et.shrSL(e,t,7),i=0|rt[v-2],o=0|it[v-2],s=et.rotrSH(i,o,19)^et.rotrBH(i,o,61)^et.shrSH(i,o,6),a=et.rotrSL(i,o,19)^et.rotrBL(i,o,61)^et.shrSL(i,o,6),u=et.add4L(r,a,it[v-7],it[v-16]),c=et.add4H(u,n,s,rt[v-7],rt[v-16]);rt[v]=0|c,it[v]=0|u}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:f,El:l,Fh:d,Fl:h,Gh:p,Gl:m,Hh:y,Hl:g}=this;for(let v=0;v<80;v++){const e=et.rotrSH(f,l,14)^et.rotrSH(f,l,18)^et.rotrBH(f,l,41),t=et.rotrSL(f,l,14)^et.rotrSL(f,l,18)^et.rotrBL(f,l,41),w=f&d^~f&p,b=l&h^~l&m,E=et.add5L(g,t,b,nt[v],it[v]),T=et.add5H(E,y,e,w,tt[v],rt[v]),I=0|E,_=et.rotrSH(n,r,28)^et.rotrBH(n,r,34)^et.rotrBH(n,r,39),A=et.rotrSL(n,r,28)^et.rotrBL(n,r,34)^et.rotrBL(n,r,39),S=n&i^n&s^i&s,N=r&o^r&a^o&a;y=0|p,g=0|m,p=0|d,m=0|h,d=0|f,h=0|l,({h:f,l:l}=et.add(0|u,0|c,0|T,0|I)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const x=et.add3L(I,A,N);n=et.add3H(x,T,_,S),r=0|x}({h:n,l:r}=et.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=et.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=et.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=et.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:f,l:l}=et.add(0|this.Eh,0|this.El,0|f,0|l)),({h:d,l:h}=et.add(0|this.Fh,0|this.Fl,0|d,0|h)),({h:p,l:m}=et.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:y,l:g}=et.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,i,o,s,a,u,c,f,l,d,h,p,m,y,g)}roundClean(){rt.fill(0),it.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class st extends ot{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class at extends ot{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class ut extends ot{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const ct=Ke((()=>new ot)),ft=(Ke((()=>new st)),Ke((()=>new at)),Ke((()=>new ut)),BigInt(0)),lt=BigInt(1),dt=BigInt(2),ht=e=>e instanceof Uint8Array,pt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function mt(e){if(!ht(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=pt[e[n]];return t}function yt(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function gt(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function vt(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function wt(e){return gt(mt(e))}function bt(e){if(!ht(e))throw new Error("Uint8Array expected");return gt(mt(Uint8Array.from(e).reverse()))}function Et(e,t){return vt(e.toString(16).padStart(2*t,"0"))}function Tt(e,t){return Et(e,t).reverse()}function It(e){return vt(yt(e))}function _t(e,t,n){let r;if("string"===typeof t)try{r=vt(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!ht(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function At(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!ht(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}function St(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Nt(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function xt(e){let t;for(t=0;e>ft;e>>=lt,t+=1);return t}function Ot(e,t){return e>>BigInt(t)&lt}const kt=(e,t,n)=>e|(n?lt:ft)<<BigInt(t),Ct=e=>(dt<<BigInt(e-1))-lt,Dt=e=>new Uint8Array(e),Mt=e=>Uint8Array.from(e);function Rt(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Dt(e),i=Dt(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...e)=>n(i,r,...e),u=(e=Dt())=>{i=a(Mt([0]),e),r=a(),0!==e.length&&(i=a(Mt([1]),e),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return At(...n)};return(e,t)=>{let n;for(s(),u(e);!(n=t(c()));)u();return s(),n}}const Ut={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Bt(e,t,n={}){const r=(t,n,r)=>{const i=Ut[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const Lt=BigInt(0),Pt=BigInt(1),jt=BigInt(2),Ft=BigInt(3),$t=BigInt(4),Vt=BigInt(5),zt=BigInt(8);BigInt(9),BigInt(16);function Gt(e,t){const n=e%t;return n>=Lt?n:t+n}function qt(e,t,n){if(n<=Lt||t<Lt)throw new Error("Expected power/modulo > 0");if(n===Pt)return Lt;let r=Pt;for(;t>Lt;)t&Pt&&(r=r*e%n),e=e*e%n,t>>=Pt;return r}function Ht(e,t,n){let r=e;for(;t-- >Lt;)r*=r,r%=n;return r}function Jt(e,t){if(e===Lt||t<=Lt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Gt(e,t),r=t,i=Lt,o=Pt,s=Pt,a=Lt;for(;n!==Lt;){const e=r/n,t=r%n,u=i-s*e,c=o-a*e;r=n,n=t,i=s,o=a,s=u,a=c}if(r!==Pt)throw new Error("invert: does not exist");return Gt(i,t)}function Kt(e){if(e%$t===Ft){const t=(e+Pt)/$t;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%zt===Vt){const t=(e-Vt)/zt;return function(e,n){const r=e.mul(n,jt),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,jt),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Pt)/jt;let n,r,i;for(n=e-Pt,r=0;n%jt===Lt;n/=jt,r++);for(i=jt;i<e&&qt(i,t,e)!==e-Pt;i++);if(1===r){const t=(e+Pt)/$t;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Pt)/jt;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,u=e.pow(e.mul(e.ONE,i),n),c=e.pow(s,o),f=e.pow(s,n);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(u,Pt<<BigInt(a-t-1));u=e.sqr(n),c=e.mul(c,n),f=e.mul(f,u),a=t}return c}}(e)}const Yt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wt(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Xt(e,t,n=!1,r={}){if(e<=Lt)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Wt(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Kt(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Ct(i),ZERO:Lt,ONE:Pt,create:t=>Gt(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Lt<=t&&t<e},is0:e=>e===Lt,isOdd:e=>(e&Pt)===Pt,neg:t=>Gt(-t,e),eql:(e,t)=>e===t,sqr:t=>Gt(t*t,e),add:(t,n)=>Gt(t+n,e),sub:(t,n)=>Gt(t-n,e),mul:(t,n)=>Gt(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Lt)throw new Error("Expected power > 0");if(n===Lt)return e.ONE;if(n===Pt)return t;let r=e.ONE,i=t;for(;n>Lt;)n&Pt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Pt;return r}(a,e,t),div:(t,n)=>Gt(t*Jt(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Jt(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Tt(e,o):Et(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?bt(e):wt(e)}});return Object.freeze(a)}const Qt=BigInt(0),Zt=BigInt(1);function en(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Qt;)n&Zt&&(r=r.add(i)),i=i.double(),n>>=Zt;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let s=e,a=s;for(let r=0;r<n;r++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=r(t);let u=e.ZERO,c=e.BASE;const f=BigInt(2**t-1),l=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(o&f);o>>=d,r>a&&(r-=l,o+=Zt);const s=t,h=t+Math.abs(r)-1,p=e%2!==0,m=r<0;0===r?c=c.add(n(p,i[s])):u=u.add(n(m,i[h]))}return{p:u,f:c}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}function tn(e){return Bt(e.Fp,Yt.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Bt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Wt(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const nn=BigInt(0),rn=BigInt(1),on=BigInt(2),sn=BigInt(8),an={zip215:!0};function un(e){const t=function(e){const t=tn(e);return Bt(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:u}=t,c=on<<BigInt(8*a)-rn,f=n.create,l=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:nn}}}),d=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,n)=>{if(t.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"===typeof e&&nn<e,m=(e,t)=>p(e)&&p(t)&&e<t,y=e=>e===nn||m(e,c);function g(e,t){if(m(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function v(e){return e===nn?e:g(e,r)}const w=new Map;function b(e){if(!(e instanceof E))throw new Error("ExtendedPoint expected")}class E{constructor(e,t,n,r){if(this.ex=e,this.ey=t,this.ez=n,this.et=r,!y(e))throw new Error("x required");if(!y(t))throw new Error("y required");if(!y(n))throw new Error("z required");if(!y(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};if(!y(t)||!y(n))throw new Error("invalid affine point");return new E(t,n,rn,f(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(E.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,w.delete(this)}assertValidity(){const{a:e,d:n}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:i,ez:o,et:s}=this,a=f(r*r),u=f(i*i),c=f(o*o),l=f(c*c),d=f(a*e);if(f(c*f(d+u))!==f(l+f(n*f(a*u))))throw new Error("bad point: equation left != right (1)");if(f(r*i)!==f(o*s))throw new Error("bad point: equation left != right (2)")}equals(e){b(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=f(t*s),u=f(i*r),c=f(n*s),l=f(o*r);return a===u&&c===l}is0(){return this.equals(E.ZERO)}negate(){return new E(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=f(n*n),s=f(r*r),a=f(on*f(i*i)),u=f(e*o),c=n+r,l=f(f(c*c)-o-s),d=u+s,h=d-a,p=u-s,m=f(l*h),y=f(d*p),g=f(l*p),v=f(h*d);return new E(m,y,v,g)}add(e){b(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:u,ey:c,ez:l,et:d}=e;if(n===BigInt(-1)){const e=f((o-i)*(c+u)),t=f((o+i)*(c-u)),n=f(t-e);if(n===nn)return this.double();const r=f(s*on*d),h=f(a*on*l),p=h+r,m=t+e,y=h-r,g=f(p*n),v=f(m*y),w=f(p*y),b=f(n*m);return new E(g,v,b,w)}const h=f(i*u),p=f(o*c),m=f(a*r*d),y=f(s*l),g=f((i+o)*(u+c)-h-p),v=y-m,w=y+m,T=f(p-n*h),I=f(g*v),_=f(w*T),A=f(g*T),S=f(v*w);return new E(I,_,S,A)}subtract(e){return this.add(e.negate())}wNAF(e){return _.wNAFCached(this,w,e,E.normalizeZ)}multiply(e){const{p:t,f:n}=this.wNAF(g(e,r));return E.normalizeZ([t,n])[0]}multiplyUnsafe(e){let t=v(e);return t===nn?I:this.equals(I)||t===rn?this:this.equals(T)?this.wNAF(t).p:_.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return _.unsafeLadder(this,r).is0()}toAffine(e){const{ex:t,ey:r,ez:i}=this,o=this.is0();null==e&&(e=o?sn:n.inv(i));const s=f(t*e),a=f(r*e),u=f(i*e);if(o)return{x:nn,y:rn};if(u!==rn)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===rn?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:o}=t,s=n.BYTES,a=(e=_t("pointHex",e,s)).slice(),u=e[s-1];a[s-1]=-129&u;const d=bt(a);d===nn||g(d,r?c:n.ORDER);const h=f(d*d),p=f(h-rn),m=f(i*h-o);let{isValid:y,value:v}=l(p,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const w=(v&rn)===rn,b=0!==(128&u);if(!r&&v===nn&&b)throw new Error("Point.fromHex: x=0 and x_0=1");return b!==w&&(v=f(-v)),E.fromAffine({x:v,y:d})}static fromPrivateKey(e){return N(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=Tt(t,n.BYTES);return r[r.length-1]|=e&rn?128:0,r}toHex(){return mt(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,rn,f(t.Gx*t.Gy)),E.ZERO=new E(nn,rn,rn,nn);const{BASE:T,ZERO:I}=E,_=en(E,8*a);function A(e){return Gt(e,r)}function S(e){return A(bt(e))}function N(e){const t=a;e=_t("private key",e,t);const n=_t("hashed private key",o(e),2*t),r=d(n.slice(0,t)),i=n.slice(t,2*t),s=S(r),u=T.multiply(s),c=u.toRawBytes();return{head:r,prefix:i,scalar:s,point:u,pointBytes:c}}function x(e=new Uint8Array,...t){const n=At(...t);return S(o(h(n,_t("context",e),!!i)))}const O=an;T._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return N(e).pointBytes},sign:function(e,t,r={}){e=_t("message",e),i&&(e=i(e));const{prefix:o,scalar:s,pointBytes:u}=N(t),c=x(r.context,o,e),f=T.multiply(c).toRawBytes(),l=A(c+x(r.context,f,u,e)*s);return v(l),_t("result",At(f,Tt(l,n.BYTES)),2*a)},verify:function(e,t,r,o=O){const{context:s,zip215:a}=o,u=n.BYTES;e=_t("signature",e,2*u),t=_t("message",t),i&&(t=i(t));const c=bt(e.slice(u,2*u));let f,l,d;try{f=E.fromHex(r,a),l=E.fromHex(e.slice(0,u),a),d=T.multiplyUnsafe(c)}catch(p){return!1}if(!a&&f.isSmallOrder())return!1;const h=x(s,l.toRawBytes(),f.toRawBytes(),t);return l.add(f.multiplyUnsafe(h)).subtract(d).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const cn=BigInt(0),fn=BigInt(1);function ln(e){const t=(Bt(n=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n}));var n;const{P:r}=t,i=e=>Gt(e,r),o=t.montgomeryBits,s=Math.ceil(o/8),a=t.nByteLength,u=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>qt(e,r-BigInt(2),r));function f(e,t,n){const r=i(e*(t-n));return[t=i(t-r),n=i(n+r)]}function l(e){if("bigint"===typeof e&&cn<=e&&e<r)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const d=(t.a-BigInt(2))/BigInt(4);function h(e){return Tt(i(e),s)}function p(e,t){const n=function(e,t){const n=l(e),r=l(t),s=n;let a,u=fn,h=cn,p=n,m=fn,y=cn;for(let c=BigInt(o-1);c>=cn;c--){const e=r>>c&fn;y^=e,a=f(y,u,p),u=a[0],p=a[1],a=f(y,h,m),h=a[0],m=a[1],y=e;const t=u+h,n=i(t*t),o=u-h,l=i(o*o),g=n-l,v=p+m,w=i((p-m)*t),b=i(v*o),E=w+b,T=w-b;p=i(E*E),m=i(s*i(T*T)),u=i(n*l),h=i(g*(n+i(d*g)))}a=f(y,u,p),u=a[0],p=a[1],a=f(y,h,m),h=a[0],m=a[1];const g=c(h);return i(u*g)}(function(e){const t=_t("u coordinate",e,s);return a===s&&(t[a-1]&=127),bt(t)}(t),function(e){const t=_t("scalar",e);if(t.length!==s&&t.length!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${t.length}`);return bt(u(t))}(e));if(n===cn)throw new Error("Invalid private or public key received");return h(n)}const m=h(t.Gu);function y(e){return p(e,m)}return{scalarMult:p,scalarMultBase:y,getSharedSecret:(e,t)=>p(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}}const dn=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),hn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),pn=(BigInt(0),BigInt(1)),mn=BigInt(2),yn=BigInt(5),gn=BigInt(10),vn=BigInt(20),wn=BigInt(40),bn=BigInt(80);function En(e){const t=dn,n=e*e%t*e%t,r=Ht(n,mn,t)*n%t,i=Ht(r,pn,t)*e%t,o=Ht(i,yn,t)*i%t,s=Ht(o,gn,t)*o%t,a=Ht(s,vn,t)*s%t,u=Ht(a,wn,t)*a%t,c=Ht(u,bn,t)*u%t,f=Ht(c,bn,t)*u%t,l=Ht(f,gn,t)*o%t;return{pow_p_5_8:Ht(l,mn,t)*e%t,b2:n}}function Tn(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function In(e,t){const n=dn,r=Gt(t*t*t,n),i=Gt(r*r*t,n);let o=Gt(e*r*En(e*i).pow_p_5_8,n);const s=Gt(t*o*o,n),a=o,u=Gt(o*hn,n),c=s===e,f=s===Gt(-e,n),l=s===Gt(-e*hn,n);return c&&(o=a),(f||l)&&(o=u),(Gt(o,n)&Pt)===Pt&&(o=Gt(-o,n)),{isValid:c||f,value:o}}const _n=Xt(dn,void 0,!0),An={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_n,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ct,randomBytes:Ye,adjustScalarBytes:Tn,uvRatio:In},Sn=un(An);function Nn(e,t,n){if(t.length>255)throw new Error("Context is too big");return He(Ge("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}un({...An,domain:Nn}),un({...An,domain:Nn,prehash:ct});const xn=(()=>ln({P:dn,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=dn,{pow_p_5_8:n,b2:r}=En(e);return Gt(Ht(n,BigInt(3),t)*r,t)},adjustScalarBytes:Tn,randomBytes:Ye}))();const On=(_n.ORDER+BigInt(3))/BigInt(8);_n.pow(mn,On),_n.sqrt(_n.neg(_n.ONE)),_n.ORDER,BigInt(5),BigInt(8),BigInt(486662);!function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);e.isOdd(n)&&e.neg(n)}(_n,_n.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const kn=(e,t,n)=>e&t^e&n^t&n,Cn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mn=new Uint32Array(64);class Rn extends We{constructor(){super(64,32,8,!1),this.A=0|Dn[0],this.B=0|Dn[1],this.C=0|Dn[2],this.D=0|Dn[3],this.E=0|Dn[4],this.F=0|Dn[5],this.G=0|Dn[6],this.H=0|Dn[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let l=0;l<16;l++,t+=4)Mn[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const e=Mn[l-15],t=Mn[l-2],n=ze(e,7)^ze(e,18)^e>>>3,r=ze(t,17)^ze(t,19)^t>>>10;Mn[l]=r+Mn[l-7]+n+Mn[l-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let l=0;l<64;l++){const e=c+(ze(s,6)^ze(s,11)^ze(s,25))+((f=s)&a^~f&u)+Cn[l]+Mn[l]|0,t=(ze(n,2)^ze(n,13)^ze(n,22))+kn(n,r,i)|0;c=u,u=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var f;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,r,i,o,s,a,u,c)}roundClean(){Mn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Un extends Rn{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Bn=Ke((()=>new Rn)),Ln=(Ke((()=>new Un)),new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8])),Pn=Uint8Array.from({length:16},((e,t)=>t)),jn=Pn.map((e=>(9*e+5)%16));let Fn=[Pn],$n=[jn];for(let Wi=0;Wi<4;Wi++)for(let e of[Fn,$n])e.push(e[Wi].map((e=>Ln[e])));const Vn=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),zn=Fn.map(((e,t)=>e.map((e=>Vn[t][e])))),Gn=$n.map(((e,t)=>e.map((e=>Vn[t][e])))),qn=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Hn=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Jn=(e,t)=>e<<t|e>>>32-t;function Kn(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const Yn=new Uint32Array(16);class Wn extends We{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let d=0;d<16;d++,t+=4)Yn[d]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,s=0|this.h2,a=s,u=0|this.h3,c=u,f=0|this.h4,l=f;for(let d=0;d<5;d++){const e=4-d,t=qn[d],h=Hn[d],p=Fn[d],m=$n[d],y=zn[d],g=Gn[d];for(let r=0;r<16;r++){const e=Jn(n+Kn(d,i,s,u)+Yn[p[r]]+t,y[r])+f|0;n=f,f=u,u=0|Jn(s,10),s=i,i=e}for(let n=0;n<16;n++){const t=Jn(r+Kn(e,o,a,c)+Yn[m[n]]+h,g[n])+l|0;r=l,l=c,c=0|Jn(a,10),a=o,o=t}}this.set(this.h1+s+c|0,this.h2+u+l|0,this.h3+f+r|0,this.h4+n+o|0,this.h0+i+a|0)}roundClean(){Yn.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Xn=Ke((()=>new Wn)),[Qn,Zn,er]=[[],[],[]],tr=BigInt(0),nr=BigInt(1),rr=BigInt(2),ir=BigInt(7),or=BigInt(256),sr=BigInt(113);for(let Wi=0,Xi=nr,Qi=1,Zi=0;Wi<24;Wi++){[Qi,Zi]=[Zi,(2*Qi+3*Zi)%5],Qn.push(2*(5*Zi+Qi)),Zn.push((Wi+1)*(Wi+2)/2%64);let e=tr;for(let t=0;t<7;t++)Xi=(Xi<<nr^(Xi>>ir)*sr)%or,Xi&rr&&(e^=nr<<(nr<<BigInt(t))-nr);er.push(e)}const[ar,ur]=et.split(er,!0),cr=(e,t,n)=>n>32?et.rotlBH(e,t,n):et.rotlSH(e,t,n),fr=(e,t,n)=>n>32?et.rotlBL(e,t,n):et.rotlSL(e,t,n);class lr extends Je{constructor(e,t,n,r=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,je.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,o=n[i],s=n[i+1],a=cr(o,s,1)^n[t],u=fr(o,s,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=u}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Zn[n],o=cr(t,i,r),s=fr(t,i,r),a=Qn[n];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=ar[r],e[1]^=ur[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){je.exists(this);const{blockLen:t,state:n}=this,r=(e=qe(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){je.exists(this,!1),je.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return je.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(je.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new lr(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const dr=(e,t,n)=>Ke((()=>new lr(t,e,n))),hr=(dr(6,144,28),dr(6,136,32),dr(6,104,48),dr(6,72,64),dr(1,144,28),dr(1,136,32)),pr=(dr(1,104,48),dr(1,72,64),(e,t,n)=>function(e){const t=(t,n)=>e(n).update(qe(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(((r={})=>new lr(t,e,void 0===r.dkLen?n:r.dkLen,!0))));pr(31,168,16),pr(31,136,32);var mr=n(7408),yr=n(9784),gr=n(1690);const{bytesToNumberBE:vr,hexToBytes:wr}=g,br={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=br;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:vr(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=br,n="string"===typeof e?wr(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=br._parseInt(n.subarray(2)),{d:s,l:a}=br._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),u=n(s);return`30${n(s+o+4)}02${u}${i}02${a}${r}`}},Er=BigInt(0),Tr=BigInt(1),Ir=(BigInt(2),BigInt(3));BigInt(4);function _r(e){const t=function(e){const t=tn(e);Bt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return At(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"===typeof e&&Er<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=mt(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"===typeof e?e:wt(_t("private key",e,r))}catch(u){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=Gt(s,o)),a(s),s}const c=new Map;function f(e){if(!(e instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof l)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?l.ZERO:new l(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(l.fromAffine)}static fromHex(e){const t=l.fromAffine(i(_t("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return l.BASE.multiply(u(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(e);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,u=n.eql(n.mul(t,a),n.mul(o,i)),c=n.eql(n.mul(r,a),n.mul(s,i));return u&&c}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Ir),{px:o,py:s,pz:a}=this;let u=n.ZERO,c=n.ZERO,f=n.ZERO,d=n.mul(o,o),h=n.mul(s,s),p=n.mul(a,a),m=n.mul(o,s);return m=n.add(m,m),f=n.mul(o,a),f=n.add(f,f),u=n.mul(e,f),c=n.mul(i,p),c=n.add(u,c),u=n.sub(h,c),c=n.add(h,c),c=n.mul(u,c),u=n.mul(m,u),f=n.mul(i,f),p=n.mul(e,p),m=n.sub(d,p),m=n.mul(e,m),m=n.add(m,f),f=n.add(d,d),d=n.add(f,d),d=n.add(d,p),d=n.mul(d,m),c=n.add(c,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,m),u=n.sub(u,d),f=n.mul(p,h),f=n.add(f,f),f=n.add(f,f),new l(u,c,f)}add(e){f(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:u}=e;let c=n.ZERO,d=n.ZERO,h=n.ZERO;const p=t.a,m=n.mul(t.b,Ir);let y=n.mul(r,s),g=n.mul(i,a),v=n.mul(o,u),w=n.add(r,i),b=n.add(s,a);w=n.mul(w,b),b=n.add(y,g),w=n.sub(w,b),b=n.add(r,o);let E=n.add(s,u);return b=n.mul(b,E),E=n.add(y,v),b=n.sub(b,E),E=n.add(i,o),c=n.add(a,u),E=n.mul(E,c),c=n.add(g,v),E=n.sub(E,c),h=n.mul(p,b),c=n.mul(m,v),h=n.add(c,h),c=n.sub(g,h),h=n.add(g,h),d=n.mul(c,h),g=n.add(y,y),g=n.add(g,y),v=n.mul(p,v),b=n.mul(m,b),g=n.add(g,v),v=n.sub(y,v),v=n.mul(p,v),b=n.add(b,v),y=n.mul(g,b),d=n.add(d,y),y=n.mul(E,b),c=n.mul(w,c),c=n.sub(c,y),y=n.mul(w,g),h=n.mul(E,h),h=n.add(h,y),new l(c,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(l.ZERO)}wNAF(e){return h.wNAFCached(this,c,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(l.fromAffine)}))}multiplyUnsafe(e){const r=l.ZERO;if(e===Er)return r;if(a(e),e===Tr)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:u,k2:c}=i.splitScalar(e),f=r,d=r,p=this;for(;s>Er||c>Er;)s&Tr&&(f=f.add(p)),c&Tr&&(d=d.add(p)),p=p.double(),s>>=Tr,c>>=Tr;return o&&(f=f.negate()),u&&(d=d.negate()),d=new l(n.mul(d.px,i.beta),d.py,d.pz),f.add(d)}multiply(e){a(e);let r,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:u}=s.splitScalar(o);let{p:c,f:f}=this.wNAF(t),{p:d,f:p}=this.wNAF(u);c=h.constTimeNegate(e,c),d=h.constTimeNegate(a,d),d=new l(n.mul(d.px,s.beta),d.py,d.pz),r=c.add(d),i=f.add(p)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return l.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=l.BASE,i=(e,t)=>t!==Er&&t!==Tr&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const s=n.mul(t,e),a=n.mul(r,e),u=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Tr)return!0;if(n)return n(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Tr?this:n?n(l,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(l,this,e)}toHex(e=!0){return mt(this.toRawBytes(e))}}l.BASE=new l(t.Gx,t.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=en(l,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:s}}function Ar(e){const t=function(e){const t=tn(e);return Bt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return Gt(e,r)}function a(e){return Jt(e,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:l}=_r({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=At;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=wt(s);if(!(Er<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=f(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Tr)===Tr)&&(i=n.neg(i)),{x:e,y:i}}var a}}),d=e=>mt(Et(e,t.nByteLength));function h(e){return e>r>>Tr}const p=(e,t,n)=>wt(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=_t("compactSignature",e,2*n),new m(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=br.toSig(_t("DER",e));return new m(t,n)}assertValidity(){if(!l(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,c=w(_t("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?r+t.n:r;if(f>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=0===(1&o)?"02":"03",h=u.fromHex(l+d(f)),p=a(f),m=s(-c*p),y=s(i*p),g=u.BASE.multiplyAndAddUnsafe(h,m,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return vt(this.toDERHex())}toDERHex(){return br.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return vt(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const y={isValidPrivateKey(e){try{return c(e),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>Et(function(e,t,n=!1){const r=(e=_t("privateHash",e)).length,i=Wt(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return Gt(n?bt(e):wt(e),t-Pt)+Pt}(t.randomBytes(n.BYTES+8),r),t.nByteLength),precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof u}const v=t.bits2int||function(e){const n=wt(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return s(v(e))},b=Ct(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Er<=e&&e<b))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Et(e,t.nByteLength)}function T(e,r,i=I){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:d,prehash:p,extraEntropy:y}=i;null==d&&(d=!0),e=_t("msgHash",e),p&&(e=_t("prehashed msgHash",o(e)));const g=w(e),b=c(r),T=[E(b),E(g)];if(null!=y){const e=!0===y?f(n.BYTES):y;T.push(_t("extraEntropy",e,n.BYTES))}const _=At(...T),A=g;return{seed:_,k2sig:function(e){const t=v(e);if(!l(t))return;const n=a(t),r=u.BASE.multiply(t).toAffine(),i=s(r.x);if(i===Er)return;const o=s(n*s(A+i*b));if(o===Er)return;let c=(r.x===i?0:2)|Number(r.y&Tr),f=o;return d&&h(o)&&(f=function(e){return h(e)?s(-e):e}(o),c^=1),new m(i,f,c)}}}const I={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n,r=I){const{seed:i,k2sig:o}=T(e,n,r),s=t;return Rt(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,n,r,i=_){const o=e;if(n=_t("msgHash",n),r=_t("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:f}=i;let l,d;try{if("string"===typeof o||o instanceof Uint8Array)try{l=m.fromDER(o)}catch(T){if(!(T instanceof br.Err))throw T;l=m.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;l=new m(e,t)}}d=u.fromHex(r)}catch(I){if("PARSE"===I.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&l.hasHighS())return!1;f&&(n=t.hash(n));const{r:h,s:p}=l,y=w(n),g=a(p),v=s(y*g),b=s(h*g),E=u.BASE.multiplyAndAddUnsafe(d,v,b)?.toAffine();return!!E&&s(E.x)===h},ProjectivePoint:u,Signature:m,utils:y}}class Sr extends Je{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,je.hash(e);const n=qe(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return je.exists(this),this.iHash.update(e),this}digestInto(e){je.exists(this),je.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return(e=e).finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Nr=(e,t,n)=>new Sr(e,t).update(n).digest();function xr(e){return{hash:e,hmac:(t,...n)=>Nr(e,t,He(...n)),randomBytes:Ye}}function Or(e,t){const n=t=>Ar({...e,...xr(t)});return Object.freeze({...n(t),create:n})}Nr.create=(e,t)=>new Sr(e,t);const kr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Cr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Dr=BigInt(1),Mr=BigInt(2),Rr=(e,t)=>(e+t/Mr)/t;function Ur(e){const t=kr,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%t,f=c*c*e%t,l=Ht(f,n,t)*f%t,d=Ht(l,n,t)*f%t,h=Ht(d,Mr,t)*c%t,p=Ht(h,i,t)*h%t,m=Ht(p,o,t)*p%t,y=Ht(m,a,t)*m%t,g=Ht(y,u,t)*y%t,v=Ht(g,a,t)*m%t,w=Ht(v,n,t)*f%t,b=Ht(w,s,t)*p%t,E=Ht(b,r,t)*c%t,T=Ht(E,Mr,t);if(!Br.eql(Br.sqr(T),e))throw new Error("Cannot find square root");return T}const Br=Xt(kr,void 0,void 0,{sqrt:Ur}),Lr=Or({a:BigInt(0),b:BigInt(7),Fp:Br,n:Cr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Cr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Dr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Rr(o*e,t),u=Rr(-r*e,t);let c=Gt(e-a*n-u*i,t),f=Gt(-a*r-u*o,t);const l=c>s,d=f>s;if(l&&(c=t-c),d&&(f=t-f),c>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:c,k2neg:d,k2:f}}}},Bn);BigInt(0);Lr.ProjectivePoint;const Pr=Xt(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),jr=Pr.create(BigInt("-3")),Fr=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),$r=Or({a:jr,b:Fr,Fp:Pr,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Bn);var Vr=n(5456),zr=n(7715),Gr=n(9375);const qr={toString:v.BB,fromString:v.mL,concat:v.zo};function Hr(e){return qr.toString(e,"base64url")}function Jr(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return qr.fromString(t,"base64url")}function Kr(e){return qr.fromString(e,"base58btc")}function Yr(e,t){let n=e.startsWith("0x")?e.substring(2):e;if(n.length%2!==0&&(n=`0${n}`),t){const e=Math.max(n.length,2*t);n=n.padStart(e,"00")}return qr.fromString(n.toLowerCase(),"base16")}function Wr(e){return Hr(qr.fromString(e))}function Xr(e){return qr.toString(Jr(e))}function Qr(e){return qr.toString(e,"base16")}function Zr(e){return BigInt("0x"+qr.toString(e,"base16"))}function ei(e){return qr.fromString(e)}function ti({r:e,s:t,recoveryParam:n},r){const i=new Uint8Array(r?65:64);if(i.set(qr.fromString(e,"base16"),0),i.set(qr.fromString(t,"base16"),32),r){if("undefined"===typeof n)throw new Error("Signer did not return a recoveryParam");i[64]=n}return Hr(i)}function ni(e){const t=Jr(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:Qr(t.slice(0,32)),s:Qr(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}function ri(e,t){return qr.concat([Jr(e),t?Jr(t):new Uint8Array(0)])}function ii(){const e=xn.utils.randomPrivateKey();return{secretKey:e,publicKey:xn.getPublicKey(e)}}function oi(e){if(32!==e.length)throw new Error("x25519: seed must be 32 bytes");return{publicKey:xn.getPublicKey(e),secretKey:e}}function si(){const e=ii();return{publicKeyJWK:{kty:"OKP",crv:"X25519",x:Hr(e.publicKey)},secretKey:e.secretKey}}function ai(e){const t="string"===typeof e?(0,mr.m)(e):e;return Bn(t)}const ui=hr;function ci(e){const t=(0,mr.m)(e.slice(2),"base16");return`0x${(0,yr.B)(ui(t).slice(-20),"base16")}`}function fi(e,t=new Uint8Array(4)){const n=(0,mr.m)(e.toString(),"base10");return t.set(n,4-n.length),t}const li=e=>(0,gr.z)([fi(e.length),e]);function di(e,t,n,r,i){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const o=(0,gr.z)([li((0,mr.m)(n)),li("undefined"===typeof r?new Uint8Array(0):r),li("undefined"===typeof i?new Uint8Array(0):i),fi(t)]);return ai((0,gr.z)([fi(1),e,o]))}function hi(e){const t=e;if(64!==t.length)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${t.length}`);return function(e){try{const n="string"===typeof e?ei(e):e,r=Sn.sign(n,t.slice(0,32));return Promise.resolve(Hr(r))}catch(n){return Promise.reject(n)}}}function pi(e){return"object"===typeof e&&"r"in e&&"s"in e}function mi(e){return function(t,n){try{return Promise.resolve(n(t)).then((function(t){if(pi(t))return ti(t,e);if(e&&"undefined"===typeof ni(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(r){return Promise.reject(r)}}}function yi(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(pi(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(n){return Promise.reject(n)}}}const gi={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return pi(e)?ti(e):e}))}catch(n){return Promise.reject(n)}},ES256K:mi(),"ES256K-R":mi(!0),Ed25519:yi(),EdDSA:yi()};function vi(e,t){const n=Qr(Kr(t).slice(0,1)),r=Yr(e),i=n+Qr(Xn(ai(r))),o=ai(Yr(i)),s=Qr(ai(o)).substring(0,8);return a=Yr(i+s),qr.toString(a,"base58btc");var a}function wi(e,t){if(t){const n=t.split(":");switch(n[0]){case"bip122":n[n.length-1]=vi(e,n[n.length-1]);break;case"cosmos":n[n.length-1]=function(e,t){const n=Lr.ProjectivePoint.fromHex(e).toRawBytes(),r=Xn(ai(n)),i=zr.gW.toWords(r);return zr.gW.encode(t,i).replace(t,"")}(e,n[1]);break;case"eip155":n[n.length-1]=ci(e);break;default:return!1}return n.join(":").toLowerCase()===t.toLowerCase()}return!1}function bi(e,t=!1){const n=Jr(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");return{compact:n.slice(0,64),recovery:n[64]}}function Ei(e){if(e.publicKeyBase58)return Kr(e.publicKeyBase58);if(e.publicKeyBase64)return Jr(e.publicKeyBase64);if(e.publicKeyHex)return Yr(e.publicKeyHex);if(e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return Lr.ProjectivePoint.fromAffine({x:Zr(Jr(e.publicKeyJwk.x)),y:Zr(Jr(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return $r.ProjectivePoint.fromAffine({x:Zr(Jr(e.publicKeyJwk.x)),y:Zr(Jr(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&["Ed25519","X25519"].includes(e.publicKeyJwk.crv??"")&&e.publicKeyJwk.x)return Jr(e.publicKeyJwk.x);if(e.publicKeyMultibase){const{base16:t,base58btc:n,base64:r,base64url:i}=Be;return t.decoder.or(n.decoder.or(r.decoder.or(i.decoder))).decode(e.publicKeyMultibase)}return new Uint8Array}function Ti(e,t,n){const r=[];if(t.length>86)r.push(bi(t,!0));else{const e=bi(t,!1);r.push({...e,recovery:0}),r.push({...e,recovery:1})}const i=ai(e),o=e=>{const t=Lr.Signature.fromCompact(e.compact).addRecoveryBit(e.recovery||0).recoverPublicKey(i),r=ci(t.toHex(!1)).toLowerCase(),o=t.toHex(!1),s=t.toHex(!0);return n.find((e=>{const t=Qr(Ei(e));return t===o||t===s||e.ethereumAddress?.toLowerCase()===r||e.blockchainAccountId?.split("@eip155")?.[0].toLowerCase()===r||wi(o,e.blockchainAccountId)}))};for(const s of r){const e=o(s);if(e)return e}throw new Error("invalid_signature: Signature invalid for JWT")}function Ii(e,t,n){const r=ei(e),i=Jr(t),o=n.find((e=>Sn.verify(i,r,Ei(e))));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}const _i={ES256:function(e,t,n){const r=ai(e),i=$r.Signature.fromCompact(bi(t).compact),o=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)).find((e=>{try{const t=Ei(e);return $r.verify(i,r,t)}catch(t){return!1}}));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o},ES256K:function(e,t,n){const r=ai(e),i=Lr.Signature.fromCompact(Jr(t)).normalizeS(),o=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)),s=n.filter((e=>e.ethereumAddress||e.blockchainAccountId));let a=o.find((e=>{try{const t=Ei(e);return Lr.verify(i,r,t)}catch(t){return!1}}));if(!a&&s.length>0&&(a=Ti(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":Ti,Ed25519:Ii,EdDSA:Ii};function Ai(e){const t=_i[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}Ai.toSignatureObject=function(e,t=!1){const n=Jr(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");const r={r:Qr(n.slice(0,32)),s:Qr(n.slice(32,64))};return t&&(r.recoveryParam=n[64]),r};"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const Si=function(e,t,n={},r={}){try{n.alg||(n.alg=Ni);const i="string"===typeof e?e:xi(e,r.canonicalize),o=[xi(n,r.canonicalize),i].join("."),s=function(e){const t=gi[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(n.alg);return Promise.resolve(s(o,t)).then((function(e){return[o,e].join(".")}))}catch(i){return Promise.reject(i)}},Ni="ES256K";function xi(e,t=!1){return Wr(t?Vr(e):JSON.stringify(e))}function Oi(e){const t=e.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(t)return{header:JSON.parse(Xr(t[1])),payload:t[2],signature:t[3],data:`${t[1]}.${t[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function ki(e,t){return function({header:e,data:t,signature:n},r){return Array.isArray(r)||(r=[r]),Ai(e.alg)(t,n,r)}(Oi(e),t)}const Ci="undefined"!==typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Di(e,t,n){if(!e.s){if(n instanceof Mi){if(!n.s)return void(n.o=Di.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Di.bind(null,e,t),Di.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const Mi=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,i=this.s;if(i){const e=1&i?t:n;if(e){try{Di(r,1,e(this.v))}catch(o){Di(r,2,o)}return r}return this}return this.o=function(e){try{const i=e.v;1&e.s?Di(r,1,t?t(i):i):n?Di(r,1,n(i)):Di(r,2,i)}catch(o){Di(r,2,o)}},r},e}();function Ri(e){return e instanceof Mi&&1&e.s}function Ui(e,t,n){if("function"===typeof e[Ci]){var r,i,o,s=e[Ci]();function u(e){try{for(;!(r=s.next()).done&&(!n||!n());)if((e=t(r.value))&&e.then){if(!Ri(e))return void e.then(u,o||(o=Di.bind(null,i=new Mi,2)));e=e.v}i?Di(i,1,e):i=e}catch(a){Di(i||(i=new Mi),2,a)}}if(u(),s.return){var a=function(e){try{r.done||s.return()}catch(t){}return e};if(i&&i.then)return i.then(a,(function(e){throw a(e)}));a()}return i}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],c=0;c<e.length;c++)u.push(e[c]);return function(e,t,n){var r,i,o=-1;return function s(a){try{for(;++o<e.length&&(!n||!n());)if((a=t(o))&&a.then){if(!Ri(a))return void a.then(s,i||(i=Di.bind(null,r=new Mi,2)));a=a.v}r?Di(r,1,a):r=a}catch(u){Di(r||(r=new Mi),2,u)}}(),r}(u,(function(e){return t(u[e])}),n)}function Bi({ciphertext:e,tag:t,iv:n,protectedHeader:r,recipient:i},o){const s={protected:r,iv:Hr(n??new Uint8Array(0)),ciphertext:Hr(e),tag:Hr(t??new Uint8Array(0))};return o&&(s.aad=Hr(o)),i&&(s.recipients=[i]),s}const Li=function(e,t){try{function n(e){if(null===s)throw new Error("failure: Failed to decrypt");return s}!function(e){if(!(e.protected&&e.iv&&e.ciphertext&&e.tag))throw new Error("bad_jwe: missing properties");e.recipients&&e.recipients.map((e=>{if(!e.header||!e.encrypted_key)throw new Error("bad_jwe: malformed recipients")}))}(e);const r=JSON.parse(Xr(e.protected));if(r.enc!==t.enc)throw new Error(`not_supported: Decrypter does not supported: '${r.enc}'`);const i=ri(e.ciphertext,e.tag),o=(0,mr.m)(e.aad?`${e.protected}.${e.aad}`:e.protected,"utf-8");let s=null;const a="dir"===r.alg&&"dir"===t.alg?Promise.resolve(t.decrypt(i,Jr(e.iv),o)).then((function(e){s=e})):function(){if(e.recipients&&0!==e.recipients.length){let n=0;return function(e,t,n){for(var r;;){var i=e();if(Ri(i)&&(i=i.v),!i)return o;if(i.then){r=0;break}var o=n();if(o&&o.then){if(!Ri(o)){r=1;break}o=o.s}if(t){var s=t();if(s&&s.then&&!Ri(s)){r=2;break}}}var a=new Mi,u=Di.bind(null,a,2);return(0===r?i.then(f):1===r?o.then(c):s.then(l)).then(void 0,u),a;function c(r){o=r;do{if(t&&(s=t())&&s.then&&!Ri(s))return void s.then(l).then(void 0,u);if(!(i=e())||Ri(i)&&!i.v)return void Di(a,1,o);if(i.then)return void i.then(f).then(void 0,u);Ri(o=n())&&(o=o.v)}while(!o||!o.then);o.then(c).then(void 0,u)}function f(e){e?(o=n())&&o.then?o.then(c).then(void 0,u):c(o):Di(a,1,o)}function l(){(i=e())?i.then?i.then(f).then(void 0,u):f(i):Di(a,1,o)}}((function(){return!s&&n<e.recipients.length}),(function(){return n++}),(function(){const a=e.recipients[n];Object.assign(a.header,r);const u=function(){if(a.header.alg===t.alg)return Promise.resolve(t.decrypt(i,Jr(e.iv),o,a)).then((function(e){s=e}))}();if(u&&u.then)return u.then((function(){}))}))}throw new Error("bad_jwe: missing recipients")}();return Promise.resolve(a&&a.then?a.then(n):n())}catch(n){return Promise.reject(n)}},Pi=function(e,t,n={},r,i=!1){try{if("dir"===t[0].alg){if(t.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(t[0].encrypt(e,n,r)).then((function(e){return Bi(e,r)}))}{const o=t[0].enc;if(!t.reduce(((e,t)=>e&&t.enc===o),!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,u;if(i){u=t[0].genEpk?.();const e=t[0].alg;n={...n,alg:e,epk:u?.publicKeyJWK}}const c=Ui(t,(function(t){const i=s?Promise.resolve(t.encryptCek?.(s,u)).then((function(e){e&&a?.recipients?.push(e)})):Promise.resolve(t.encrypt(e,n,r,u)).then((function(e){s=e.cek,a=Bi(e,r)}));if(i&&i.then)return i.then((function(){}))}));return Promise.resolve(c&&c.then?c.then((function(){return a})):a)}}catch(o){return Promise.reject(o)}};function ji(e){const t=new Gr.NV(e);return(e,n)=>{const r=Ye(t.nonceLength),i=t.seal(r,e,n);return{ciphertext:i.subarray(0,i.length-t.tagLength),tag:i.subarray(i.length-t.tagLength),iv:r}}}function Fi(e){const t=ji(e),n="XC20P",r="dir";return{alg:r,enc:n,encrypt:function(e,i={},o){try{const s=Wr(JSON.stringify(Object.assign({alg:r},i,{enc:n}))),a=(0,mr.m)(o?`${s}.${Hr(o)}`:s,"utf-8");return Promise.resolve({...t(e,a),protectedHeader:s})}catch(s){return Promise.reject(s)}}}}function $i(e){const t=new Gr.NV(e);return{alg:"dir",enc:"XC20P",decrypt:function(e,n,r){try{return Promise.resolve(t.open(n,e,r))}catch(i){return Promise.reject(i)}}}}const Vi=function(e,t,n,r,i,o){try{const t="X25519",r=256,s=o?oi(o.secretKey):ii(),a={kty:"OKP",crv:t,x:Hr(s.publicKey)},u=xn.getSharedSecret(s.secretKey,e),c=di(u,r,n,void 0,Jr(i??""));return Promise.resolve({epk:a,kek:c})}catch(s){return Promise.reject(s)}};function zi(e,t,n={},r,i,o){const s=function(o,s){try{return Promise.resolve(r.createKek(e,t,`${r.alg}+${i.alg}`,n.apu,n.apv,s)).then((function({epk:e,kek:t}){return Promise.resolve(i.from(t).wrap(o)).then((function(t){const o={encrypted_key:Hr(t.ciphertext),header:{}};return t.iv&&(o.header.iv=Hr(t.iv)),t.tag&&(o.header.tag=Hr(t.tag)),n.kid&&(o.header.kid=n.kid),n.apu&&(o.header.apu=n.apu),n.apv&&(o.header.apv=n.apv),s||(o.header.alg=`${r.alg}+${i.alg}`,o.header.epk=e),o}))}))}catch(a){return Promise.reject(a)}};return{alg:i.alg,enc:o.enc,encrypt:function(e,t={},n,a){try{Object.assign(t,{alg:void 0});const u=Ye(32);return Promise.resolve(s(u,a)).then((function(s){return a&&(t.alg=`${r.alg}+${i.alg}`,t.epk=a.publicKeyJWK),Promise.resolve(o.from(u).encrypt(e,t,n)).then((function(e){return{...e,recipient:s,cek:u}}))}))}catch(u){return Promise.reject(u)}},encryptCek:s,genEpk:si}}const Gi=function(e,t){try{const n=function(e,r=[]){try{return Promise.resolve(t.resolve(e)).then((function({didResolutionMetadata:t,didDocument:i}){function o(){const t=i.keyAgreement?.map((e=>"string"===typeof e?[...i.publicKey||[],...i.verificationMethod||[]].find((t=>t.id===e)):e))?.filter((e=>"undefined"!==typeof e)),n=t?.filter((e=>"X25519KeyAgreementKey2019"===e.type||"X25519KeyAgreementKey2020"===e.type))||[];if(!n.length&&!s.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);return n.map((e=>{return t=Ei(e),n=e.id,Ji(t,{kid:n,apv:r});var t,n,r})).concat(...s)}if(r.push(e),t?.error||null==i)throw new Error(`resolver_error: Could not resolve ${e}: ${t.error}, ${t.message}`);let s=[];if(!i.controller&&!i.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);const a=function(){if(i.controller){let e=Array.isArray(i.controller)?i.controller:[i.controller];e=e.filter((e=>!r.includes(e)));const t=e.map((e=>n(e,r).catch((()=>[]))));return Promise.resolve(Promise.all(t)).then((function(e){s=[].concat(...e)}))}}();return a&&a.then?a.then(o):o()}))}catch(i){return Promise.reject(i)}},r=e.map((e=>n(e)));return Promise.resolve(Promise.all(r)).then((function(e){return[].concat(...e)}))}catch(n){return Promise.reject(n)}};function qi(e){if(!(e&&e.epk&&e.iv&&e.tag))throw new Error("bad_jwe: malformed header");return e}const Hi={from:e=>({wrap:function(t){try{return Promise.resolve(ji(e)(t))}catch(n){return Promise.reject(n)}}}),alg:"XC20PKW"};function Ji(e,t={}){return zi(e,void 0,t,{createKek:Vi,alg:"ECDH-ES"},Hi,{from:e=>Fi(e),enc:"XC20P"})}function Ki(e){return Yi(e)}function Yi(e){const t="ECDH-ES+XC20PKW";return{alg:t,enc:"XC20P",decrypt:function(n,r,i,o){try{const s=qi((o=o).header);return Promise.resolve(function(e,t,n){try{function r(){let t,r;return e.header.apu&&(t=Jr(e.header.apu)),e.header.apv&&(r=Jr(e.header.apv)),di(u,o,n,t,r)}const i="X25519",o=256,s=e.header;if(s.epk?.crv!==i||"undefined"==typeof s.epk.x)return Promise.resolve(null);const a=Jr(s.epk.x);let u;const c=function(){if(!(t instanceof Uint8Array))return Promise.resolve(t(a)).then((function(e){u=e}));u=xn.getSharedSecret(t,a)}();return Promise.resolve(c&&c.then?c.then(r):r())}catch(r){return Promise.reject(r)}}(o,e,t)).then((function(e){if(!e)return null;const t=ri(o.encrypted_key,s.tag);return Promise.resolve($i(e).decrypt(t,Jr(s.iv))).then((function(e){return null===e?null:$i(e).decrypt(n,r,i)}))}))}catch(s){return Promise.reject(s)}}}}},4747:function(e,t,n){"use strict";function r(e,t){return t()}n.d(t,{H2:function(){return c},Qc:function(){return a}});const i="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",o="[a-zA-Z0-9_.:%-]",s=new RegExp(`^did:([a-z0-9]+):${`((?:${i}*:)*(${i}+))`}${`((${`;${o}+=${o}*`})*)`}(/[^#?]*)?([?][^#]*)?(#.*)?$`);function a(e){if(""===e||!e)return null;const t=e.match(s);if(t){const n={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){const e=t[4].slice(1).split(";");n.params={};for(const t of e){const e=t.split("=");n.params[e[0]]=e[1]}}return t[6]&&(n.path=t[6]),t[7]&&(n.query=t[7].slice(1)),t[8]&&(n.fragment=t[8].slice(1)),n}return null}const u={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class c{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=!0===t.cache?function(){const e=new Map;return function(t,n){try{let r;function i(i){if(r)return i;const o=e.get(t.didUrl);return void 0!==o?o:Promise.resolve(n()).then((function(n){var r;return"notFound"!==(null==(r=n.didResolutionMetadata)?void 0:r.error)&&e.set(t.didUrl,n),n}))}const o=function(){if(t.params&&"true"===t.params["no-cache"])return Promise.resolve(n()).then((function(e){return r=1,e}))}();return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(r){return Promise.reject(r)}}}():t.cache||r,t.legacyResolvers&&Object.keys(t.legacyResolvers).map((e=>{var n;this.registry[e]||(this.registry[e]=(n=t.legacyResolvers[e],function(e,t,r){try{return Promise.resolve(function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(n(e,t,r)).then((function(e){return{...u,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:e}}))}),(function(e){return{...u,didResolutionMetadata:{error:"notFound",message:e.toString()}}})))}catch(i){return Promise.reject(i)}}))}))}resolve(e,t={}){try{const n=this,r=a(e);if(null===r)return Promise.resolve({...u,didResolutionMetadata:{error:"invalidDid"}});const i=n.registry[r.method];return i?Promise.resolve(n.cache(r,(()=>i(r.did,r,n,t)))):Promise.resolve({...u,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(n){return Promise.reject(n)}}}},3285:function(e,t,n){"use strict";n.d(t,{GJ:function(){return y}});var r=n(9228),i=n(1387),o=n(1416),s=n(2386),a=n(738);function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function c(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,u(e,t,"get"))}function f(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,u(e,t,"set"),n),n}async function d(e){const t=new r.o(e||(0,o.randomBytes)(32)),n=new s.y({provider:t,resolver:i.Z.getResolver()});return await n.authenticate(),n}var h=new WeakMap,p=new WeakMap,m=new WeakMap;class y{static async authorize(e,t={}){if(!t.resources||0===t.resources.length)throw new Error("Required: resource argument option when authorizing");const n=t,r=(0,o.randomBytes)(32),i=await d(r);if(n.uri=i.id,t.expiresInSecs){const e=new Date(Date.now()+1e3*t.expiresInSecs);n.expirationTime=e.toISOString()}const s=await e(t),a=await async function(e,t){const n=e.withCapability(t);return await n.authenticate(),n}(i,s);return new y({cacao:s,keySeed:r,did:a})}static async initDID(e,t){const n=e.withCapability(t);return await n.authenticate(),n}get did(){return c(this,h)}serialize(){const e={sessionKeySeed:(t=c(this,p),a.BB(t,"base64pad")),cacao:c(this,m)};var t,n;return n=e,a.BB(a.mL(JSON.stringify(n)),"base64url")}static async fromSession(e){const{sessionKeySeed:t,cacao:n}=(r=e,JSON.parse(a.BB(a.mL(r,"base64url"))));var r;const i=function(e){return a.mL(e,"base64pad")}(t),o=await d(i),s=await y.initDID(o,n);return new y({cacao:n,keySeed:i,did:s})}get hasSession(){return!!c(this,m)&&!!c(this,h)}get isExpired(){const e=c(this,m).p.exp;return!!e&&Date.parse(e)<Date.now()}get expireInSecs(){const e=c(this,m).p.exp;if(!e)throw new Error("Session does not expire");const t=Date.parse(e)-Date.now();return t<0?0:t/1e3}get authorizations(){return c(this,m)?.p.resources??[]}get cacao(){return c(this,m)}isAuthorized(e){return!(!this.hasSession||this.isExpired)&&(!e||e.every((e=>this.authorizations.includes(e))))}get id(){return c(this,h).parent}constructor(e){f(this,h,{writable:!0,value:void 0}),f(this,p,{writable:!0,value:void 0}),f(this,m,{writable:!0,value:void 0}),l(this,p,e.keySeed),l(this,m,e.cacao),l(this,h,e.did)}}},2386:function(e,t,n){"use strict";n.d(t,{y:function(){return Mr}});var r={};n.r(r),n.d(r,{code:function(){return Et},decode:function(){return It},encode:function(){return Tt},name:function(){return bt}});var i=n(4747),o=n(452),s=n(7618),a=n(8161),u=n(7353),c=n(8566);n(9382);const f=["string","number","bigint","symbol"],l=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function d(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(f.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(l.includes(t))return t;return}(e);return n||"Object"}class h{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}h.uint=new h(0,"uint",!0),h.negint=new h(1,"negint",!0),h.bytes=new h(2,"bytes",!0),h.string=new h(3,"string",!0),h.array=new h(4,"array",!1),h.map=new h(5,"map",!1),h.tag=new h(6,"tag",!1),h.float=new h(7,"float",!0),h.false=new h(7,"false",!0),h.true=new h(7,"true",!0),h.null=new h(7,"null",!0),h.undefined=new h(7,"undefined",!0),h.break=new h(7,"break",!0);class p{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const m=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,y=new TextDecoder,g=new TextEncoder;function v(e){return m&&globalThis.Buffer.isBuffer(e)}function w(e){return e instanceof Uint8Array?v(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const b=m?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):N(e,t,n):(e,t,n)=>n-t>64?y.decode(e.subarray(t,n)):N(e,t,n),E=m?e=>e.length>64?globalThis.Buffer.from(e):S(e):e=>e.length>64?g.encode(e):S(e),T=e=>Uint8Array.from(e),I=m?(e,t,n)=>v(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),_=m?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),w(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},A=m?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function S(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&i)<<6|63&n,u>127&&(o=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&i)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=s}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}const x=4096;class O{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=A(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=I(n,0,this.cursor)}else t=_(this.chunks,this.cursor);return e&&this.reset(),t}}const k=[];function C(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}k[23]=1,k[24]=2,k[25]=3,k[26]=5,k[27]=9;const D=[24,256,65536,4294967296,BigInt("18446744073709551616")];function M(e,t,n){C(e,t,1);const r=e[t];if(!0===n.strict&&r<D[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function R(e,t,n){C(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<D[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function U(e,t,n){C(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<D[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function B(e,t,n){C(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(r)<<BigInt(32))+BigInt(i);if(!0===n.strict&&o<D[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===n.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function L(e,t){return P(e,0,t.value)}function P(e,t,n){if(n<D[0]){const r=Number(n);e.push([t|r])}else if(n<D[1]){const r=Number(n);e.push([24|t,r])}else if(n<D[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<D[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<D[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}L.encodedSize=function(e){return P.encodedSize(e.value)},P.encodedSize=function(e){return e<D[0]?1:e<D[1]?2:e<D[2]?3:e<D[3]?5:9},L.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const j=BigInt(-1),F=BigInt(1);function $(e,t){const n=t.value,r="bigint"===typeof n?n*j-F:-1*n-1;P(e,t.type.majorEncoded,r)}function V(e,t,n,r){C(e,t,n+r);const i=I(e,t+n,t+n+r);return new p(h.bytes,i,n+r)}function z(e,t,n,r){return V(e,t,1,n)}function G(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===h.string?E(e.value):e.value),e.encodedBytes}function q(e,t){const n=G(t);P(e,t.type.majorEncoded,n.length),e.push(n)}function H(e,t,n,r,i){const o=n+r;C(e,t,o);const s=new p(h.string,b(e,t+n,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=I(e,t+n,t+o)),s}function J(e,t,n,r){return H(e,t,1,n,r)}$.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*j-F:-1*t-1;return n<D[0]?1:n<D[1]?2:n<D[2]?3:n<D[3]?5:9},$.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},q.encodedSize=function(e){const t=G(e);return P.encodedSize(t.length)+t.length},q.compareTokens=function(e,t){return n=G(e),r=G(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(v(e)&&v(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const K=q;function Y(e,t,n,r){return new p(h.array,r,n)}function W(e,t,n,r){return Y(0,0,1,n)}function X(e,t){P(e,h.array.majorEncoded,t.value)}function Q(e,t,n,r){return new p(h.map,r,n)}function Z(e,t,n,r){return Q(0,0,1,n)}function ee(e,t){P(e,h.map.majorEncoded,t.value)}function te(e,t,n,r){return new p(h.tag,n,1)}function ne(e,t){P(e,h.tag.majorEncoded,t.value)}X.compareTokens=L.compareTokens,X.encodedSize=function(e){return P.encodedSize(e.value)},ee.compareTokens=L.compareTokens,ee.encodedSize=function(e){return P.encodedSize(e.value)},ne.compareTokens=L.compareTokens,ne.encodedSize=function(e){return P.encodedSize(e.value)};function re(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new p(h.float,e,t)}function ie(e,t,n){const r=t.value;if(!1===r)e.push([20|h.float.majorEncoded]);else if(!0===r)e.push([21|h.float.majorEncoded]);else if(null===r)e.push([22|h.float.majorEncoded]);else if(void 0===r)e.push([23|h.float.majorEncoded]);else{let t,o=!1;n&&!0===n.float64||(ue(r),t=ce(ae,1),r===t||Number.isNaN(r)?(ae[0]=249,e.push(ae.slice(0,3)),o=!0):(fe(r),t=le(ae,1),r===t&&(ae[0]=250,e.push(ae.slice(0,5)),o=!0))),o||(i=r,se.setFloat64(0,i,!1),t=de(ae,1),ae[0]=251,e.push(ae.slice(0,9)))}var i}ie.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){ue(n);let e=ce(ae,1);if(n===e||Number.isNaN(n))return 3;if(fe(n),e=le(ae,1),n===e)return 5}return 9};const oe=new ArrayBuffer(9),se=new DataView(oe,1),ae=new Uint8Array(oe,0);function ue(e){if(e===1/0)se.setUint16(0,31744,!1);else if(e===-1/0)se.setUint16(0,64512,!1);else if(Number.isNaN(e))se.setUint16(0,32256,!1);else{se.setFloat32(0,e);const t=se.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)se.setUint16(0,31744,!1);else if(0===n)se.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?se.setUint16(0,0):e<-14?se.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):se.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function ce(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,i=1023&n;let o;return o=0===r?i*2**-24:31!==r?(i+1024)*2**(r-25):0===i?1/0:NaN,32768&n?-o:o}function fe(e){se.setFloat32(0,e,!1)}function le(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function de(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function he(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function pe(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}ie.compareTokens=L.compareTokens;const me=[];for(let Rr=0;Rr<=23;Rr++)me[Rr]=he;me[24]=function(e,t,n,r){return new p(h.uint,M(e,t+1,r),2)},me[25]=function(e,t,n,r){return new p(h.uint,R(e,t+1,r),3)},me[26]=function(e,t,n,r){return new p(h.uint,U(e,t+1,r),5)},me[27]=function(e,t,n,r){return new p(h.uint,B(e,t+1,r),9)},me[28]=he,me[29]=he,me[30]=he,me[31]=he;for(let Rr=32;Rr<=55;Rr++)me[Rr]=he;me[56]=function(e,t,n,r){return new p(h.negint,-1-M(e,t+1,r),2)},me[57]=function(e,t,n,r){return new p(h.negint,-1-R(e,t+1,r),3)},me[58]=function(e,t,n,r){return new p(h.negint,-1-U(e,t+1,r),5)},me[59]=function(e,t,n,r){const i=B(e,t+1,r);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new p(h.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new p(h.negint,j-BigInt(i),9)},me[60]=he,me[61]=he,me[62]=he,me[63]=he;for(let Rr=64;Rr<=87;Rr++)me[Rr]=z;me[88]=function(e,t,n,r){return V(e,t,2,M(e,t+1,r))},me[89]=function(e,t,n,r){return V(e,t,3,R(e,t+1,r))},me[90]=function(e,t,n,r){return V(e,t,5,U(e,t+1,r))},me[91]=function(e,t,n,r){const i=B(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return V(e,t,9,i)},me[92]=he,me[93]=he,me[94]=he,me[95]=pe("indefinite length bytes/strings are not supported");for(let Rr=96;Rr<=119;Rr++)me[Rr]=J;me[120]=function(e,t,n,r){return H(e,t,2,M(e,t+1,r),r)},me[121]=function(e,t,n,r){return H(e,t,3,R(e,t+1,r),r)},me[122]=function(e,t,n,r){return H(e,t,5,U(e,t+1,r),r)},me[123]=function(e,t,n,r){const i=B(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return H(e,t,9,i,r)},me[124]=he,me[125]=he,me[126]=he,me[127]=pe("indefinite length bytes/strings are not supported");for(let Rr=128;Rr<=151;Rr++)me[Rr]=W;me[152]=function(e,t,n,r){return Y(0,0,2,M(e,t+1,r))},me[153]=function(e,t,n,r){return Y(0,0,3,R(e,t+1,r))},me[154]=function(e,t,n,r){return Y(0,0,5,U(e,t+1,r))},me[155]=function(e,t,n,r){const i=B(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return Y(0,0,9,i)},me[156]=he,me[157]=he,me[158]=he,me[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Y(0,0,1,1/0)};for(let Rr=160;Rr<=183;Rr++)me[Rr]=Z;me[184]=function(e,t,n,r){return Q(0,0,2,M(e,t+1,r))},me[185]=function(e,t,n,r){return Q(0,0,3,R(e,t+1,r))},me[186]=function(e,t,n,r){return Q(0,0,5,U(e,t+1,r))},me[187]=function(e,t,n,r){const i=B(e,t+1,r);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return Q(0,0,9,i)},me[188]=he,me[189]=he,me[190]=he,me[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Q(0,0,1,1/0)};for(let Rr=192;Rr<=215;Rr++)me[Rr]=te;me[216]=function(e,t,n,r){return new p(h.tag,M(e,t+1,r),2)},me[217]=function(e,t,n,r){return new p(h.tag,R(e,t+1,r),3)},me[218]=function(e,t,n,r){return new p(h.tag,U(e,t+1,r),5)},me[219]=function(e,t,n,r){return new p(h.tag,B(e,t+1,r),9)},me[220]=he,me[221]=he,me[222]=he,me[223]=he;for(let Rr=224;Rr<=243;Rr++)me[Rr]=pe("simple values are not supported");me[244]=he,me[245]=he,me[246]=he,me[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new p(h.null,null,1):new p(h.undefined,void 0,1)},me[248]=pe("simple values are not supported"),me[249]=function(e,t,n,r){return re(ce(e,t+1),3,r)},me[250]=function(e,t,n,r){return re(le(e,t+1),5,r)},me[251]=function(e,t,n,r){return re(de(e,t+1),9,r)},me[252]=he,me[253]=he,me[254]=he,me[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new p(h.break,void 0,1)};const ye=[];for(let Rr=0;Rr<24;Rr++)ye[Rr]=new p(h.uint,Rr,1);for(let Rr=-1;Rr>=-24;Rr--)ye[31-Rr]=new p(h.negint,Rr,1);ye[64]=new p(h.bytes,new Uint8Array(0),1),ye[96]=new p(h.string,"",1),ye[128]=new p(h.array,0,1),ye[160]=new p(h.map,0,1),ye[244]=new p(h.false,!1,1),ye[245]=new p(h.true,!0,1),ye[246]=new p(h.null,null,1);const ge={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=ve[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case h.false:return T([244]);case h.true:return T([245]);case h.null:return T([246]);case h.bytes:return e.value.length?void 0:T([64]);case h.string:return""===e.value?T([96]):void 0;case h.array:return 0===e.value?T([128]):void 0;case h.map:return 0===e.value?T([160]):void 0;case h.uint:return e.value<24?T([Number(e.value)]):void 0;case h.negint:if(e.value>=-24)return T([31-Number(e.value)])}}};const ve=function(){const e=[];return e[h.uint.major]=L,e[h.negint.major]=$,e[h.bytes.major]=q,e[h.string.major]=K,e[h.array.major]=X,e[h.map.major]=ee,e[h.tag.major]=ne,e[h.float.major]=ie,e}(),we=new O;class be{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new be(t,e)}}const Ee={null:new p(h.null,null),undefined:new p(h.undefined,void 0),true:new p(h.true,!0),false:new p(h.false,!1),emptyArray:new p(h.array,0),emptyMap:new p(h.map,0)},Te={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new p(e>=0?h.uint:h.negint,e):new p(h.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new p(h.uint,e):new p(h.negint,e),Uint8Array:(e,t,n,r)=>new p(h.bytes,e),string:(e,t,n,r)=>new p(h.string,e),boolean:(e,t,n,r)=>e?Ee.true:Ee.false,null:(e,t,n,r)=>Ee.null,undefined:(e,t,n,r)=>Ee.undefined,ArrayBuffer:(e,t,n,r)=>new p(h.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new p(h.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[Ee.emptyArray,new p(h.break)]:Ee.emptyArray;r=be.createCheck(r,e);const i=[];let o=0;for(const s of e)i[o++]=Ie(s,n,r);return n.addBreakTokens?[new p(h.array,e.length),i,new p(h.break)]:[new p(h.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===n.addBreakTokens?[Ee.emptyMap,new p(h.break)]:Ee.emptyMap;r=be.createCheck(r,e);const a=[];let u=0;for(const c of o)a[u++]=[Ie(c,n,r),Ie(i?e.get(c):e[c],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new p(h.map,s),a,new p(h.break)]:[new p(h.map,s),a]}};Te.Map=Te.Object,Te.Buffer=Te.Uint8Array;for(const Rr of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Te[`${Rr}Array`]=Te.DataView;function Ie(e,t={},n){const r=d(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||Te[r];if("function"===typeof i){const o=i(e,r,t,n);if(null!=o)return o}const o=Te[r];if(!o)throw new Error(`CBOR encode error: unsupported type: ${r}`);return o(e,r,t,n)}function _e(e,t,n,r){if(Array.isArray(t))for(const i of t)_e(e,i,n,r);else n[t.type.major](e,t,r)}function Ae(e,t,n){const r=Ie(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new O(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return w(t.chunks[0])}}return we.reset(),_e(we,r,t,n),we.toBytes(!0)}const Se={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Ne{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=ye[e];if(void 0===t){const n=me[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this.pos,r,this.options)}return this.pos+=t.encodedLength,t}}const xe=Symbol.for("DONE"),Oe=Symbol.for("BREAK");function ke(e,t){if(e.done())return xe;const n=e.next();if(n.type===h.break)return Oe;if(n.type.terminal)return n.value;if(n.type===h.array)return function(e,t,n){const r=[];for(let i=0;i<e.value;i++){const o=ke(t,n);if(o===Oe){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===xe)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);r[i]=o}return r}(n,e,t);if(n.type===h.map)return function(e,t,n){const r=!0===n.useMaps,i=r?void 0:{},o=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=ke(t,n);if(a===Oe){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===xe)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&o.has(a)||!r&&a in i))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const u=ke(t,n);if(u===xe)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?o.set(a,u):i[a]=u}return r?o:i}(n,e,t);if(n.type===h.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=ke(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}var Ce=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=De;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},De=Math.pow(2,31);var Me=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var Re=Math.pow(2,7),Ue=Math.pow(2,14),Be=Math.pow(2,21),Le=Math.pow(2,28),Pe=Math.pow(2,35),je=Math.pow(2,42),Fe=Math.pow(2,49),$e=Math.pow(2,56),Ve=Math.pow(2,63),ze={encode:Ce,decode:Me,encodingLength:function(e){return e<Re?1:e<Ue?2:e<Be?3:e<Le?4:e<Pe?5:e<je?6:e<Fe?7:e<$e?8:e<Ve?9:10}};const Ge=(e,t=0)=>[ze.decode(e,t),ze.decode.bytes],qe=(e,t,n=0)=>(ze.encode(e,t,n),t),He=e=>ze.encodingLength(e),Je=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Ke{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var Ye=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class We{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xe{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ze(this,e)}}class Qe{constructor(e){this.decoders=e}or(e){return Ze(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ze=(e,t)=>new Qe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class et{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new We(e,t,n),this.decoder=new Xe(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const tt=({name:e,prefix:t,encode:n,decode:r})=>new et(e,t,n,r),nt=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Ye(n,t);return tt({prefix:e,name:t,encode:r,decode:e=>Je(i(e))})},rt=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>tt({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),it=nt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ot=(nt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),rt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));rt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class st{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:mt,byteLength:mt,code:pt,version:pt,multihash:pt,bytes:pt,_baseCache:mt,asCID:mt})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==ft)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==lt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return st.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=He(e),i=r+He(n),o=new Uint8Array(i+n);return qe(e,o,0),qe(n,o,r),o.set(t,i),new Ke(e,n,t,o)})(e,t);return st.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return ut(t,r,e||it.encoder);default:return ct(t,r,e||ot.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return yt(/^0\.0/,gt),!(!e||!e[ht]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof st)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new st(t,n,r,i||dt(t,n,r.bytes))}if(null!=e&&!0===e[ht]){const{version:t,multihash:n,code:r}=e,i=(e=>{const t=Je(e),[n,r]=Ge(t),[i,o]=Ge(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Ke(n,i,s,t)})(n);return st.create(t,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==ft)throw new Error(`Version 0 CID must use dag-pb (code: ${ft}) block encoding`);return new st(e,t,n,n.bytes);case 1:{const r=dt(e,t,n.bytes);return new st(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return st.create(0,ft,e)}static createV1(e,t){return st.create(1,e,t)}static decode(e){const[t,n]=st.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=st.inspectBytes(e),n=t.size-t.multihashSize,r=Je(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new Ke(t.multihashCode,t.digestSize,i,r);return[0===t.version?st.createV0(o):st.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Ge(e.subarray(t));return t+=r,n};let r=n(),i=ft;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=at(e,t),i=st.decode(r);return i._baseCache.set(n,e),i}}const at=(e,t)=>{switch(e[0]){case"Q":{const n=t||it;return[it.prefix,n.decode(`${it.prefix}${e}`)]}case it.prefix:{const n=t||it;return[it.prefix,n.decode(e)]}case ot.prefix:{const n=t||ot;return[ot.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ut=(e,t,n)=>{const{prefix:r}=n;if(r!==it.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},ct=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},ft=112,lt=18,dt=(e,t,n)=>{const r=He(e),i=r+He(t),o=new Uint8Array(i+n.byteLength);return qe(e,o,0),qe(t,o,r),o.set(n,i),o},ht=Symbol.for("@ipld/js-cid/CID"),pt={writable:!1,configurable:!1,enumerable:!0},mt={writable:!1,enumerable:!1,configurable:!1},yt=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},gt="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const vt={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=st.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new p(h.tag,42),new p(h.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const wt={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};wt.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return st.decode(e.subarray(1))};const bt="dag-cbor",Et=113,Tt=e=>{return t=e,n=vt,n=Object.assign({},ge,n),Ae(t,ve,n);var t,n},It=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},Se,t)).tokenizer||new Ne(e,t),r=ke(n,t);if(r===xe)throw new Error("CBOR decode error: did not find any content to decode");if(r===Oe)throw new Error("CBOR decode error: got unexpected break");if(!n.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return r}(e,wt);async function _t(e,t){return function(e,t=24){const n=(t-e.length%t)%t,r=new Uint8Array(e.length+n);return r.set(e,0),r}((await async function(e){return(await s.cv({value:e,codec:r,hasher:c.identity})).cid}(e)).bytes,t)}function At(e){return function(e){const t=a.k0.asCID(e);if(!t)throw new Error("CID could not be parsed");if(t.code!==Et)throw new Error("CID codec must be dag-cbor");if(t.multihash.code!==c.identity.code)throw new Error("CID must use identity multihash");return It(t.multihash.digest)}(a.k0.decodeFirst(e)[0])}var St=n(7006),Nt=n(8021),xt=n(1505);function Ot(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function kt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ot(e,t,"get"))}function Ct(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Dt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ot(e,t,"set"),n),n}var Mt=new WeakMap;class Rt{get connection(){return kt(this,Mt)}createID(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))()}request(e,t,n={}){const{signal:r}=n;if(r?.aborted)return Promise.reject(St.au);const i=this.createID(),o=kt(this,Mt).send({jsonrpc:"2.0",id:i,method:e,params:t}).then((e=>{if(null==e)throw new Error("Missing response");if(null!=e.error)throw xt.O$.fromObject(e.error);return e.result}));return null==r?o:(r.addEventListener("abort",(()=>{this.notify(Nt.X,{id:i})})),(0,St.S2)(o,r))}async notify(e,t){await kt(this,Mt).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){Ct(this,Mt,{writable:!0,value:void 0}),Dt(this,Mt,e)}}var Ut=n(154);let Bt=!1,Lt=!1;const Pt={debug:1,default:2,info:2,warning:3,error:4,off:5};let jt=Pt.default,Ft=null;const $t=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(xt){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(xt){return xt.message}return null}();var Vt,zt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Vt||(Vt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(zt||(zt={}));const Gt="0123456789abcdef";class qt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==Pt[n]&&this.throwArgumentError("invalid log level name","logLevel",e),jt>Pt[n]||console.log.apply(console,t)}debug(...e){this._log(qt.levels.DEBUG,e)}info(...e){this._log(qt.levels.INFO,e)}warn(...e){this._log(qt.levels.WARNING,e)}makeError(e,t,n){if(Lt)return this.makeError("censored error",t,{});t||(t=qt.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=Gt[t[e]>>4],n+=Gt[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(s){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const i=e;let o="";switch(t){case zt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case zt.CALL_EXCEPTION:case zt.INSUFFICIENT_FUNDS:case zt.MISSING_NEW:case zt.NONCE_EXPIRED:case zt.REPLACEMENT_UNDERPRICED:case zt.TRANSACTION_REPLACED:case zt.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(n).forEach((function(e){s[e]=n[e]})),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,qt.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),$t&&this.throwError("platform missing String.prototype.normalize",qt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:$t})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,qt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,qt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,qt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,qt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",qt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",qt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",qt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ft||(Ft=new qt("logger/5.7.0")),Ft}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",qt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Bt){if(!e)return;this.globalLogger().throwError("error censorship permanent",qt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Lt=!!e,Bt=!!t}static setLogLevel(e){const t=Pt[e.toLowerCase()];null!=t?jt=t:qt.globalLogger().warn("invalid log level - "+e)}static from(e){return new qt(e)}}qt.errors=zt,qt.levels=Vt;const Ht=new qt("bytes/5.7.0");function Jt(e){return!!e.toHexString}function Kt(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Kt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Yt(e){return"number"===typeof e&&e==e&&e%1===0}function Wt(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Yt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Yt(n)||n<0||n>=256)return!1}return!0}function Xt(e,t){if(t||(t={}),"number"===typeof e){Ht.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Kt(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Jt(e)&&(e=e.toHexString()),Zt(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":Ht.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return Kt(new Uint8Array(r))}return Wt(e)?Kt(new Uint8Array(e)):Ht.throwArgumentError("invalid arrayify value","value",e)}function Qt(e){const t=e.map((e=>Xt(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),Kt(r)}function Zt(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const en="0123456789abcdef";function tn(e,t){if(t||(t={}),"number"===typeof e){Ht.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=en[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Jt(e))return e.toHexString();if(Zt(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Ht.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Wt(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=en[(240&r)>>4]+en[15&r]}return t}return Ht.throwArgumentError("invalid hexlify value","value",e)}function nn(e,t,n){return"string"!==typeof e?e=tn(e):(!Zt(e)||e.length%2)&&Ht.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function rn(e,t){for("string"!==typeof e?e=tn(e):Zt(e)||Ht.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Ht.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function on(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Zt(n=e)&&!(n.length%2)||Wt(n)){let n=Xt(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=tn(n.slice(0,32)),t.s=tn(n.slice(32,64))):65===n.length?(t.r=tn(n.slice(0,32)),t.s=tn(n.slice(32,64)),t.v=n[64]):Ht.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Ht.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=tn(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const n=function(e,t){(e=Xt(e)).length>t&&Ht.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(t);return n.set(e,t-e.length),Kt(n)}(Xt(t._vs),32);t._vs=tn(n);const r=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=r:t.recoveryParam!==r&&Ht.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const i=tn(n);null==t.s?t.s=i:t.s!==i&&Ht.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Ht.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const n=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==n&&Ht.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&Zt(t.r)?t.r=rn(t.r,32):Ht.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&Zt(t.s)?t.s=rn(t.s,32):Ht.throwArgumentError("signature missing or invalid s","signature",e);const n=Xt(t.s);n[0]>=128&&Ht.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(n[0]|=128);const r=tn(n);t._vs&&(Zt(t._vs)||Ht.throwArgumentError("signature invalid _vs","signature",e),t._vs=rn(t._vs,32)),null==t._vs?t._vs=r:t._vs!==r&&Ht.throwArgumentError("signature _vs mismatch v and s","signature",e)}var n;return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var sn=n(1094),an=n.n(sn);function un(e){return"0x"+an().keccak_256(Xt(e))}const cn=new qt("strings/5.7.0");var fn,ln;function dn(e,t,n,r,i){if(e===ln.BAD_PREFIX||e===ln.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return e===ln.OVERRUN?n.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(fn||(fn={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(ln||(ln={}));Object.freeze({error:function(e,t,n,r,i){return cn.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:dn,replace:function(e,t,n,r,i){return e===ln.OVERLONG?(r.push(i),0):(r.push(65533),dn(e,t,n))}});function hn(e,t=fn.current){t!=fn.current&&(cn.checkNormalize(),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);if(r>=e.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return Xt(n)}var pn=n(3550),mn=n.n(pn);var yn=mn().BN;new qt("bignumber/5.7.0");const gn=new qt("address/5.7.0");function vn(e){Zt(e,20)||gn.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=Xt(un(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const wn={};for(let Rr=0;Rr<10;Rr++)wn[String(Rr)]=String(Rr);for(let Rr=0;Rr<26;Rr++)wn[String.fromCharCode(65+Rr)]=String(10+Rr);const bn=Math.floor((En=9007199254740991,Math.log10?Math.log10(En):Math.log(En)/Math.LN10));var En;function Tn(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>wn[e])).join("");for(;t.length>=bn;){let e=t.substring(0,bn);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function In(e){let t=null;if("string"!==typeof e&&gn.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=vn(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&gn.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Tn(e)&&gn.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new yn(n,36).toString(16);t.length<40;)t="0"+t;t=vn("0x"+t)}else gn.throwArgumentError("invalid address","address",e);var n;return t}var _n=n(3715),An=n.n(_n);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;function Sn(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}var Nn=xn;function xn(e,t){if(!e)throw new Error(t||"Assertion failed")}xn.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var On=Sn((function(e,t){var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}})),kn=Sn((function(e,t){var n=t;n.assert=Nn,n.toArray=On.toArray,n.zero2=On.zero2,n.toHex=On.toHex,n.encode=On.encode,n.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<r.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,r[s]=a,o.iushrn(1)}return r},n.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=0===(1&u)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==c?u:-u,n[0].push(s),a=0===(1&c)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==u?c:-c,n[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},n.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new(mn())(e,"hex","le")}})),Cn=kn.getNAF,Dn=kn.getJSF,Mn=kn.assert;function Rn(e,t){this.type=e,this.p=new(mn())(t.p,16),this.red=t.prime?mn().red(t.prime):mn().mont(this.p),this.zero=new(mn())(0).toRed(this.red),this.one=new(mn())(1).toRed(this.red),this.two=new(mn())(2).toRed(this.red),this.n=t.n&&new(mn())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Un=Rn;function Bn(e,t){this.curve=e,this.type=t,this.precomputed=null}Rn.prototype.point=function(){throw new Error("Not implemented")},Rn.prototype.validate=function(){throw new Error("Not implemented")},Rn.prototype._fixedNafMul=function(e,t){Mn(e.precomputed);var n=e._getDoubles(),r=Cn(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<r.length;o+=n.step){s=0;for(var u=o+n.step-1;u>=o;u--)s=(s<<1)+r[u];a.push(s)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),l=i;l>0;l--){for(o=0;o<a.length;o++)(s=a[o])===l?f=f.mixedAdd(n.points[o]):s===-l&&(f=f.mixedAdd(n.points[o].neg()));c=c.add(f)}return c.toP()},Rn.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=Cn(t,n,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var c=o[a];Mn(0!==c),s="affine"===e.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},Rn.prototype._wnafMulAdd=function(e,t,n,r,i){var o,s,a,u=this._wnafT1,c=this._wnafT2,f=this._wnafT3,l=0;for(o=0;o<r;o++){var d=(a=t[o])._getNAFPoints(e);u[o]=d.wnd,c[o]=d.points}for(o=r-1;o>=1;o-=2){var h=o-1,p=o;if(1===u[h]&&1===u[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],g=Dn(n[h],n[p]);for(l=Math.max(g[0].length,l),f[h]=new Array(l),f[p]=new Array(l),s=0;s<l;s++){var v=0|g[0][s],w=0|g[1][s];f[h][s]=y[3*(v+1)+(w+1)],f[p][s]=0,c[h]=m}}else f[h]=Cn(n[h],u[h],this._bitLength),f[p]=Cn(n[p],u[p],this._bitLength),l=Math.max(f[h].length,l),l=Math.max(f[p].length,l)}var b=this.jpoint(null,null,null),E=this._wnafT4;for(o=l;o>=0;o--){for(var T=0;o>=0;){var I=!0;for(s=0;s<r;s++)E[s]=0|f[s][o],0!==E[s]&&(I=!1);if(!I)break;T++,o--}if(o>=0&&T++,b=b.dblp(T),o<0)break;for(s=0;s<r;s++){var _=E[s];0!==_&&(_>0?a=c[s][_-1>>1]:_<0&&(a=c[s][-_-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<r;o++)c[o]=null;return i?b:b.toP()},Rn.BasePoint=Bn,Bn.prototype.eq=function(){throw new Error("Not implemented")},Bn.prototype.validate=function(){return this.curve.validate(this)},Rn.prototype.decodePoint=function(e,t){e=kn.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?Mn(e[e.length-1]%2===0):7===e[0]&&Mn(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},Bn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Bn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},Bn.prototype.encode=function(e,t){return kn.encode(this._encode(t),e)},Bn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Bn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Bn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},Bn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},Bn.prototype._getBeta=function(){return null},Bn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Ln=Sn((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),Pn=kn.assert;function jn(e){Un.call(this,"short",e),this.a=new(mn())(e.a,16).toRed(this.red),this.b=new(mn())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ln(jn,Un);var Fn=jn;function $n(e,t,n,r){Un.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new(mn())(t,16),this.y=new(mn())(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Vn(e,t,n,r){Un.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(mn())(0)):(this.x=new(mn())(t,16),this.y=new(mn())(n,16),this.z=new(mn())(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}jn.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new(mn())(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new(mn())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],Pn(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new(mn())(e.a,16),b:new(mn())(e.b,16)}})):this._getEndoBasis(n)}}},jn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:mn().mont(e),n=new(mn())(2).toRed(t).redInvm(),r=n.redNeg(),i=new(mn())(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},jn.prototype._getEndoBasis=function(e){for(var t,n,r,i,o,s,a,u,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,d=this.n.clone(),h=new(mn())(1),p=new(mn())(0),m=new(mn())(0),y=new(mn())(1),g=0;0!==l.cmpn(0);){var v=d.div(l);u=d.sub(v.mul(l)),c=m.sub(v.mul(h));var w=y.sub(v.mul(p));if(!r&&u.cmp(f)<0)t=a.neg(),n=h,r=u.neg(),i=c;else if(r&&2===++g)break;a=u,d=l,l=u,m=h,h=c,y=p,p=w}o=u.neg(),s=c;var b=r.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=t,s=n),r.negative&&(r=r.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:r,b:i},{a:o,b:s}]},jn.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),a=o.mul(r.a),u=i.mul(n.b),c=o.mul(r.b);return{k1:e.sub(s).sub(a),k2:u.add(c).neg()}},jn.prototype.pointFromX=function(e,t){(e=new(mn())(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},jn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},jn.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),r[2*o]=a,r[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,r,i,2*o,n),f=0;f<2*o;f++)r[f]=null,i[f]=null;return c},Ln($n,Un.BasePoint),jn.prototype.point=function(e,t,n){return new $n(this,e,t,n)},jn.prototype.pointFromJSON=function(e,t){return $n.fromJSON(this,e,t)},$n.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},$n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},$n.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},$n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},$n.prototype.isInfinity=function(){return this.inf},$n.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},$n.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},$n.prototype.getX=function(){return this.x.fromRed()},$n.prototype.getY=function(){return this.y.fromRed()},$n.prototype.mul=function(e){return e=new(mn())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},$n.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},$n.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},$n.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},$n.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},$n.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ln(Vn,Un.BasePoint),jn.prototype.jpoint=function(e,t,n){return new Vn(this,e,t,n)},Vn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},Vn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Vn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),a=r.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=r.redMul(c),d=u.redSqr().redIAdd(f).redISub(l).redISub(l),h=u.redMul(l.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,h,p)},Vn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=n.redSub(r),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=n.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),d=a.redMul(f.redISub(l)).redISub(i.redMul(c)),h=this.z.redMul(s);return this.curve.jpoint(l,d,h)},Vn.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),l=c.redSqr(),d=l.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(r.redMul(u)),p=o.redMul(l),m=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(m),g=h.redMul(y);g=g.redIAdd(g).redISub(d);var v=c.redMul(a);t+1<e&&(u=u.redMul(d)),o=m,a=v,c=g}return this.curve.jpoint(o,c.redMul(i),a)},Vn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Vn.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(s.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),h=this.x.redAdd(l).redSqr().redISub(f).redISub(d);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),m=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},Vn.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var y=l.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,n)},Vn.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=a.redMul(l).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(f,h,p)},Vn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=t.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(l,d,h)},Vn.prototype.mul=function(e,t){return e=new(mn())(e,t),this.curve._wnafMul(this,e)},Vn.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},Vn.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},Vn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Vn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var zn=Sn((function(e,t){var n=t;n.base=Un,n.short=Fn,n.mont=null,n.edwards=null})),Gn=Sn((function(e,t){var n,r=t,i=kn.assert;function o(e){"short"===e.type?this.curve=new zn.short(e):"edwards"===e.type?this.curve=new zn.edwards(e):this.curve=new zn.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new o(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:An().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:An().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:An().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:An().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:An().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:An().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:An().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(a){n=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:An().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function qn(e){if(!(this instanceof qn))return new qn(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=On.toArray(e.entropy,e.entropyEnc||"hex"),n=On.toArray(e.nonce,e.nonceEnc||"hex"),r=On.toArray(e.pers,e.persEnc||"hex");Nn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}var Hn=qn;qn.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},qn.prototype._hmac=function(){return new(An().hmac)(this.hash,this.K)},qn.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},qn.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=On.toArray(e,t),n=On.toArray(n,r),Nn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},qn.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=On.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(n),this._reseed++,On.encode(o,t)};var Jn=kn.assert;function Kn(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Yn=Kn;Kn.fromPublic=function(e,t,n){return t instanceof Kn?t:new Kn(e,{pub:t,pubEnc:n})},Kn.fromPrivate=function(e,t,n){return t instanceof Kn?t:new Kn(e,{priv:t,privEnc:n})},Kn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Kn.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Kn.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Kn.prototype._importPrivate=function(e,t){this.priv=new(mn())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Kn.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Jn(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Jn(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Kn.prototype.derive=function(e){return e.validate()||Jn(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Kn.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},Kn.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Kn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Wn=kn.assert;function Xn(e,t){if(e instanceof Xn)return e;this._importDER(e,t)||(Wn(e.r&&e.s,"Signature without r or s"),this.r=new(mn())(e.r,16),this.s=new(mn())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Qn=Xn;function Zn(){this.place=0}function er(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,s=t.place;o<r;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function tr(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function nr(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}Xn.prototype._importDER=function(e,t){e=kn.toArray(e,t);var n=new Zn;if(48!==e[n.place++])return!1;var r=er(e,n);if(!1===r)return!1;if(r+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var i=er(e,n);if(!1===i)return!1;var o=e.slice(n.place,i+n.place);if(n.place+=i,2!==e[n.place++])return!1;var s=er(e,n);if(!1===s)return!1;if(e.length!==s+n.place)return!1;var a=e.slice(n.place,s+n.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(mn())(o),this.s=new(mn())(a),this.recoveryParam=null,!0},Xn.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=tr(t),n=tr(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];nr(r,t.length),(r=r.concat(t)).push(2),nr(r,n.length);var i=r.concat(n),o=[48];return nr(o,i.length),o=o.concat(i),kn.encode(o,e)};var rr=function(){throw new Error("unsupported")},ir=kn.assert;function or(e){if(!(this instanceof or))return new or(e);"string"===typeof e&&(ir(Object.prototype.hasOwnProperty.call(Gn,e),"Unknown curve "+e),e=Gn[e]),e instanceof Gn.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var sr=or;or.prototype.keyPair=function(e){return new Yn(this,e)},or.prototype.keyFromPrivate=function(e,t){return Yn.fromPrivate(this,e,t)},or.prototype.keyFromPublic=function(e,t){return Yn.fromPublic(this,e,t)},or.prototype.genKeyPair=function(e){e||(e={});for(var t=new Hn({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rr(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new(mn())(2));;){var i=new(mn())(t.generate(n));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyFromPrivate(i)}},or.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},or.prototype.sign=function(e,t,n,r){"object"===typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new(mn())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new Hn({hash:this.hash,entropy:o,nonce:s,pers:r.pers,persEnc:r.persEnc||"utf8"}),u=this.n.sub(new(mn())(1)),c=0;;c++){var f=r.k?r.k(c):new(mn())(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var l=this.g.mul(f);if(!l.isInfinity()){var d=l.getX(),h=d.umod(this.n);if(0!==h.cmpn(0)){var p=f.invm(this.n).mul(h.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(l.getY().isOdd()?1:0)|(0!==d.cmp(h)?2:0);return r.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Qn({r:h,s:p,recoveryParam:m})}}}}}},or.prototype.verify=function(e,t,n,r){e=this._truncateToN(new(mn())(e,16)),n=this.keyFromPublic(n,r);var i=(t=new Qn(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),u=a.mul(e).umod(this.n),c=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,n.getPublic(),c)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,n.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},or.prototype.recoverPubKey=function(e,t,n,r){ir((3&n)===n,"The recovery param is more than two bits"),t=new Qn(t,r);var i=this.n,o=new(mn())(e),s=t.r,a=t.s,u=1&n,c=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var f=t.r.invm(i),l=i.sub(o).mul(f).umod(i),d=a.mul(f).umod(i);return this.g.mulAdd(l,s,d)},or.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new Qn(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var ar=Sn((function(e,t){var n=t;n.version="6.5.4",n.utils=kn,n.rand=function(){throw new Error("unsupported")},n.curve=zn,n.curves=Gn,n.ec=sr,n.eddsa=null})).ec;new qt("properties/5.7.0");function ur(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}const cr=new qt("signing-key/5.7.0");let fr=null;function lr(){return fr||(fr=new ar("secp256k1")),fr}class dr{constructor(e){ur(this,"curve","secp256k1"),ur(this,"privateKey",tn(e)),32!==function(e){if("string"!==typeof e)e=tn(e);else if(!Zt(e)||e.length%2)return null;return(e.length-2)/2}(this.privateKey)&&cr.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=lr().keyFromPrivate(Xt(this.privateKey));ur(this,"publicKey","0x"+t.getPublic(!1,"hex")),ur(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ur(this,"_isSigningKey",!0)}_addPoint(e){const t=lr().keyFromPublic(Xt(this.publicKey)),n=lr().keyFromPublic(Xt(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=lr().keyFromPrivate(Xt(this.privateKey)),n=Xt(e);32!==n.length&&cr.throwArgumentError("bad digest length","digest",e);const r=t.sign(n,{canonical:!0});return on({recoveryParam:r.recoveryParam,r:rn("0x"+r.r.toString(16),32),s:rn("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const t=lr().keyFromPrivate(Xt(this.privateKey)),n=lr().keyFromPublic(Xt(hr(e)));return rn("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function hr(e,t){const n=Xt(e);if(32===n.length){const e=new dr(n);return t?"0x"+lr().keyFromPrivate(n).getPublic(!0,"hex"):e.publicKey}return 33===n.length?t?tn(n):"0x"+lr().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?t?"0x"+lr().keyFromPublic(n).getPublic(!0,"hex"):tn(n):cr.throwArgumentError("invalid public or private key","key","[REDACTED]")}new qt("transactions/5.7.0");var pr;!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(pr||(pr={}));function mr(e,t){return function(e){return In(nn(un(nn(hr(e),1)),12))}(function(e,t){const n=on(t),r={r:Xt(n.r),s:Xt(n.s)};return"0x"+lr().recoverPubKey(Xt(e),r,n.recoveryParam).encode("hex",!1)}(Xt(e),t))}new qt("wallet/5.7.0");function yr(e,t){return mr(function(e){return"string"===typeof e&&(e=hn(e)),un(Qt([hn("\x19Ethereum Signed Message:\n"),hn(String(e.length)),e]))}(e),t)}var gr=n(4474),vr=n(7997),wr=n(7118);const br=new Date("2022-09-20").valueOf();var Er=n(9784),Tr=n(4415),Ir=n(738);function _r(e){return e instanceof Uint8Array}new Tr.Cs("Uint8Array",_r);function Ar(e){return new Tr.Dy(`Uint8Array-as-${String(e)}`,_r,((t,n)=>{try{return n.success((0,Ir.mL)(t,e))}catch{return n.failure()}}),(t=>(0,Ir.BB)(t,e)))}Ar("base64");const Sr=Ar("base64pad"),Nr=Ar("base64url");function xr(e){return Sr.encode(e)}function Or(e){const t=(0,Tr.Jx)(Nr,e);return JSON.parse((0,Er.B)(t))}var kr=n(1416);function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dr={eip191:async(e,t)=>{!function(e,t){(0,Ut.MB)(e),(0,Ut.ZX)(e,t);const n=[yr(gr.L.fromCacao(e).toMessage(),e.s.s).toLowerCase()];if(Date.parse(e.p.iat)<=br){const t=yr((0,vr.y6)(gr.L.fromCacao(e),"Ethereum"),e.s.s).toLowerCase();n.push(t)}const r=wr.hX.parse(e.p.iss.replace("did:pkh:","")).address.toLowerCase();if(!n.includes(r))throw new Error("Signature does not belong to issuer")}(e,t)}};class Mr{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return null!=this._capability}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return null!=this._parentId}get id(){if(null==this._id)throw new Error("DID is not authenticated");return this._id}get authenticated(){return null!=this._id}withCapability(e){return new Mr({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(null==this._client)this._client=new Rt(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=function(e){return"registry"in e&&"cache"in e}(e)?e:new i.H2(e,t)}async authenticate({provider:e,paths:t=[],aud:n}={}){if(null!=e&&this.setProvider(e),null==this._client)throw new Error("No provider available");const r=(0,Er.B)((0,kr.randomBytes)(16),"base64"),i=await this._client.request("did_authenticate",{nonce:r,aud:n,paths:t}),{kid:o}=await this.verifyJWS(i),s=Or(i.payload);if(!o.includes(s.did))throw new Error("Invalid authencation response, kid mismatch");if(s.nonce!==r)throw new Error("Invalid authencation response, wrong nonce");if(s.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(s.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=s.did,this._id}async createJWS(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");if(this._capability){const e=this._capability.p.exp;if(e&&Date.parse(e)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");const n=await Ut.LT.fromCacao(this._capability),r=a.k0.asCID(n.cid);if(!r)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${r?.toString()}`}const{jws:n}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return n}async createDagJWS(e,t={}){const{cid:n,linkedBlock:i}=await async function(e){const t=await s.cv({value:e,codec:r,hasher:u.sha256});return{cid:t.cid,linkedBlock:t.bytes}}(e),o=(c=n.bytes,Nr.encode(c));var c;Object.assign(t,{linkedBlock:xr(i)});const f=await this.createJWS(o,t),l=a.k0.asCID(n);if(!l)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");if(f.link=l,this._capability){return{jws:f,linkedBlock:i,cacaoBlock:(await Ut.LT.fromCacao(this._capability)).bytes}}return{jws:f,linkedBlock:i}}async verifyJWS(e,t={}){t=Object.assign({verifiers:Dr},t),"string"!==typeof e&&(e=function(e){if(e.signatures.length>1)throw new Error("Cant convert to compact jws");return`${e.signatures[0].protected}.${e.payload}.${e.signatures[0].signature}`}(e));const n=Or(e.split(".")[0]).kid;if(!n)throw new Error('No "kid" found in jws');const r=await this.resolve(n);if(!t.disableTimecheck){const e=r.didDocumentMetadata?.nextUpdate;if(e){const r=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0,i=new Date(e).valueOf()+r;if(!(t.atTime&&t.atTime.getTime()<i))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${n}`)}const i=r.didDocumentMetadata?.updated;if(i&&t.atTime&&t.atTime.getTime()<new Date(i).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${n}`)}const i=r.didDocument?.id;if(t.issuer&&t.issuer===t.capability?.p.iss&&i===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await Ut.yK.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==i){const e=function(e,t){if(t)return`${e}?versionTime=${t.toISOString().split(".")[0]+"Z"}`;return e}(t.issuer,t.atTime),r=(await this.resolve(e)).didDocument?.controller,o=function(e){return e?Array.isArray(e)?e:[e]:[]}(r);if(t.capability?.s&&t.capability.p.aud===i&&o.includes(t.capability.p.iss))await Ut.yK.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else{if(!(!!i&&o.includes(i)))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${n}`)}}const s=r.didDocument?.verificationMethod||[];let a;(0,o.ZW)(e,s);try{a=Or(e.split(".")[1])}catch(u){}return{kid:n,payload:a,didResolutionResult:r}}async createJWE(e,t,n={}){const r=await(0,o.AX)(t,this._resolver);return(0,o.zO)(e,r,n.protectedHeader,n.aad)}async createDagJWE(e,t,n={}){const r=await _t(e);return this.createJWE(r,t,n)}async decryptJWE(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");const{cleartext:n}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return r=n,(0,Tr.Jx)(Sr,r);var r}async decryptDagJWE(e){return At(await this.decryptJWE(e))}async resolve(e){const t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){const{error:n,message:r}=t.didResolutionMetadata;throw new Error(`Failed to resolve ${e}: ${n}${r?`, ${r}`:""}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:n,capability:r,parent:i}={}){if(Cr(this,"_client",void 0),Cr(this,"_id",void 0),Cr(this,"_resolver",void 0),Cr(this,"_capability",void 0),Cr(this,"_parentId",void 0),null!=e&&(this._client=new Rt(e)),r){if(this._capability=r,this._parentId=this._capability.p.iss,i&&this._parentId!==i)throw new Error("Capability issuer and parent not equal")}else i&&(this._parentId=i);this.setResolver(t,n)}}},6631:function(e,t,n){"use strict";n.d(t,{ZP:function(){return U}});var r={};n.r(r),n.d(r,{JsonPatchError:function(){return y},_areEquals:function(){return S},applyOperation:function(){return E},applyPatch:function(){return T},applyReducer:function(){return I},deepClone:function(){return g},getValueByPointer:function(){return b},validate:function(){return A},validator:function(){return _}});var i={};n.r(i),n.d(i,{compare:function(){return R},generate:function(){return D},observe:function(){return C},unobserve:function(){return k}});var o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=Object.prototype.hasOwnProperty;function a(e,t){return s.call(e,t)}function u(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)a(e,i)&&r.push(i);return r}function c(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function f(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function l(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function h(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(h(e[t]))return!0}else if("object"===typeof e)for(var r=u(e),i=r.length,o=0;o<i;o++)if(h(e[r[o]]))return!0;return!1}function p(e,t){var n=[e];for(var r in t){var i="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var m=function(e){function t(t,n,r,i,o){var s=this.constructor,a=e.call(this,p(t,{name:n,index:r,operation:i,tree:o}))||this;return a.name=n,a.index=r,a.operation=i,a.tree=o,Object.setPrototypeOf(a,s.prototype),a.message=p(t,{name:n,index:r,operation:i,tree:o}),a}return o(t,e),t}(Error),y=m,g=c,v={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=b(n,this.path);r&&(r=c(r));var i=E(n,{op:"remove",path:this.from}).removed;return E(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=b(n,this.from);return E(n,{op:"add",path:this.path,value:c(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:S(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},w={add:function(e,t,n){return f(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:v.move,copy:v.copy,test:v.test,_get:v._get};function b(e,t){if(""==t)return e;var n={op:"_get",path:t};return E(e,n),n.value}function E(e,t,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(t,0,e,t.path):_(t,0)),""===t.path){var s={newDocument:e};if("add"===t.op)return s.newDocument=t.value,s;if("replace"===t.op)return s.newDocument=t.value,s.removed=e,s;if("move"===t.op||"copy"===t.op)return s.newDocument=b(e,t.from),"move"===t.op&&(s.removed=e),s;if("test"===t.op){if(s.test=S(e,t.value),!1===s.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}if("remove"===t.op)return s.removed=e,s.newDocument=null,s;if("_get"===t.op)return t.value=e,s;if(n)throw new y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}r||(e=c(e));var a=(t.path||"").split("/"),u=e,l=1,h=a.length,p=void 0,m=void 0,g=void 0;for(g="function"==typeof n?n:_;;){if((m=a[l])&&-1!=m.indexOf("~")&&(m=d(m)),i&&("__proto__"==m||"prototype"==m&&l>0&&"constructor"==a[l-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===p&&(void 0===u[m]?p=a.slice(0,l).join("/"):l==h-1&&(p=t.path),void 0!==p&&g(t,0,e,p)),l++,Array.isArray(u)){if("-"===m)m=u.length;else{if(n&&!f(m))throw new y("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);f(m)&&(m=~~m)}if(l>=h){if(n&&"add"===t.op&&m>u.length)throw new y("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(s=w[t.op].call(t,u,m,e)).test)throw new y("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(l>=h){if(!1===(s=v[t.op].call(t,u,m,e)).test)throw new y("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[m],n&&l<h&&(!u||"object"!==typeof u))throw new y("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}function T(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=c(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=E(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function I(e,t,n){var r=E(e,t);if(!1===r.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function _(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new y("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!v[e.op])throw new y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new y("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new y('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new y("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&h(e.value))throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new y("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new y("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var s=A([{op:"_get",path:e.from,value:void 0}],n);if(s&&"OPERATION_PATH_UNRESOLVABLE"===s.name)throw new y("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function A(e,t,n){try{if(!Array.isArray(e))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)T(c(t),c(e),n||!0);else{n=n||_;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof y)return i;throw i}}function S(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,o=Array.isArray(e),s=Array.isArray(t);if(o&&s){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!S(e[n],t[n]))return!1;return!0}if(o!=s)return!1;var a=Object.keys(e);if((r=a.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(a[n]))return!1;for(n=r;0!==n--;)if(!S(e[i=a[n]],t[i]))return!1;return!0}return e!==e&&t!==t}var N=new WeakMap,x=function(e){this.observers=new Map,this.obj=e},O=function(e,t){this.callback=e,this.observer=t};function k(e,t){t.unobserve()}function C(e,t){var n,r=function(e){return N.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new x(e),N.set(e,r);if(n)return n;if(n={},r.value=c(e),t){n.callback=t,n.next=null;var o=function(){D(n)},s=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!==typeof window&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return n.patches=[],n.object=e,n.unobserve=function(){D(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},r.observers.set(t,new O(t,n)),n}function D(e,t){void 0===t&&(t=!1);var n=N.get(e.object);M(n.value,e.object,e.patches,"",t),e.patches.length&&T(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function M(e,t,n,r,i){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var o=u(t),s=u(e),f=!1,d=s.length-1;d>=0;d--){var h=e[m=s[d]];if(!a(t,m)||void 0===t[m]&&void 0!==h&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+l(m),value:c(h)}),n.push({op:"remove",path:r+"/"+l(m)}),f=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var p=t[m];"object"==typeof h&&null!=h&&"object"==typeof p&&null!=p&&Array.isArray(h)===Array.isArray(p)?M(h,p,n,r+"/"+l(m),i):h!==p&&(!0,i&&n.push({op:"test",path:r+"/"+l(m),value:c(h)}),n.push({op:"replace",path:r+"/"+l(m),value:c(p)}))}}if(f||o.length!=s.length)for(d=0;d<o.length;d++){var m;a(e,m=o[d])||void 0===t[m]||n.push({op:"add",path:r+"/"+l(m),value:c(t[m])})}}}function R(e,t,n){void 0===n&&(n=!1);var r=[];return M(e,t,r,"",n),r}var U=Object.assign({},r,i,{JsonPatchError:m,deepClone:c,escapePathComponent:l,unescapePathComponent:d})},8087:function(e,t,n){"use strict";n.d(t,{__:function(){return s},OS:function(){return u},Z:function(){return c}});var r=n(8495),i=n(7867),o=n(850);class s extends Error{constructor(e,...t){var n,o,u;const{nodes:c,source:f,positions:l,path:d,originalError:h,extensions:p}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!==d&&void 0!==d?d:void 0,this.originalError=null!==h&&void 0!==h?h:void 0,this.nodes=a(Array.isArray(c)?c:c?[c]:void 0);const m=a(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!==f&&void 0!==f?f:null===m||void 0===m||null===(o=m[0])||void 0===o?void 0:o.source,this.positions=null!==l&&void 0!==l?l:null===m||void 0===m?void 0:m.map((e=>e.start)),this.locations=l&&f?l.map((e=>(0,i.k)(f,e))):null===m||void 0===m?void 0:m.map((e=>(0,i.k)(e.source,e.start)));const y=(0,r.y)(null===h||void 0===h?void 0:h.extensions)?null===h||void 0===h?void 0:h.extensions:void 0;this.extensions=null!==(u=null!==p&&void 0!==p?p:y)&&void 0!==u?u:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==h&&void 0!==h&&h.stack?Object.defineProperty(this,"stack",{value:h.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+(0,o.Q)(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+(0,o.z)(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function a(e){return void 0===e||0===e.length?void 0:e}function u(e){return e.toString()}function c(e){return e.toJSON()}},1394:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(5821);class i extends Error{constructor(e){super("Unexpected error value: "+(0,r.X)(e)),this.name="NonErrorThrown",this.thrownValue=e}}var o=n(8087);function s(e,t,n){var r;const s=(a=e)instanceof Error?a:new i(a);var a,u;return u=s,Array.isArray(u.path)?s:new o.__(s.message,{nodes:null!==(r=s.nodes)&&void 0!==r?r:t,source:s.source,positions:s.positions,path:n,originalError:s})}},5219:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(8087);function i(e,t,n){return new r.__(`Syntax Error: ${n}`,{source:e,positions:[t]})}},7677:function(e,t,n){"use strict";n.d(t,{g:function(){return u},w:function(){return c}});var r=n(7359),i=n(4454),o=n(8238),s=n(77),a=n(6422);function u(e,t,n,r,i){const o=new Map;return f(e,t,n,r,i,o,new Set),o}function c(e,t,n,r,i){const o=new Map,s=new Set;for(const a of i)a.selectionSet&&f(e,t,n,r,a.selectionSet,o,s);return o}function f(e,t,n,i,o,s,a){for(const c of o.selections)switch(c.kind){case r.h.FIELD:{if(!l(n,c))continue;const e=(u=c).alias?u.alias.value:u.name.value,t=s.get(e);void 0!==t?t.push(c):s.set(e,[c]);break}case r.h.INLINE_FRAGMENT:if(!l(n,c)||!d(e,c,i))continue;f(e,t,n,i,c.selectionSet,s,a);break;case r.h.FRAGMENT_SPREAD:{const r=c.name.value;if(a.has(r)||!l(n,c))continue;a.add(r);const o=t[r];if(!o||!d(e,o,i))continue;f(e,t,n,i,o.selectionSet,s,a);break}}var u}function l(e,t){const n=(0,a.zu)(o.QE,t,e);if(!0===(null===n||void 0===n?void 0:n.if))return!1;const r=(0,a.zu)(o.Yf,t,e);return!1!==(null===r||void 0===r?void 0:r.if)}function d(e,t,n){const r=t.typeCondition;if(!r)return!0;const o=(0,s._)(e,r);return o===n||!!(0,i.m0)(o)&&e.isSubType(o,n)}},4296:function(e,t,n){"use strict";n.d(t,{td:function(){return _},VZ:function(){return A},p$:function(){return O},El:function(){return B},mn:function(){return U},ht:function(){return E},p0:function(){return T},Vm:function(){return L}});var r=n(7826),i=n(5821),o=n(9551),s=n(3831),a=n(8495),u=n(8659);var c=n(9380);function f(e){return Promise.all(Object.values(e)).then((t=>{const n=Object.create(null);for(const[r,i]of Object.keys(e).entries())n[i]=t[r];return n}))}var l=n(8087),d=n(1394),h=n(2380),p=n(7359),m=n(4454),y=n(2433),g=n(9655),v=n(7677),w=n(6422);const b=function(e){let t;return function(n,r,i){void 0===t&&(t=new WeakMap);let o=t.get(n);void 0===o&&(o=new WeakMap,t.set(n,o));let s=o.get(r);void 0===s&&(s=new WeakMap,o.set(r,s));let a=s.get(i);return void 0===a&&(a=e(n,r,i),s.set(i,a)),a}}(((e,t,n)=>(0,v.w)(e.schema,e.fragments,e.variableValues,t,n)));function E(e){arguments.length<2||(0,r.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,document:n,variableValues:i,rootValue:o}=e;_(t,n,i);const s=A(e);if(!("schema"in s))return{errors:s};try{const{operation:e}=s,t=S(s,e,o);return(0,u.t)(t)?t.then((e=>I(e,s.errors)),(e=>(s.errors.push(e),I(null,s.errors)))):I(t,s.errors)}catch(a){return s.errors.push(a),I(null,s.errors)}}function T(e){const t=E(e);if((0,u.t)(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function I(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}function _(e,t,n){t||(0,r.a)(!1,"Must provide document."),(0,g.J)(e),null==n||(0,a.y)(n)||(0,r.a)(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function A(e){var t,n;const{schema:r,document:i,rootValue:o,contextValue:s,variableValues:a,operationName:u,fieldResolver:c,typeResolver:f,subscribeFieldResolver:d}=e;let h;const m=Object.create(null);for(const v of i.definitions)switch(v.kind){case p.h.OPERATION_DEFINITION:if(null==u){if(void 0!==h)return[new l.__("Must provide operation name if query contains multiple operations.")];h=v}else(null===(t=v.name)||void 0===t?void 0:t.value)===u&&(h=v);break;case p.h.FRAGMENT_DEFINITION:m[v.name.value]=v}if(!h)return null!=u?[new l.__(`Unknown operation named "${u}".`)]:[new l.__("Must provide an operation.")];const y=null!==(n=h.variableDefinitions)&&void 0!==n?n:[],g=(0,w.QF)(r,y,null!==a&&void 0!==a?a:{},{maxErrors:50});return g.errors?g.errors:{schema:r,fragments:m,rootValue:o,contextValue:s,operation:h,variableValues:g.coerced,fieldResolver:null!==c&&void 0!==c?c:B,typeResolver:null!==f&&void 0!==f?f:U,subscribeFieldResolver:null!==d&&void 0!==d?d:B,errors:[]}}function S(e,t,n){const r=e.schema.getRootType(t.operation);if(null==r)throw new l.__(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const i=(0,v.g)(e.schema,e.fragments,e.variableValues,r,t.selectionSet),o=void 0;switch(t.operation){case h.ku.QUERY:return N(e,r,n,o,i);case h.ku.MUTATION:return function(e,t,n,r,i){return function(e,t,n){let r=n;for(const i of e)r=(0,u.t)(r)?r.then((e=>t(e,i))):t(r,i);return r}(i.entries(),((i,[o,s])=>{const a=(0,c.Q)(r,o,t.name),f=x(e,t,n,s,a);return void 0===f?i:(0,u.t)(f)?f.then((e=>(i[o]=e,i))):(i[o]=f,i)}),Object.create(null))}(e,r,n,o,i);case h.ku.SUBSCRIPTION:return N(e,r,n,o,i)}}function N(e,t,n,r,i){const o=Object.create(null);let s=!1;try{for(const[a,f]of i.entries()){const i=x(e,t,n,f,(0,c.Q)(r,a,t.name));void 0!==i&&(o[a]=i,(0,u.t)(i)&&(s=!0))}}catch(a){if(s)return f(o).finally((()=>{throw a}));throw a}return s?f(o):o}function x(e,t,n,r,i){var o;const s=L(e.schema,t,r[0]);if(!s)return;const a=s.type,f=null!==(o=s.resolve)&&void 0!==o?o:e.fieldResolver,l=O(e,s,r,t,i);try{const t=(0,w.LX)(s,r[0],e.variableValues),o=f(n,t,e.contextValue,l);let h;return h=(0,u.t)(o)?o.then((t=>C(e,a,r,l,i,t))):C(e,a,r,l,i,o),(0,u.t)(h)?h.then(void 0,(t=>k((0,d.y)(t,r,(0,c.N)(i)),a,e))):h}catch(h){return k((0,d.y)(h,r,(0,c.N)(i)),a,e)}}function O(e,t,n,r,i){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function k(e,t,n){if((0,m.zM)(t))throw e;return n.errors.push(e),null}function C(e,t,n,r,a,f){if(f instanceof Error)throw f;if((0,m.zM)(t)){const i=C(e,t.ofType,n,r,a,f);if(null===i)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return i}return null==f?null:(0,m.HG)(t)?function(e,t,n,r,i,o){if(!(0,s.i)(o))throw new l.__(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const a=t.ofType;let f=!1;const h=Array.from(o,((t,o)=>{const s=(0,c.Q)(i,o,void 0);try{let i;return i=(0,u.t)(t)?t.then((t=>C(e,a,n,r,s,t))):C(e,a,n,r,s,t),(0,u.t)(i)?(f=!0,i.then(void 0,(t=>k((0,d.y)(t,n,(0,c.N)(s)),a,e)))):i}catch(l){return k((0,d.y)(l,n,(0,c.N)(s)),a,e)}}));return f?Promise.all(h):h}(e,t,n,r,a,f):(0,m.UT)(t)?function(e,t){const n=e.serialize(t);if(null==n)throw new Error(`Expected \`${(0,i.X)(e)}.serialize(${(0,i.X)(t)})\` to return non-nullable value, returned: ${(0,i.X)(n)}`);return n}(t,f):(0,m.m0)(t)?function(e,t,n,r,i,o){var s;const a=null!==(s=t.resolveType)&&void 0!==s?s:e.typeResolver,c=e.contextValue,f=a(o,c,r,t);if((0,u.t)(f))return f.then((s=>M(e,D(s,e,t,n,r,o),n,r,i,o)));return M(e,D(f,e,t,n,r,o),n,r,i,o)}(e,t,n,r,a,f):(0,m.lp)(t)?M(e,t,n,r,a,f):void(0,o.k)(!1,"Cannot complete value of unexpected output type: "+(0,i.X)(t))}function D(e,t,n,r,o,s){if(null==e)throw new l.__(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,r);if((0,m.lp)(e))throw new l.__("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!==typeof e)throw new l.__(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}" with value ${(0,i.X)(s)}, received "${(0,i.X)(e)}".`);const a=t.schema.getType(e);if(null==a)throw new l.__(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!(0,m.lp)(a))throw new l.__(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,a))throw new l.__(`Runtime Object type "${a.name}" is not a possible type for "${n.name}".`,{nodes:r});return a}function M(e,t,n,r,i,o){const s=b(e,t,n);if(t.isTypeOf){const a=t.isTypeOf(o,e.contextValue,r);if((0,u.t)(a))return a.then((r=>{if(!r)throw R(t,o,n);return N(e,t,o,i,s)}));if(!a)throw R(t,o,n)}return N(e,t,o,i,s)}function R(e,t,n){return new l.__(`Expected value of type "${e.name}" but got: ${(0,i.X)(t)}.`,{nodes:n})}const U=function(e,t,n,r){if((0,a.y)(e)&&"string"===typeof e.__typename)return e.__typename;const i=n.schema.getPossibleTypes(r),o=[];for(let s=0;s<i.length;s++){const r=i[s];if(r.isTypeOf){const i=r.isTypeOf(e,t,n);if((0,u.t)(i))o[s]=i;else if(i)return r.name}}return o.length?Promise.all(o).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return i[t].name})):void 0},B=function(e,t,n,r){if((0,a.y)(e)||"function"===typeof e){const i=e[r.fieldName];return"function"===typeof i?e[r.fieldName](t,n,r):i}};function L(e,t,n){const r=n.name.value;return r===y.Az.name&&e.getQueryType()===t?y.Az:r===y.tF.name&&e.getQueryType()===t?y.tF:r===y.hU.name?y.hU:t.getFields()[r]}},6422:function(e,t,n){"use strict";n.d(t,{QF:function(){return h},LX:function(){return p},zu:function(){return m}});var r=n(5821),i=n(3498),o=n(4244),s=n(8087),a=n(7359),u=n(6918),c=n(4454),f=n(7816),l=n(77),d=n(2221);function h(e,t,n,i){const a=[],h=null===i||void 0===i?void 0:i.maxErrors;try{const i=function(e,t,n,i){const a={};for(const h of t){const t=h.variable.name.value,p=(0,l._)(e,h.type);if(!(0,c.j$)(p)){const e=(0,u.S)(h.type);i(new s.__(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:h.type}));continue}if(!y(n,t)){if(h.defaultValue)a[t]=(0,d.u)(h.defaultValue,p);else if((0,c.zM)(p)){const e=(0,r.X)(p);i(new s.__(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:h}))}continue}const m=n[t];if(null===m&&(0,c.zM)(p)){const e=(0,r.X)(p);i(new s.__(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:h}))}else a[t]=(0,f.K)(m,p,((e,n,a)=>{let u=`Variable "$${t}" got invalid value `+(0,r.X)(n);e.length>0&&(u+=` at "${t}${(0,o.F)(e)}"`),i(new s.__(u+"; "+a.message,{nodes:h,originalError:a}))}))}return a}(e,t,n,(e=>{if(null!=h&&a.length>=h)throw new s.__("Too many errors processing variables, error limit reached. Execution aborted.");a.push(e)}));if(0===a.length)return{coerced:i}}catch(p){a.push(p)}return{errors:a}}function p(e,t,n){var o;const f={},l=null!==(o=t.arguments)&&void 0!==o?o:[],h=(0,i.P)(l,(e=>e.name.value));for(const i of e.args){const e=i.name,o=i.type,l=h[e];if(!l){if(void 0!==i.defaultValue)f[e]=i.defaultValue;else if((0,c.zM)(o))throw new s.__(`Argument "${e}" of required type "${(0,r.X)(o)}" was not provided.`,{nodes:t});continue}const p=l.value;let m=p.kind===a.h.NULL;if(p.kind===a.h.VARIABLE){const t=p.name.value;if(null==n||!y(n,t)){if(void 0!==i.defaultValue)f[e]=i.defaultValue;else if((0,c.zM)(o))throw new s.__(`Argument "${e}" of required type "${(0,r.X)(o)}" was provided the variable "$${t}" which was not provided a runtime value.`,{nodes:p});continue}m=null==n[t]}if(m&&(0,c.zM)(o))throw new s.__(`Argument "${e}" of non-null type "${(0,r.X)(o)}" must not be null.`,{nodes:p});const g=(0,d.u)(p,o,n);if(void 0===g)throw new s.__(`Argument "${e}" has invalid value ${(0,u.S)(p)}.`,{nodes:p});f[e]=g}return f}function m(e,t,n){var r;const i=null===(r=t.directives)||void 0===r?void 0:r.find((t=>t.name.value===e.name));if(i)return p(e,i,n)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},7893:function(e,t,n){"use strict";n.r(t),n.d(t,{BREAK:function(){return S.$_},BreakingChangeType:function(){return ct},DEFAULT_DEPRECATION_REASON:function(){return m.SY},DangerousChangeType:function(){return ft},DirectiveLocation:function(){return x.B},ExecutableDefinitionsRule:function(){return q.i},FieldsOnCorrectTypeRule:function(){return H.A},FragmentsOnCompositeTypesRule:function(){return J.T},GRAPHQL_MAX_INT:function(){return y.HI},GRAPHQL_MIN_INT:function(){return y.st},GraphQLBoolean:function(){return y.EZ},GraphQLDeprecatedDirective:function(){return m.fg},GraphQLDirective:function(){return m.NZ},GraphQLEnumType:function(){return h.mR},GraphQLError:function(){return M.__},GraphQLFloat:function(){return y.av},GraphQLID:function(){return y.km},GraphQLIncludeDirective:function(){return m.Yf},GraphQLInputObjectType:function(){return h.sR},GraphQLInt:function(){return y._o},GraphQLInterfaceType:function(){return h.oW},GraphQLList:function(){return h.p2},GraphQLNonNull:function(){return h.bM},GraphQLObjectType:function(){return h.h6},GraphQLScalarType:function(){return h.n2},GraphQLSchema:function(){return p.XO},GraphQLSkipDirective:function(){return m.QE},GraphQLSpecifiedByDirective:function(){return m.df},GraphQLString:function(){return y.kH},GraphQLUnionType:function(){return h.Gp},Kind:function(){return N.h},KnownArgumentNamesRule:function(){return K.e},KnownDirectivesRule:function(){return Y.J},KnownFragmentNamesRule:function(){return W.a},KnownTypeNamesRule:function(){return X.I},Lexer:function(){return I.h},Location:function(){return w.Ye},LoneAnonymousOperationRule:function(){return Q.F},LoneSchemaDefinitionRule:function(){return ge.t},NoDeprecatedCustomRule:function(){return $},NoFragmentCyclesRule:function(){return Z.H},NoSchemaIntrospectionCustomRule:function(){return V},NoUndefinedVariablesRule:function(){return ee.$},NoUnusedFragmentsRule:function(){return te.J},NoUnusedVariablesRule:function(){return ne.p},OperationTypeNode:function(){return w.ku},OverlappingFieldsCanBeMergedRule:function(){return re.y},PossibleFragmentSpreadsRule:function(){return ie.a},PossibleTypeExtensionsRule:function(){return _e.g},ProvidedRequiredArgumentsRule:function(){return oe.s},ScalarLeafsRule:function(){return se.O},SchemaMetaFieldDef:function(){return g.Az},SingleFieldSubscriptionsRule:function(){return ae.Z},Source:function(){return b.H},Token:function(){return w.WU},TokenKind:function(){return _.T},TypeInfo:function(){return Dt.a},TypeKind:function(){return g.zU},TypeMetaFieldDef:function(){return g.tF},TypeNameMetaFieldDef:function(){return g.hU},UniqueArgumentDefinitionNamesRule:function(){return Te.L},UniqueArgumentNamesRule:function(){return ue.L},UniqueDirectiveNamesRule:function(){return Ie.o},UniqueDirectivesPerLocationRule:function(){return ce.k},UniqueEnumValueNamesRule:function(){return be.L},UniqueFieldDefinitionNamesRule:function(){return Ee.y},UniqueFragmentNamesRule:function(){return fe.N},UniqueInputFieldNamesRule:function(){return le.P},UniqueOperationNamesRule:function(){return de.H},UniqueOperationTypesRule:function(){return ve.q},UniqueTypeNamesRule:function(){return we.P},UniqueVariableNamesRule:function(){return he.H},ValidationContext:function(){return z._t},ValuesOfCorrectTypeRule:function(){return pe.j},VariablesAreInputTypesRule:function(){return me.I},VariablesInAllowedPositionRule:function(){return ye.w},__Directive:function(){return g.l3},__DirectiveLocation:function(){return g.x2},__EnumValue:function(){return g.jT},__Field:function(){return g.e_},__InputValue:function(){return g.XQ},__Schema:function(){return g.TK},__Type:function(){return g.qz},__TypeKind:function(){return g.PX},assertAbstractType:function(){return h.fU},assertCompositeType:function(){return h.M_},assertDirective:function(){return m.CO},assertEnumType:function(){return h.Zu},assertEnumValueName:function(){return v.g},assertInputObjectType:function(){return h.U8},assertInputType:function(){return h.qT},assertInterfaceType:function(){return h.k2},assertLeafType:function(){return h.H5},assertListType:function(){return h.kS},assertName:function(){return v.i},assertNamedType:function(){return h.rM},assertNonNullType:function(){return h.E$},assertNullableType:function(){return h.i_},assertObjectType:function(){return h.Z6},assertOutputType:function(){return h.Gt},assertScalarType:function(){return h.Pt},assertSchema:function(){return p.EO},assertType:function(){return h.p_},assertUnionType:function(){return h.rc},assertValidName:function(){return at},assertValidSchema:function(){return a.J},assertWrappingType:function(){return h.vX},astFromValue:function(){return Ve.J},buildASTSchema:function(){return Re},buildClientSchema:function(){return De},buildSchema:function(){return Ue},coerceInputValue:function(){return Mt.K},concatAST:function(){return nt},createSourceEventStream:function(){return j},defaultFieldResolver:function(){return c.El},defaultTypeResolver:function(){return c.mn},doTypesOverlap:function(){return Rt.zR},execute:function(){return c.ht},executeSync:function(){return c.p0},extendSchema:function(){return Me.a},findBreakingChanges:function(){return ht},findDangerousChanges:function(){return pt},formatError:function(){return M.Z},getArgumentValues:function(){return L.LX},getDirectiveValues:function(){return L.zu},getEnterLeaveForKind:function(){return S.Eu},getIntrospectionQuery:function(){return Se},getLocation:function(){return E.k},getNamedType:function(){return h.xC},getNullableType:function(){return h.tf},getOperationAST:function(){return Ot.S},getOperationRootType:function(){return Ne},getVariableValues:function(){return L.QF},getVisitFn:function(){return S.CK},graphql:function(){return f},graphqlSync:function(){return l},introspectionFromSchema:function(){return xe},introspectionTypes:function(){return g.nL},isAbstractType:function(){return h.m0},isCompositeType:function(){return h.Gv},isConstValueNode:function(){return O.Of},isDefinitionNode:function(){return O.Ir},isDirective:function(){return m.wX},isEnumType:function(){return h.EM},isEqualType:function(){return Rt._7},isExecutableDefinitionNode:function(){return O.Wk},isInputObjectType:function(){return h.hL},isInputType:function(){return h.j$},isInterfaceType:function(){return h.oT},isIntrospectionType:function(){return g.s9},isLeafType:function(){return h.UT},isListType:function(){return h.HG},isNamedType:function(){return h.Zs},isNonNullType:function(){return h.zM},isNullableType:function(){return h.zP},isObjectType:function(){return h.lp},isOutputType:function(){return h.SZ},isRequiredArgument:function(){return h.dK},isRequiredInputField:function(){return h.Wd},isScalarType:function(){return h.KA},isSchema:function(){return p.nN},isSelectionNode:function(){return O.pO},isSpecifiedDirective:function(){return m.xg},isSpecifiedScalarType:function(){return y.u1},isType:function(){return h.P9},isTypeDefinitionNode:function(){return O.zT},isTypeExtensionNode:function(){return O.D$},isTypeNode:function(){return O.VB},isTypeSubTypeOf:function(){return Rt.uJ},isTypeSystemDefinitionNode:function(){return O.G4},isTypeSystemExtensionNode:function(){return O.aU},isUnionType:function(){return h.EN},isValidNameError:function(){return ut},isValueNode:function(){return O.nr},isWrappingType:function(){return h.fw},lexicographicSortSchema:function(){return Le},locatedError:function(){return R.y},parse:function(){return s.Qc},parseConstValue:function(){return s.tl},parseType:function(){return s.gZ},parseValue:function(){return s.H2},print:function(){return A.S},printError:function(){return M.OS},printIntrospectionSchema:function(){return Ge},printLocation:function(){return T.Q},printSchema:function(){return ze},printSourceLocation:function(){return T.z},printType:function(){return Ke},resolveObjMapThunk:function(){return h.WB},resolveReadonlyArrayThunk:function(){return h._9},responsePathAsArray:function(){return D.N},separateOperations:function(){return rt},specifiedDirectives:function(){return m.V4},specifiedRules:function(){return G.i},specifiedScalarTypes:function(){return y.HS},stripIgnoredCharacters:function(){return st},subscribe:function(){return P},syntaxError:function(){return Ae.h},typeFromAST:function(){return kt._},validate:function(){return u.Gu},validateSchema:function(){return a.F},valueFromAST:function(){return Ce.u},valueFromASTUntyped:function(){return Ct.M},version:function(){return r.i},versionInfo:function(){return r.A},visit:function(){return S.Vn},visitInParallel:function(){return S.j1},visitWithTypeInfo:function(){return Dt.y}});var r=n(5944),i=n(7826),o=n(8659),s=n(4275),a=n(9655),u=n(6584),c=n(4296);function f(e){return new Promise((t=>t(d(e))))}function l(e){const t=d(e);if((0,o.t)(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function d(e){arguments.length<2||(0,i.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,source:n,rootValue:r,contextValue:o,variableValues:f,operationName:l,fieldResolver:d,typeResolver:h}=e,p=(0,a.F)(t);if(p.length>0)return{errors:p};let m;try{m=(0,s.Qc)(n)}catch(Ae){return{errors:[Ae]}}const y=(0,u.Gu)(t,m);return y.length>0?{errors:y}:(0,c.ht)({schema:t,document:m,rootValue:r,contextValue:o,variableValues:f,operationName:l,fieldResolver:d,typeResolver:h})}var h=n(4454),p=n(9678),m=n(8238),y=n(3801),g=n(2433),v=n(6303),w=n(2380),b=n(7926),E=n(7867),T=n(850),I=n(2105),_=n(4635),A=n(6918),S=n(7304),N=n(7359),x=n(9878),O=n(5844),k=n(5821);function C(e){return"function"===typeof(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}var D=n(9380),M=n(8087),R=n(1394),U=n(7677);function B(e,t){const n=e[Symbol.asyncIterator]();async function r(e){if(e.done)return e;try{return{value:await t(e.value),done:!1}}catch(r){if("function"===typeof n.return)try{await n.return()}catch(i){}throw r}}return{next:async()=>r(await n.next()),return:async()=>"function"===typeof n.return?r(await n.return()):{value:void 0,done:!0},async throw(e){if("function"===typeof n.throw)return r(await n.throw(e));throw e},[Symbol.asyncIterator](){return this}}}var L=n(6422);async function P(e){arguments.length<2||(0,i.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const t=await j(e);if(!C(t))return t;const n=t=>(0,c.ht)({...e,rootValue:t});return B(t,n)}async function j(...e){const t=function(e){const t=e[0];return t&&"document"in t?t:{schema:t,document:e[1],rootValue:e[2],contextValue:e[3],variableValues:e[4],operationName:e[5],subscribeFieldResolver:e[6]}}(e),{schema:n,document:r,variableValues:i}=t;(0,c.td)(n,r,i);const o=(0,c.VZ)(t);if(!("schema"in o))return{errors:o};try{const e=await async function(e){const{schema:t,fragments:n,operation:r,variableValues:i,rootValue:o}=e,s=t.getSubscriptionType();if(null==s)throw new M.__("Schema is not configured to execute subscription operation.",{nodes:r});const a=(0,U.g)(t,n,i,s,r.selectionSet),[u,f]=[...a.entries()][0],l=(0,c.Vm)(t,s,f[0]);if(!l){const e=f[0].name.value;throw new M.__(`The subscription field "${e}" is not defined.`,{nodes:f})}const d=(0,D.Q)(void 0,u,s.name),h=(0,c.p$)(e,l,f,s,d);try{var p;const t=(0,L.LX)(l,f[0],i),n=e.contextValue,r=null!==(p=l.subscribe)&&void 0!==p?p:e.subscribeFieldResolver,s=await r(o,t,n,h);if(s instanceof Error)throw s;return s}catch(m){throw(0,R.y)(m,f,(0,D.N)(d))}}(o);if(!C(e))throw new Error(`Subscription field must return Async Iterable. Received: ${(0,k.X)(e)}.`);return e}catch(s){if(s instanceof M.__)return{errors:[s]};throw s}}var F=n(9551);function $(e){return{Field(t){const n=e.getFieldDef(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const i=e.getParentType();null!=i||(0,F.k)(!1),e.reportError(new M.__(`The field ${i.name}.${n.name} is deprecated. ${r}`,{nodes:t}))}},Argument(t){const n=e.getArgument(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const i=e.getDirective();if(null!=i)e.reportError(new M.__(`Directive "@${i.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}));else{const i=e.getParentType(),o=e.getFieldDef();null!=i&&null!=o||(0,F.k)(!1),e.reportError(new M.__(`Field "${i.name}.${o.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}))}}},ObjectField(t){const n=(0,h.xC)(e.getParentInputType());if((0,h.hL)(n)){const r=n.getFields()[t.name.value],i=null===r||void 0===r?void 0:r.deprecationReason;null!=i&&e.reportError(new M.__(`The input field ${n.name}.${r.name} is deprecated. ${i}`,{nodes:t}))}},EnumValue(t){const n=e.getEnumValue(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const i=(0,h.xC)(e.getInputType());null!=i||(0,F.k)(!1),e.reportError(new M.__(`The enum value "${i.name}.${n.name}" is deprecated. ${r}`,{nodes:t}))}}}}function V(e){return{Field(t){const n=(0,h.xC)(e.getType());n&&(0,g.s9)(n)&&e.reportError(new M.__(`GraphQL introspection has been disabled, but the requested query contained the field "${t.name.value}".`,{nodes:t}))}}}var z=n(2734),G=n(4196),q=n(8081),H=n(8741),J=n(7143),K=n(7815),Y=n(4873),W=n(5311),X=n(5580),Q=n(7898),Z=n(1422),ee=n(4790),te=n(1294),ne=n(2283),re=n(4203),ie=n(3259),oe=n(1967),se=n(1954),ae=n(423),ue=n(2266),ce=n(6300),fe=n(5591),le=n(2767),de=n(2621),he=n(1564),pe=n(9831),me=n(5972),ye=n(9701),ge=n(2877),ve=n(7990),we=n(9538),be=n(3201),Ee=n(2618),Te=n(2337),Ie=n(3274),_e=n(4800),Ae=n(5219);function Se(e){const t={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...e},n=t.descriptions?"description":"",r=t.specifiedByUrl?"specifiedByURL":"",i=t.directiveIsRepeatable?"isRepeatable":"";function o(e){return t.inputValueDeprecation?e:""}return`\n    query IntrospectionQuery {\n      __schema {\n        ${t.schemaDescription?n:""}\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ${n}\n          ${i}\n          locations\n          args${o("(includeDeprecated: true)")} {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ${n}\n      ${r}\n      fields(includeDeprecated: true) {\n        name\n        ${n}\n        args${o("(includeDeprecated: true)")} {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields${o("(includeDeprecated: true)")} {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ${n}\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ${n}\n      type { ...TypeRef }\n      defaultValue\n      ${o("isDeprecated")}\n      ${o("deprecationReason")}\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `}function Ne(e,t){if("query"===t.operation){const n=e.getQueryType();if(!n)throw new M.__("Schema does not define the required query root type.",{nodes:t});return n}if("mutation"===t.operation){const n=e.getMutationType();if(!n)throw new M.__("Schema is not configured for mutations.",{nodes:t});return n}if("subscription"===t.operation){const n=e.getSubscriptionType();if(!n)throw new M.__("Schema is not configured for subscriptions.",{nodes:t});return n}throw new M.__("Can only have query, mutation and subscription operations.",{nodes:t})}function xe(e,t){const n={specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,...t},r=(0,s.Qc)(Se(n)),i=(0,c.p0)({schema:e,document:r});return!i.errors&&i.data||(0,F.k)(!1),i.data}var Oe=n(8495),ke=n(4950),Ce=n(2221);function De(e,t){(0,Oe.y)(e)&&(0,Oe.y)(e.__schema)||(0,i.a)(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${(0,k.X)(e)}.`);const n=e.__schema,r=(0,ke.w)(n.types,(e=>e.name),(e=>function(e){if(null!=e&&null!=e.name&&null!=e.kind)switch(e.kind){case g.zU.SCALAR:return r=e,new h.n2({name:r.name,description:r.description,specifiedByURL:r.specifiedByURL});case g.zU.OBJECT:return n=e,new h.h6({name:n.name,description:n.description,interfaces:()=>w(n),fields:()=>b(n)});case g.zU.INTERFACE:return t=e,new h.oW({name:t.name,description:t.description,interfaces:()=>w(t),fields:()=>b(t)});case g.zU.UNION:return function(e){if(!e.possibleTypes){const t=(0,k.X)(e);throw new Error(`Introspection result missing possibleTypes: ${t}.`)}return new h.Gp({name:e.name,description:e.description,types:()=>e.possibleTypes.map(d)})}(e);case g.zU.ENUM:return function(e){if(!e.enumValues){const t=(0,k.X)(e);throw new Error(`Introspection result missing enumValues: ${t}.`)}return new h.mR({name:e.name,description:e.description,values:(0,ke.w)(e.enumValues,(e=>e.name),(e=>({description:e.description,deprecationReason:e.deprecationReason})))})}(e);case g.zU.INPUT_OBJECT:return function(e){if(!e.inputFields){const t=(0,k.X)(e);throw new Error(`Introspection result missing inputFields: ${t}.`)}return new h.sR({name:e.name,description:e.description,fields:()=>T(e.inputFields)})}(e)}var t;var n;var r;const i=(0,k.X)(e);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${i}.`)}(e)));for(const i of[...y.HS,...g.nL])r[i.name]&&(r[i.name]=i);const o=n.queryType?d(n.queryType):null,a=n.mutationType?d(n.mutationType):null,u=n.subscriptionType?d(n.subscriptionType):null,c=n.directives?n.directives.map((function(e){if(!e.args){const t=(0,k.X)(e);throw new Error(`Introspection result missing directive args: ${t}.`)}if(!e.locations){const t=(0,k.X)(e);throw new Error(`Introspection result missing directive locations: ${t}.`)}return new m.NZ({name:e.name,description:e.description,isRepeatable:e.isRepeatable,locations:e.locations.slice(),args:T(e.args)})})):[];return new p.XO({description:n.description,query:o,mutation:a,subscription:u,types:Object.values(r),directives:c,assumeValid:null===t||void 0===t?void 0:t.assumeValid});function f(e){if(e.kind===g.zU.LIST){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return new h.p2(f(t))}if(e.kind===g.zU.NON_NULL){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");const n=f(t);return new h.bM((0,h.i_)(n))}return l(e)}function l(e){const t=e.name;if(!t)throw new Error(`Unknown type reference: ${(0,k.X)(e)}.`);const n=r[t];if(!n)throw new Error(`Invalid or incomplete schema, unknown type: ${t}. Ensure that a full introspection query is used in order to build a client schema.`);return n}function d(e){return(0,h.Z6)(l(e))}function v(e){return(0,h.k2)(l(e))}function w(e){if(null===e.interfaces&&e.kind===g.zU.INTERFACE)return[];if(!e.interfaces){const t=(0,k.X)(e);throw new Error(`Introspection result missing interfaces: ${t}.`)}return e.interfaces.map(v)}function b(e){if(!e.fields)throw new Error(`Introspection result missing fields: ${(0,k.X)(e)}.`);return(0,ke.w)(e.fields,(e=>e.name),E)}function E(e){const t=f(e.type);if(!(0,h.SZ)(t)){const e=(0,k.X)(t);throw new Error(`Introspection must provide output type for fields, but received: ${e}.`)}if(!e.args){const t=(0,k.X)(e);throw new Error(`Introspection result missing field args: ${t}.`)}return{description:e.description,deprecationReason:e.deprecationReason,type:t,args:T(e.args)}}function T(e){return(0,ke.w)(e,(e=>e.name),I)}function I(e){const t=f(e.type);if(!(0,h.j$)(t)){const e=(0,k.X)(t);throw new Error(`Introspection must provide input type for arguments, but received: ${e}.`)}const n=null!=e.defaultValue?(0,Ce.u)((0,s.H2)(e.defaultValue),t):void 0;return{description:e.description,type:t,defaultValue:n,deprecationReason:e.deprecationReason}}}var Me=n(9557);function Re(e,t){null!=e&&e.kind===N.h.DOCUMENT||(0,i.a)(!1,"Must provide valid Document AST."),!0!==(null===t||void 0===t?void 0:t.assumeValid)&&!0!==(null===t||void 0===t?void 0:t.assumeValidSDL)&&(0,u.zo)(e);const n={description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},r=(0,Me.w)(n,e,t);if(null==r.astNode)for(const i of r.types)switch(i.name){case"Query":r.query=i;break;case"Mutation":r.mutation=i;break;case"Subscription":r.subscription=i}const o=[...r.directives,...m.V4.filter((e=>r.directives.every((t=>t.name!==e.name))))];return new p.XO({...r,directives:o})}function Ue(e,t){return Re((0,s.Qc)(e,{noLocation:null===t||void 0===t?void 0:t.noLocation,allowLegacyFragmentVariables:null===t||void 0===t?void 0:t.allowLegacyFragmentVariables}),{assumeValidSDL:null===t||void 0===t?void 0:t.assumeValidSDL,assumeValid:null===t||void 0===t?void 0:t.assumeValid})}var Be=n(8224);function Le(e){const t=e.toConfig(),n=(0,ke.w)(je(t.types),(e=>e.name),(function(e){if((0,h.KA)(e)||(0,g.s9)(e))return e;if((0,h.lp)(e)){const t=e.toConfig();return new h.h6({...t,interfaces:()=>u(t.interfaces),fields:()=>a(t.fields)})}if((0,h.oT)(e)){const t=e.toConfig();return new h.oW({...t,interfaces:()=>u(t.interfaces),fields:()=>a(t.fields)})}if((0,h.EN)(e)){const t=e.toConfig();return new h.Gp({...t,types:()=>u(t.types)})}if((0,h.EM)(e)){const t=e.toConfig();return new h.mR({...t,values:Pe(t.values,(e=>e))})}if((0,h.hL)(e)){const t=e.toConfig();return new h.sR({...t,fields:()=>Pe(t.fields,(e=>({...e,type:r(e.type)})))})}(0,F.k)(!1,"Unexpected type: "+(0,k.X)(e))}));return new p.XO({...t,types:Object.values(n),directives:je(t.directives).map((function(e){const t=e.toConfig();return new m.NZ({...t,locations:Fe(t.locations,(e=>e)),args:s(t.args)})})),query:o(t.query),mutation:o(t.mutation),subscription:o(t.subscription)});function r(e){return(0,h.HG)(e)?new h.p2(r(e.ofType)):(0,h.zM)(e)?new h.bM(r(e.ofType)):i(e)}function i(e){return n[e.name]}function o(e){return e&&i(e)}function s(e){return Pe(e,(e=>({...e,type:r(e.type)})))}function a(e){return Pe(e,(e=>({...e,type:r(e.type),args:e.args&&s(e.args)})))}function u(e){return je(e).map(i)}}function Pe(e,t){const n=Object.create(null);for(const r of Object.keys(e).sort(Be.K))n[r]=t(e[r]);return n}function je(e){return Fe(e,(e=>e.name))}function Fe(e,t){return e.slice().sort(((e,n)=>{const r=t(e),i=t(n);return(0,Be.K)(r,i)}))}var $e=n(7392),Ve=n(8631);function ze(e){return He(e,(e=>!(0,m.xg)(e)),qe)}function Ge(e){return He(e,m.xg,g.s9)}function qe(e){return!(0,y.u1)(e)&&!(0,g.s9)(e)}function He(e,t,n){const r=e.getDirectives().filter(t),i=Object.values(e.getTypeMap()).filter(n);return[Je(e),...r.map((e=>function(e){return tt(e)+"directive @"+e.name+Qe(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}(e))),...i.map((e=>Ke(e)))].filter(Boolean).join("\n\n")}function Je(e){if(null==e.description&&function(e){const t=e.getQueryType();if(t&&"Query"!==t.name)return!1;const n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;const r=e.getSubscriptionType();if(r&&"Subscription"!==r.name)return!1;return!0}(e))return;const t=[],n=e.getQueryType();n&&t.push(`  query: ${n.name}`);const r=e.getMutationType();r&&t.push(`  mutation: ${r.name}`);const i=e.getSubscriptionType();return i&&t.push(`  subscription: ${i.name}`),tt(e)+`schema {\n${t.join("\n")}\n}`}function Ke(e){return(0,h.KA)(e)?function(e){return tt(e)+`scalar ${e.name}`+function(e){if(null==e.specifiedByURL)return"";return` @specifiedBy(url: ${(0,A.S)({kind:N.h.STRING,value:e.specifiedByURL})})`}(e)}(e):(0,h.lp)(e)?function(e){return tt(e)+`type ${e.name}`+Ye(e)+We(e)}(e):(0,h.oT)(e)?function(e){return tt(e)+`interface ${e.name}`+Ye(e)+We(e)}(e):(0,h.EN)(e)?function(e){const t=e.getTypes(),n=t.length?" = "+t.join(" | "):"";return tt(e)+"union "+e.name+n}(e):(0,h.EM)(e)?function(e){const t=e.getValues().map(((e,t)=>tt(e,"  ",!t)+"  "+e.name+et(e.deprecationReason)));return tt(e)+`enum ${e.name}`+Xe(t)}(e):(0,h.hL)(e)?function(e){const t=Object.values(e.getFields()).map(((e,t)=>tt(e,"  ",!t)+"  "+Ze(e)));return tt(e)+`input ${e.name}`+Xe(t)}(e):void(0,F.k)(!1,"Unexpected type: "+(0,k.X)(e))}function Ye(e){const t=e.getInterfaces();return t.length?" implements "+t.map((e=>e.name)).join(" & "):""}function We(e){return Xe(Object.values(e.getFields()).map(((e,t)=>tt(e,"  ",!t)+"  "+e.name+Qe(e.args,"  ")+": "+String(e.type)+et(e.deprecationReason))))}function Xe(e){return 0!==e.length?" {\n"+e.join("\n")+"\n}":""}function Qe(e,t=""){return 0===e.length?"":e.every((e=>!e.description))?"("+e.map(Ze).join(", ")+")":"(\n"+e.map(((e,n)=>tt(e,"  "+t,!n)+"  "+t+Ze(e))).join("\n")+"\n"+t+")"}function Ze(e){const t=(0,Ve.J)(e.defaultValue,e.type);let n=e.name+": "+String(e.type);return t&&(n+=` = ${(0,A.S)(t)}`),n+et(e.deprecationReason)}function et(e){if(null==e)return"";if(e!==m.SY){return` @deprecated(reason: ${(0,A.S)({kind:N.h.STRING,value:e})})`}return" @deprecated"}function tt(e,t="",n=!0){const{description:r}=e;if(null==r)return"";return(t&&!n?"\n"+t:t)+(0,A.S)({kind:N.h.STRING,value:r,block:(0,$e.MZ)(r)}).replace(/\n/g,"\n"+t)+"\n"}function nt(e){const t=[];for(const n of e)t.push(...n.definitions);return{kind:N.h.DOCUMENT,definitions:t}}function rt(e){const t=[],n=Object.create(null);for(const i of e.definitions)switch(i.kind){case N.h.OPERATION_DEFINITION:t.push(i);break;case N.h.FRAGMENT_DEFINITION:n[i.name.value]=ot(i.selectionSet)}const r=Object.create(null);for(const i of t){const t=new Set;for(const e of ot(i.selectionSet))it(t,n,e);r[i.name?i.name.value:""]={kind:N.h.DOCUMENT,definitions:e.definitions.filter((e=>e===i||e.kind===N.h.FRAGMENT_DEFINITION&&t.has(e.name.value)))}}return r}function it(e,t,n){if(!e.has(n)){e.add(n);const r=t[n];if(void 0!==r)for(const n of r)it(e,t,n)}}function ot(e){const t=[];return(0,S.Vn)(e,{FragmentSpread(e){t.push(e.name.value)}}),t}function st(e){const t=(0,b.T)(e)?e:new b.H(e),n=t.body,r=new I.h(t);let i="",o=!1;for(;r.advance().kind!==_.T.EOF;){const e=r.token,t=e.kind,s=!(0,I.u)(e.kind);o&&(s||e.kind===_.T.SPREAD)&&(i+=" ");const a=n.slice(e.start,e.end);t===_.T.BLOCK_STRING?i+=(0,$e.LZ)(e.value,{minimize:!0}):i+=a,o=s}return i}function at(e){const t=ut(e);if(t)throw t;return e}function ut(e){if("string"===typeof e||(0,i.a)(!1,"Expected name to be a string."),e.startsWith("__"))return new M.__(`Name "${e}" must not begin with "__", which is reserved by GraphQL introspection.`);try{(0,v.i)(e)}catch(t){return t}}var ct,ft,lt=n(3498),dt=n(8360);function ht(e,t){return mt(e,t).filter((e=>e.type in ct))}function pt(e,t){return mt(e,t).filter((e=>e.type in ft))}function mt(e,t){return[...gt(e,t),...yt(e,t)]}function yt(e,t){const n=[],r=xt(e.getDirectives(),t.getDirectives());for(const i of r.removed)n.push({type:ct.DIRECTIVE_REMOVED,description:`${i.name} was removed.`});for(const[i,o]of r.persisted){const e=xt(i.args,o.args);for(const t of e.added)(0,h.dK)(t)&&n.push({type:ct.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${t.name} on directive ${i.name} was added.`});for(const t of e.removed)n.push({type:ct.DIRECTIVE_ARG_REMOVED,description:`${t.name} was removed from ${i.name}.`});i.isRepeatable&&!o.isRepeatable&&n.push({type:ct.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${i.name}.`});for(const t of i.locations)o.locations.includes(t)||n.push({type:ct.DIRECTIVE_LOCATION_REMOVED,description:`${t} was removed from ${i.name}.`})}return n}function gt(e,t){const n=[],r=xt(Object.values(e.getTypeMap()),Object.values(t.getTypeMap()));for(const i of r.removed)n.push({type:ct.TYPE_REMOVED,description:(0,y.u1)(i)?`Standard scalar ${i.name} was removed because it is not referenced anymore.`:`${i.name} was removed.`});for(const[i,o]of r.persisted)(0,h.EM)(i)&&(0,h.EM)(o)?n.push(...bt(i,o)):(0,h.EN)(i)&&(0,h.EN)(o)?n.push(...wt(i,o)):(0,h.hL)(i)&&(0,h.hL)(o)?n.push(...vt(i,o)):(0,h.lp)(i)&&(0,h.lp)(o)||(0,h.oT)(i)&&(0,h.oT)(o)?n.push(...Tt(i,o),...Et(i,o)):i.constructor!==o.constructor&&n.push({type:ct.TYPE_CHANGED_KIND,description:`${i.name} changed from ${St(i)} to ${St(o)}.`});return n}function vt(e,t){const n=[],r=xt(Object.values(e.getFields()),Object.values(t.getFields()));for(const i of r.added)(0,h.Wd)(i)?n.push({type:ct.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${i.name} on input type ${e.name} was added.`}):n.push({type:ft.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${i.name} on input type ${e.name} was added.`});for(const i of r.removed)n.push({type:ct.FIELD_REMOVED,description:`${e.name}.${i.name} was removed.`});for(const[i,o]of r.persisted){At(i.type,o.type)||n.push({type:ct.FIELD_CHANGED_KIND,description:`${e.name}.${i.name} changed type from ${String(i.type)} to ${String(o.type)}.`})}return n}function wt(e,t){const n=[],r=xt(e.getTypes(),t.getTypes());for(const i of r.added)n.push({type:ft.TYPE_ADDED_TO_UNION,description:`${i.name} was added to union type ${e.name}.`});for(const i of r.removed)n.push({type:ct.TYPE_REMOVED_FROM_UNION,description:`${i.name} was removed from union type ${e.name}.`});return n}function bt(e,t){const n=[],r=xt(e.getValues(),t.getValues());for(const i of r.added)n.push({type:ft.VALUE_ADDED_TO_ENUM,description:`${i.name} was added to enum type ${e.name}.`});for(const i of r.removed)n.push({type:ct.VALUE_REMOVED_FROM_ENUM,description:`${i.name} was removed from enum type ${e.name}.`});return n}function Et(e,t){const n=[],r=xt(e.getInterfaces(),t.getInterfaces());for(const i of r.added)n.push({type:ft.IMPLEMENTED_INTERFACE_ADDED,description:`${i.name} added to interfaces implemented by ${e.name}.`});for(const i of r.removed)n.push({type:ct.IMPLEMENTED_INTERFACE_REMOVED,description:`${e.name} no longer implements interface ${i.name}.`});return n}function Tt(e,t){const n=[],r=xt(Object.values(e.getFields()),Object.values(t.getFields()));for(const i of r.removed)n.push({type:ct.FIELD_REMOVED,description:`${e.name}.${i.name} was removed.`});for(const[i,o]of r.persisted){n.push(...It(e,i,o));_t(i.type,o.type)||n.push({type:ct.FIELD_CHANGED_KIND,description:`${e.name}.${i.name} changed type from ${String(i.type)} to ${String(o.type)}.`})}return n}function It(e,t,n){const r=[],i=xt(t.args,n.args);for(const o of i.removed)r.push({type:ct.ARG_REMOVED,description:`${e.name}.${t.name} arg ${o.name} was removed.`});for(const[o,s]of i.persisted){if(At(o.type,s.type)){if(void 0!==o.defaultValue)if(void 0===s.defaultValue)r.push({type:ft.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${o.name} defaultValue was removed.`});else{const n=Nt(o.defaultValue,o.type),i=Nt(s.defaultValue,s.type);n!==i&&r.push({type:ft.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${o.name} has changed defaultValue from ${n} to ${i}.`})}}else r.push({type:ct.ARG_CHANGED_KIND,description:`${e.name}.${t.name} arg ${o.name} has changed type from ${String(o.type)} to ${String(s.type)}.`})}for(const o of i.added)(0,h.dK)(o)?r.push({type:ct.REQUIRED_ARG_ADDED,description:`A required arg ${o.name} on ${e.name}.${t.name} was added.`}):r.push({type:ft.OPTIONAL_ARG_ADDED,description:`An optional arg ${o.name} on ${e.name}.${t.name} was added.`});return r}function _t(e,t){return(0,h.HG)(e)?(0,h.HG)(t)&&_t(e.ofType,t.ofType)||(0,h.zM)(t)&&_t(e,t.ofType):(0,h.zM)(e)?(0,h.zM)(t)&&_t(e.ofType,t.ofType):(0,h.Zs)(t)&&e.name===t.name||(0,h.zM)(t)&&_t(e,t.ofType)}function At(e,t){return(0,h.HG)(e)?(0,h.HG)(t)&&At(e.ofType,t.ofType):(0,h.zM)(e)?(0,h.zM)(t)&&At(e.ofType,t.ofType)||!(0,h.zM)(t)&&At(e.ofType,t):(0,h.Zs)(t)&&e.name===t.name}function St(e){return(0,h.KA)(e)?"a Scalar type":(0,h.lp)(e)?"an Object type":(0,h.oT)(e)?"an Interface type":(0,h.EN)(e)?"a Union type":(0,h.EM)(e)?"an Enum type":(0,h.hL)(e)?"an Input type":void(0,F.k)(!1,"Unexpected type: "+(0,k.X)(e))}function Nt(e,t){const n=(0,Ve.J)(e,t);return null!=n||(0,F.k)(!1),(0,A.S)((0,dt.n)(n))}function xt(e,t){const n=[],r=[],i=[],o=(0,lt.P)(e,(({name:e})=>e)),s=(0,lt.P)(t,(({name:e})=>e));for(const a of e){const e=s[a.name];void 0===e?r.push(a):i.push([a,e])}for(const a of t)void 0===o[a.name]&&n.push(a);return{added:n,persisted:i,removed:r}}!function(e){e.TYPE_REMOVED="TYPE_REMOVED",e.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",e.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",e.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",e.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",e.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",e.FIELD_REMOVED="FIELD_REMOVED",e.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",e.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",e.ARG_REMOVED="ARG_REMOVED",e.ARG_CHANGED_KIND="ARG_CHANGED_KIND",e.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",e.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",e.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",e.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",e.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"}(ct||(ct={})),function(e){e.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",e.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",e.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",e.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",e.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",e.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"}(ft||(ft={}));var Ot=n(2100),kt=n(77),Ct=n(2319),Dt=n(2676),Mt=n(7816),Rt=n(316)},9380:function(e,t,n){"use strict";function r(e,t,n){return{prev:e,key:t,typename:n}}function i(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}n.d(t,{Q:function(){return r},N:function(){return i}})},7826:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,{a:function(){return r}})},3177:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});function r(e,t){const[n,r]=t?[e,t]:[void 0,e];let i=" Did you mean ";n&&(i+=n+" ");const o=r.map((e=>`"${e}"`));switch(o.length){case 0:return"";case 1:return i+o[0]+"?";case 2:return i+o[0]+" or "+o[1]+"?"}const s=o.slice(0,5),a=s.pop();return i+s.join(", ")+", or "+a+"?"}},3231:function(e,t,n){"use strict";function r(e,t){const n=new Map;for(const r of e){const e=t(r),i=n.get(e);void 0===i?n.set(e,[r]):i.push(r)}return n}n.d(t,{v:function(){return r}})},5821:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});function r(e){return i(e,[])}function i(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:i(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,o=[];for(let s=0;s<n;++s)o.push(i(e[s],t));1===r?o.push("... 1 more item"):r>1&&o.push(`... ${r} more items`);return"["+o.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";return"{ "+n.map((([e,n])=>e+": "+i(n,t))).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},8306:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(5821);const i=globalThis.process&&"production"===globalThis.process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"===typeof e&&null!==e){var n;const i=t.prototype[Symbol.toStringTag];if(i===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){const t=(0,r.X)(e);throw new Error(`Cannot use ${i} "${t}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1}},9551:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}n.d(t,{k:function(){return r}})},3831:function(e,t,n){"use strict";function r(e){return"object"===typeof e&&"function"===typeof(null===e||void 0===e?void 0:e[Symbol.iterator])}n.d(t,{i:function(){return r}})},8495:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!==e}n.d(t,{y:function(){return r}})},8659:function(e,t,n){"use strict";function r(e){return"function"===typeof(null===e||void 0===e?void 0:e.then)}n.d(t,{t:function(){return r}})},3498:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null);for(const r of e)n[t(r)]=r;return n}n.d(t,{P:function(){return r}})},4950:function(e,t,n){"use strict";function r(e,t,n){const r=Object.create(null);for(const i of e)r[t(i)]=n(i);return r}n.d(t,{w:function(){return r}})},5723:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null);for(const r of Object.keys(e))n[r]=t(e[r],r);return n}n.d(t,{j:function(){return r}})},8224:function(e,t,n){"use strict";function r(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let s=e.charCodeAt(n),a=t.charCodeAt(r);if(o(s)&&o(a)){let u=0;do{++n,u=10*u+s-i,s=e.charCodeAt(n)}while(o(s)&&u>0);let c=0;do{++r,c=10*c+a-i,a=t.charCodeAt(r)}while(o(a)&&c>0);if(u<c)return-1;if(u>c)return 1}else{if(s<a)return-1;if(s>a)return 1;++n,++r}}return e.length-t.length}n.d(t,{K:function(){return r}});const i=48;function o(e){return!isNaN(e)&&i<=e&&e<=57}},4244:function(e,t,n){"use strict";function r(e){return e.map((e=>"number"===typeof e?"["+e.toString()+"]":"."+e)).join("")}n.d(t,{F:function(){return r}})},3294:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(8224);function i(e,t){const n=Object.create(null),i=new o(e),s=Math.floor(.4*e.length)+1;for(const r of t){const e=i.measure(r,s);void 0!==e&&(n[r]=e)}return Object.keys(n).sort(((e,t)=>{const i=n[e]-n[t];return 0!==i?i:(0,r.K)(e,t)}))}class o{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=s(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,t){if(this._input===e)return 0;const n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let r=s(n),i=this._inputArray;if(r.length<i.length){const e=r;r=i,i=e}const o=r.length,a=i.length;if(o-a>t)return;const u=this._rows;for(let s=0;s<=a;s++)u[0][s]=s;for(let s=1;s<=o;s++){const e=u[(s-1)%3],n=u[s%3];let o=n[0]=s;for(let t=1;t<=a;t++){const a=r[s-1]===i[t-1]?0:1;let c=Math.min(e[t]+1,n[t-1]+1,e[t-1]+a);if(s>1&&t>1&&r[s-1]===i[t-2]&&r[s-2]===i[t-1]){const e=u[(s-2)%3][t-2];c=Math.min(c,e+1)}c<o&&(o=c),n[t]=c}if(o>t)return}const c=u[o%3][a];return c<=t?c:void 0}}function s(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}},8824:function(e,t,n){"use strict";function r(e){if(null==e)return Object.create(null);if(null===Object.getPrototypeOf(e))return e;const t=Object.create(null);for(const[n,r]of Object.entries(e))t[n]=r;return t}n.d(t,{u:function(){return r}})},2380:function(e,t,n){"use strict";n.d(t,{Ye:function(){return r},WU:function(){return i},h8:function(){return o},UG:function(){return a},ku:function(){return u}});class r{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class i{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},s=new Set(Object.keys(o));function a(e){const t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&s.has(t)}var u;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(u||(u={}))},7392:function(e,t,n){"use strict";n.d(t,{wv:function(){return i},MZ:function(){return s},LZ:function(){return a}});var r=n(8297);function i(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let a=0;a<e.length;++a){var s;const t=e[a],u=o(t);u!==t.length&&(r=null!==(s=r)&&void 0!==s?s:a,i=a,0!==a&&u<n&&(n=u))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function o(e){let t=0;for(;t<e.length&&(0,r.FD)(e.charCodeAt(t));)++t;return t}function s(e){if(""===e)return!0;let t=!0,n=!1,r=!0,i=!1;for(let o=0;o<e.length;++o)switch(e.codePointAt(o)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:case 13:return!1;case 10:if(t&&!i)return!1;i=!0,t=!0,n=!1;break;case 9:case 32:n||(n=t);break;default:r&&(r=n),t=!1}return!t&&(!r||!i)}function a(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),o=1===i.length,s=i.length>1&&i.slice(1).every((e=>0===e.length||(0,r.FD)(e.charCodeAt(0)))),a=n.endsWith('\\"""'),u=e.endsWith('"')&&!a,c=e.endsWith("\\"),f=u||c,l=!(null!==t&&void 0!==t&&t.minimize)&&(!o||e.length>70||f||s||a);let d="";const h=o&&(0,r.FD)(e.charCodeAt(0));return(l&&!h||s)&&(d+="\n"),d+=n,(l||f)&&(d+="\n"),'"""'+d+'"""'}},8297:function(e,t,n){"use strict";function r(e){return 9===e||32===e}function i(e){return e>=48&&e<=57}function o(e){return e>=97&&e<=122||e>=65&&e<=90}function s(e){return o(e)||95===e}function a(e){return o(e)||i(e)||95===e}n.d(t,{FD:function(){return r},X1:function(){return i},LQ:function(){return s},HQ:function(){return a}})},9878:function(e,t,n){"use strict";var r;n.d(t,{B:function(){return r}}),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(r||(r={}))},7359:function(e,t,n){"use strict";var r;n.d(t,{h:function(){return r}}),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(r||(r={}))},2105:function(e,t,n){"use strict";n.d(t,{h:function(){return u},u:function(){return c}});var r=n(5219),i=n(2380),o=n(7392),s=n(8297),a=n(4635);class u{constructor(e){const t=new i.WU(a.T.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==a.T.EOF)do{if(e.next)e=e.next;else{const t=y(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===a.T.COMMENT);return e}}function c(e){return e===a.T.BANG||e===a.T.DOLLAR||e===a.T.AMP||e===a.T.PAREN_L||e===a.T.PAREN_R||e===a.T.SPREAD||e===a.T.COLON||e===a.T.EQUALS||e===a.T.AT||e===a.T.BRACKET_L||e===a.T.BRACKET_R||e===a.T.BRACE_L||e===a.T.PIPE||e===a.T.BRACE_R}function f(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function l(e,t){return d(e.charCodeAt(t))&&h(e.charCodeAt(t+1))}function d(e){return e>=55296&&e<=56319}function h(e){return e>=56320&&e<=57343}function p(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return a.T.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function m(e,t,n,r,o){const s=e.line,a=1+n-e.lineStart;return new i.WU(t,n,r,s,a,o)}function y(e,t){const n=e.source.body,i=n.length;let o=t;for(;o<i;){const t=n.charCodeAt(o);switch(t){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===n.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 35:return g(e,o);case 33:return m(e,a.T.BANG,o,o+1);case 36:return m(e,a.T.DOLLAR,o,o+1);case 38:return m(e,a.T.AMP,o,o+1);case 40:return m(e,a.T.PAREN_L,o,o+1);case 41:return m(e,a.T.PAREN_R,o,o+1);case 46:if(46===n.charCodeAt(o+1)&&46===n.charCodeAt(o+2))return m(e,a.T.SPREAD,o,o+3);break;case 58:return m(e,a.T.COLON,o,o+1);case 61:return m(e,a.T.EQUALS,o,o+1);case 64:return m(e,a.T.AT,o,o+1);case 91:return m(e,a.T.BRACKET_L,o,o+1);case 93:return m(e,a.T.BRACKET_R,o,o+1);case 123:return m(e,a.T.BRACE_L,o,o+1);case 124:return m(e,a.T.PIPE,o,o+1);case 125:return m(e,a.T.BRACE_R,o,o+1);case 34:return 34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)?S(e,o):b(e,o)}if((0,s.X1)(t)||45===t)return v(e,o,t);if((0,s.LQ)(t))return N(e,o);throw(0,r.h)(e.source,o,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":f(t)||l(n,o)?`Unexpected character: ${p(e,o)}.`:`Invalid character: ${p(e,o)}.`)}return m(e,a.T.EOF,i,i)}function g(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(10===e||13===e)break;if(f(e))++i;else{if(!l(n,i))break;i+=2}}return m(e,a.T.COMMENT,t,i,n.slice(t+1,i))}function v(e,t,n){const i=e.source.body;let o=t,u=n,c=!1;if(45===u&&(u=i.charCodeAt(++o)),48===u){if(u=i.charCodeAt(++o),(0,s.X1)(u))throw(0,r.h)(e.source,o,`Invalid number, unexpected digit after 0: ${p(e,o)}.`)}else o=w(e,o,u),u=i.charCodeAt(o);if(46===u&&(c=!0,u=i.charCodeAt(++o),o=w(e,o,u),u=i.charCodeAt(o)),69!==u&&101!==u||(c=!0,u=i.charCodeAt(++o),43!==u&&45!==u||(u=i.charCodeAt(++o)),o=w(e,o,u),u=i.charCodeAt(o)),46===u||(0,s.LQ)(u))throw(0,r.h)(e.source,o,`Invalid number, expected digit but got: ${p(e,o)}.`);return m(e,c?a.T.FLOAT:a.T.INT,t,o,i.slice(t,o))}function w(e,t,n){if(!(0,s.X1)(n))throw(0,r.h)(e.source,t,`Invalid number, expected digit but got: ${p(e,t)}.`);const i=e.source.body;let o=t+1;for(;(0,s.X1)(i.charCodeAt(o));)++o;return o}function b(e,t){const n=e.source.body,i=n.length;let o=t+1,s=o,u="";for(;o<i;){const i=n.charCodeAt(o);if(34===i)return u+=n.slice(s,o),m(e,a.T.STRING,t,o+1,u);if(92!==i){if(10===i||13===i)break;if(f(i))++o;else{if(!l(n,o))throw(0,r.h)(e.source,o,`Invalid character within String: ${p(e,o)}.`);o+=2}}else{u+=n.slice(s,o);const t=117===n.charCodeAt(o+1)?123===n.charCodeAt(o+2)?E(e,o):T(e,o):A(e,o);u+=t.value,o+=t.size,s=o}}throw(0,r.h)(e.source,o,"Unterminated string.")}function E(e,t){const n=e.source.body;let i=0,o=3;for(;o<12;){const e=n.charCodeAt(t+o++);if(125===e){if(o<5||!f(i))break;return{value:String.fromCodePoint(i),size:o}}if(i=i<<4|_(e),i<0)break}throw(0,r.h)(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+o)}".`)}function T(e,t){const n=e.source.body,i=I(n,t+2);if(f(i))return{value:String.fromCodePoint(i),size:6};if(d(i)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=I(n,t+8);if(h(e))return{value:String.fromCodePoint(i,e),size:12}}throw(0,r.h)(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function I(e,t){return _(e.charCodeAt(t))<<12|_(e.charCodeAt(t+1))<<8|_(e.charCodeAt(t+2))<<4|_(e.charCodeAt(t+3))}function _(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function A(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw(0,r.h)(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function S(e,t){const n=e.source.body,i=n.length;let s=e.lineStart,u=t+3,c=u,d="";const h=[];for(;u<i;){const i=n.charCodeAt(u);if(34===i&&34===n.charCodeAt(u+1)&&34===n.charCodeAt(u+2)){d+=n.slice(c,u),h.push(d);const r=m(e,a.T.BLOCK_STRING,t,u+3,(0,o.wv)(h).join("\n"));return e.line+=h.length-1,e.lineStart=s,r}if(92!==i||34!==n.charCodeAt(u+1)||34!==n.charCodeAt(u+2)||34!==n.charCodeAt(u+3))if(10!==i&&13!==i)if(f(i))++u;else{if(!l(n,u))throw(0,r.h)(e.source,u,`Invalid character within String: ${p(e,u)}.`);u+=2}else d+=n.slice(c,u),h.push(d),13===i&&10===n.charCodeAt(u+1)?u+=2:++u,d="",c=u,s=u;else d+=n.slice(c,u),c=u+1,u+=4}throw(0,r.h)(e.source,u,"Unterminated string.")}function N(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(!(0,s.HQ)(e))break;++i}return m(e,a.T.NAME,t,i,n.slice(t,i))}},7867:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(9551);const i=/\r\n|[\n\r]/g;function o(e,t){let n=0,o=1;for(const s of e.body.matchAll(i)){if("number"===typeof s.index||(0,r.k)(!1),s.index>=t)break;n=s.index+s[0].length,o+=1}return{line:o,column:t+1-n}}},4275:function(e,t,n){"use strict";n.d(t,{Qc:function(){return f},H2:function(){return l},tl:function(){return d},gZ:function(){return h}});var r=n(5219),i=n(2380),o=n(9878),s=n(7359),a=n(2105),u=n(7926),c=n(4635);function f(e,t){return new p(e,t).parseDocument()}function l(e,t){const n=new p(e,t);n.expectToken(c.T.SOF);const r=n.parseValueLiteral(!1);return n.expectToken(c.T.EOF),r}function d(e,t){const n=new p(e,t);n.expectToken(c.T.SOF);const r=n.parseConstValueLiteral();return n.expectToken(c.T.EOF),r}function h(e,t){const n=new p(e,t);n.expectToken(c.T.SOF);const r=n.parseTypeReference();return n.expectToken(c.T.EOF),r}class p{constructor(e,t={}){const n=(0,u.T)(e)?e:new u.H(e);this._lexer=new a.h(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(c.T.NAME);return this.node(e,{kind:s.h.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:s.h.DOCUMENT,definitions:this.many(c.T.SOF,this.parseDefinition,c.T.EOF)})}parseDefinition(){if(this.peek(c.T.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===c.T.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw(0,r.h)(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(c.T.BRACE_L))return this.node(e,{kind:s.h.OPERATION_DEFINITION,operation:i.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(c.T.NAME)&&(n=this.parseName()),this.node(e,{kind:s.h.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(c.T.NAME);switch(e.value){case"query":return i.ku.QUERY;case"mutation":return i.ku.MUTATION;case"subscription":return i.ku.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(c.T.PAREN_L,this.parseVariableDefinition,c.T.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:s.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(c.T.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(c.T.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(c.T.DOLLAR),this.node(e,{kind:s.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:s.h.SELECTION_SET,selections:this.many(c.T.BRACE_L,this.parseSelection,c.T.BRACE_R)})}parseSelection(){return this.peek(c.T.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(c.T.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:s.h.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(c.T.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(c.T.PAREN_L,t,c.T.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(c.T.COLON),this.node(t,{kind:s.h.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(c.T.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(c.T.NAME)?this.node(e,{kind:s.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:s.h.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:s.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:s.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case c.T.BRACKET_L:return this.parseList(e);case c.T.BRACE_L:return this.parseObject(e);case c.T.INT:return this.advanceLexer(),this.node(t,{kind:s.h.INT,value:t.value});case c.T.FLOAT:return this.advanceLexer(),this.node(t,{kind:s.h.FLOAT,value:t.value});case c.T.STRING:case c.T.BLOCK_STRING:return this.parseStringLiteral();case c.T.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:s.h.BOOLEAN,value:!0});case"false":return this.node(t,{kind:s.h.BOOLEAN,value:!1});case"null":return this.node(t,{kind:s.h.NULL});default:return this.node(t,{kind:s.h.ENUM,value:t.value})}case c.T.DOLLAR:if(e){if(this.expectToken(c.T.DOLLAR),this._lexer.token.kind===c.T.NAME){const e=this._lexer.token.value;throw(0,r.h)(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:s.h.STRING,value:e.value,block:e.kind===c.T.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:s.h.LIST,values:this.any(c.T.BRACKET_L,(()=>this.parseValueLiteral(e)),c.T.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:s.h.OBJECT,fields:this.any(c.T.BRACE_L,(()=>this.parseObjectField(e)),c.T.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(c.T.COLON),this.node(t,{kind:s.h.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(c.T.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(c.T.AT),this.node(t,{kind:s.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(c.T.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(c.T.BRACKET_R),t=this.node(e,{kind:s.h.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(c.T.BANG)?this.node(e,{kind:s.h.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:s.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(c.T.STRING)||this.peek(c.T.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(c.T.BRACE_L,this.parseOperationTypeDefinition,c.T.BRACE_R);return this.node(e,{kind:s.h.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(c.T.COLON);const n=this.parseNamedType();return this.node(e,{kind:s.h.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:s.h.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:s.h.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(c.T.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(c.T.BRACE_L,this.parseFieldDefinition,c.T.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(c.T.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:s.h.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(c.T.PAREN_L,this.parseInputValueDef,c.T.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(c.T.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(c.T.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:s.h.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:s.h.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:s.h.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(c.T.EQUALS)?this.delimitedMany(c.T.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:s.h.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(c.T.BRACE_L,this.parseEnumValueDefinition,c.T.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:s.h.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw(0,r.h)(this._lexer.source,this._lexer.token.start,`${m(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:s.h.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(c.T.BRACE_L,this.parseInputValueDef,c.T.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===c.T.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(c.T.BRACE_L,this.parseOperationTypeDefinition,c.T.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:s.h.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:s.h.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:s.h.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:s.h.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(c.T.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:s.h.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(c.T.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(o.B,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new i.Ye(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw(0,r.h)(this._lexer.source,t.start,`Expected ${y(e)}, found ${m(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==c.T.NAME||t.value!==e)throw(0,r.h)(this._lexer.source,t.start,`Expected "${e}", found ${m(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===c.T.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!==e&&void 0!==e?e:this._lexer.token;return(0,r.h)(this._lexer.source,t.start,`Unexpected ${m(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==c.T.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw(0,r.h)(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function m(e){const t=e.value;return y(e.kind)+(null!=t?` "${t}"`:"")}function y(e){return(0,a.u)(e)?`"${e}"`:e}},5844:function(e,t,n){"use strict";n.d(t,{Ir:function(){return i},Wk:function(){return o},pO:function(){return s},nr:function(){return a},Of:function(){return u},VB:function(){return c},G4:function(){return f},zT:function(){return l},aU:function(){return d},D$:function(){return h}});var r=n(7359);function i(e){return o(e)||f(e)||d(e)}function o(e){return e.kind===r.h.OPERATION_DEFINITION||e.kind===r.h.FRAGMENT_DEFINITION}function s(e){return e.kind===r.h.FIELD||e.kind===r.h.FRAGMENT_SPREAD||e.kind===r.h.INLINE_FRAGMENT}function a(e){return e.kind===r.h.VARIABLE||e.kind===r.h.INT||e.kind===r.h.FLOAT||e.kind===r.h.STRING||e.kind===r.h.BOOLEAN||e.kind===r.h.NULL||e.kind===r.h.ENUM||e.kind===r.h.LIST||e.kind===r.h.OBJECT}function u(e){return a(e)&&(e.kind===r.h.LIST?e.values.some(u):e.kind===r.h.OBJECT?e.fields.some((e=>u(e.value))):e.kind!==r.h.VARIABLE)}function c(e){return e.kind===r.h.NAMED_TYPE||e.kind===r.h.LIST_TYPE||e.kind===r.h.NON_NULL_TYPE}function f(e){return e.kind===r.h.SCHEMA_DEFINITION||l(e)||e.kind===r.h.DIRECTIVE_DEFINITION}function l(e){return e.kind===r.h.SCALAR_TYPE_DEFINITION||e.kind===r.h.OBJECT_TYPE_DEFINITION||e.kind===r.h.INTERFACE_TYPE_DEFINITION||e.kind===r.h.UNION_TYPE_DEFINITION||e.kind===r.h.ENUM_TYPE_DEFINITION||e.kind===r.h.INPUT_OBJECT_TYPE_DEFINITION}function d(e){return e.kind===r.h.SCHEMA_EXTENSION||h(e)}function h(e){return e.kind===r.h.SCALAR_TYPE_EXTENSION||e.kind===r.h.OBJECT_TYPE_EXTENSION||e.kind===r.h.INTERFACE_TYPE_EXTENSION||e.kind===r.h.UNION_TYPE_EXTENSION||e.kind===r.h.ENUM_TYPE_EXTENSION||e.kind===r.h.INPUT_OBJECT_TYPE_EXTENSION}},850:function(e,t,n){"use strict";n.d(t,{Q:function(){return i},z:function(){return o}});var r=n(7867);function i(e){return o(e.source,(0,r.k)(e.source,e.start))}function o(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,u=1===t.line?n:0,c=t.column+u,f=`${e.name}:${a}:${c}\n`,l=r.split(/\r\n|[\n\r]/g),d=l[i];if(d.length>120){const e=Math.floor(c/80),t=c%80,n=[];for(let r=0;r<d.length;r+=80)n.push(d.slice(r,r+80));return f+s([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return f+s([[a-1+" |",l[i-1]],[`${a} |`,d],["|","^".padStart(c)],[`${a+1} |`,l[i+1]]])}function s(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}},6918:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(7392);const i=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function o(e){return s[e.charCodeAt(0)]}const s=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var a=n(7304);function u(e){return(0,a.Vn)(e,c)}const c={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>f(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=d("(",f(e.variableDefinitions,", "),")"),n=f([e.operation,f([e.name,t]),f(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+d(" = ",n)+d(" ",f(r," "))},SelectionSet:{leave:({selections:e})=>l(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=d("",e,": ")+t;let s=o+d("(",f(n,", "),")");return s.length>80&&(s=o+d("(\n",h(f(n,"\n")),"\n)")),f([s,f(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+d(" ",f(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>f(["...",d("on ",e),f(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${d("(",f(n,", "),")")} on ${t} ${d("",f(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,r.LZ)(e):`"${e.replace(i,o)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+f(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+f(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+d("(",f(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>d("",e,"\n")+f(["schema",f(t," "),l(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+f(["scalar",t,f(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>d("",e,"\n")+f(["type",t,d("implements ",f(n," & ")),f(r," "),l(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>d("",e,"\n")+t+(p(n)?d("(\n",h(f(n,"\n")),"\n)"):d("(",f(n,", "),")"))+": "+r+d(" ",f(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>d("",e,"\n")+f([t+": "+n,d("= ",r),f(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>d("",e,"\n")+f(["interface",t,d("implements ",f(n," & ")),f(r," "),l(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>d("",e,"\n")+f(["union",t,f(n," "),d("= ",f(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>d("",e,"\n")+f(["enum",t,f(n," "),l(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+f([t,f(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>d("",e,"\n")+f(["input",t,f(n," "),l(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>d("",e,"\n")+"directive @"+t+(p(n)?d("(\n",h(f(n,"\n")),"\n)"):d("(",f(n,", "),")"))+(r?" repeatable":"")+" on "+f(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>f(["extend schema",f(e," "),l(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>f(["extend scalar",e,f(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>f(["extend type",e,d("implements ",f(t," & ")),f(n," "),l(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>f(["extend interface",e,d("implements ",f(t," & ")),f(n," "),l(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>f(["extend union",e,f(t," "),d("= ",f(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>f(["extend enum",e,f(t," "),l(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>f(["extend input",e,f(t," "),l(n)]," ")}};function f(e,t=""){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function l(e){return d("{\n",h(f(e,"\n")),"\n}")}function d(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function h(e){return d("  ",e.replace(/\n/g,"\n  "))}function p(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}},7926:function(e,t,n){"use strict";n.d(t,{H:function(){return s},T:function(){return a}});var r=n(7826),i=n(5821),o=n(8306);class s{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"===typeof e||(0,r.a)(!1,`Body must be a string. Received: ${(0,i.X)(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||(0,r.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,r.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function a(e){return(0,o.n)(e,s)}},4635:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return r}}),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(r||(r={}))},7304:function(e,t,n){"use strict";n.d(t,{$_:function(){return a},Vn:function(){return u},j1:function(){return c},Eu:function(){return f},CK:function(){return l}});var r=n(7826),i=n(5821),o=n(2380),s=n(7359);const a=Object.freeze({});function u(e,t,n=o.h8){const u=new Map;for(const r of Object.values(s.h))u.set(r,f(t,r));let c,l,d,h=Array.isArray(e),p=[e],m=-1,y=[],g=e;const v=[],w=[];do{m++;const e=m===p.length,s=e&&0!==y.length;if(e){if(l=0===w.length?void 0:v[v.length-1],g=d,d=w.pop(),s)if(h){g=g.slice();let e=0;for(const[t,n]of y){const r=t-e;null===n?(g.splice(r,1),e++):g[r]=n}}else{g=Object.defineProperties({},Object.getOwnPropertyDescriptors(g));for(const[e,t]of y)g[e]=t}m=c.index,p=c.keys,y=c.edits,h=c.inArray,c=c.prev}else if(d){if(l=h?m:p[m],g=d[l],null===g||void 0===g)continue;v.push(l)}let f;if(!Array.isArray(g)){var b,E;(0,o.UG)(g)||(0,r.a)(!1,`Invalid AST Node: ${(0,i.X)(g)}.`);const n=e?null===(b=u.get(g.kind))||void 0===b?void 0:b.leave:null===(E=u.get(g.kind))||void 0===E?void 0:E.enter;if(f=null===n||void 0===n?void 0:n.call(t,g,l,d,v,w),f===a)break;if(!1===f){if(!e){v.pop();continue}}else if(void 0!==f&&(y.push([l,f]),!e)){if(!(0,o.UG)(f)){v.pop();continue}g=f}}var T;if(void 0===f&&s&&y.push([l,g]),e)v.pop();else c={inArray:h,index:m,keys:p,edits:y,prev:c},h=Array.isArray(g),p=h?g:null!==(T=n[g.kind])&&void 0!==T?T:[],m=-1,y=[],d&&w.push(d),d=g}while(void 0!==c);return 0!==y.length?y[y.length-1][1]:e}function c(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const r of Object.values(s.h)){let i=!1;const o=new Array(e.length).fill(void 0),s=new Array(e.length).fill(void 0);for(let t=0;t<e.length;++t){const{enter:n,leave:a}=f(e[t],r);i||(i=null!=n||null!=a),o[t]=n,s[t]=a}if(!i)continue;const u={enter(...n){const r=n[0];for(let s=0;s<e.length;s++)if(null===t[s]){var i;const u=null===(i=o[s])||void 0===i?void 0:i.apply(e[s],n);if(!1===u)t[s]=r;else if(u===a)t[s]=a;else if(void 0!==u)return u}},leave(...n){const r=n[0];for(let o=0;o<e.length;o++)if(null===t[o]){var i;const r=null===(i=s[o])||void 0===i?void 0:i.apply(e[o],n);if(r===a)t[o]=a;else if(void 0!==r&&!1!==r)return r}else t[o]===r&&(t[o]=null)}};n[r]=u}return n}function f(e,t){const n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function l(e,t,n){const{enter:r,leave:i}=f(e,t);return n?i:r}},6303:function(e,t,n){"use strict";n.d(t,{i:function(){return s},g:function(){return a}});var r=n(7826),i=n(8087),o=n(8297);function s(e){if(null!=e||(0,r.a)(!1,"Must provide name."),"string"===typeof e||(0,r.a)(!1,"Expected name to be a string."),0===e.length)throw new i.__("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!(0,o.HQ)(e.charCodeAt(t)))throw new i.__(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!(0,o.LQ)(e.charCodeAt(0)))throw new i.__(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function a(e){if("true"===e||"false"===e||"null"===e)throw new i.__(`Enum values cannot be named: ${e}`);return s(e)}},4454:function(e,t,n){"use strict";n.d(t,{mR:function(){return ge},sR:function(){return we},oW:function(){return pe},p2:function(){return J},bM:function(){return K},h6:function(){return se},n2:function(){return oe},Gp:function(){return me},DM:function(){return de},fU:function(){return H},M_:function(){return G},Zu:function(){return k},U8:function(){return D},qT:function(){return P},k2:function(){return S},H5:function(){return V},kS:function(){return R},rM:function(){return te},E$:function(){return B},i_:function(){return Q},Z6:function(){return _},Gt:function(){return F},Pt:function(){return T},p_:function(){return b},rc:function(){return x},vX:function(){return W},WO:function(){return ce},xC:function(){return ne},tf:function(){return Z},m0:function(){return q},Gv:function(){return z},EM:function(){return O},hL:function(){return C},j$:function(){return L},oT:function(){return A},UT:function(){return $},HG:function(){return M},Zs:function(){return ee},zM:function(){return U},zP:function(){return X},lp:function(){return I},SZ:function(){return j},dK:function(){return he},Wd:function(){return Ee},KA:function(){return E},P9:function(){return w},EN:function(){return N},fw:function(){return Y},WB:function(){return ie},_9:function(){return re}});var r=n(7826),i=n(3177);function o(e){return e}var s=n(5821),a=n(8306),u=n(8495),c=n(3498),f=n(4950),l=n(5723),d=n(3294),h=n(8824),p=n(8087),m=n(7359),y=n(6918),g=n(2319),v=n(6303);function w(e){return E(e)||I(e)||A(e)||N(e)||O(e)||C(e)||M(e)||U(e)}function b(e){if(!w(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL type.`);return e}function E(e){return(0,a.n)(e,oe)}function T(e){if(!E(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Scalar type.`);return e}function I(e){return(0,a.n)(e,se)}function _(e){if(!I(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Object type.`);return e}function A(e){return(0,a.n)(e,pe)}function S(e){if(!A(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Interface type.`);return e}function N(e){return(0,a.n)(e,me)}function x(e){if(!N(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Union type.`);return e}function O(e){return(0,a.n)(e,ge)}function k(e){if(!O(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Enum type.`);return e}function C(e){return(0,a.n)(e,we)}function D(e){if(!C(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Input Object type.`);return e}function M(e){return(0,a.n)(e,J)}function R(e){if(!M(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL List type.`);return e}function U(e){return(0,a.n)(e,K)}function B(e){if(!U(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Non-Null type.`);return e}function L(e){return E(e)||O(e)||C(e)||Y(e)&&L(e.ofType)}function P(e){if(!L(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL input type.`);return e}function j(e){return E(e)||I(e)||A(e)||N(e)||O(e)||Y(e)&&j(e.ofType)}function F(e){if(!j(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL output type.`);return e}function $(e){return E(e)||O(e)}function V(e){if(!$(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL leaf type.`);return e}function z(e){return I(e)||A(e)||N(e)}function G(e){if(!z(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL composite type.`);return e}function q(e){return A(e)||N(e)}function H(e){if(!q(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL abstract type.`);return e}class J{constructor(e){w(e)||(0,r.a)(!1,`Expected ${(0,s.X)(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class K{constructor(e){X(e)||(0,r.a)(!1,`Expected ${(0,s.X)(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Y(e){return M(e)||U(e)}function W(e){if(!Y(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL wrapping type.`);return e}function X(e){return w(e)&&!U(e)}function Q(e){if(!X(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL nullable type.`);return e}function Z(e){if(e)return U(e)?e.ofType:e}function ee(e){return E(e)||I(e)||A(e)||N(e)||O(e)||C(e)}function te(e){if(!ee(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL named type.`);return e}function ne(e){if(e){let t=e;for(;Y(t);)t=t.ofType;return t}}function re(e){return"function"===typeof e?e():e}function ie(e){return"function"===typeof e?e():e}class oe{constructor(e){var t,n,i,a;const u=null!==(t=e.parseValue)&&void 0!==t?t:o;this.name=(0,v.i)(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=null!==(n=e.serialize)&&void 0!==n?n:o,this.parseValue=u,this.parseLiteral=null!==(i=e.parseLiteral)&&void 0!==i?i:(e,t)=>u((0,g.M)(e,t)),this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(a=e.extensionASTNodes)&&void 0!==a?a:[],null==e.specifiedByURL||"string"===typeof e.specifiedByURL||(0,r.a)(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${(0,s.X)(e.specifiedByURL)}.`),null==e.serialize||"function"===typeof e.serialize||(0,r.a)(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&("function"===typeof e.parseValue&&"function"===typeof e.parseLiteral||(0,r.a)(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class se{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=()=>ue(e),this._interfaces=()=>ae(e),null==e.isTypeOf||"function"===typeof e.isTypeOf||(0,r.a)(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${(0,s.X)(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:le(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ae(e){var t;const n=re(null!==(t=e.interfaces)&&void 0!==t?t:[]);return Array.isArray(n)||(0,r.a)(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function ue(e){const t=ie(e.fields);return fe(t)||(0,r.a)(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,l.j)(t,((t,n)=>{var i;fe(t)||(0,r.a)(!1,`${e.name}.${n} field config must be an object.`),null==t.resolve||"function"===typeof t.resolve||(0,r.a)(!1,`${e.name}.${n} field resolver must be a function if provided, but got: ${(0,s.X)(t.resolve)}.`);const o=null!==(i=t.args)&&void 0!==i?i:{};return fe(o)||(0,r.a)(!1,`${e.name}.${n} args must be an object with argument names as keys.`),{name:(0,v.i)(n),description:t.description,type:t.type,args:ce(o),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode}}))}function ce(e){return Object.entries(e).map((([e,t])=>({name:(0,v.i)(e),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))}function fe(e){return(0,u.y)(e)&&!Array.isArray(e)}function le(e){return(0,l.j)(e,(e=>({description:e.description,type:e.type,args:de(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function de(e){return(0,f.w)(e,(e=>e.name),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function he(e){return U(e.type)&&void 0===e.defaultValue}class pe{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=ue.bind(void 0,e),this._interfaces=ae.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||(0,r.a)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,s.X)(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:le(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class me{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._types=ye.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||(0,r.a)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,s.X)(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return"function"===typeof this._types&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ye(e){const t=re(e.types);return Array.isArray(t)||(0,r.a)(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class ge{constructor(e){var t,n,i;this.name=(0,v.i)(e.name),this.description=e.description,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._values=(n=this.name,fe(i=e.values)||(0,r.a)(!1,`${n} values must be an object with value names as keys.`),Object.entries(i).map((([e,t])=>(fe(t)||(0,r.a)(!1,`${n}.${e} must refer to an object with a "value" key representing an internal value but got: ${(0,s.X)(t)}.`),{name:(0,v.g)(e),description:t.description,value:void 0!==t.value?t.value:e,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))),this._valueLookup=new Map(this._values.map((e=>[e.value,e]))),this._nameLookup=(0,c.P)(this._values,(e=>e.name))}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const t=this._valueLookup.get(e);if(void 0===t)throw new p.__(`Enum "${this.name}" cannot represent value: ${(0,s.X)(e)}`);return t.name}parseValue(e){if("string"!==typeof e){const t=(0,s.X)(e);throw new p.__(`Enum "${this.name}" cannot represent non-string value: ${t}.`+ve(this,t))}const t=this.getValue(e);if(null==t)throw new p.__(`Value "${e}" does not exist in "${this.name}" enum.`+ve(this,e));return t.value}parseLiteral(e,t){if(e.kind!==m.h.ENUM){const t=(0,y.S)(e);throw new p.__(`Enum "${this.name}" cannot represent non-enum value: ${t}.`+ve(this,t),{nodes:e})}const n=this.getValue(e.value);if(null==n){const t=(0,y.S)(e);throw new p.__(`Value "${t}" does not exist in "${this.name}" enum.`+ve(this,t),{nodes:e})}return n.value}toConfig(){const e=(0,f.w)(this.getValues(),(e=>e.name),(e=>({description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ve(e,t){const n=e.getValues().map((e=>e.name)),r=(0,d.D)(t,n);return(0,i.l)("the enum value",r)}class we{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=be.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}toConfig(){const e=(0,l.j)(this.getFields(),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function be(e){const t=ie(e.fields);return fe(t)||(0,r.a)(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,l.j)(t,((t,n)=>(!("resolve"in t)||(0,r.a)(!1,`${e.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:(0,v.i)(n),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))}function Ee(e){return U(e.type)&&void 0===e.defaultValue}},8238:function(e,t,n){"use strict";n.d(t,{wX:function(){return d},CO:function(){return h},NZ:function(){return p},Yf:function(){return m},QE:function(){return y},SY:function(){return g},fg:function(){return v},df:function(){return w},V4:function(){return b},xg:function(){return E}});var r=n(7826),i=n(5821),o=n(8306),s=n(8495),a=n(8824),u=n(9878),c=n(6303),f=n(4454),l=n(3801);function d(e){return(0,o.n)(e,p)}function h(e){if(!d(e))throw new Error(`Expected ${(0,i.X)(e)} to be a GraphQL directive.`);return e}class p{constructor(e){var t,n;this.name=(0,c.i)(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=null!==(t=e.isRepeatable)&&void 0!==t&&t,this.extensions=(0,a.u)(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||(0,r.a)(!1,`@${e.name} locations must be an Array.`);const i=null!==(n=e.args)&&void 0!==n?n:{};(0,s.y)(i)&&!Array.isArray(i)||(0,r.a)(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=(0,f.WO)(i)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:(0,f.DM)(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const m=new p({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[u.B.FIELD,u.B.FRAGMENT_SPREAD,u.B.INLINE_FRAGMENT],args:{if:{type:new f.bM(l.EZ),description:"Included when true."}}}),y=new p({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[u.B.FIELD,u.B.FRAGMENT_SPREAD,u.B.INLINE_FRAGMENT],args:{if:{type:new f.bM(l.EZ),description:"Skipped when true."}}}),g="No longer supported",v=new p({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[u.B.FIELD_DEFINITION,u.B.ARGUMENT_DEFINITION,u.B.INPUT_FIELD_DEFINITION,u.B.ENUM_VALUE],args:{reason:{type:l.kH,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:g}}}),w=new p({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[u.B.SCALAR],args:{url:{type:new f.bM(l.kH),description:"The URL that specifies the behavior of this scalar."}}}),b=Object.freeze([m,y,v,w]);function E(e){return b.some((({name:t})=>t===e.name))}},2433:function(e,t,n){"use strict";n.d(t,{TK:function(){return f},l3:function(){return l},x2:function(){return d},qz:function(){return h},e_:function(){return p},XQ:function(){return m},jT:function(){return y},zU:function(){return g},PX:function(){return v},Az:function(){return w},tF:function(){return b},hU:function(){return E},nL:function(){return T},s9:function(){return I}});var r=n(5821),i=n(9551),o=n(9878),s=n(6918),a=n(8631),u=n(4454),c=n(3801);const f=new u.h6({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:c.kH,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new u.bM(new u.p2(new u.bM(h))),resolve:e=>Object.values(e.getTypeMap())},queryType:{description:"The type that query operations will be rooted at.",type:new u.bM(h),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:h,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:h,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new u.bM(new u.p2(new u.bM(l))),resolve:e=>e.getDirectives()}})}),l=new u.h6({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:()=>({name:{type:new u.bM(c.kH),resolve:e=>e.name},description:{type:c.kH,resolve:e=>e.description},isRepeatable:{type:new u.bM(c.EZ),resolve:e=>e.isRepeatable},locations:{type:new u.bM(new u.p2(new u.bM(d))),resolve:e=>e.locations},args:{type:new u.bM(new u.p2(new u.bM(m))),args:{includeDeprecated:{type:c.EZ,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))}})}),d=new u.mR({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:o.B.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:o.B.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:o.B.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:o.B.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:o.B.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:o.B.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:o.B.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:o.B.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:o.B.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:o.B.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:o.B.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:o.B.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:o.B.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:o.B.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:o.B.UNION,description:"Location adjacent to a union definition."},ENUM:{value:o.B.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:o.B.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:o.B.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:o.B.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),h=new u.h6({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new u.bM(v),resolve:e=>(0,u.KA)(e)?g.SCALAR:(0,u.lp)(e)?g.OBJECT:(0,u.oT)(e)?g.INTERFACE:(0,u.EN)(e)?g.UNION:(0,u.EM)(e)?g.ENUM:(0,u.hL)(e)?g.INPUT_OBJECT:(0,u.HG)(e)?g.LIST:(0,u.zM)(e)?g.NON_NULL:void(0,i.k)(!1,`Unexpected type: "${(0,r.X)(e)}".`)},name:{type:c.kH,resolve:e=>"name"in e?e.name:void 0},description:{type:c.kH,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:c.kH,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new u.p2(new u.bM(p)),args:{includeDeprecated:{type:c.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,u.lp)(e)||(0,u.oT)(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},interfaces:{type:new u.p2(new u.bM(h)),resolve(e){if((0,u.lp)(e)||(0,u.oT)(e))return e.getInterfaces()}},possibleTypes:{type:new u.p2(new u.bM(h)),resolve(e,t,n,{schema:r}){if((0,u.m0)(e))return r.getPossibleTypes(e)}},enumValues:{type:new u.p2(new u.bM(y)),args:{includeDeprecated:{type:c.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,u.EM)(e)){const n=e.getValues();return t?n:n.filter((e=>null==e.deprecationReason))}}},inputFields:{type:new u.p2(new u.bM(m)),args:{includeDeprecated:{type:c.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,u.hL)(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},ofType:{type:h,resolve:e=>"ofType"in e?e.ofType:void 0}})}),p=new u.h6({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new u.bM(c.kH),resolve:e=>e.name},description:{type:c.kH,resolve:e=>e.description},args:{type:new u.bM(new u.p2(new u.bM(m))),args:{includeDeprecated:{type:c.EZ,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))},type:{type:new u.bM(h),resolve:e=>e.type},isDeprecated:{type:new u.bM(c.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:c.kH,resolve:e=>e.deprecationReason}})}),m=new u.h6({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new u.bM(c.kH),resolve:e=>e.name},description:{type:c.kH,resolve:e=>e.description},type:{type:new u.bM(h),resolve:e=>e.type},defaultValue:{type:c.kH,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:n}=e,r=(0,a.J)(n,t);return r?(0,s.S)(r):null}},isDeprecated:{type:new u.bM(c.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:c.kH,resolve:e=>e.deprecationReason}})}),y=new u.h6({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new u.bM(c.kH),resolve:e=>e.name},description:{type:c.kH,resolve:e=>e.description},isDeprecated:{type:new u.bM(c.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:c.kH,resolve:e=>e.deprecationReason}})});var g;!function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"}(g||(g={}));const v=new u.mR({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:g.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:g.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:g.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:g.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:g.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:g.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:g.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:g.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),w={name:"__schema",type:new u.bM(f),description:"Access the current type schema of this server.",args:[],resolve:(e,t,n,{schema:r})=>r,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},b={name:"__type",type:h,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new u.bM(c.kH),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,{name:t},n,{schema:r})=>r.getType(t),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},E={name:"__typename",type:new u.bM(c.kH),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,n,{parentType:r})=>r.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},T=Object.freeze([f,l,d,h,p,m,y,v]);function I(e){return T.some((({name:t})=>e.name===t))}},3801:function(e,t,n){"use strict";n.d(t,{HI:function(){return c},st:function(){return f},_o:function(){return l},av:function(){return d},kH:function(){return h},EZ:function(){return p},km:function(){return m},HS:function(){return y},u1:function(){return g}});var r=n(5821),i=n(8495),o=n(8087),s=n(7359),a=n(6918),u=n(4454);const c=2147483647,f=-2147483648,l=new u.n2({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=v(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isInteger(n))throw new o.__(`Int cannot represent non-integer value: ${(0,r.X)(t)}`);if(n>c||n<f)throw new o.__("Int cannot represent non 32-bit signed integer value: "+(0,r.X)(t));return n},parseValue(e){if("number"!==typeof e||!Number.isInteger(e))throw new o.__(`Int cannot represent non-integer value: ${(0,r.X)(e)}`);if(e>c||e<f)throw new o.__(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==s.h.INT)throw new o.__(`Int cannot represent non-integer value: ${(0,a.S)(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>c||t<f)throw new o.__(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),d=new u.n2({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=v(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isFinite(n))throw new o.__(`Float cannot represent non numeric value: ${(0,r.X)(t)}`);return n},parseValue(e){if("number"!==typeof e||!Number.isFinite(e))throw new o.__(`Float cannot represent non numeric value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.FLOAT&&e.kind!==s.h.INT)throw new o.__(`Float cannot represent non numeric value: ${(0,a.S)(e)}`,e);return parseFloat(e.value)}}),h=new u.n2({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=v(e);if("string"===typeof t)return t;if("boolean"===typeof t)return t?"true":"false";if("number"===typeof t&&Number.isFinite(t))return t.toString();throw new o.__(`String cannot represent value: ${(0,r.X)(e)}`)},parseValue(e){if("string"!==typeof e)throw new o.__(`String cannot represent a non string value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.STRING)throw new o.__(`String cannot represent a non string value: ${(0,a.S)(e)}`,{nodes:e});return e.value}}),p=new u.n2({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=v(e);if("boolean"===typeof t)return t;if(Number.isFinite(t))return 0!==t;throw new o.__(`Boolean cannot represent a non boolean value: ${(0,r.X)(t)}`)},parseValue(e){if("boolean"!==typeof e)throw new o.__(`Boolean cannot represent a non boolean value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.BOOLEAN)throw new o.__(`Boolean cannot represent a non boolean value: ${(0,a.S)(e)}`,{nodes:e});return e.value}}),m=new u.n2({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=v(e);if("string"===typeof t)return t;if(Number.isInteger(t))return String(t);throw new o.__(`ID cannot represent value: ${(0,r.X)(e)}`)},parseValue(e){if("string"===typeof e)return e;if("number"===typeof e&&Number.isInteger(e))return e.toString();throw new o.__(`ID cannot represent value: ${(0,r.X)(e)}`)},parseLiteral(e){if(e.kind!==s.h.STRING&&e.kind!==s.h.INT)throw new o.__("ID cannot represent a non-string and non-integer value: "+(0,a.S)(e),{nodes:e});return e.value}}),y=Object.freeze([h,l,d,p,m]);function g(e){return y.some((({name:t})=>e.name===t))}function v(e){if((0,i.y)(e)){if("function"===typeof e.valueOf){const t=e.valueOf();if(!(0,i.y)(t))return t}if("function"===typeof e.toJSON)return e.toJSON()}return e}},9678:function(e,t,n){"use strict";n.d(t,{nN:function(){return d},EO:function(){return h},XO:function(){return p}});var r=n(7826),i=n(5821),o=n(8306),s=n(8495),a=n(8824),u=n(2380),c=n(4454),f=n(8238),l=n(2433);function d(e){return(0,o.n)(e,p)}function h(e){if(!d(e))throw new Error(`Expected ${(0,i.X)(e)} to be a GraphQL schema.`);return e}class p{constructor(e){var t,n;this.__validationErrors=!0===e.assumeValid?[]:void 0,(0,s.y)(e)||(0,r.a)(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||(0,r.a)(!1,`"types" must be Array if provided but got: ${(0,i.X)(e.types)}.`),!e.directives||Array.isArray(e.directives)||(0,r.a)(!1,`"directives" must be Array if provided but got: ${(0,i.X)(e.directives)}.`),this.description=e.description,this.extensions=(0,a.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=null!==(n=e.directives)&&void 0!==n?n:f.V4;const o=new Set(e.types);if(null!=e.types)for(const r of e.types)o.delete(r),m(r,o);null!=this._queryType&&m(this._queryType,o),null!=this._mutationType&&m(this._mutationType,o),null!=this._subscriptionType&&m(this._subscriptionType,o);for(const r of this._directives)if((0,f.wX)(r))for(const e of r.args)m(e.type,o);m(l.TK,o),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const i of o){if(null==i)continue;const e=i.name;if(e||(0,r.a)(!1,"One of the provided types for building the Schema is missing a name."),void 0!==this._typeMap[e])throw new Error(`Schema must contain uniquely named types but contains multiple types named "${e}".`);if(this._typeMap[e]=i,(0,c.oT)(i)){for(const t of i.getInterfaces())if((0,c.oT)(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.interfaces.push(i)}}else if((0,c.lp)(i))for(const t of i.getInterfaces())if((0,c.oT)(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.objects.push(i)}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case u.ku.QUERY:return this.getQueryType();case u.ku.MUTATION:return this.getMutationType();case u.ku.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return(0,c.EN)(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const t=this._implementationsMap[e.name];return null!==t&&void 0!==t?t:{objects:[],interfaces:[]}}isSubType(e,t){let n=this._subTypeMap[e.name];if(void 0===n){if(n=Object.create(null),(0,c.EN)(e))for(const t of e.getTypes())n[t.name]=!0;else{const t=this.getImplementations(e);for(const e of t.objects)n[e.name]=!0;for(const e of t.interfaces)n[e.name]=!0}this._subTypeMap[e.name]=n}return void 0!==n[t.name]}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find((t=>t.name===e))}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:void 0!==this.__validationErrors}}}function m(e,t){const n=(0,c.xC)(e);if(!t.has(n))if(t.add(n),(0,c.EN)(n))for(const r of n.getTypes())m(r,t);else if((0,c.lp)(n)||(0,c.oT)(n)){for(const e of n.getInterfaces())m(e,t);for(const e of Object.values(n.getFields())){m(e.type,t);for(const n of e.args)m(n.type,t)}}else if((0,c.hL)(n))for(const r of Object.values(n.getFields()))m(r.type,t);return t}},9655:function(e,t,n){"use strict";n.d(t,{F:function(){return l},J:function(){return d}});var r=n(5821),i=n(8087),o=n(2380),s=n(316),a=n(4454),u=n(8238),c=n(2433),f=n(9678);function l(e){if((0,f.EO)(e),e.__validationErrors)return e.__validationErrors;const t=new h(e);!function(e){const t=e.schema,n=t.getQueryType();if(n){if(!(0,a.lp)(n)){var i;e.reportError(`Query root type must be Object type, it cannot be ${(0,r.X)(n)}.`,null!==(i=p(t,o.ku.QUERY))&&void 0!==i?i:n.astNode)}}else e.reportError("Query root type must be provided.",t.astNode);const s=t.getMutationType();var u;s&&!(0,a.lp)(s)&&e.reportError(`Mutation root type must be Object type if provided, it cannot be ${(0,r.X)(s)}.`,null!==(u=p(t,o.ku.MUTATION))&&void 0!==u?u:s.astNode);const c=t.getSubscriptionType();var f;c&&!(0,a.lp)(c)&&e.reportError(`Subscription root type must be Object type if provided, it cannot be ${(0,r.X)(c)}.`,null!==(f=p(t,o.ku.SUBSCRIPTION))&&void 0!==f?f:c.astNode)}(t),function(e){for(const n of e.schema.getDirectives())if((0,u.wX)(n)){m(e,n);for(const i of n.args){var t;if(m(e,i),(0,a.j$)(i.type)||e.reportError(`The type of @${n.name}(${i.name}:) must be Input Type but got: ${(0,r.X)(i.type)}.`,i.astNode),(0,a.dK)(i)&&null!=i.deprecationReason)e.reportError(`Required argument @${n.name}(${i.name}:) cannot be deprecated.`,[A(i.astNode),null===(t=i.astNode)||void 0===t?void 0:t.type])}}else e.reportError(`Expected directive but got: ${(0,r.X)(n)}.`,null===n||void 0===n?void 0:n.astNode)}(t),function(e){const t=function(e){const t=Object.create(null),n=[],r=Object.create(null);return i;function i(o){if(t[o.name])return;t[o.name]=!0,r[o.name]=n.length;const s=Object.values(o.getFields());for(const t of s)if((0,a.zM)(t.type)&&(0,a.hL)(t.type.ofType)){const o=t.type.ofType,s=r[o.name];if(n.push(t),void 0===s)i(o);else{const t=n.slice(s),r=t.map((e=>e.name)).join(".");e.reportError(`Cannot reference Input Object "${o.name}" within itself through a series of non-null fields: "${r}".`,t.map((e=>e.astNode)))}n.pop()}r[o.name]=void 0}}(e),n=e.schema.getTypeMap();for(const i of Object.values(n))(0,a.Zs)(i)?((0,c.s9)(i)||m(e,i),(0,a.lp)(i)||(0,a.oT)(i)?(y(e,i),g(e,i)):(0,a.EN)(i)?b(e,i):(0,a.EM)(i)?E(e,i):(0,a.hL)(i)&&(T(e,i),t(i))):e.reportError(`Expected GraphQL named type but got: ${(0,r.X)(i)}.`,i.astNode)}(t);const n=t.getErrors();return e.__validationErrors=n,n}function d(e){const t=l(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}class h{constructor(e){this._errors=[],this.schema=e}reportError(e,t){const n=Array.isArray(t)?t.filter(Boolean):t;this._errors.push(new i.__(e,{nodes:n}))}getErrors(){return this._errors}}function p(e,t){var n;return null===(n=[e.astNode,...e.extensionASTNodes].flatMap((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.operationTypes)&&void 0!==t?t:[]})).find((e=>e.operation===t)))||void 0===n?void 0:n.type}function m(e,t){t.name.startsWith("__")&&e.reportError(`Name "${t.name}" must not begin with "__", which is reserved by GraphQL introspection.`,t.astNode)}function y(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const u of n){var i;if(m(e,u),!(0,a.SZ)(u.type))e.reportError(`The type of ${t.name}.${u.name} must be Output Type but got: ${(0,r.X)(u.type)}.`,null===(i=u.astNode)||void 0===i?void 0:i.type);for(const n of u.args){const i=n.name;var o,s;if(m(e,n),!(0,a.j$)(n.type))e.reportError(`The type of ${t.name}.${u.name}(${i}:) must be Input Type but got: ${(0,r.X)(n.type)}.`,null===(o=n.astNode)||void 0===o?void 0:o.type);if((0,a.dK)(n)&&null!=n.deprecationReason)e.reportError(`Required argument ${t.name}.${u.name}(${i}:) cannot be deprecated.`,[A(n.astNode),null===(s=n.astNode)||void 0===s?void 0:s.type])}}}function g(e,t){const n=Object.create(null);for(const i of t.getInterfaces())(0,a.oT)(i)?t!==i?n[i.name]?e.reportError(`Type ${t.name} can only implement ${i.name} once.`,I(t,i)):(n[i.name]=!0,w(e,t,i),v(e,t,i)):e.reportError(`Type ${t.name} cannot implement itself because it would create a circular reference.`,I(t,i)):e.reportError(`Type ${(0,r.X)(t)} must only implement Interface types, it cannot implement ${(0,r.X)(i)}.`,I(t,i))}function v(e,t,n){const i=t.getFields();for(const l of Object.values(n.getFields())){const d=l.name,h=i[d];if(h){var o,u;if(!(0,s.uJ)(e.schema,h.type,l.type))e.reportError(`Interface field ${n.name}.${d} expects type ${(0,r.X)(l.type)} but ${t.name}.${d} is type ${(0,r.X)(h.type)}.`,[null===(o=l.astNode)||void 0===o?void 0:o.type,null===(u=h.astNode)||void 0===u?void 0:u.type]);for(const i of l.args){const o=i.name,a=h.args.find((e=>e.name===o));var c,f;if(a){if(!(0,s._7)(i.type,a.type))e.reportError(`Interface field argument ${n.name}.${d}(${o}:) expects type ${(0,r.X)(i.type)} but ${t.name}.${d}(${o}:) is type ${(0,r.X)(a.type)}.`,[null===(c=i.astNode)||void 0===c?void 0:c.type,null===(f=a.astNode)||void 0===f?void 0:f.type])}else e.reportError(`Interface field argument ${n.name}.${d}(${o}:) expected but ${t.name}.${d} does not provide it.`,[i.astNode,h.astNode])}for(const r of h.args){const i=r.name;!l.args.find((e=>e.name===i))&&(0,a.dK)(r)&&e.reportError(`Object field ${t.name}.${d} includes required argument ${i} that is missing from the Interface field ${n.name}.${d}.`,[r.astNode,l.astNode])}}else e.reportError(`Interface field ${n.name}.${d} expected but ${t.name} does not provide it.`,[l.astNode,t.astNode,...t.extensionASTNodes])}}function w(e,t,n){const r=t.getInterfaces();for(const i of n.getInterfaces())r.includes(i)||e.reportError(i===t?`Type ${t.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${t.name} must implement ${i.name} because it is implemented by ${n.name}.`,[...I(n,i),...I(t,n)])}function b(e,t){const n=t.getTypes();0===n.length&&e.reportError(`Union type ${t.name} must define one or more member types.`,[t.astNode,...t.extensionASTNodes]);const i=Object.create(null);for(const o of n)i[o.name]?e.reportError(`Union type ${t.name} can only include type ${o.name} once.`,_(t,o.name)):(i[o.name]=!0,(0,a.lp)(o)||e.reportError(`Union type ${t.name} can only include Object types, it cannot include ${(0,r.X)(o)}.`,_(t,String(o))))}function E(e,t){const n=t.getValues();0===n.length&&e.reportError(`Enum type ${t.name} must define one or more values.`,[t.astNode,...t.extensionASTNodes]);for(const r of n)m(e,r)}function T(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Input Object type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const s of n){var i,o;if(m(e,s),!(0,a.j$)(s.type))e.reportError(`The type of ${t.name}.${s.name} must be Input Type but got: ${(0,r.X)(s.type)}.`,null===(i=s.astNode)||void 0===i?void 0:i.type);if((0,a.Wd)(s)&&null!=s.deprecationReason)e.reportError(`Required input field ${t.name}.${s.name} cannot be deprecated.`,[A(s.astNode),null===(o=s.astNode)||void 0===o?void 0:o.type])}}function I(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.interfaces)&&void 0!==t?t:[]})).filter((e=>e.name.value===t.name))}function _(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.types)&&void 0!==t?t:[]})).filter((e=>e.name.value===t))}function A(e){var t;return null===e||void 0===e||null===(t=e.directives)||void 0===t?void 0:t.find((e=>e.name.value===u.fg.name))}},2676:function(e,t,n){"use strict";n.d(t,{a:function(){return c},y:function(){return l}});var r=n(2380),i=n(7359),o=n(7304),s=n(4454),a=n(2433),u=n(77);class c{constructor(e,t,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=null!==n&&void 0!==n?n:f,t&&((0,s.j$)(t)&&this._inputTypeStack.push(t),(0,s.Gv)(t)&&this._parentTypeStack.push(t),(0,s.SZ)(t)&&this._typeStack.push(t))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const t=this._schema;switch(e.kind){case i.h.SELECTION_SET:{const e=(0,s.xC)(this.getType());this._parentTypeStack.push((0,s.Gv)(e)?e:void 0);break}case i.h.FIELD:{const n=this.getParentType();let r,i;n&&(r=this._getFieldDef(t,n,e),r&&(i=r.type)),this._fieldDefStack.push(r),this._typeStack.push((0,s.SZ)(i)?i:void 0);break}case i.h.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case i.h.OPERATION_DEFINITION:{const n=t.getRootType(e.operation);this._typeStack.push((0,s.lp)(n)?n:void 0);break}case i.h.INLINE_FRAGMENT:case i.h.FRAGMENT_DEFINITION:{const n=e.typeCondition,r=n?(0,u._)(t,n):(0,s.xC)(this.getType());this._typeStack.push((0,s.SZ)(r)?r:void 0);break}case i.h.VARIABLE_DEFINITION:{const n=(0,u._)(t,e.type);this._inputTypeStack.push((0,s.j$)(n)?n:void 0);break}case i.h.ARGUMENT:{var n;let t,r;const i=null!==(n=this.getDirective())&&void 0!==n?n:this.getFieldDef();i&&(t=i.args.find((t=>t.name===e.name.value)),t&&(r=t.type)),this._argument=t,this._defaultValueStack.push(t?t.defaultValue:void 0),this._inputTypeStack.push((0,s.j$)(r)?r:void 0);break}case i.h.LIST:{const e=(0,s.tf)(this.getInputType()),t=(0,s.HG)(e)?e.ofType:e;this._defaultValueStack.push(void 0),this._inputTypeStack.push((0,s.j$)(t)?t:void 0);break}case i.h.OBJECT_FIELD:{const t=(0,s.xC)(this.getInputType());let n,r;(0,s.hL)(t)&&(r=t.getFields()[e.name.value],r&&(n=r.type)),this._defaultValueStack.push(r?r.defaultValue:void 0),this._inputTypeStack.push((0,s.j$)(n)?n:void 0);break}case i.h.ENUM:{const t=(0,s.xC)(this.getInputType());let n;(0,s.EM)(t)&&(n=t.getValue(e.value)),this._enumValue=n;break}}}leave(e){switch(e.kind){case i.h.SELECTION_SET:this._parentTypeStack.pop();break;case i.h.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case i.h.DIRECTIVE:this._directive=null;break;case i.h.OPERATION_DEFINITION:case i.h.INLINE_FRAGMENT:case i.h.FRAGMENT_DEFINITION:this._typeStack.pop();break;case i.h.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case i.h.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case i.h.LIST:case i.h.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case i.h.ENUM:this._enumValue=null}}}function f(e,t,n){const r=n.name.value;return r===a.Az.name&&e.getQueryType()===t?a.Az:r===a.tF.name&&e.getQueryType()===t?a.tF:r===a.hU.name&&(0,s.Gv)(t)?a.hU:(0,s.lp)(t)||(0,s.oT)(t)?t.getFields()[r]:void 0}function l(e,t){return{enter(...n){const i=n[0];e.enter(i);const s=(0,o.Eu)(t,i.kind).enter;if(s){const o=s.apply(t,n);return void 0!==o&&(e.leave(i),(0,r.UG)(o)&&e.enter(o)),o}},leave(...n){const r=n[0],i=(0,o.Eu)(t,r.kind).leave;let s;return i&&(s=i.apply(t,n)),e.leave(r),s}}}},8631:function(e,t,n){"use strict";n.d(t,{J:function(){return f}});var r=n(5821),i=n(9551),o=n(3831),s=n(8495),a=n(7359),u=n(4454),c=n(3801);function f(e,t){if((0,u.zM)(t)){const n=f(e,t.ofType);return(null===n||void 0===n?void 0:n.kind)===a.h.NULL?null:n}if(null===e)return{kind:a.h.NULL};if(void 0===e)return null;if((0,u.HG)(t)){const n=t.ofType;if((0,o.i)(e)){const t=[];for(const r of e){const e=f(r,n);null!=e&&t.push(e)}return{kind:a.h.LIST,values:t}}return f(e,n)}if((0,u.hL)(t)){if(!(0,s.y)(e))return null;const n=[];for(const r of Object.values(t.getFields())){const t=f(e[r.name],r.type);t&&n.push({kind:a.h.OBJECT_FIELD,name:{kind:a.h.NAME,value:r.name},value:t})}return{kind:a.h.OBJECT,fields:n}}if((0,u.UT)(t)){const n=t.serialize(e);if(null==n)return null;if("boolean"===typeof n)return{kind:a.h.BOOLEAN,value:n};if("number"===typeof n&&Number.isFinite(n)){const e=String(n);return l.test(e)?{kind:a.h.INT,value:e}:{kind:a.h.FLOAT,value:e}}if("string"===typeof n)return(0,u.EM)(t)?{kind:a.h.ENUM,value:n}:t===c.km&&l.test(n)?{kind:a.h.INT,value:n}:{kind:a.h.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${(0,r.X)(n)}.`)}(0,i.k)(!1,"Unexpected input type: "+(0,r.X)(t))}const l=/^-?(?:0|[1-9][0-9]*)$/},7816:function(e,t,n){"use strict";n.d(t,{K:function(){return h}});var r=n(3177),i=n(5821),o=n(9551),s=n(3831),a=n(8495),u=n(9380),c=n(4244),f=n(3294),l=n(8087),d=n(4454);function h(e,t,n=p){return m(e,t,n,void 0)}function p(e,t,n){let r="Invalid value "+(0,i.X)(t);throw e.length>0&&(r+=` at "value${(0,c.F)(e)}"`),n.message=r+": "+n.message,n}function m(e,t,n,c){if((0,d.zM)(t))return null!=e?m(e,t.ofType,n,c):void n((0,u.N)(c),e,new l.__(`Expected non-nullable type "${(0,i.X)(t)}" not to be null.`));if(null==e)return null;if((0,d.HG)(t)){const r=t.ofType;return(0,s.i)(e)?Array.from(e,((e,t)=>{const i=(0,u.Q)(c,t,void 0);return m(e,r,n,i)})):[m(e,r,n,c)]}if((0,d.hL)(t)){if(!(0,a.y)(e))return void n((0,u.N)(c),e,new l.__(`Expected type "${t.name}" to be an object.`));const o={},s=t.getFields();for(const r of Object.values(s)){const s=e[r.name];if(void 0!==s)o[r.name]=m(s,r.type,n,(0,u.Q)(c,r.name,t.name));else if(void 0!==r.defaultValue)o[r.name]=r.defaultValue;else if((0,d.zM)(r.type)){const t=(0,i.X)(r.type);n((0,u.N)(c),e,new l.__(`Field "${r.name}" of required type "${t}" was not provided.`))}}for(const i of Object.keys(e))if(!s[i]){const o=(0,f.D)(i,Object.keys(t.getFields()));n((0,u.N)(c),e,new l.__(`Field "${i}" is not defined by type "${t.name}".`+(0,r.l)(o)))}return o}if((0,d.UT)(t)){let r;try{r=t.parseValue(e)}catch(h){return void(h instanceof l.__?n((0,u.N)(c),e,h):n((0,u.N)(c),e,new l.__(`Expected type "${t.name}". `+h.message,{originalError:h})))}return void 0===r&&n((0,u.N)(c),e,new l.__(`Expected type "${t.name}".`)),r}(0,o.k)(!1,"Unexpected input type: "+(0,i.X)(t))}},9557:function(e,t,n){"use strict";n.d(t,{a:function(){return v},w:function(){return w}});var r=n(7826),i=n(5821),o=n(9551),s=n(3498),a=n(5723),u=n(7359),c=n(5844),f=n(4454),l=n(8238),d=n(2433),h=n(3801),p=n(9678),m=n(6584),y=n(6422),g=n(2221);function v(e,t,n){(0,p.EO)(e),null!=t&&t.kind===u.h.DOCUMENT||(0,r.a)(!1,"Must provide valid Document AST."),!0!==(null===n||void 0===n?void 0:n.assumeValid)&&!0!==(null===n||void 0===n?void 0:n.assumeValidSDL)&&(0,m.ED)(t,e);const i=e.toConfig(),o=w(i,t,n);return i===o?e:new p.XO(o)}function w(e,t,n){var r,s,p,m;const y=[],v=Object.create(null),w=[];let I;const _=[];for(const i of t.definitions)if(i.kind===u.h.SCHEMA_DEFINITION)I=i;else if(i.kind===u.h.SCHEMA_EXTENSION)_.push(i);else if((0,c.zT)(i))y.push(i);else if((0,c.D$)(i)){const e=i.name.value,t=v[e];v[e]=t?t.concat([i]):[i]}else i.kind===u.h.DIRECTIVE_DEFINITION&&w.push(i);if(0===Object.keys(v).length&&0===y.length&&0===w.length&&0===_.length&&null==I)return e;const A=Object.create(null);for(const i of e.types)A[i.name]=k(i);for(const i of y){var S;const e=i.name.value;A[e]=null!==(S=b[e])&&void 0!==S?S:V(i)}const N={query:e.query&&O(e.query),mutation:e.mutation&&O(e.mutation),subscription:e.subscription&&O(e.subscription),...I&&M([I]),...M(_)};return{description:null===(r=I)||void 0===r||null===(s=r.description)||void 0===s?void 0:s.value,...N,types:Object.values(A),directives:[...e.directives.map((function(e){const t=e.toConfig();return new l.NZ({...t,args:(0,a.j)(t.args,D)})})),...w.map((function(e){var t;return new l.NZ({name:e.name.value,description:null===(t=e.description)||void 0===t?void 0:t.value,locations:e.locations.map((({value:e})=>e)),isRepeatable:e.repeatable,args:L(e.arguments),astNode:e})}))],extensions:Object.create(null),astNode:null!==(p=I)&&void 0!==p?p:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(_),assumeValid:null!==(m=null===n||void 0===n?void 0:n.assumeValid)&&void 0!==m&&m};function x(e){return(0,f.HG)(e)?new f.p2(x(e.ofType)):(0,f.zM)(e)?new f.bM(x(e.ofType)):O(e)}function O(e){return A[e.name]}function k(e){return(0,d.s9)(e)||(0,h.u1)(e)?e:(0,f.KA)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];let i=n.specifiedByURL;for(const s of r){var o;i=null!==(o=T(s))&&void 0!==o?o:i}return new f.n2({...n,specifiedByURL:i,extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,f.lp)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new f.h6({...n,interfaces:()=>[...e.getInterfaces().map(O),...F(r)],fields:()=>({...(0,a.j)(n.fields,C),...B(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,f.oT)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new f.oW({...n,interfaces:()=>[...e.getInterfaces().map(O),...F(r)],fields:()=>({...(0,a.j)(n.fields,C),...B(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,f.EN)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new f.Gp({...n,types:()=>[...e.getTypes().map(O),...$(r)],extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,f.EM)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[e.name])&&void 0!==t?t:[];return new f.mR({...n,values:{...n.values,...j(r)},extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,f.hL)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new f.sR({...n,fields:()=>({...(0,a.j)(n.fields,(e=>({...e,type:x(e.type)}))),...P(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):void(0,o.k)(!1,"Unexpected type: "+(0,i.X)(e))}function C(e){return{...e,type:x(e.type),args:e.args&&(0,a.j)(e.args,D)}}function D(e){return{...e,type:x(e.type)}}function M(e){const t={};for(const r of e){var n;const e=null!==(n=r.operationTypes)&&void 0!==n?n:[];for(const n of e)t[n.operation]=R(n.type)}return t}function R(e){var t;const n=e.name.value,r=null!==(t=b[n])&&void 0!==t?t:A[n];if(void 0===r)throw new Error(`Unknown type: "${n}".`);return r}function U(e){return e.kind===u.h.LIST_TYPE?new f.p2(U(e.type)):e.kind===u.h.NON_NULL_TYPE?new f.bM(U(e.type)):R(e)}function B(e){const t=Object.create(null);for(const i of e){var n;const e=null!==(n=i.fields)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={type:U(n.type),description:null===(r=n.description)||void 0===r?void 0:r.value,args:L(n.arguments),deprecationReason:E(n),astNode:n}}}return t}function L(e){const t=null!==e&&void 0!==e?e:[],n=Object.create(null);for(const i of t){var r;const e=U(i.type);n[i.name.value]={type:e,description:null===(r=i.description)||void 0===r?void 0:r.value,defaultValue:(0,g.u)(i.defaultValue,e),deprecationReason:E(i),astNode:i}}return n}function P(e){const t=Object.create(null);for(const i of e){var n;const e=null!==(n=i.fields)&&void 0!==n?n:[];for(const n of e){var r;const e=U(n.type);t[n.name.value]={type:e,description:null===(r=n.description)||void 0===r?void 0:r.value,defaultValue:(0,g.u)(n.defaultValue,e),deprecationReason:E(n),astNode:n}}}return t}function j(e){const t=Object.create(null);for(const i of e){var n;const e=null!==(n=i.values)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={description:null===(r=n.description)||void 0===r?void 0:r.value,deprecationReason:E(n),astNode:n}}}return t}function F(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.interfaces)||void 0===n?void 0:n.map(R))&&void 0!==t?t:[]}))}function $(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.types)||void 0===n?void 0:n.map(R))&&void 0!==t?t:[]}))}function V(e){var t;const n=e.name.value,r=null!==(t=v[n])&&void 0!==t?t:[];switch(e.kind){case u.h.OBJECT_TYPE_DEFINITION:{var i;const t=[e,...r];return new f.h6({name:n,description:null===(i=e.description)||void 0===i?void 0:i.value,interfaces:()=>F(t),fields:()=>B(t),astNode:e,extensionASTNodes:r})}case u.h.INTERFACE_TYPE_DEFINITION:{var o;const t=[e,...r];return new f.oW({name:n,description:null===(o=e.description)||void 0===o?void 0:o.value,interfaces:()=>F(t),fields:()=>B(t),astNode:e,extensionASTNodes:r})}case u.h.ENUM_TYPE_DEFINITION:{var s;const t=[e,...r];return new f.mR({name:n,description:null===(s=e.description)||void 0===s?void 0:s.value,values:j(t),astNode:e,extensionASTNodes:r})}case u.h.UNION_TYPE_DEFINITION:{var a;const t=[e,...r];return new f.Gp({name:n,description:null===(a=e.description)||void 0===a?void 0:a.value,types:()=>$(t),astNode:e,extensionASTNodes:r})}case u.h.SCALAR_TYPE_DEFINITION:var c;return new f.n2({name:n,description:null===(c=e.description)||void 0===c?void 0:c.value,specifiedByURL:T(e),astNode:e,extensionASTNodes:r});case u.h.INPUT_OBJECT_TYPE_DEFINITION:{var l;const t=[e,...r];return new f.sR({name:n,description:null===(l=e.description)||void 0===l?void 0:l.value,fields:()=>P(t),astNode:e,extensionASTNodes:r})}}}}const b=(0,s.P)([...h.HS,...d.nL],(e=>e.name));function E(e){const t=(0,y.zu)(l.fg,e);return null===t||void 0===t?void 0:t.reason}function T(e){const t=(0,y.zu)(l.df,e);return null===t||void 0===t?void 0:t.url}},2100:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(7359);function i(e,t){let n=null;for(const o of e.definitions){var i;if(o.kind===r.h.OPERATION_DEFINITION)if(null==t){if(n)return null;n=o}else if((null===(i=o.name)||void 0===i?void 0:i.value)===t)return o}return n}},8360:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(8224),i=n(7359);function o(e){switch(e.kind){case i.h.OBJECT:return{...e,fields:(t=e.fields,t.map((e=>({...e,value:o(e.value)}))).sort(((e,t)=>(0,r.K)(e.name.value,t.name.value))))};case i.h.LIST:return{...e,values:e.values.map(o)};case i.h.INT:case i.h.FLOAT:case i.h.STRING:case i.h.BOOLEAN:case i.h.NULL:case i.h.ENUM:case i.h.VARIABLE:return e}var t}},316:function(e,t,n){"use strict";n.d(t,{_7:function(){return i},uJ:function(){return o},zR:function(){return s}});var r=n(4454);function i(e,t){return e===t||((0,r.zM)(e)&&(0,r.zM)(t)||!(!(0,r.HG)(e)||!(0,r.HG)(t)))&&i(e.ofType,t.ofType)}function o(e,t,n){return t===n||((0,r.zM)(n)?!!(0,r.zM)(t)&&o(e,t.ofType,n.ofType):(0,r.zM)(t)?o(e,t.ofType,n):(0,r.HG)(n)?!!(0,r.HG)(t)&&o(e,t.ofType,n.ofType):!(0,r.HG)(t)&&((0,r.m0)(n)&&((0,r.oT)(t)||(0,r.lp)(t))&&e.isSubType(n,t)))}function s(e,t,n){return t===n||((0,r.m0)(t)?(0,r.m0)(n)?e.getPossibleTypes(t).some((t=>e.isSubType(n,t))):e.isSubType(t,n):!!(0,r.m0)(n)&&e.isSubType(n,t))}},77:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(7359),i=n(4454);function o(e,t){switch(t.kind){case r.h.LIST_TYPE:{const n=o(e,t.type);return n&&new i.p2(n)}case r.h.NON_NULL_TYPE:{const n=o(e,t.type);return n&&new i.bM(n)}case r.h.NAMED_TYPE:return e.getType(t.name.value)}}},2221:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var r=n(5821),i=n(9551),o=n(3498),s=n(7359),a=n(4454);function u(e,t,n){if(e){if(e.kind===s.h.VARIABLE){const r=e.name.value;if(null==n||void 0===n[r])return;const i=n[r];if(null===i&&(0,a.zM)(t))return;return i}if((0,a.zM)(t)){if(e.kind===s.h.NULL)return;return u(e,t.ofType,n)}if(e.kind===s.h.NULL)return null;if((0,a.HG)(t)){const r=t.ofType;if(e.kind===s.h.LIST){const t=[];for(const i of e.values)if(c(i,n)){if((0,a.zM)(r))return;t.push(null)}else{const e=u(i,r,n);if(void 0===e)return;t.push(e)}return t}const i=u(e,r,n);if(void 0===i)return;return[i]}if((0,a.hL)(t)){if(e.kind!==s.h.OBJECT)return;const r=Object.create(null),i=(0,o.P)(e.fields,(e=>e.name.value));for(const e of Object.values(t.getFields())){const t=i[e.name];if(!t||c(t.value,n)){if(void 0!==e.defaultValue)r[e.name]=e.defaultValue;else if((0,a.zM)(e.type))return;continue}const o=u(t.value,e.type,n);if(void 0===o)return;r[e.name]=o}return r}if((0,a.UT)(t)){let r;try{r=t.parseLiteral(e,n)}catch(f){return}if(void 0===r)return;return r}(0,i.k)(!1,"Unexpected input type: "+(0,r.X)(t))}}function c(e,t){return e.kind===s.h.VARIABLE&&(null==t||void 0===t[e.name.value])}},2319:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(4950),i=n(7359);function o(e,t){switch(e.kind){case i.h.NULL:return null;case i.h.INT:return parseInt(e.value,10);case i.h.FLOAT:return parseFloat(e.value);case i.h.STRING:case i.h.ENUM:case i.h.BOOLEAN:return e.value;case i.h.LIST:return e.values.map((e=>o(e,t)));case i.h.OBJECT:return(0,r.w)(e.fields,(e=>e.name.value),(e=>o(e.value,t)));case i.h.VARIABLE:return null===t||void 0===t?void 0:t[e.name.value]}}},2734:function(e,t,n){"use strict";n.d(t,{yv:function(){return a},_t:function(){return u}});var r=n(7359),i=n(7304),o=n(2676);class s{constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{t=Object.create(null);for(const e of this.getDocument().definitions)e.kind===r.h.FRAGMENT_DEFINITION&&(t[e.name.value]=e);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){t=[];const n=[e];let i;for(;i=n.pop();)for(const e of i.selections)e.kind===r.h.FRAGMENT_SPREAD?t.push(e):e.selectionSet&&n.push(e.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];const n=Object.create(null),r=[e.selectionSet];let i;for(;i=r.pop();)for(const e of this.getFragmentSpreads(i)){const i=e.name.value;if(!0!==n[i]){n[i]=!0;const e=this.getFragment(i);e&&(t.push(e),r.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}}class a extends s{constructor(e,t,n){super(e,n),this._schema=t}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class u extends s{constructor(e,t,n,r){super(t,r),this._schema=e,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let t=this._variableUsages.get(e);if(!t){const n=[],r=new o.a(this._schema);(0,i.Vn)(e,(0,o.y)(r,{VariableDefinition:()=>!1,Variable(e){n.push({node:e,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),t=n,this._variableUsages.set(e,t)}return t}getRecursiveVariableUsages(e){let t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(const n of this.getRecursivelyReferencedFragments(e))t=t.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(e,t)}return t}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}},8081:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(8087),i=n(7359),o=n(5844);function s(e){return{Document(t){for(const n of t.definitions)if(!(0,o.Wk)(n)){const t=n.kind===i.h.SCHEMA_DEFINITION||n.kind===i.h.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new r.__(`The ${t} definition is not executable.`,{nodes:n}))}return!1}}}},8741:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(3177),i=n(8224),o=n(3294),s=n(8087),a=n(4454);function u(e){return{Field(t){const n=e.getParentType();if(n){if(!e.getFieldDef()){const u=e.getSchema(),c=t.name.value;let f=(0,r.l)("to use an inline fragment on",function(e,t,n){if(!(0,a.m0)(t))return[];const r=new Set,o=Object.create(null);for(const i of e.getPossibleTypes(t))if(i.getFields()[n]){r.add(i),o[i.name]=1;for(const e of i.getInterfaces()){var s;e.getFields()[n]&&(r.add(e),o[e.name]=(null!==(s=o[e.name])&&void 0!==s?s:0)+1)}}return[...r].sort(((t,n)=>{const r=o[n.name]-o[t.name];return 0!==r?r:(0,a.oT)(t)&&e.isSubType(t,n)?-1:(0,a.oT)(n)&&e.isSubType(n,t)?1:(0,i.K)(t.name,n.name)})).map((e=>e.name))}(u,n,c));""===f&&(f=(0,r.l)(function(e,t){if((0,a.lp)(e)||(0,a.oT)(e)){const n=Object.keys(e.getFields());return(0,o.D)(t,n)}return[]}(n,c))),e.reportError(new s.__(`Cannot query field "${c}" on type "${n.name}".`+f,{nodes:t}))}}}}}},7143:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(8087),i=n(6918),o=n(4454),s=n(77);function a(e){return{InlineFragment(t){const n=t.typeCondition;if(n){const t=(0,s._)(e.getSchema(),n);if(t&&!(0,o.Gv)(t)){const t=(0,i.S)(n);e.reportError(new r.__(`Fragment cannot condition on non composite type "${t}".`,{nodes:n}))}}},FragmentDefinition(t){const n=(0,s._)(e.getSchema(),t.typeCondition);if(n&&!(0,o.Gv)(n)){const n=(0,i.S)(t.typeCondition);e.reportError(new r.__(`Fragment "${t.name.value}" cannot condition on non composite type "${n}".`,{nodes:t.typeCondition}))}}}}},7815:function(e,t,n){"use strict";n.d(t,{e:function(){return u},o:function(){return c}});var r=n(3177),i=n(3294),o=n(8087),s=n(7359),a=n(8238);function u(e){return{...c(e),Argument(t){const n=e.getArgument(),s=e.getFieldDef(),a=e.getParentType();if(!n&&s&&a){const n=t.name.value,u=s.args.map((e=>e.name)),c=(0,i.D)(n,u);e.reportError(new o.__(`Unknown argument "${n}" on field "${a.name}.${s.name}".`+(0,r.l)(c),{nodes:t}))}}}}function c(e){const t=Object.create(null),n=e.getSchema(),u=n?n.getDirectives():a.V4;for(const r of u)t[r.name]=r.args.map((e=>e.name));const c=e.getDocument().definitions;for(const r of c)if(r.kind===s.h.DIRECTIVE_DEFINITION){var f;const e=null!==(f=r.arguments)&&void 0!==f?f:[];t[r.name.value]=e.map((e=>e.name.value))}return{Directive(n){const s=n.name.value,a=t[s];if(n.arguments&&a)for(const t of n.arguments){const n=t.name.value;if(!a.includes(n)){const u=(0,i.D)(n,a);e.reportError(new o.__(`Unknown argument "${n}" on directive "@${s}".`+(0,r.l)(u),{nodes:t}))}}return!1}}}},4873:function(e,t,n){"use strict";n.d(t,{J:function(){return f}});var r=n(5821),i=n(9551),o=n(8087),s=n(2380),a=n(9878),u=n(7359),c=n(8238);function f(e){const t=Object.create(null),n=e.getSchema(),f=n?n.getDirectives():c.V4;for(const r of f)t[r.name]=r.locations;const l=e.getDocument().definitions;for(const r of l)r.kind===u.h.DIRECTIVE_DEFINITION&&(t[r.name.value]=r.locations.map((e=>e.value)));return{Directive(n,c,f,l,d){const h=n.name.value,p=t[h];if(!p)return void e.reportError(new o.__(`Unknown directive "@${h}".`,{nodes:n}));const m=function(e){const t=e[e.length-1];switch("kind"in t||(0,i.k)(!1),t.kind){case u.h.OPERATION_DEFINITION:return function(e){switch(e){case s.ku.QUERY:return a.B.QUERY;case s.ku.MUTATION:return a.B.MUTATION;case s.ku.SUBSCRIPTION:return a.B.SUBSCRIPTION}}(t.operation);case u.h.FIELD:return a.B.FIELD;case u.h.FRAGMENT_SPREAD:return a.B.FRAGMENT_SPREAD;case u.h.INLINE_FRAGMENT:return a.B.INLINE_FRAGMENT;case u.h.FRAGMENT_DEFINITION:return a.B.FRAGMENT_DEFINITION;case u.h.VARIABLE_DEFINITION:return a.B.VARIABLE_DEFINITION;case u.h.SCHEMA_DEFINITION:case u.h.SCHEMA_EXTENSION:return a.B.SCHEMA;case u.h.SCALAR_TYPE_DEFINITION:case u.h.SCALAR_TYPE_EXTENSION:return a.B.SCALAR;case u.h.OBJECT_TYPE_DEFINITION:case u.h.OBJECT_TYPE_EXTENSION:return a.B.OBJECT;case u.h.FIELD_DEFINITION:return a.B.FIELD_DEFINITION;case u.h.INTERFACE_TYPE_DEFINITION:case u.h.INTERFACE_TYPE_EXTENSION:return a.B.INTERFACE;case u.h.UNION_TYPE_DEFINITION:case u.h.UNION_TYPE_EXTENSION:return a.B.UNION;case u.h.ENUM_TYPE_DEFINITION:case u.h.ENUM_TYPE_EXTENSION:return a.B.ENUM;case u.h.ENUM_VALUE_DEFINITION:return a.B.ENUM_VALUE;case u.h.INPUT_OBJECT_TYPE_DEFINITION:case u.h.INPUT_OBJECT_TYPE_EXTENSION:return a.B.INPUT_OBJECT;case u.h.INPUT_VALUE_DEFINITION:{const t=e[e.length-3];return"kind"in t||(0,i.k)(!1),t.kind===u.h.INPUT_OBJECT_TYPE_DEFINITION?a.B.INPUT_FIELD_DEFINITION:a.B.ARGUMENT_DEFINITION}default:(0,i.k)(!1,"Unexpected kind: "+(0,r.X)(t.kind))}}(d);m&&!p.includes(m)&&e.reportError(new o.__(`Directive "@${h}" may not be used on ${m}.`,{nodes:n}))}}}},5311:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(8087);function i(e){return{FragmentSpread(t){const n=t.name.value;e.getFragment(n)||e.reportError(new r.__(`Unknown fragment "${n}".`,{nodes:t.name}))}}}},5580:function(e,t,n){"use strict";n.d(t,{I:function(){return u}});var r=n(3177),i=n(3294),o=n(8087),s=n(5844),a=n(2433);function u(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),a=Object.create(null);for(const r of e.getDocument().definitions)(0,s.zT)(r)&&(a[r.name.value]=!0);const u=[...Object.keys(n),...Object.keys(a)];return{NamedType(t,f,l,d,h){const p=t.name.value;if(!n[p]&&!a[p]){var m;const n=null!==(m=h[2])&&void 0!==m?m:l,a=null!=n&&("kind"in(y=n)&&((0,s.G4)(y)||(0,s.aU)(y)));if(a&&c.includes(p))return;const f=(0,i.D)(p,a?c.concat(u):u);e.reportError(new o.__(`Unknown type "${p}".`+(0,r.l)(f),{nodes:t}))}var y}}}const c=[...n(3801).HS,...a.nL].map((e=>e.name))},7898:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var r=n(8087),i=n(7359);function o(e){let t=0;return{Document(e){t=e.definitions.filter((e=>e.kind===i.h.OPERATION_DEFINITION)).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new r.__("This anonymous operation must be the only defined operation.",{nodes:n}))}}}},2877:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(8087);function i(e){var t,n,i;const o=e.getSchema(),s=null!==(t=null!==(n=null!==(i=null===o||void 0===o?void 0:o.astNode)&&void 0!==i?i:null===o||void 0===o?void 0:o.getQueryType())&&void 0!==n?n:null===o||void 0===o?void 0:o.getMutationType())&&void 0!==t?t:null===o||void 0===o?void 0:o.getSubscriptionType();let a=0;return{SchemaDefinition(t){s?e.reportError(new r.__("Cannot define a new schema within a schema extension.",{nodes:t})):(a>0&&e.reportError(new r.__("Must provide only one schema definition.",{nodes:t})),++a)}}}},1422:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(8087);function i(e){const t=Object.create(null),n=[],i=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(o(e),!1)};function o(s){if(t[s.name.value])return;const a=s.name.value;t[a]=!0;const u=e.getFragmentSpreads(s.selectionSet);if(0!==u.length){i[a]=n.length;for(const t of u){const s=t.name.value,a=i[s];if(n.push(t),void 0===a){const t=e.getFragment(s);t&&o(t)}else{const t=n.slice(a),i=t.slice(0,-1).map((e=>'"'+e.name.value+'"')).join(", ");e.reportError(new r.__(`Cannot spread fragment "${s}" within itself`+(""!==i?` via ${i}.`:"."),{nodes:t}))}n.pop()}i[a]=void 0}}}},4790:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(8087);function i(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const i=e.getRecursiveVariableUsages(n);for(const{node:o}of i){const i=o.name.value;!0!==t[i]&&e.reportError(new r.__(n.name?`Variable "$${i}" is not defined by operation "${n.name.value}".`:`Variable "$${i}" is not defined.`,{nodes:[o,n]}))}}},VariableDefinition(e){t[e.variable.name.value]=!0}}}},1294:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(8087);function i(e){const t=[],n=[];return{OperationDefinition:e=>(t.push(e),!1),FragmentDefinition:e=>(n.push(e),!1),Document:{leave(){const i=Object.create(null);for(const n of t)for(const t of e.getRecursivelyReferencedFragments(n))i[t.name.value]=!0;for(const t of n){const n=t.name.value;!0!==i[n]&&e.reportError(new r.__(`Fragment "${n}" is never used.`,{nodes:t}))}}}}}},2283:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(8087);function i(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){const i=Object.create(null),o=e.getRecursiveVariableUsages(n);for(const{node:e}of o)i[e.name.value]=!0;for(const s of t){const t=s.variable.name.value;!0!==i[t]&&e.reportError(new r.__(n.name?`Variable "$${t}" is never used in operation "${n.name.value}".`:`Variable "$${t}" is never used.`,{nodes:s}))}}},VariableDefinition(e){t.push(e)}}}},4203:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r=n(5821),i=n(8087),o=n(7359),s=n(6918),a=n(4454),u=n(8360),c=n(77);function f(e){return Array.isArray(e)?e.map((([e,t])=>`subfields "${e}" conflict because `+f(t))).join(" and "):e}function l(e){const t=new E,n=new Map;return{SelectionSet(r){const o=function(e,t,n,r,i){const o=[],[s,a]=v(e,t,r,i);if(function(e,t,n,r,i){for(const[o,s]of Object.entries(i))if(s.length>1)for(let i=0;i<s.length;i++)for(let a=i+1;a<s.length;a++){const u=m(e,n,r,!1,o,s[i],s[a]);u&&t.push(u)}}(e,o,t,n,s),0!==a.length)for(let u=0;u<a.length;u++){d(e,o,t,n,!1,s,a[u]);for(let r=u+1;r<a.length;r++)h(e,o,t,n,!1,a[u],a[r])}return o}(e,n,t,e.getParentType(),r);for(const[[t,n],s,a]of o){const r=f(n);e.reportError(new i.__(`Fields "${t}" conflict because ${r}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:s.concat(a)}))}}}}function d(e,t,n,r,i,o,s){const a=e.getFragment(s);if(!a)return;const[u,c]=w(e,n,a);if(o!==u){p(e,t,n,r,i,o,u);for(const a of c)r.has(a,s,i)||(r.add(a,s,i),d(e,t,n,r,i,o,a))}}function h(e,t,n,r,i,o,s){if(o===s)return;if(r.has(o,s,i))return;r.add(o,s,i);const a=e.getFragment(o),u=e.getFragment(s);if(!a||!u)return;const[c,f]=w(e,n,a),[l,d]=w(e,n,u);p(e,t,n,r,i,c,l);for(const p of d)h(e,t,n,r,i,o,p);for(const p of f)h(e,t,n,r,i,p,s)}function p(e,t,n,r,i,o,s){for(const[a,u]of Object.entries(o)){const o=s[a];if(o)for(const s of u)for(const u of o){const o=m(e,n,r,i,a,s,u);o&&t.push(o)}}}function m(e,t,n,i,o,s,u){const[c,f,l]=s,[m,w,b]=u,E=i||c!==m&&(0,a.lp)(c)&&(0,a.lp)(m);if(!E){const e=f.name.value,t=w.name.value;if(e!==t)return[[o,`"${e}" and "${t}" are different fields`],[f],[w]];if(y(f)!==y(w))return[[o,"they have differing arguments"],[f],[w]]}const T=null===l||void 0===l?void 0:l.type,I=null===b||void 0===b?void 0:b.type;if(T&&I&&g(T,I))return[[o,`they return conflicting types "${(0,r.X)(T)}" and "${(0,r.X)(I)}"`],[f],[w]];const _=f.selectionSet,A=w.selectionSet;if(_&&A){return function(e,t,n,r){if(e.length>0)return[[t,e.map((([e])=>e))],[n,...e.map((([,e])=>e)).flat()],[r,...e.map((([,,e])=>e)).flat()]]}(function(e,t,n,r,i,o,s,a){const u=[],[c,f]=v(e,t,i,o),[l,m]=v(e,t,s,a);p(e,u,t,n,r,c,l);for(const h of m)d(e,u,t,n,r,c,h);for(const h of f)d(e,u,t,n,r,l,h);for(const d of f)for(const i of m)h(e,u,t,n,r,d,i);return u}(e,t,n,E,(0,a.xC)(T),_,(0,a.xC)(I),A),o,f,w)}}function y(e){var t;const n=null!==(t=e.arguments)&&void 0!==t?t:[],r={kind:o.h.OBJECT,fields:n.map((e=>({kind:o.h.OBJECT_FIELD,name:e.name,value:e.value})))};return(0,s.S)((0,u.n)(r))}function g(e,t){return(0,a.HG)(e)?!(0,a.HG)(t)||g(e.ofType,t.ofType):!!(0,a.HG)(t)||((0,a.zM)(e)?!(0,a.zM)(t)||g(e.ofType,t.ofType):!!(0,a.zM)(t)||!(!(0,a.UT)(e)&&!(0,a.UT)(t))&&e!==t)}function v(e,t,n,r){const i=t.get(r);if(i)return i;const o=Object.create(null),s=Object.create(null);b(e,n,r,o,s);const a=[o,Object.keys(s)];return t.set(r,a),a}function w(e,t,n){const r=t.get(n.selectionSet);if(r)return r;const i=(0,c._)(e.getSchema(),n.typeCondition);return v(e,t,i,n.selectionSet)}function b(e,t,n,r,i){for(const s of n.selections)switch(s.kind){case o.h.FIELD:{const e=s.name.value;let n;((0,a.lp)(t)||(0,a.oT)(t))&&(n=t.getFields()[e]);const i=s.alias?s.alias.value:e;r[i]||(r[i]=[]),r[i].push([t,s,n]);break}case o.h.FRAGMENT_SPREAD:i[s.name.value]=!0;break;case o.h.INLINE_FRAGMENT:{const n=s.typeCondition,o=n?(0,c._)(e.getSchema(),n):t;b(e,o,s.selectionSet,r,i);break}}}class E{constructor(){this._data=new Map}has(e,t,n){var r;const[i,o]=e<t?[e,t]:[t,e],s=null===(r=this._data.get(i))||void 0===r?void 0:r.get(o);return void 0!==s&&(!!n||n===s)}add(e,t,n){const[r,i]=e<t?[e,t]:[t,e],o=this._data.get(r);void 0===o?this._data.set(r,new Map([[i,n]])):o.set(i,n)}}},3259:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(5821),i=n(8087),o=n(4454),s=n(316),a=n(77);function u(e){return{InlineFragment(t){const n=e.getType(),a=e.getParentType();if((0,o.Gv)(n)&&(0,o.Gv)(a)&&!(0,s.zR)(e.getSchema(),n,a)){const o=(0,r.X)(a),s=(0,r.X)(n);e.reportError(new i.__(`Fragment cannot be spread here as objects of type "${o}" can never be of type "${s}".`,{nodes:t}))}},FragmentSpread(t){const n=t.name.value,u=function(e,t){const n=e.getFragment(t);if(n){const t=(0,a._)(e.getSchema(),n.typeCondition);if((0,o.Gv)(t))return t}}(e,n),c=e.getParentType();if(u&&c&&!(0,s.zR)(e.getSchema(),u,c)){const o=(0,r.X)(c),s=(0,r.X)(u);e.reportError(new i.__(`Fragment "${n}" cannot be spread here as objects of type "${o}" can never be of type "${s}".`,{nodes:t}))}}}}},4800:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(3177),i=n(5821),o=n(9551),s=n(3294),a=n(8087),u=n(7359),c=n(5844),f=n(4454);function l(e){const t=e.getSchema(),n=Object.create(null);for(const r of e.getDocument().definitions)(0,c.zT)(r)&&(n[r.name.value]=r);return{ScalarTypeExtension:l,ObjectTypeExtension:l,InterfaceTypeExtension:l,UnionTypeExtension:l,EnumTypeExtension:l,InputObjectTypeExtension:l};function l(c){const l=c.name.value,h=n[l],p=null===t||void 0===t?void 0:t.getType(l);let m;if(h?m=d[h.kind]:p&&(m=function(e){if((0,f.KA)(e))return u.h.SCALAR_TYPE_EXTENSION;if((0,f.lp)(e))return u.h.OBJECT_TYPE_EXTENSION;if((0,f.oT)(e))return u.h.INTERFACE_TYPE_EXTENSION;if((0,f.EN)(e))return u.h.UNION_TYPE_EXTENSION;if((0,f.EM)(e))return u.h.ENUM_TYPE_EXTENSION;if((0,f.hL)(e))return u.h.INPUT_OBJECT_TYPE_EXTENSION;(0,o.k)(!1,"Unexpected type: "+(0,i.X)(e))}(p)),m){if(m!==c.kind){const t=function(e){switch(e){case u.h.SCALAR_TYPE_EXTENSION:return"scalar";case u.h.OBJECT_TYPE_EXTENSION:return"object";case u.h.INTERFACE_TYPE_EXTENSION:return"interface";case u.h.UNION_TYPE_EXTENSION:return"union";case u.h.ENUM_TYPE_EXTENSION:return"enum";case u.h.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,o.k)(!1,"Unexpected kind: "+(0,i.X)(e))}}(c.kind);e.reportError(new a.__(`Cannot extend non-${t} type "${l}".`,{nodes:h?[h,c]:c}))}}else{const i=Object.keys({...n,...null===t||void 0===t?void 0:t.getTypeMap()}),o=(0,s.D)(l,i);e.reportError(new a.__(`Cannot extend type "${l}" because it is not defined.`+(0,r.l)(o),{nodes:c.name}))}}}const d={[u.h.SCALAR_TYPE_DEFINITION]:u.h.SCALAR_TYPE_EXTENSION,[u.h.OBJECT_TYPE_DEFINITION]:u.h.OBJECT_TYPE_EXTENSION,[u.h.INTERFACE_TYPE_DEFINITION]:u.h.INTERFACE_TYPE_EXTENSION,[u.h.UNION_TYPE_DEFINITION]:u.h.UNION_TYPE_EXTENSION,[u.h.ENUM_TYPE_DEFINITION]:u.h.ENUM_TYPE_EXTENSION,[u.h.INPUT_OBJECT_TYPE_DEFINITION]:u.h.INPUT_OBJECT_TYPE_EXTENSION}},1967:function(e,t,n){"use strict";n.d(t,{s:function(){return f},c:function(){return l}});var r=n(5821),i=n(3498),o=n(8087),s=n(7359),a=n(6918),u=n(4454),c=n(8238);function f(e){return{...l(e),Field:{leave(t){var n;const i=e.getFieldDef();if(!i)return!1;const s=new Set(null===(n=t.arguments)||void 0===n?void 0:n.map((e=>e.name.value)));for(const a of i.args)if(!s.has(a.name)&&(0,u.dK)(a)){const n=(0,r.X)(a.type);e.reportError(new o.__(`Field "${i.name}" argument "${a.name}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}function l(e){var t;const n=Object.create(null),f=e.getSchema(),l=null!==(t=null===f||void 0===f?void 0:f.getDirectives())&&void 0!==t?t:c.V4;for(const r of l)n[r.name]=(0,i.P)(r.args.filter(u.dK),(e=>e.name));const h=e.getDocument().definitions;for(const r of h)if(r.kind===s.h.DIRECTIVE_DEFINITION){var p;const e=null!==(p=r.arguments)&&void 0!==p?p:[];n[r.name.value]=(0,i.P)(e.filter(d),(e=>e.name.value))}return{Directive:{leave(t){const i=t.name.value,s=n[i];if(s){var c;const n=null!==(c=t.arguments)&&void 0!==c?c:[],f=new Set(n.map((e=>e.name.value)));for(const[c,l]of Object.entries(s))if(!f.has(c)){const n=(0,u.P9)(l.type)?(0,r.X)(l.type):(0,a.S)(l.type);e.reportError(new o.__(`Directive "@${i}" argument "${c}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}}function d(e){return e.type.kind===s.h.NON_NULL_TYPE&&null==e.defaultValue}},1954:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(5821),i=n(8087),o=n(4454);function s(e){return{Field(t){const n=e.getType(),s=t.selectionSet;if(n)if((0,o.UT)((0,o.xC)(n))){if(s){const o=t.name.value,a=(0,r.X)(n);e.reportError(new i.__(`Field "${o}" must not have a selection since type "${a}" has no subfields.`,{nodes:s}))}}else if(!s){const o=t.name.value,s=(0,r.X)(n);e.reportError(new i.__(`Field "${o}" of type "${s}" must have a selection of subfields. Did you mean "${o} { ... }"?`,{nodes:t}))}}}}},423:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(8087),i=n(7359),o=n(7677);function s(e){return{OperationDefinition(t){if("subscription"===t.operation){const n=e.getSchema(),s=n.getSubscriptionType();if(s){const a=t.name?t.name.value:null,u=Object.create(null),c=e.getDocument(),f=Object.create(null);for(const e of c.definitions)e.kind===i.h.FRAGMENT_DEFINITION&&(f[e.name.value]=e);const l=(0,o.g)(n,f,u,s,t.selectionSet);if(l.size>1){const t=[...l.values()].slice(1).flat();e.reportError(new r.__(null!=a?`Subscription "${a}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:t}))}for(const t of l.values()){t[0].name.value.startsWith("__")&&e.reportError(new r.__(null!=a?`Subscription "${a}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:t}))}}}}}}},2337:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(3231),i=n(8087);function o(e){return{DirectiveDefinition(e){var t;const r=null!==(t=e.arguments)&&void 0!==t?t:[];return n(`@${e.name.value}`,r)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(e){var t;const r=e.name.value,i=null!==(t=e.fields)&&void 0!==t?t:[];for(const s of i){var o;n(`${r}.${s.name.value}`,null!==(o=s.arguments)&&void 0!==o?o:[])}return!1}function n(t,n){const o=(0,r.v)(n,(e=>e.name.value));for(const[r,s]of o)s.length>1&&e.reportError(new i.__(`Argument "${t}(${r}:)" can only be defined once.`,{nodes:s.map((e=>e.name))}));return!1}}},2266:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(3231),i=n(8087);function o(e){return{Field:t,Directive:t};function t(t){var n;const o=null!==(n=t.arguments)&&void 0!==n?n:[],s=(0,r.v)(o,(e=>e.name.value));for(const[r,a]of s)a.length>1&&e.reportError(new i.__(`There can be only one argument named "${r}".`,{nodes:a.map((e=>e.name))}))}}},3274:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=n(8087);function i(e){const t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(i){const o=i.name.value;if(null===n||void 0===n||!n.getDirective(o))return t[o]?e.reportError(new r.__(`There can be only one directive named "@${o}".`,{nodes:[t[o],i.name]})):t[o]=i.name,!1;e.reportError(new r.__(`Directive "@${o}" already exists in the schema. It cannot be redefined.`,{nodes:i.name}))}}}},6300:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(8087),i=n(7359),o=n(5844),s=n(8238);function a(e){const t=Object.create(null),n=e.getSchema(),a=n?n.getDirectives():s.V4;for(const r of a)t[r.name]=!r.isRepeatable;const u=e.getDocument().definitions;for(const r of u)r.kind===i.h.DIRECTIVE_DEFINITION&&(t[r.name.value]=!r.repeatable);const c=Object.create(null),f=Object.create(null);return{enter(n){if(!("directives"in n)||!n.directives)return;let s;if(n.kind===i.h.SCHEMA_DEFINITION||n.kind===i.h.SCHEMA_EXTENSION)s=c;else if((0,o.zT)(n)||(0,o.D$)(n)){const e=n.name.value;s=f[e],void 0===s&&(f[e]=s=Object.create(null))}else s=Object.create(null);for(const i of n.directives){const n=i.name.value;t[n]&&(s[n]?e.reportError(new r.__(`The directive "@${n}" can only be used once at this location.`,{nodes:[s[n],i]})):s[n]=i)}}}}},3201:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(8087),i=n(4454);function o(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),o=Object.create(null);return{EnumTypeDefinition:s,EnumTypeExtension:s};function s(t){var s;const a=t.name.value;o[a]||(o[a]=Object.create(null));const u=null!==(s=t.values)&&void 0!==s?s:[],c=o[a];for(const o of u){const t=o.name.value,s=n[a];(0,i.EM)(s)&&s.getValue(t)?e.reportError(new r.__(`Enum value "${a}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:o.name})):c[t]?e.reportError(new r.__(`Enum value "${a}.${t}" can only be defined once.`,{nodes:[c[t],o.name]})):c[t]=o.name}return!1}}},2618:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(8087),i=n(4454);function o(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),i=Object.create(null);return{InputObjectTypeDefinition:o,InputObjectTypeExtension:o,InterfaceTypeDefinition:o,InterfaceTypeExtension:o,ObjectTypeDefinition:o,ObjectTypeExtension:o};function o(t){var o;const a=t.name.value;i[a]||(i[a]=Object.create(null));const u=null!==(o=t.fields)&&void 0!==o?o:[],c=i[a];for(const i of u){const t=i.name.value;s(n[a],t)?e.reportError(new r.__(`Field "${a}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:i.name})):c[t]?e.reportError(new r.__(`Field "${a}.${t}" can only be defined once.`,{nodes:[c[t],i.name]})):c[t]=i.name}return!1}}function s(e,t){return!!((0,i.lp)(e)||(0,i.oT)(e)||(0,i.hL)(e))&&null!=e.getFields()[t]}},5591:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(8087);function i(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const i=n.name.value;return t[i]?e.reportError(new r.__(`There can be only one fragment named "${i}".`,{nodes:[t[i],n.name]})):t[i]=n.name,!1}}}},2767:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(9551),i=n(8087);function o(e){const t=[];let n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){const e=t.pop();e||(0,r.k)(!1),n=e}},ObjectField(t){const r=t.name.value;n[r]?e.reportError(new i.__(`There can be only one input field named "${r}".`,{nodes:[n[r],t.name]})):n[r]=t.name}}}},2621:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(8087);function i(e){const t=Object.create(null);return{OperationDefinition(n){const i=n.name;return i&&(t[i.value]?e.reportError(new r.__(`There can be only one operation named "${i.value}".`,{nodes:[t[i.value],i]})):t[i.value]=i),!1},FragmentDefinition:()=>!1}}},7990:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(8087);function i(e){const t=e.getSchema(),n=Object.create(null),i=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:o,SchemaExtension:o};function o(t){var o;const s=null!==(o=t.operationTypes)&&void 0!==o?o:[];for(const a of s){const t=a.operation,o=n[t];i[t]?e.reportError(new r.__(`Type for ${t} already defined in the schema. It cannot be redefined.`,{nodes:a})):o?e.reportError(new r.__(`There can be only one ${t} type in schema.`,{nodes:[o,a]})):n[t]=a}return!1}}},9538:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(8087);function i(e){const t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:i,ObjectTypeDefinition:i,InterfaceTypeDefinition:i,UnionTypeDefinition:i,EnumTypeDefinition:i,InputObjectTypeDefinition:i};function i(i){const o=i.name.value;if(null===n||void 0===n||!n.getType(o))return t[o]?e.reportError(new r.__(`There can be only one type named "${o}".`,{nodes:[t[o],i.name]})):t[o]=i.name,!1;e.reportError(new r.__(`Type "${o}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:i.name}))}}},1564:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(3231),i=n(8087);function o(e){return{OperationDefinition(t){var n;const o=null!==(n=t.variableDefinitions)&&void 0!==n?n:[],s=(0,r.v)(o,(e=>e.variable.name.value));for(const[r,a]of s)a.length>1&&e.reportError(new i.__(`There can be only one variable named "$${r}".`,{nodes:a.map((e=>e.variable.name))}))}}}},9831:function(e,t,n){"use strict";n.d(t,{j:function(){return f}});var r=n(3177),i=n(5821),o=n(3498),s=n(3294),a=n(8087),u=n(6918),c=n(4454);function f(e){return{ListValue(t){const n=(0,c.tf)(e.getParentInputType());if(!(0,c.HG)(n))return l(e,t),!1},ObjectValue(t){const n=(0,c.xC)(e.getInputType());if(!(0,c.hL)(n))return l(e,t),!1;const r=(0,o.P)(t.fields,(e=>e.name.value));for(const o of Object.values(n.getFields())){if(!r[o.name]&&(0,c.Wd)(o)){const r=(0,i.X)(o.type);e.reportError(new a.__(`Field "${n.name}.${o.name}" of required type "${r}" was not provided.`,{nodes:t}))}}},ObjectField(t){const n=(0,c.xC)(e.getParentInputType());if(!e.getInputType()&&(0,c.hL)(n)){const i=(0,s.D)(t.name.value,Object.keys(n.getFields()));e.reportError(new a.__(`Field "${t.name.value}" is not defined by type "${n.name}".`+(0,r.l)(i),{nodes:t}))}},NullValue(t){const n=e.getInputType();(0,c.zM)(n)&&e.reportError(new a.__(`Expected value of type "${(0,i.X)(n)}", found ${(0,u.S)(t)}.`,{nodes:t}))},EnumValue:t=>l(e,t),IntValue:t=>l(e,t),FloatValue:t=>l(e,t),StringValue:t=>l(e,t),BooleanValue:t=>l(e,t)}}function l(e,t){const n=e.getInputType();if(!n)return;const r=(0,c.xC)(n);if((0,c.UT)(r))try{if(void 0===r.parseLiteral(t,void 0)){const r=(0,i.X)(n);e.reportError(new a.__(`Expected value of type "${r}", found ${(0,u.S)(t)}.`,{nodes:t}))}}catch(o){const r=(0,i.X)(n);o instanceof a.__?e.reportError(o):e.reportError(new a.__(`Expected value of type "${r}", found ${(0,u.S)(t)}; `+o.message,{nodes:t,originalError:o}))}else{const r=(0,i.X)(n);e.reportError(new a.__(`Expected value of type "${r}", found ${(0,u.S)(t)}.`,{nodes:t}))}}},5972:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(8087),i=n(6918),o=n(4454),s=n(77);function a(e){return{VariableDefinition(t){const n=(0,s._)(e.getSchema(),t.type);if(void 0!==n&&!(0,o.j$)(n)){const n=t.variable.name.value,o=(0,i.S)(t.type);e.reportError(new r.__(`Variable "$${n}" cannot be non-input type "${o}".`,{nodes:t.type}))}}}}},9701:function(e,t,n){"use strict";n.d(t,{w:function(){return c}});var r=n(5821),i=n(8087),o=n(7359),s=n(4454),a=n(316),u=n(77);function c(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const o=e.getRecursiveVariableUsages(n);for(const{node:s,type:a,defaultValue:c}of o){const n=s.name.value,o=t[n];if(o&&a){const t=e.getSchema(),l=(0,u._)(t,o.type);if(l&&!f(t,l,o.defaultValue,a,c)){const t=(0,r.X)(l),u=(0,r.X)(a);e.reportError(new i.__(`Variable "$${n}" of type "${t}" used in position expecting type "${u}".`,{nodes:[o,s]}))}}}}},VariableDefinition(e){t[e.variable.name.value]=e}}}function f(e,t,n,r,i){if((0,s.zM)(r)&&!(0,s.zM)(t)){const s=void 0!==i;if(!(null!=n&&n.kind!==o.h.NULL)&&!s)return!1;const u=r.ofType;return(0,a.uJ)(e,t,u)}return(0,a.uJ)(e,t,r)}},4196:function(e,t,n){"use strict";n.d(t,{i:function(){return L},M:function(){return P}});var r=n(8081),i=n(8741),o=n(7143),s=n(7815),a=n(4873),u=n(5311),c=n(5580),f=n(7898),l=n(2877),d=n(1422),h=n(4790),p=n(1294),m=n(2283),y=n(4203),g=n(3259),v=n(4800),w=n(1967),b=n(1954),E=n(423),T=n(2337),I=n(2266),_=n(3274),A=n(6300),S=n(3201),N=n(2618),x=n(5591),O=n(2767),k=n(2621),C=n(7990),D=n(9538),M=n(1564),R=n(9831),U=n(5972),B=n(9701);const L=Object.freeze([r.i,k.H,f.F,E.Z,c.I,o.T,U.I,b.O,i.A,x.N,u.a,p.J,g.a,d.H,M.H,h.$,m.p,a.J,A.k,s.e,I.L,R.j,w.s,B.w,y.y,O.P]),P=Object.freeze([l.t,C.q,D.P,S.L,N.y,T.L,_.o,c.I,a.J,A.k,v.g,s.o,I.L,O.P,w.c])},6584:function(e,t,n){"use strict";n.d(t,{Gu:function(){return f},zo:function(){return d},ED:function(){return h}});var r=n(7826),i=n(8087),o=n(7304),s=n(9655),a=n(2676),u=n(4196),c=n(2734);function f(e,t,n=u.i,f,l=new a.a(e)){var d;const h=null!==(d=null===f||void 0===f?void 0:f.maxErrors)&&void 0!==d?d:100;t||(0,r.a)(!1,"Must provide document."),(0,s.J)(e);const p=Object.freeze({}),m=[],y=new c._t(e,t,l,(e=>{if(m.length>=h)throw m.push(new i.__("Too many validation errors, error limit reached. Validation aborted.")),p;m.push(e)})),g=(0,o.j1)(n.map((e=>e(y))));try{(0,o.Vn)(t,(0,a.y)(l,g))}catch(v){if(v!==p)throw v}return m}function l(e,t,n=u.M){const r=[],i=new c.yv(e,t,(e=>{r.push(e)})),s=n.map((e=>e(i)));return(0,o.Vn)(e,(0,o.j1)(s)),r}function d(e){const t=l(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}function h(e,t){const n=l(e,t);if(0!==n.length)throw new Error(n.map((e=>e.message)).join("\n\n"))}},5944:function(e,t,n){"use strict";n.d(t,{i:function(){return r},A:function(){return i}});const r="16.7.1",i=Object.freeze({major:16,minor:7,patch:1,preReleaseTag:null})},9228:function(e,t,n){"use strict";n.d(t,{o:function(){return w}});var r=n(1050),i=n(452),o=n(5035),s=n(7006),a=n(8021),u=n(1505);function c(e,t){return{jsonrpc:"2.0",id:e,error:{code:t,message:(0,u.e$)(t)}}}function f(e,t,n){console.warn("Unhandled handler error",t,n)}function l(e,t){console.warn("Unhandled invalid message",t)}function d(e,t){console.warn("Unhandled notification",t)}function h(e,t={}){const n=t.onHandlerError??f,r=t.onInvalidMessage??l,i=t.onNotification??d,o={};return async function(t,f){const l=f.id;if("2.0"!==f.jsonrpc||null==f.method)return null==l?(r(t,f),null):c(l,u.Bq.INVALID_REQUEST);const d=e[f.method];if(null==d)return null==l?(function(e,t){if(t.method===a.X){const e=t.params?.id;null!=e&&o[e]?.abort()}else i(e,t)}(t,f),null):c(l,u.Bq.METHOD_NOT_FOUND);try{let e;if(null!=l&&d[s.WU]){const n=new AbortController;o[l]=n,e=d(t,f.params,{signal:n.signal})}else e=d(t,f.params,{});const n=null==e?e:"function"===typeof e.then?await e:e;return null==l||o[l]?.signal.aborted?null:{jsonrpc:"2.0",id:l,result:n}}catch(h){if(null==l||o[l]?.signal.aborted)return n(t,f,h),null;let e;if(h instanceof u.O$)e=h.toObject();else{n(t,f,h);const r=h.code??-32e3;e={code:r,message:h.message||(0,u.e$)(r)}}return{jsonrpc:"2.0",id:l,error:e}}finally{null!=l&&delete o[l]}}}var p=n(738);function m(e){return JSON.parse(o(e))}function y(e){const[t,n,r]=e.split(".");return{payload:n,signatures:[{protected:t,signature:r}]}}const g=async(e,t,n,r={})=>{const o=`${t}#${t.split(":")[2]}`,s=(0,i.vo)(n),a=m(Object.assign(r,{kid:o,alg:"EdDSA"}));return(0,i.pk)("string"===typeof e?e:m(e),s,a)},v={did_authenticate:async({did:e,secretKey:t},n)=>y(await g({did:e,aud:n.aud,nonce:n.nonce,paths:n.paths,exp:Math.floor(Date.now()/1e3)+600},e,t)),did_createJWS:async({did:e,secretKey:t},n)=>{if(n.did.split("#")[0]!==e)throw new u.O$(4100,`Unknown DID: ${e}`);return{jws:y(await g(n.payload,e,t,n.protected))}},did_decryptJWE:async({secretKey:e},t)=>{const n=(0,i.Y)((0,r.zh)(e));try{const e=await(0,i.jB)(t.jwe,n);return{cleartext:p.BB(e,"base64pad")}}catch(o){throw new u.O$(-32e3,o.message)}}};class w{get isDidProvider(){return!0}async send(e){return await this._handle(e)}constructor(e){const{secretKey:t,publicKey:n}=(0,r._w)(e),i=function(e){const t=new Uint8Array(e.length+2);return t[0]=237,t[1]=1,t.set(e,2),`did:key:z${p.BB(t,"base58btc")}`}(n),o=h(v);this._handle=async e=>await o({did:i,secretKey:t},e)}}},1387:function(e,t,n){"use strict";n.d(t,{Z:function(){return B},j:function(){return U}});var r={};n.r(r),n.d(r,{keyToDidDoc:function(){return l}});var i={};n.r(i),n.d(i,{keyToDidDoc:function(){return p}});var o={};n.r(o),n.d(o,{keyToDidDoc:function(){return N},pubKeyBytesToXY:function(){return x}});var s={};n.r(s),n.d(s,{keyToDidDoc:function(){return O},pubKeyBytesToXY:function(){return k}});var a={};n.r(a),n.d(a,{keyToDidDoc:function(){return C},pubKeyBytesToXY:function(){return D}});var u=n(4676),c=n(1653),f=n(738);function l(e,t){const n=`did:key:${t}`,r=`${n}#${t}`;return{id:n,verificationMethod:[{id:r,type:"Secp256k1VerificationKey2018",controller:n,publicKeyBase58:f.BB(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}var d=n(9784),h=n(1050);function p(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,i=(0,h.SH)(e),o=`${n}#${function(e){const t=new Uint8Array(e.length+2);return t[0]=236,t[1]=1,t.set(e,2),`z${(0,d.B)(t,"base58btc")}`}(i)}`;return{id:n,verificationMethod:[{id:r,type:"Ed25519VerificationKey2018",controller:n,publicKeyBase58:(0,d.B)(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r],keyAgreement:[{id:o,type:"X25519KeyAgreementKey2019",controller:n,publicKeyBase58:(0,d.B)(i,"base58btc")}]}}var m=n(9808),y=n(8237);function g(e){if(!b(e))throw new TypeError("input must be a Uint8Array");return m.toString(e,"base16")}function v(e){if(!w(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=function(e){if(!w(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=e.slice(0,e.length/2),n=e.slice(e.length/2,e.length),r=m.fromString(t,"base16"),i=m.fromString(n,"base16");return{xOctet:r,yOctet:i}}(e);return{xm:y.base64url.encode(t.xOctet).slice(1),ym:y.base64url.encode(t.yOctet).slice(1)}}function w(e){const t=/^[A-Fa-f0-9]+$/i;return!(null===t.exec(e)||!t.test(e)||"string"!=typeof e)}function b(e){return null!=e&&e.constructor===Uint8Array}function E(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=function(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=e.x.toString(),n=e.y.toString(),r=m.fromString(t,"base10"),i=m.fromString(n,"base10");return{xOctet:r,yOctet:i}}(e);return{xm:y.base64url.encode(t.xOctet).slice(1),ym:y.base64url.encode(t.yOctet).slice(1)}}function T(e){return e>=0?e:-e}function I(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),t<=0n)throw new RangeError("n must be > 0");const n=e%t;return n<0n?n+t:n}function _(e,t){const n=function(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),e<=0n||t<=0n)throw new RangeError("a and b MUST be > 0");let n=0n,r=1n,i=1n,o=0n;for(;0n!==e;){const s=t/e,a=t%e,u=n-i*s,c=r-o*s;t=e,e=a,n=i,r=o,i=u,o=c}return{g:t,x:n,y:r}}(I(e,t),t);if(1n!==n.g)throw new RangeError(`${e.toString()} does not have inverse modulo ${t.toString()}`);return I(n.x,t)}function A(e,t,n){if(e.length!==t.length)throw new RangeError("The remainders and modulos arrays should have the same length");const r=n??t.reduce(((e,t)=>e*t),1n);return t.reduce(((t,n,i)=>{const o=r/n;return I(t+o*_(o,n)%r*e[i]%r,r)}),0n)}function S(e,t,n,r){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),"number"==typeof n&&(n=BigInt(n)),n<=0n)throw new RangeError("n must be > 0");if(1n===n)return 0n;if(e=I(e,n),t<0n)return _(S(e,T(t),n,r),n);if(void 0!==r)return function(e,t,n,r){const i=r.map((e=>e[0]**e[1]));return A(r.map((e=>function(e){return e.map((e=>e[0]**(e[1]-1n)*(e[0]-1n))).reduce(((e,t)=>t*e),1n)}([e]))).map(((n,r)=>S(e,t%n,i[r]))),i,n)}(e,t,n,function(e){const t={};return e.forEach((e=>{if("bigint"==typeof e||"number"==typeof e){const n=String(e);void 0===t[n]?t[n]={p:BigInt(e),k:1n}:t[n].k+=1n}else{const n=String(e[0]);void 0===t[n]?t[n]={p:BigInt(e[0]),k:BigInt(e[1])}:t[n].k+=BigInt(e[1])}})),Object.values(t).map((e=>[e.p,e.k]))}(r));let i=1n;for(;t>0;)t%2n===1n&&(i=i*e%n),t/=2n,e=e**2n%n;return i}function N(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,i=x(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-256",x:i.xm,y:i.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function x(e){if(!b(e))throw new TypeError("input must be a Uint8Array");const t=g(e),n=t.length/2;if(64==n)return v(t);if(65==n&&"04"==t.slice(0,2)){return v(t.slice(2))}if(33==n&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return E(function(e){if(!b(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),n=t**256n-t**224n+t**192n+t**96n-1n,r=(n+1n)/4n,i=BigInt(e[0]-2),o=e.subarray(1),s=BigInt(m.toString(o,"base10"));let a=S(s**3n-3n*s+41058363725152142129326129780047268409114441015993725554835256314039467401291n,r,n);return a%2n!==i&&(a=n-a),{x:s,y:a}}(f.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function O(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,i=k(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-384",x:i.xm,y:i.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function k(e){if(!b(e))throw new TypeError("input must be a Uint8Array");const t=g(e),n=t.length/2;if(96==n)return v(t);if(97==n&&"04"==t.slice(0,2)){return v(t.slice(2))}if(49==n&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return E(function(e){if(!b(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),n=t**384n-t**128n-t**96n+t**32n-1n,r=(n+1n)/4n,i=BigInt(e[0]-2),o=e.subarray(1),s=BigInt(m.toString(o,"base10"));let a=S(s**3n-3n*s+27580193559959705877849011840389048093056905856361568521428707301988689241309860865136260764883745107765439761230575n,r,n);return a%2n!==i&&(a=n-a),{x:s,y:a}}(f.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function C(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,i=D(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-521",x:i.xm,y:i.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function D(e){if(!b(e))throw new TypeError("input must be a Uint8Array");const t=g(e);if(132<=t.length&&t.length<=134&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return E(function(e){if(!b(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2)**521n-1n,n=(t+1n)/4n,r=BigInt(e[0]-2),i=e.subarray(1),o=BigInt(m.toString(i,"base10"));let s=S(o**3n-3n*o+1093849038073734274511112390766805569936207598951683748994586394495953116150735016013708737573759623248592132296706313309438452531591012912142327488478985984n,n,t);return s%2n!==r&&(s=t-s),{x:o,y:s}}(f.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}const M="application/did+json",R={231:r,237:i,4608:o,4609:s,4610:a};function U(){return{key:async(e,t,n,r)=>{const i=r.accept||M,o={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{const e=c.base58btc.decode(t.id),n=u.decode(e),r=e.slice(u.decode.bytes),s=await R[n].keyToDidDoc(r,t.id);"application/did+ld+json"===i?(s["@context"]="https://w3id.org/did/v1",o.didDocument=s):i===M?o.didDocument=s:(delete o.didResolutionMetadata.contentType,o.didResolutionMetadata.error="representationNotSupported")}catch(I){o.didResolutionMetadata.error="invalidDid",o.didResolutionMetadata.message=I.toString()}return o}}}var B={getResolver:U}},6105:function(e,t,n){"use strict";var r;function i(...e){let t="";for(let n=0,r=e.length;n<r;n++)t+=`${e[n]}$!$`;return t}n.d(t,{PW:function(){return o}}),function(e){e.WEAKMAP="weakmap",e.REPLACE="replace"}(r||(r={}));const o=function(e){const t=e?.hashFunction||i,n=e?.strategy||r.WEAKMAP,o=e?.argsCacheBuilder||(()=>new Map);return(e,i,s)=>{if(Boolean(s.value))!function(e,t,n,i,o){const s=e.value;switch(s.length){case 0:switch(n){case r.REPLACE:return void(e.value=function(){const n=s.apply(this);Object.defineProperty(this,t,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:function(){return n}})});case r.WEAKMAP:{const t=new WeakMap;e.value=function(){if(t.has(this))return t.get(this);let e=s.apply(this);return t.set(this,e),e};break}}break;case 1:switch(n){case r.WEAKMAP:{const t=new WeakMap;e.value=function(e){let n=t.get(this);if(n||(n=o(),t.set(this,n)),n.has(e))return n.get(e);const r=s.call(this,e);return n.set(e,r),r};break}case r.REPLACE:e.value=function(n){const r=o();function i(e){if(r.has(e))return r.get(e);{const t=s.call(this,e);return r.set(e,t),t}}return Object.defineProperty(this,t,{configurable:e.configurable,enumerable:e.enumerable,writable:e.writable,value:i}),i.call(this,n)}}break;default:switch(n){case r.REPLACE:e.value=function(...n){const r=o();function a(...e){const t=i.apply(this,e);if(r.has(t))return r.get(t);{const n=s.apply(this,e);return r.set(t,n),n}}return Object.defineProperty(this,t,{configurable:e.configurable,enumerable:e.enumerable,writable:e.writable,value:a}),a.apply(this,n)};break;case r.WEAKMAP:{const t=new WeakMap;e.value=function(...e){let n=t.get(this);const r=i.apply(this,e);if(n?.has(r))return n.get(r);n||(n=o(),t.set(this,n));const a=s.apply(this,e);return n.set(r,a),a}}}}}(s,i,n,t,o);else{if(!function(e){return Boolean(e.get)}(s))throw new Error("Decorate only a method or get accessor");!function(e,t,n){const i=e.get;switch(n){case r.WEAKMAP:{const t=new WeakMap;e.get=function(){let e=t.get(this);return e||(e=i.apply(this),t.set(this,e)),e};break}case r.REPLACE:e.get=function(){const e=i.apply(this);return Object.defineProperty(this,t,{configurable:!1,enumerable:!1,value:e}),e};break;default:throw new Error(`Unsupported strategy: ${n}`)}}(s,i,n)}}}},7189:function(e,t,n){"use strict";n.d(t,{kU:function(){return l},Dp:function(){return f},ET:function(){return d}});var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}},i=n(7176);class o{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return u(this,e)}}class a{constructor(e){this.decoders=e}or(e){return u(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const u=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class c{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new o(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const f=({name:e,prefix:t,encode:n,decode:r})=>new c(e,t,n,r),l=({prefix:e,name:t,alphabet:n})=>{const{encode:o,decode:s}=r(n,t);return f({prefix:e,name:t,encode:o,decode:e=>(0,i.oQ)(s(e))})},d=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>f({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)})},4249:function(e,t,n){"use strict";n.r(t),n.d(t,{base32:function(){return i},base32upper:function(){return o},base32pad:function(){return s},base32padupper:function(){return a},base32hex:function(){return u},base32hexupper:function(){return c},base32hexpad:function(){return f},base32hexpadupper:function(){return l},base32z:function(){return d}});var r=n(7189);const i=(0,r.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=(0,r.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,r.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,r.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u=(0,r.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c=(0,r.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f=(0,r.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),l=(0,r.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,r.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},8673:function(e,t,n){"use strict";n.r(t),n.d(t,{base36:function(){return i},base36upper:function(){return o}});var r=n(7189);const i=(0,r.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),o=(0,r.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},1653:function(e,t,n){"use strict";n.r(t),n.d(t,{base58btc:function(){return i},base58flickr:function(){return o}});var r=n(7189);const i=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},9382:function(e,t,n){"use strict";n.r(t),n.d(t,{base64:function(){return i},base64pad:function(){return o},base64url:function(){return s},base64urlpad:function(){return a}});var r=n(7189);const i=(0,r.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=(0,r.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,r.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},7618:function(e,t,n){"use strict";n.d(t,{cv:function(){return f},Jx:function(){return l}});var r=n(1015);function i({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*o(e,t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const t=[...e,n],o=r.k0.asCID(i);o?yield[t.join("/"),o]:"object"===typeof i&&(yield*s(i,t))}else{const n=r.k0.asCID(t);n?yield[e.join("/"),n]:yield*s(t,e)}}function*s(e,t){if(null==e||e instanceof Uint8Array)return;const n=r.k0.asCID(e);n&&(yield[t.join("/"),n]);for(const[r,i]of Object.entries(e)){const e=[...t,r];yield*o(e,i)}}function*a(e,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const t=[...e,n];yield t.join("/"),"object"!==typeof i||r.k0.asCID(i)||(yield*u(i,t))}else yield*u(t,e)}function*u(e,t){if(null!=e&&"object"===typeof e)for(const[n,i]of Object.entries(e)){const e=[...t,n];yield e.join("/"),null==i||i instanceof Uint8Array||"object"!==typeof i||r.k0.asCID(i)||(yield*a(e,i))}}class c{constructor({cid:e,bytes:t,value:n}){if(!e||!t||"undefined"===typeof n)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:i(),bytes:i(),value:i(),asBlock:i()})}links(){return s(this.value,[])}tree(){return u(this.value,[])}get(e="/"){return function(e,t){let n=e;for(const[i,o]of t.entries()){if(n=n[o],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=r.k0.asCID(n);if(e)return{value:e,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,e.split("/").filter(Boolean))}}async function f({value:e,codec:t,hasher:n}){if("undefined"===typeof e)throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(e),o=await n.digest(i),s=r.k0.create(1,t.code,o);return new c({value:e,bytes:i,cid:s})}async function l({bytes:e,codec:t,hasher:n}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(e),o=await n.digest(e),s=r.k0.create(1,t.code,o);return new c({value:i,bytes:e,cid:s})}},7176:function(e,t,n){"use strict";n.d(t,{fS:function(){return r},oQ:function(){return i},mL:function(){return o},BB:function(){return s}});new Uint8Array(0);const r=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},i=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},o=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},8161:function(e,t,n){"use strict";n.d(t,{k0:function(){return l}});var r=n(2171),i=n(9094),o=n(1653),s=n(4249),a=n(7176);const u=(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return h(n,f(e),t||o.base58btc.encoder);default:return p(n,f(e),t||s.base32.encoder)}},c=new WeakMap,f=e=>{const t=c.get(e);if(null==t){const t=new Map;return c.set(e,t),t}return t};class l{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==m)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==y)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return l.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=i.Ue(e,t);return l.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return l.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&i.fS(e.multihash,n.multihash)}toString(e){return u(this,e)}toJSON(){return{"/":u(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof l)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:i}=t;return new l(e,n,r,i||g(e,n,r.bytes))}if(!0===t[v]){const{version:e,multihash:n,code:r}=t,o=i.Jx(n);return l.create(e,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==m)throw new Error(`Version 0 CID must use dag-pb (code: ${m}) block encoding`);return new l(e,t,n,n.bytes);case 1:{const r=g(e,t,n.bytes);return new l(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return l.create(0,m,e)}static createV1(e,t){return l.create(1,e,t)}static decode(e){const[t,n]=l.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=l.inspectBytes(e),n=t.size-t.multihashSize,r=(0,a.oQ)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),s=new i.zZ(t.multihashCode,t.digestSize,o,r);return[0===t.version?l.createV0(s):l.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,i]=r.Jx(e.subarray(t));return t+=i,n};let i=n(),o=m;if(18===i?(i=0,t=0):o=n(),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const s=t,a=n(),u=n(),c=t+u;return{version:i,codec:o,multihashCode:a,digestSize:u,multihashSize:c-s,size:c}}static parse(e,t){const[n,r]=d(e,t),i=l.decode(r);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return f(i).set(n,e),i}}const d=(e,t)=>{switch(e[0]){case"Q":{const n=t||o.base58btc;return[o.base58btc.prefix,n.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const n=t||o.base58btc;return[o.base58btc.prefix,n.decode(e)]}case s.base32.prefix:{const n=t||s.base32;return[s.base32.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},h=(e,t,n)=>{const{prefix:r}=n;if(r!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},p=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},m=112,y=18,g=(e,t,n)=>{const i=r.P$(e),o=i+r.P$(t),s=new Uint8Array(o+n.byteLength);return r.mL(e,s,0),r.mL(t,s,i),s.set(n,o),s},v=Symbol.for("@ipld/js-cid/CID")},9094:function(e,t,n){"use strict";n.d(t,{Ue:function(){return o},Jx:function(){return s},fS:function(){return a},zZ:function(){return u}});var r=n(7176),i=n(2171);const o=(e,t)=>{const n=t.byteLength,r=i.P$(e),o=r+i.P$(n),s=new Uint8Array(o+n);return i.mL(e,s,0),i.mL(n,s,r),s.set(t,o),new u(e,n,t,s)},s=e=>{const t=(0,r.oQ)(e),[n,o]=i.Jx(t),[s,a]=i.Jx(t.subarray(o)),c=t.subarray(o+a);if(c.byteLength!==s)throw new Error("Incorrect length");return new u(n,s,c,t)},a=(e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&(0,r.fS)(e.bytes,n.bytes)}};class u{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}},2688:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(9094);const i=({name:e,code:t,encode:n})=>new o(e,t,n);class o{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?r.Ue(this.code,t):t.then((e=>r.Ue(this.code,e)))}throw Error("Unknown type, must be binary type")}}},8566:function(e,t,n){"use strict";n.r(t),n.d(t,{identity:function(){return s}});var r=n(7176),i=n(9094);const o=r.oQ,s={code:0,name:"identity",encode:o,digest:e=>i.Ue(0,o(e))}},7353:function(e,t,n){"use strict";n.r(t),n.d(t,{sha256:function(){return o},sha512:function(){return s}});var r=n(2688);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),o=(0,r.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),s=(0,r.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},1015:function(e,t,n){"use strict";n.d(t,{k0:function(){return r.k0}});var r=n(8161);n(2171),n(7176),n(2688),n(9094)},2171:function(e,t,n){"use strict";n.d(t,{Jx:function(){return y},mL:function(){return g},P$:function(){return v}});var r=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=i;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},i=Math.pow(2,31);var o=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var s=Math.pow(2,7),a=Math.pow(2,14),u=Math.pow(2,21),c=Math.pow(2,28),f=Math.pow(2,35),l=Math.pow(2,42),d=Math.pow(2,49),h=Math.pow(2,56),p=Math.pow(2,63),m={encode:r,decode:o,encodingLength:function(e){return e<s?1:e<a?2:e<u?3:e<c?4:e<f?5:e<l?6:e<d?7:e<h?8:e<p?9:10}};const y=(e,t=0)=>[m.decode(e,t),m.decode.bytes],g=(e,t,n=0)=>(m.encode(e,t,n),t),v=e=>m.encodingLength(e)},8498:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(1283);function i(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},9114:function(e,t,n){"use strict";n.r(t),n.d(t,{concat:function(){return o}});var r=n(8498),i=n(1283);function o(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.E)(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return(0,i.P)(n)}},7105:function(e,t,n){"use strict";n.r(t),n.d(t,{fromString:function(){return o}});var r=n(6185),i=n(1283);function o(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):(0,i.P)(globalThis.Buffer.from(e,"utf-8"))}},864:function(e,t,n){"use strict";n.r(t),n.d(t,{toString:function(){return i}});var r=n(6185);function i(e,t="utf8"){const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},1283:function(e,t,n){"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:function(){return r}})},6185:function(e,t,n){"use strict";n.d(t,{Z:function(){return je}});var r={};n.r(r),n.d(r,{identity:function(){return N}});var i={};n.r(i),n.d(i,{base2:function(){return x}});var o={};n.r(o),n.d(o,{base8:function(){return O}});var s={};n.r(s),n.d(s,{base10:function(){return k}});var a={};n.r(a),n.d(a,{base16:function(){return C},base16upper:function(){return D}});var u={};n.r(u),n.d(u,{base32:function(){return M},base32hex:function(){return L},base32hexpad:function(){return j},base32hexpadupper:function(){return F},base32hexupper:function(){return P},base32pad:function(){return U},base32padupper:function(){return B},base32upper:function(){return R},base32z:function(){return $}});var c={};n.r(c),n.d(c,{base36:function(){return V},base36upper:function(){return z}});var f={};n.r(f),n.d(f,{base58btc:function(){return G},base58flickr:function(){return q}});var l={};n.r(l),n.d(l,{base64:function(){return H},base64pad:function(){return J},base64url:function(){return K},base64urlpad:function(){return Y}});var d={};n.r(d),n.d(d,{base256emoji:function(){return Z}});var h={};n.r(h),n.d(h,{sha256:function(){return be},sha512:function(){return Ee}});var p={};n.r(p),n.d(p,{identity:function(){return Ie}});var m={};n.r(m),n.d(m,{code:function(){return Ae},decode:function(){return Ne},encode:function(){return Se},name:function(){return _e}});var y={};n.r(y),n.d(y,{code:function(){return Ce},decode:function(){return Me},encode:function(){return De},name:function(){return ke}});var g=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const v=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class w{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class b{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return T(this,e)}}class E{constructor(e){this.decoders=e}or(e){return T(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const T=(e,t)=>new E({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class I{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new w(e,t,n),this.decoder=new b(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _=({name:e,prefix:t,encode:n,decode:r})=>new I(e,t,n,r),A=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=g(n,t);return _({prefix:e,name:t,encode:r,decode:e=>v(i(e))})},S=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>_({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),N=_({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),x=S({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),O=S({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),k=A({prefix:"9",name:"base10",alphabet:"0123456789"}),C=S({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),D=S({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),M=S({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),R=S({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),U=S({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),B=S({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),L=S({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),P=S({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),j=S({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),F=S({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$=S({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),V=A({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),z=A({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),G=A({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),q=A({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),H=S({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),J=S({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),K=S({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Y=S({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),W=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),X=W.reduce(((e,t,n)=>(e[n]=t,e)),[]),Q=W.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const Z=_({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=X[t]),"")},decode:function(e){const t=[];for(const n of e){const e=Q[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var ee=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=te;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},te=Math.pow(2,31);var ne=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var re=Math.pow(2,7),ie=Math.pow(2,14),oe=Math.pow(2,21),se=Math.pow(2,28),ae=Math.pow(2,35),ue=Math.pow(2,42),ce=Math.pow(2,49),fe=Math.pow(2,56),le=Math.pow(2,63),de={encode:ee,decode:ne,encodingLength:function(e){return e<re?1:e<ie?2:e<oe?3:e<se?4:e<ae?5:e<ue?6:e<ce?7:e<fe?8:e<le?9:10}};const he=(e,t,n=0)=>(de.encode(e,t,n),t),pe=e=>de.encodingLength(e),me=(e,t)=>{const n=t.byteLength,r=pe(e),i=r+pe(n),o=new Uint8Array(i+n);return he(e,o,0),he(n,o,r),o.set(t,i),new ye(e,n,t,o)};class ye{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const ge=({name:e,code:t,encode:n})=>new ve(e,t,n);class ve{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?me(this.code,t):t.then((e=>me(this.code,e)))}throw Error("Unknown type, must be binary type")}}const we=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),be=ge({name:"sha2-256",code:18,encode:we("SHA-256")}),Ee=ge({name:"sha2-512",code:19,encode:we("SHA-512")}),Te=v,Ie={code:0,name:"identity",encode:Te,digest:e=>me(0,Te(e))},_e="raw",Ae=85,Se=e=>v(e),Ne=e=>v(e),xe=new TextEncoder,Oe=new TextDecoder,ke="json",Ce=512,De=e=>xe.encode(JSON.stringify(e)),Me=e=>JSON.parse(Oe.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Re={...r,...i,...o,...s,...a,...u,...c,...f,...l,...d};var Ue=n(8498);function Be(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Le=Be("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Pe=Be("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,Ue.E)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}));var je={utf8:Le,"utf-8":Le,hex:Re.base16,latin1:Pe,ascii:Pe,binary:Pe,...Re}},4359:function(e,t,n){"use strict";n.d(t,{kU:function(){return l},Dp:function(){return f},ET:function(){return d}});var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==n[s])throw new TypeError(o+" is ambiguous");n[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===u;)r++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var s=(o-i)*f+1>>>0,c=new Uint8Array(s);i!==o;){for(var l=t[i],d=0,h=s-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=s-r;p!==s&&0===c[p];)p++;for(var m=u.repeat(n);p<s;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}},i=n(3159);class o{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return u(this,e)}}class a{constructor(e){this.decoders=e}or(e){return u(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const u=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class c{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new o(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const f=({name:e,prefix:t,encode:n,decode:r})=>new c(e,t,n,r),l=({prefix:e,name:t,alphabet:n})=>{const{encode:o,decode:s}=r(n,t);return f({prefix:e,name:t,encode:o,decode:e=>(0,i.coerce)(s(e))})},d=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>f({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,o+=t[i&a>>s];if(s&&(o+=t[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*n/8|0);let a=0,u=0,c=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)})},8237:function(e,t,n){"use strict";n.r(t),n.d(t,{base64:function(){return i},base64pad:function(){return o},base64url:function(){return s},base64urlpad:function(){return a}});var r=n(4359);const i=(0,r.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=(0,r.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,r.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},7527:function(e,t,n){"use strict";n.r(t),n.d(t,{CID:function(){return xe},bases:function(){return Fe},bytes:function(){return b},codecs:function(){return Ve},digest:function(){return h},hasher:function(){return p},hashes:function(){return $e},varint:function(){return d}});var r={};n.r(r),n.d(r,{identity:function(){return E}});var i={};n.r(i),n.d(i,{base2:function(){return T}});var o={};n.r(o),n.d(o,{base8:function(){return I}});var s={};n.r(s),n.d(s,{base10:function(){return _}});var a={};n.r(a),n.d(a,{base16:function(){return A},base16upper:function(){return S}});var u={};n.r(u),n.d(u,{base32:function(){return N},base32hex:function(){return C},base32hexpad:function(){return M},base32hexpadupper:function(){return R},base32hexupper:function(){return D},base32pad:function(){return O},base32padupper:function(){return k},base32upper:function(){return x},base32z:function(){return U}});var c={};n.r(c),n.d(c,{base36:function(){return B},base36upper:function(){return L}});var f={};n.r(f),n.d(f,{base58btc:function(){return P},base58flickr:function(){return j}});var l={};n.r(l),n.d(l,{base256emoji:function(){return G}});var d={};n.r(d),n.d(d,{decode:function(){return ie},encodeTo:function(){return oe},encodingLength:function(){return se}});var h={};n.r(h),n.d(h,{Digest:function(){return fe},create:function(){return ae},decode:function(){return ue},equals:function(){return ce}});var p={};n.r(p),n.d(p,{Hasher:function(){return de},from:function(){return le}});var m={};n.r(m),n.d(m,{sha256:function(){return pe},sha512:function(){return me}});var y={};n.r(y),n.d(y,{identity:function(){return ge}});var g={};n.r(g),n.d(g,{code:function(){return we},decode:function(){return Ee},encode:function(){return be},name:function(){return ve}});var v={};n.r(v),n.d(v,{code:function(){return Ae},decode:function(){return Ne},encode:function(){return Se},name:function(){return _e}});var w=n(4359),b=n(3159);const E=(0,w.Dp)({prefix:"\0",name:"identity",encode:e=>(0,b.toString)(e),decode:e=>(0,b.fromString)(e)}),T=(0,w.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),I=(0,w.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),_=(0,w.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),A=(0,w.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),S=(0,w.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),N=(0,w.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),x=(0,w.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),O=(0,w.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),k=(0,w.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),C=(0,w.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),D=(0,w.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),M=(0,w.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),R=(0,w.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),U=(0,w.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),B=(0,w.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),L=(0,w.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),P=(0,w.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),j=(0,w.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var F=n(8237);const $=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),V=$.reduce(((e,t,n)=>(e[n]=t,e)),[]),z=$.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const G=(0,w.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=V[t]),"")},decode:function(e){const t=[];for(const n of e){const e=z[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var q=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=H;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},H=Math.pow(2,31);var J=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i};var K=Math.pow(2,7),Y=Math.pow(2,14),W=Math.pow(2,21),X=Math.pow(2,28),Q=Math.pow(2,35),Z=Math.pow(2,42),ee=Math.pow(2,49),te=Math.pow(2,56),ne=Math.pow(2,63),re={encode:q,decode:J,encodingLength:function(e){return e<K?1:e<Y?2:e<W?3:e<X?4:e<Q?5:e<Z?6:e<ee?7:e<te?8:e<ne?9:10}};const ie=(e,t=0)=>[re.decode(e,t),re.decode.bytes],oe=(e,t,n=0)=>(re.encode(e,t,n),t),se=e=>re.encodingLength(e),ae=(e,t)=>{const n=t.byteLength,r=se(e),i=r+se(n),o=new Uint8Array(i+n);return oe(e,o,0),oe(n,o,r),o.set(t,i),new fe(e,n,t,o)},ue=e=>{const t=(0,b.coerce)(e),[n,r]=ie(t),[i,o]=ie(t.subarray(r)),s=t.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new fe(n,i,s,t)},ce=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,b.equals)(e.bytes,t.bytes);class fe{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const le=({name:e,code:t,encode:n})=>new de(e,t,n);class de{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ae(this.code,t):t.then((e=>ae(this.code,e)))}throw Error("Unknown type, must be binary type")}}const he=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),pe=le({name:"sha2-256",code:18,encode:he("SHA-256")}),me=le({name:"sha2-512",code:19,encode:he("SHA-512")}),ye=b.coerce,ge={code:0,name:"identity",encode:ye,digest:e=>ae(0,ye(e))},ve="raw",we=85,be=e=>(0,b.coerce)(e),Ee=e=>(0,b.coerce)(e),Te=new TextEncoder,Ie=new TextDecoder,_e="json",Ae=512,Se=e=>Te.encode(JSON.stringify(e)),Ne=e=>JSON.parse(Ie.decode(e));class xe{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Le,byteLength:Le,code:Be,version:Be,multihash:Be,bytes:Be,_baseCache:Le,asCID:Le})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==De)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Me)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return xe.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=ae(e,t);return xe.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ce(this.multihash,e.multihash)}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return ke(t,r,e||P.encoder);default:return Ce(t,r,e||N.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Pe(/^0\.0/,je),!(!e||!e[Ue]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof xe)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new xe(t,n,r,i||Re(t,n,r.bytes))}if(null!=e&&!0===e[Ue]){const{version:t,multihash:n,code:r}=e,i=ue(n);return xe.create(t,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==De)throw new Error(`Version 0 CID must use dag-pb (code: ${De}) block encoding`);return new xe(e,t,n,n.bytes);case 1:{const r=Re(e,t,n.bytes);return new xe(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return xe.create(0,De,e)}static createV1(e,t){return xe.create(1,e,t)}static decode(e){const[t,n]=xe.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=xe.inspectBytes(e),n=t.size-t.multihashSize,r=(0,b.coerce)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),o=new fe(t.multihashCode,t.digestSize,i,r);return[0===t.version?xe.createV0(o):xe.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=ie(e.subarray(t));return t+=r,n};let r=n(),i=De;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const o=t,s=n(),a=n(),u=t+a;return{version:r,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){const[n,r]=Oe(e,t),i=xe.decode(r);return i._baseCache.set(n,e),i}}const Oe=(e,t)=>{switch(e[0]){case"Q":{const n=t||P;return[P.prefix,n.decode(`${P.prefix}${e}`)]}case P.prefix:{const n=t||P;return[P.prefix,n.decode(e)]}case N.prefix:{const n=t||N;return[N.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ke=(e,t,n)=>{const{prefix:r}=n;if(r!==P.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},Ce=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},De=112,Me=18,Re=(e,t,n)=>{const r=se(e),i=r+se(t),o=new Uint8Array(i+n.byteLength);return oe(e,o,0),oe(t,o,r),o.set(n,i),o},Ue=Symbol.for("@ipld/js-cid/CID"),Be={writable:!1,configurable:!1,enumerable:!0},Le={writable:!1,enumerable:!1,configurable:!1},Pe=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},je="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Fe={...r,...i,...o,...s,...a,...u,...c,...f,...F,...l},$e={...m,...y},Ve={raw:g,json:v}},3159:function(e,t,n){"use strict";n.r(t),n.d(t,{equals:function(){return s},coerce:function(){return a},isBinary:function(){return u},fromHex:function(){return o},toHex:function(){return i},fromString:function(){return c},toString:function(){return f},empty:function(){return r}});const r=new Uint8Array(0),i=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),o=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):r},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},u=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),c=e=>(new TextEncoder).encode(e),f=e=>(new TextDecoder).decode(e)},7006:function(e,t,n){"use strict";n.d(t,{WU:function(){return r},au:function(){return i},S2:function(){return o}});const r=Symbol("abortable"),i=Symbol("aborted");function o(e,t){if(t.aborted)return Promise.reject(i);let n;const r=new Promise(((e,t)=>{n=t}));return t.addEventListener("abort",(()=>{n(i)})),Promise.race([e,r])}},8021:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});const r="utils_abort_request"},1505:function(e,t,n){"use strict";var r;n.d(t,{Bq:function(){return r},e$:function(){return o},O$:function(){return s}}),function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(r||(r={}));const i={[r.PARSE_ERROR]:"Parse error",[r.INVALID_REQUEST]:"Invalid request",[r.METHOD_NOT_FOUND]:"Method not found",[r.INVALID_PARAMS]:"Invalid params",[r.INTERNAL_ERROR]:"Internal error"};function o(e){return i[e.toString()]??(function(e){return-32e3>=e&&e>=-32099}(e)?"Server error":"Application error")}class s extends Error{static fromObject(e){return new s(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,n){super(),Object.setPrototypeOf(this,s.prototype),this.code=e,this.data=n,this.message=t??o(e)}}function a(e){const t=i[e];return function(n){return new s(e,t,n)}}a(r.PARSE_ERROR),a(r.INVALID_REQUEST),a(r.METHOD_NOT_FOUND),a(r.INVALID_PARAMS),a(r.INTERNAL_ERROR)},1026:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},mG:function(){return o},Jh:function(){return s},XA:function(){return a},CR:function(){return u},ev:function(){return c},qq:function(){return f},FC:function(){return l},KL:function(){return d}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function l(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof f?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function d(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError},6574:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(3304);function i(e=0){return null!=globalThis.Buffer?.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},1690:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(6574),i=n(3304);function o(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.E)(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return(0,i.P)(n)}},7408:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(3304),i=n(3110);function o(e,t="utf8"){const n=i.Z[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):(0,r.P)(globalThis.Buffer.from(e,"utf-8"))}},738:function(e,t,n){"use strict";n.d(t,{zo:function(){return r.z},mL:function(){return i.m},BB:function(){return o.B}});var r=n(1690),i=n(7408),o=n(9784)},9784:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(3110);function i(e,t="utf8"){const n=r.Z[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},3304:function(e,t,n){"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:function(){return r}})},3110:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r={};n.r(r),n.d(r,{identity:function(){return h}});var i={};n.r(i),n.d(i,{base2:function(){return p}});var o={};n.r(o),n.d(o,{base8:function(){return m}});var s={};n.r(s),n.d(s,{base10:function(){return y}});var a={};n.r(a),n.d(a,{base16:function(){return g},base16upper:function(){return v}});var u={};n.r(u),n.d(u,{base256emoji:function(){return S}});var c={};n.r(c),n.d(c,{code:function(){return k},decode:function(){return D},encode:function(){return C},name:function(){return O}});var f={};n.r(f),n.d(f,{code:function(){return B},decode:function(){return P},encode:function(){return L},name:function(){return U}});var l=n(7189),d=n(7176);const h=(0,l.Dp)({prefix:"\0",name:"identity",encode:e=>(0,d.BB)(e),decode:e=>(0,d.mL)(e)}),p=(0,l.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m=(0,l.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),y=(0,l.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),g=(0,l.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),v=(0,l.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var w=n(4249),b=n(8673),E=n(1653),T=n(9382);const I=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),_=I.reduce(((e,t,n)=>(e[n]=t,e)),[]),A=I.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const S=(0,l.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=_[t]),"")},decode:function(e){const t=[];for(const n of e){const e=A[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var N=n(7353),x=n(8566);const O="raw",k=85,C=e=>(0,d.oQ)(e),D=e=>(0,d.oQ)(e),M=new TextEncoder,R=new TextDecoder,U="json",B=512,L=e=>M.encode(JSON.stringify(e)),P=e=>JSON.parse(R.decode(e));n(1015);const j={...r,...i,...o,...s,...a,...w,...b,...E,...T,...u};var F=n(6574);function $(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const V=$("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),z=$("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,F.E)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}));var G={utf8:V,"utf-8":V,hex:j.base16,latin1:z,ascii:z,binary:z,...j}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(1780),t(387)}));var n=e.O();_N_E=n}]);