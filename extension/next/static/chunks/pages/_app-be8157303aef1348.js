(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{37885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=n(47806),o=n(82747),i=n(74752),s=n(75358),a="https://json-schema.org/draft/2020-12/schema";class c extends r.default{constructor(e={}){super({...e,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:e,meta:t}=this.opts;t&&(s.default.call(this,e),this.refs["http://json-schema.org/schema"]=a)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(58479);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var l=n(69593);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=n(1089);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=n(40776);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})},10244:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class o extends n{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new o(n)}t._Code=o,t.nil=new o(""),t._=i;const s=new o("+");function a(e,...t){const n=[l(e[0])];let r=0;for(;r<t.length;)n.push(s),c(n,t[r]),n.push(s,l(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new o(n)}function c(e,t){var n;t instanceof o?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:l(Array.isArray(n)?n.join(","):n))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new o(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new o(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new o(e.toString())}},69593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(10244),o=n(70651);var i=n(10244);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var s=n(70651);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?o.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=C(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=C(this.rhs,e,t),this}get names(){return x(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class h extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=C(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const o=n[r];o.optimizeNames(e,t)||($(e,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>A(e,t.names)),{})}}class y extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends m{}class v extends y{}v.kind="else";class b extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(R(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=C(this.condition,e,t),this}get names(){const e=super.names;return x(e,this.condition),this.else&&A(e,this.else.names),e}}b.kind="if";class w extends y{}w.kind="for";class E extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=C(this.iteration,e,t),this}get names(){return A(super.names,this.iteration.names)}}class _ extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:n,from:r,to:i}=this;return`for(${t} ${n}=${r}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){const e=x(super.names,this.from);return x(e,this.to)}}class S extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=C(this.iterable,e,t),this}get names(){return A(super.names,this.iterable.names)}}class T extends y{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}T.kind="func";class I extends m{render(e){return"return "+super.render(e)}}I.kind="return";class N extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&A(e,this.catch.names),this.finally&&A(e,this.finally.names),e}}class O extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class k extends y{render(e){return"finally"+super.render(e)}}k.kind="finally";function A(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function x(e,t){return t instanceof r._CodeOrName?A(e,t.names):e}function C(e,t,n){return e instanceof r.Name?i(e):(o=e)instanceof r._Code&&o._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function $(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function R(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${M(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const o=this._scope.toName(t);return void 0!==n&&r&&(this._constants[o.str]=n),this._leafNode(new c(e,o,n)),o}const(e,t,n){return this._def(o.varKinds.const,e,t,n)}let(e,t,n){return this._def(o.varKinds.let,e,t,n)}var(e,t,n){return this._def(o.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new u(e,t,n))}add(e,n){return this._leafNode(new l(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[n,o]of e)t.length>1&&t.push(","),t.push(n),(n!==o||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,o));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new E(e),t)}forRange(e,t,n,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const s=this._scope.toName(e);return this._for(new _(i,s,t,n),(()=>r(s)))}forOf(e,t,n,i=o.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new S("of",i,s,t),(()=>n(s)))}forIn(e,t,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new S("in",i,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new f(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new I;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new N;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new O(e),t(e)}return n&&(this._currNode=r.finally=new k,this.code(n)),this._endBlockNode(O,k)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,o){return this._blockNode(new T(e,t,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=R;const D=j(t.operators.AND);t.and=function(...e){return e.reduce(D)};const P=j(t.operators.OR);function j(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${M(t)} ${e} ${M(n)}`}function M(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(...e){return e.reduce(P)}},70651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(10244);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}t.ValueScopeName=a;const c=r._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:o}=r,i=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[o];if(s){const e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,r);const a=this._scope[o]||(this._scope[o]=[]),c=a.length;return a[c]=t.ref,r.setValue(t,{property:o,itemIndex:c}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let c=r.nil;for(const u in e){const l=e[u];if(!l)continue;const f=s[u]=s[u]||new Map;l.forEach((e=>{if(f.has(e))return;f.set(e,i.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;c=r._`${c}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null===a||void 0===a?void 0:a(e)))throw new o(e);c=r._`${c}${s}${this.opts._n}`}f.set(e,i.Completed)}))}return c}}},4009:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(69593),o=n(1842),i=n(5050);function s(e,t){const n=e.const("err",t);e.if(r._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,r._`[${n}]`)),r._`${i.default.vErrors}.push(${n})`),e.code(r._`${i.default.errors}++`)}function a(e,t){const{gen:n,validateName:o,schemaEnv:i}=e;i.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${o}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,o,i){const{it:c}=e,{gen:l,compositeRule:f,allErrors:d}=c,h=u(e,n,o);(null!==i&&void 0!==i?i:f||d)?s(l,h):a(c,r._`[${h}]`)},t.reportExtraError=function(e,n=t.keywordError,r){const{it:o}=e,{gen:c,compositeRule:l,allErrors:f}=o;s(c,u(e,n,r)),l||f||a(o,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(r._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:o,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,i.default.errors,(s=>{e.const(c,r._`${i.default.vErrors}[${s}]`),e.if(r._`${c}.instancePath === undefined`,(()=>e.assign(r._`${c}.instancePath`,(0,r.strConcat)(i.default.instancePath,a.errorPath)))),e.assign(r._`${c}.schemaPath`,r.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(r._`${c}.schema`,n),e.assign(r._`${c}.data`,o))}))};const c={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function u(e,t,n){const{createErrors:o}=e.it;return!1===o?r._`{}`:function(e,t,n={}){const{gen:o,it:s}=e,a=[l(s,n),f(e,n)];return function(e,{params:t,message:n},o){const{keyword:s,data:a,schemaValue:u,it:l}=e,{opts:f,propertyName:d,topSchemaRef:h,schemaPath:p}=l;o.push([c.keyword,s],[c.params,"function"==typeof t?t(e):t||r._`{}`]),f.messages&&o.push([c.message,"function"==typeof n?n(e):n]);f.verbose&&o.push([c.schema,u],[c.parentSchema,r._`${h}${p}`],[i.default.data,a]);d&&o.push([c.propertyName,d])}(e,t,a),o.object(...a)}(e,t,n)}function l({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,o.getErrorPath)(t,o.Type.Str)}`:e;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,n)]}function f({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let s=i?t:r.str`${t}/${e}`;return n&&(s=r.str`${s}${(0,o.getErrorPath)(n,o.Type.Str)}`),[c.schemaPath,s]}},15281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(69593),o=n(1089),i=n(5050),s=n(12690),a=n(1842),c=n(58479);class u{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null===n||void 0===n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function l(e){const t=d.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,f=new r.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let h;e.$async&&(h=f.scopeValue("Error",{ref:o.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const p=f.scopeName("validate");e.validateName=p;const m={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,c.validateFunctionCode)(m),f.optimize(this.opts.code.optimize);const t=f.toString();y=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const n=new Function(`${i.default.self}`,`${i.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:p,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(g){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),g}finally{this._compilations.delete(e)}}function f(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function d(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function h(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||p.call(this,e,t)}function p(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let o=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===o)return y.call(this,n,e);const i=(0,s.normalizeId)(r),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=p.call(this,e,a);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return y.call(this,n,t)}if("object"===typeof(null===a||void 0===a?void 0:a.schema)){if(a.validate||l.call(this,a),i===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,r)),new u({schema:t,schemaId:n,root:e,baseId:o})}return y.call(this,n,a)}}t.SchemaEnv=u,t.compileSchema=l,t.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let i=h.call(this,e,n);if(void 0===i){const o=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;o&&(i=new u({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==i?e.refs[n]=f.call(this,i):void 0},t.getCompilingSchema=d,t.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:n,root:r}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const u of e.fragment.slice(1).split("/")){if("boolean"===typeof n)return;const e=n[(0,a.unescapeFragment)(u)];if(void 0===e)return;const r="object"===typeof(n=e)&&n[this.opts.schemaId];!m.has(u)&&r&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,r))}let i;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=p.call(this,r,e)}const{schemaId:c}=this.opts;return i=i||new u({schema:n,schemaId:c,root:r,baseId:t}),i.schema!==i.root.schema?i:void 0}},5050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=o},40776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12690);class o extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=o},12690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(1842),o=n(64063),i=n(91062),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function u(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=u(e))),t===1/0))return 1/0}return t}function l(e,t="",n){!1!==n&&(t=h(t));const r=e.parse(t);return f(e,r)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=f;const d=/#\/?$/;function h(e){return e?e.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=h(e[n]||t),a={"":s},c=l(r,s,!1),u={},f=new Set;return i(e,{allKeys:!0},((e,t,r,o)=>{if(void 0===o)return;const i=c+t;let s=a[o];function l(t){const n=this.opts.uriResolver.resolve;if(t=h(s?n(s,t):t),f.has(t))throw m(t);f.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?d(e,r.schema,t):t!==h(i)&&("#"===t[0]?(d(e,u[t],t),u[t]=e):this.refs[t]=i),t}function y(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=l.call(this,e[n])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),a[t]=s})),u;function d(e,t,n){if(void 0!==t&&!o(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},11320:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},1842:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(69593),o=n(10244);function i(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"===typeof t)return;const o=r.RULES.keywords;for(const i in t)o[i]||p(e,`unknown keyword: "${i}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:o}){return(i,s,a,c)=>{const u=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?e(i,s,a):t(i,s,a),a):s instanceof r.Name?(t(i,a,s),s):n(s,a);return c!==r.Name||u instanceof r.Name?u:o(i,u)}}function l(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&f(e,n,t),n}function f(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,o,i){if(!i){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(o)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),f(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=f;const d={};var h;function p(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new o._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(h=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const o=t===h.Num;return n?o?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:o?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},74901:function(e,t){"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},r){const o=t.RULES.types[r];return o&&!0!==o&&n(e,o)},t.shouldUseGroup=n,t.shouldUseRule=r},91883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(4009),o=n(69593),i=n(5050),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:o}=e,i={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(i,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign(o._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},51495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(11320),o=n(74901),i=n(4009),s=n(69593),a=n(1842);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:i}=e,a=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(u){const o=d(t,r,i.strictNumbers,c.Wrong);n.if(o,(()=>{a.length?function(e,t,n){const{gen:r,data:o,opts:i}=e,a=r.let("dataType",s._`typeof ${o}`),c=r.let("coerced",s._`undefined`);"array"===i.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>r.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(d(t,o,i.strictNumbers),(()=>r.assign(c,o)))));r.if(s._`${c} !== undefined`);for(const s of n)(l.has(s)||"array"===s&&"array"===i.coerceTypes)&&u(s);function u(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(c,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(c,s._`+${o}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,s._`+${o}`);case"boolean":return void r.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(c,!0);case"null":return r.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void r.assign(c,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(c,s._`[${o}]`)}}r.else(),p(e),r.endIf(),r.if(s._`${c} !== undefined`,(()=>{r.assign(o,c),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,c)}))}(e,t,a):p(e)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function f(e,t,n,r=c.Correct){const o=r===c.Correct?s.operators.EQ:s.operators.NEQ;let i;switch(e){case"null":return s._`${t} ${o} null`;case"array":i=s._`Array.isArray(${t})`;break;case"object":i=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return s._`typeof ${t} ${o} ${e}`}return r===c.Correct?i:(0,s.not)(i);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function d(e,t,n,r){if(1===e.length)return f(e[0],t,n,r);let o;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=s._`typeof ${t} != "object"`;o=i.null?e:s._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=s.nil;i.number&&delete i.integer;for(const a in i)o=(0,s.and)(o,f(a,t,n,r));return o}t.checkDataType=f,t.checkDataTypes=d;const h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:n,schema:r}=e,o=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:o,schemaValue:o,parentSchema:r,params:{},it:e}}(e);(0,i.reportError)(t,h)}t.reportTypeError=p},44904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(69593),o=n(1842);function i(e,t,n){const{gen:i,compositeRule:s,data:a,opts:c}=e;if(void 0===n)return;const u=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,o.checkStrictMode)(e,`default is ignored for: ${u}`);let l=r._`${u} === undefined`;"empty"===c.useDefaults&&(l=r._`${l} || ${u} === null || ${u} === ""`),i.if(l,r._`${u} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const o in n)i(e,o,n[o].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>i(e,n,t.default)))}},58479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(91883),o=n(51495),i=n(74901),s=n(51495),a=n(44904),c=n(66570),u=n(64206),l=n(69593),f=n(5050),d=n(12690),h=n(1842),p=n(4009);function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:o},i){o.code.es5?e.func(t,l._`${f.default.data}, ${f.default.valCxt}`,r.$async,(()=>{e.code(l._`"use strict"; ${y(n,o)}`),function(e,t){e.if(f.default.valCxt,(()=>{e.var(f.default.instancePath,l._`${f.default.valCxt}.${f.default.instancePath}`),e.var(f.default.parentData,l._`${f.default.valCxt}.${f.default.parentData}`),e.var(f.default.parentDataProperty,l._`${f.default.valCxt}.${f.default.parentDataProperty}`),e.var(f.default.rootData,l._`${f.default.valCxt}.${f.default.rootData}`),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`${f.default.valCxt}.${f.default.dynamicAnchors}`)}),(()=>{e.var(f.default.instancePath,l._`""`),e.var(f.default.parentData,l._`undefined`),e.var(f.default.parentDataProperty,l._`undefined`),e.var(f.default.rootData,f.default.data),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`{}`)}))}(e,o),e.code(i)})):e.func(t,l._`${f.default.data}, ${function(e){return l._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${e.dynamicRef?l._`, ${f.default.dynamicAnchors}={}`:l.nil}}={}`}(o)}`,r.$async,(()=>e.code(y(n,o)).code(i)))}function y(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?l._`/*# sourceURL=${n} */`:l.nil}function g(e,t){b(e)&&(w(e),v(e))?function(e,t){const{schema:n,gen:r,opts:o}=e;o.$comment&&n.$comment&&_(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=r.const("_errs",f.default.errors);E(e,i),r.var(t,l._`${i} === ${f.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function w(e){(0,h.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:o}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function E(e,t){if(e.opts.jtd)return S(e,[],!1,t);const n=(0,o.getSchemaTypes)(e.schema);S(e,n,!(0,o.coerceAndCheckDataType)(e,n),t)}function _({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:o}){const i=n.$comment;if(!0===o.$comment)e.code(l._`${f.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const n=l.str`${r}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(l._`${f.default.self}.opts.$comment(${i}, ${n}, ${o}.schema)`)}}function S(e,t,n,r){const{gen:o,schema:a,data:c,allErrors:u,opts:d,self:p}=e,{RULES:m}=p;function y(h){(0,i.shouldUseGroup)(a,h)&&(h.type?(o.if((0,s.checkDataType)(h.type,c,d.strictNumbers)),T(e,h),1===t.length&&t[0]===h.type&&n&&(o.else(),(0,s.reportTypeError)(e)),o.endIf()):T(e,h),u||o.if(l._`${f.default.errors} === ${r||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(a,m)?(d.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{N(e.dataTypes,t)||O(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const r of e.dataTypes)N(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&O(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const r in n){const o=n[r];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some((e=>I(t,e)))&&O(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes)}(e,t),o.block((()=>{for(const e of m.rules)y(e);y(m.post)}))):o.block((()=>A(e,"$ref",m.all.$ref.definition)))}function T(e,t){const{gen:n,schema:r,opts:{useDefaults:o}}=e;o&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,i.shouldUseRule)(r,n)&&A(e,n.keyword,n.definition,t.type)}))}function I(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function N(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function O(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){b(e)&&(w(e),v(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&_(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(f.default.vErrors,null),r.let(f.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",l._`${n}.evaluated`),t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`))),t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}(e),E(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:o,opts:i}=e;n.$async?t.if(l._`${f.default.errors} === 0`,(()=>t.return(f.default.data)),(()=>t.throw(l._`new ${o}(${f.default.vErrors})`))):(t.assign(l._`${r}.errors`,f.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof l.Name&&e.assign(l._`${t}.props`,n);r instanceof l.Name&&e.assign(l._`${t}.items`,r)}(e),t.return(l._`${f.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class k{constructor(e,t,n){if((0,c.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",$(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",f.default.errors))}result(e,t,n){this.failResult((0,l.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,l.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${(0,l.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=l.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:o,def:i}=this;n.if((0,l.or)(l._`${r} === undefined`,t)),e!==l.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==l.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:o}=this;return(0,l.or)(function(){if(n.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return l._`${(0,s.checkDataTypes)(e,t,o.opts.strictNumbers,s.DataType.Wrong)}`}return l.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return l._`!${n}(${t})`}return l.nil}())}subschema(e,t){const n=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(n,this.it,e),(0,u.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return g(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=h.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=h.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,l.Name))),!0}}function A(e,t,n,r){const o=new k(e,n,t);"code"in n?n.code(o,r):o.$data&&n.validate?(0,c.funcKeywordCode)(o,n):"macro"in n?(0,c.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,c.funcKeywordCode)(o,n)}t.KeywordCxt=k;const x=/^\/(?:[^~]|~0|~1)*$/,C=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let o,i;if(""===e)return f.default.rootData;if("/"===e[0]){if(!x.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=f.default.rootData}else{const s=C.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(o=s[2],"#"===o){if(a>=t)throw new Error(c("property/index",a));return r[t-a]}if(a>t)throw new Error(c("data",a));if(i=n[t-a],!o)return i}let s=i;const a=o.split("/");for(const u of a)u&&(i=l._`${i}${(0,l.getProperty)((0,h.unescapeJsonPointer)(u))}`,s=l._`${s} && ${i}`);return s;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=$},66570:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(69593),o=n(5050),i=n(83745),s=n(4009);function a(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,(()=>t.assign(n,r._`${o.parentData}[${o.parentDataProperty}]`)))}function c(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:o,schema:i,parentSchema:s,it:a}=e,u=t.macro.call(a.self,i,s,a),l=c(n,o,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const f=n.name("valid");e.subschema({schema:u,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${o}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:u,keyword:l,schema:f,parentSchema:d,$data:h,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const m=!h&&t.compile?t.compile.call(p.self,f,d,p):t.validate,y=c(u,l,m),g=u.let("valid");function v(n=(t.async?r._`await `:r.nil)){const s=p.opts.passContext?o.default.this:o.default.self,a=!("compile"in t&&!h||!1===t.schema);u.assign(g,r._`${n}${(0,i.callValidateCode)(e,y,s,a)}`,t.modifying)}function b(e){var n;u.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:g),e)}e.block$data(g,(function(){if(!1===t.errors)v(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=u.let("ruleErrs",null);return u.try((()=>v(r._`await `)),(t=>u.assign(g,!1).if(r._`${t} instanceof ${p.ValidationError}`,(()=>u.assign(e,r._`${t}.errors`)),(()=>u.throw(t))))),e}():function(){const e=r._`${y}.errors`;return u.assign(e,null),v(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(o.default.vErrors,r._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,r._`${o.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:g)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const s=o.dependencies;if(null===s||void 0===s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema){if(!o.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(o.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}},64206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(69593),o=n(1842);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,o.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:s,dataTypes:a,propertyName:c}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:c}=t;l(u.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${s}${(0,o.getErrorPath)(n,i,c.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==s){l(s instanceof r.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)}function l(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:o,allErrors:i}){void 0!==r&&(e.compositeRule=r),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}},47806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(58479);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var o=n(69593);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const i=n(1089),s=n(40776),a=n(11320),c=n(15281),u=n(69593),l=n(12690),f=n(51495),d=n(1842),h=n(31096),p=n(61406),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,r,o,i,s,a,c,u,l,f,d,h,y,g,v,b,w,E,_,S,T,I,N,O;const k=e.strict,A=null===(t=e.code)||void 0===t?void 0:t.optimize,x=!0===A||void 0===A?1:A||0,C=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,$=null!==(o=e.uriResolver)&&void 0!==o?o:p.default;return{strictSchema:null===(s=null!==(i=e.strictSchema)&&void 0!==i?i:k)||void 0===s||s,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:k)||void 0===c||c,strictTypes:null!==(l=null!==(u=e.strictTypes)&&void 0!==u?u:k)&&void 0!==l?l:"log",strictTuples:null!==(d=null!==(f=e.strictTuples)&&void 0!==f?f:k)&&void 0!==d?d:"log",strictRequired:null!==(y=null!==(h=e.strictRequired)&&void 0!==h?h:k)&&void 0!==y&&y,code:e.code?{...e.code,optimize:x,regExp:C}:{optimize:x,regExp:C},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(E=e.inlineRefs)||void 0===E||E,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(S=e.addUsedSchema)||void 0===S||S,validateSchema:null===(T=e.validateSchema)||void 0===T||T,validateFormats:null===(I=e.validateFormats)||void 0===I||I,unicodeRegExp:null===(N=e.unicodeRegExp)||void 0===N||N,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:$}}class E{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:t,lines:n}),this.logger=function(e){if(!1===e)return k;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),_.call(this,v,e,"NOT SUPPORTED"),_.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=O.call(this),e.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&N.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),T.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=h;"id"===n&&(r={...h},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await o.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function o(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await u.call(this,e);this.refs[e]||await o.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let o;if("object"===typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${t} must be string`)}return t=(0,l.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=S.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=S.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,l.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(x.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>C.call(this,e))),this;R.call(this,t);const r={...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>C.call(this,e,r):e=>r.type.forEach((t=>C.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,i=o[e];r&&i&&(o[e]=P(i))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;const{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,l.normalizeId)(i||n);const u=l.getSchemaRefs.call(this,e,n);return a=new c.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:u}),this._cache.set(a.schema,a),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),r&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,n,r="error"){for(const o in e){const i=o;i in t&&this.logger[r](`${n}: option ${o}. ${e[i]}`)}}function S(e){return e=(0,l.normalizeId)(e),this.schemas[e]||this.refs[e]}function T(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function I(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function N(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function O(){const e={...this.opts};for(const t of y)delete e[t];return e}t.default=E,E.ValidationError=i.default,E.MissingRefError=s.default;const k={log(){},warn(){},error(){}};const A=/^[a-z_$][a-z0-9_$:-]*$/i;function x(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!A.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function C(e,t,n){var r;const o=null===t||void 0===t?void 0:t.post;if(n&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=o?i.post:i.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)}};t.before?$.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function $(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function R(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=P(t)),e.validateSchema=this.compile(t,!0))}const D={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function P(e){return{anyOf:[e,D]}}},75358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(93610),o=n(92452),i=n(47910),s=n(99419),a=n(17866),c=n(4500),u=n(96242),l=n(39356),f=["/properties"];t.default=function(e){return[r,o,i,s,a,t(this,c),u,t(this,l)].forEach((e=>this.addMetaSchema(e,void 0,!1))),this;function t(t,n){return e?t.$dataMetaSchema(n,f):n}}},21644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(64063);r.code='require("ajv/dist/runtime/equal").default',t.default=r},19902:function(e,t){"use strict";function n(e){const t=e.length;let n,r=0,o=0;for(;o<t;)r++,n=e.charCodeAt(o++),n>=55296&&n<=56319&&o<t&&(n=e.charCodeAt(o),56320===(64512&n)&&o++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},61406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60540);r.code='require("ajv/dist/runtime/uri").default',t.default=r},1089:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},95098:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(69593),o=n(1842),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,o.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:i,data:s,keyword:a,it:c}=e;c.items=!0;const u=n.const("len",r._`${s}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(r._`${u} <= ${t.length}`);else if("object"==typeof i&&!(0,o.alwaysValidSchema)(c,i)){const i=n.var("valid",r._`${u} <= ${t.length}`);n.if((0,r.not)(i),(()=>function(i){n.forRange("i",t.length,u,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:o.Type.Num},i),c.allErrors||n.if((0,r.not)(i),(()=>n.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=s,t.default=i},94792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83745),o=n(69593),i=n(5050),s=n(1842),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:c,errsCount:u,it:l}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:f,opts:d}=l;if(l.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(l,n))return;const h=(0,r.allSchemaProperties)(a.properties),p=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(o._`delete ${c}[${e}]`)}function y(r){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(f||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(l,n)){const n=t.name("valid");"failing"===d.removeAdditional?(g(r,n,!1),t.if((0,o.not)(n),(()=>{e.reset(),m(r)}))):(g(r,n),f||t.if((0,o.not)(n),(()=>t.break())))}}}function g(t,n,r){const o={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,n)}t.forIn("key",c,(n=>{h.length||p.length?t.if(function(n){let i;if(h.length>8){const e=(0,s.schemaRefOrVal)(l,a.properties,"properties");i=(0,r.isOwnProperty)(t,e,n)}else i=h.length?(0,o.or)(...h.map((e=>o._`${n} === ${e}`))):o.nil;return p.length&&(i=(0,o.or)(i,...p.map((t=>o._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,o.not)(i)}(n),(()=>y(n))):y(n)})),e.ok(o._`${u} === ${i.default.errors}`)}};t.default=a},67025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(o,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},i);e.ok(i),e.mergeEvaluated(s)}))}};t.default=o},39802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(83745).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},51670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:s,it:a}=e;let c,u;const{minContains:l,maxContains:f}=i;a.opts.next?(c=void 0===l?1:l,u=f):c=1;const d=t.const("len",r._`${s}.length`);if(e.setParams({min:c,max:u}),void 0===u&&0===c)return void(0,o.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&c>u)return(0,o.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,o.alwaysValidSchema)(a,n)){let t=r._`${d} >= ${c}`;return void 0!==u&&(t=r._`${t} && ${d} <= ${u}`),void e.pass(t)}a.items=!0;const h=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===u?t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0).break())):(t.if(r._`${e} > ${u}`,(()=>t.assign(h,!1).break())),1===c?t.assign(h,!0):t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0))))}(n)))))}function m(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},n),r()}))}void 0===u&&1===c?m(h,(()=>t.if(h,(()=>t.break())))):0===c?(t.let(h,!0),void 0!==u&&t.if(r._`${s}.length > 0`,p)):(t.let(h,!1),p()),e.result(h,(()=>e.reset()))}};t.default=i},57106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(69593),o=n(1842),i=n(83745);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const o=1===t?"property":"properties";return r.str`must have ${o} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:o}})=>r._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e){if("__proto__"===r)continue;(Array.isArray(e[r])?t:n)[r]=e[r]}return[t,n]}(e);a(e,t),c(e,n)}};function a(e,t=e.schema){const{gen:n,data:o,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const l=(0,i.propertyInData)(n,o,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?n.if(l,(()=>{for(const t of u)(0,i.checkReportMissingProp)(e,t)})):(n.if(r._`${l} && (${(0,i.checkMissingProp)(e,u,a)})`),(0,i.reportMissingProp)(e,a),n.else())}}function c(e,t=e.schema){const{gen:n,data:r,keyword:s,it:a}=e,c=n.name("valid");for(const u in t)(0,o.alwaysValidSchema)(a,t[u])||(n.if((0,i.propertyInData)(n,r,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>n.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},56275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57106),o={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,r.validateSchemaDeps)(e)};t.default=o},7859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&(0,o.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const a=s(i,"then"),c=s(i,"else");if(!a&&!c)return;const u=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),a&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(l,f("then",n),f("else",n))}else a?t.if(l,f("then")):t.if((0,r.not)(l),f("else"));function f(n,o){return()=>{const i=e.subschema({keyword:n},l);t.assign(u,l),e.mergeValidEvaluated(i,u),o?t.assign(o,r._`${n}`):e.setParams({ifClause:n})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,o.alwaysValidSchema)(e,n)}t.default=i},18834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(95098),o=n(76168),i=n(91365),s=n(78405),a=n(51670),c=n(57106),u=n(78923),l=n(94792),f=n(49606),d=n(57962),h=n(34694),p=n(39802),m=n(43723),y=n(67025),g=n(7859),v=n(43283);t.default=function(e=!1){const t=[h.default,p.default,m.default,y.default,g.default,v.default,u.default,l.default,c.default,f.default,d.default];return e?t.push(o.default,s.default):t.push(r.default,i.default),t.push(a.default),t}},91365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(69593),o=n(1842),i=n(83745),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,o.alwaysValidSchema)(n,t)||e.ok((0,i.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:i,parentSchema:s,data:a,keyword:c,it:u}=e;!function(e){const{opts:r,errSchemaPath:i}=u,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(r.strictTuples&&!a){const e=`"${c}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,o.checkStrictMode)(u,e,r.strictTuples)}}(s),u.opts.unevaluated&&n.length&&!0!==u.items&&(u.items=o.mergeEvaluated.items(i,n.length,u.items));const l=i.name("valid"),f=i.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,o.alwaysValidSchema)(u,t)||(i.if(r._`${f} > ${n}`,(()=>e.subschema({keyword:c,schemaProp:n,dataProp:n},l))),e.ok(l))}))}t.validateTuple=a,t.default=s},78405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i=n(83745),s=n(95098),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,o.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,i.validateArray)(e)))}};t.default=a},34694:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,r.alwaysValidSchema)(o,n))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=o},43723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&i.discriminator)return;const a=n,c=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block((function(){a.forEach(((n,i)=>{let a;(0,o.alwaysValidSchema)(s,n)?t.var(l,!0):a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},l),i>0&&t.if(r._`${l} && ${c}`).assign(c,!1).assign(u,r._`[${u}, ${i}]`).else(),t.if(l,(()=>{t.assign(c,!0),t.assign(u,i),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},57962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83745),o=n(69593),i=n(1842),s=n(1842),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:c,it:u}=e,{opts:l}=u,f=(0,r.allSchemaProperties)(n),d=f.filter((e=>(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length||d.length===f.length&&(!u.opts.unevaluated||!0===u.props))return;const h=l.strictSchema&&!l.allowMatchingProperties&&c.properties,p=t.name("valid");!0===u.props||u.props instanceof o.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));const{props:m}=u;function y(e){for(const t in h)new RegExp(e).test(t)&&(0,i.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(n){t.forIn("key",a,(i=>{t.if(o._`${(0,r.usePattern)(e,n)}.test(${i})`,(()=>{const r=d.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:s.Type.Str},p),u.opts.unevaluated&&!0!==m?t.assign(o._`${m}[${i}]`,!0):r||u.allErrors||t.if((0,o.not)(p),(()=>t.break()))}))}))}!function(){for(const e of f)h&&y(e),u.allErrors?g(e):(t.var(p,!0),g(e),t.if(p))}()}};t.default=a},76168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(91365),o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=o},49606:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(58479),o=n(83745),i=n(1842),s=n(94792),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(u,s.default,"additionalProperties"));const l=(0,o.allSchemaProperties)(n);for(const r of l)u.definedProperties.add(r);u.opts.unevaluated&&l.length&&!0!==u.props&&(u.props=i.mergeEvaluated.props(t,(0,i.toHash)(l),u.props));const f=l.filter((e=>!(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length)return;const d=t.name("valid");for(const r of f)h(r)?p(r):(t.if((0,o.propertyInData)(t,c,r,u.opts.ownProperties)),p(r),u.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(d);function h(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==n[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=a},78923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:s}=e;if((0,o.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=i},43283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=o},83745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(69593),o=n(1842),i=n(5050),s=n(1842);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function c(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function u(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} === undefined`;return o?(0,r.or)(i,(0,r.not)(c(e,t,n))):i}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:o,it:i}=e;n.if(u(n,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},o,i){return(0,r.or)(...o.map((o=>(0,r.and)(u(e,t,o,n.ownProperties),r._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return o?r._`${i} && ${c(e,t,n)}`:i},t.noPropertyInData=u,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((n=>!(0,o.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:s,errorPath:a},it:c},u,l,f){const d=f?r._`${e}, ${t}, ${o}${s}`:t,h=[[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,a)],[i.default.parentData,c.parentData],[i.default.parentDataProperty,c.parentDataProperty],[i.default.rootData,i.default.rootData]];c.opts.dynamicRef&&h.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const p=r._`${d}, ${n.object(...h)}`;return l!==r.nil?r._`${u}.call(${l}, ${p})`:r._`${u}(${p})`};const f=r._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:r._`${"new RegExp"===i.code?f:(0,s.useFunc)(e,i)}(${n}, ${o})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",r._`${n}.length`);t.forRange("i",0,c,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:o.Type.Num},a),t.if((0,r.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,o.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>n.forEach(((n,o)=>{const s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},c);t.assign(a,r._`${a} || ${c}`);e.mergeValidEvaluated(s,c)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},36075:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},57140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36075),o=n(31028),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,o.default];t.default=i},31028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(40776),o=n(83745),i=n(69593),s=n(5050),a=n(15281),c=n(1842),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:s,schemaEnv:c,validateName:u,opts:d,self:h}=o,{root:p}=c;if(("#"===n||"#/"===n)&&s===p.baseId)return function(){if(c===p)return f(e,u,c,c.$async);const n=t.scopeValue("root",{ref:p});return f(e,i._`${n}.validate`,p,p.$async)}();const m=a.resolveRef.call(h,p,s,n);if(void 0===m)throw new r.default(o.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=l(e,t);f(e,n,t,t.$async)}(m):function(r){const o=t.scopeValue("schema",!0===d.code.source?{ref:r,code:(0,i.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function l(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):i._`${n.scopeValue("wrapper",{ref:t})}.validate`}function f(e,t,n,r){const{gen:a,it:u}=e,{allErrors:l,schemaEnv:f,opts:d}=u,h=d.passContext?s.default.this:i.nil;function p(e){const t=i._`${e}.errors`;a.assign(s.default.vErrors,i._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,i._`${s.default.vErrors}.length`)}function m(e){var t;if(!u.opts.unevaluated)return;const r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(r&&!r.dynamicProps)void 0!==r.props&&(u.props=c.mergeEvaluated.props(a,r.props,u.props));else{const t=a.var("props",i._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,i.Name)}if(!0!==u.items)if(r&&!r.dynamicItems)void 0!==r.items&&(u.items=c.mergeEvaluated.items(a,r.items,u.items));else{const t=a.var("items",i._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,i.Name)}}r?function(){if(!f.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(i._`await ${(0,o.callValidateCode)(e,t,h)}`),m(t),l||a.assign(n,!0)}),(e=>{a.if(i._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),l||a.assign(n,!1)})),e.ok(n)}():e.result((0,o.callValidateCode)(e,t,h),(()=>m(t)),(()=>p(t)))}t.getValidate=l,t.callRef=f,t.default=u},74752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(54005),i=n(15281),s=n(1842),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:c,it:u}=e,{oneOf:l}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=a.propertyName;if("string"!=typeof f)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),h=t.const("tag",r._`${n}${(0,r.getProperty)(f)}`);function p(n){const o=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},o);return e.mergeEvaluated(i,r.Name),o}t.if(r._`typeof ${h} == "string"`,(()=>function(){const n=function(){var e;const t={},n=o(c);let r=!0;for(let c=0;c<l.length;c++){let t=l[c];(null===t||void 0===t?void 0:t.$ref)&&!(0,s.schemaHasRulesButRef)(t,u.self.RULES)&&(t=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null===t||void 0===t?void 0:t.$ref),t instanceof i.SchemaEnv&&(t=t.schema));const d=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[f];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);r=r&&(n||o(t)),a(d,c)}if(!r)throw new Error(`discriminator: "${f}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(f)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${f}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${h} === ${e}`),t.assign(d,p(n[e]));t.else(),e.error(!1,{discrError:o.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}()),(()=>e.error(!1,{discrError:o.DiscrError.Tag,tag:h,tagName:f}))),e.ok(d)}};t.default=a},54005:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},82747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57140),o=n(95491),i=n(18834),s=n(34700),a=n(93250),c=n(83512),u=n(53105),l=n(35181),f=[s.default,r.default,o.default,(0,i.default)(!0),u.default,l.metadataVocabulary,l.contentVocabulary,a.default,c.default];t.default=f},62032:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicAnchor=void 0;const r=n(69593),o=n(5050),i=n(15281),s=n(31028),a={keyword:"$dynamicAnchor",schemaType:"string",code:e=>c(e,e.schema)};function c(e,t){const{gen:n,it:a}=e;a.schemaEnv.root.dynamicAnchors[t]=!0;const c=r._`${o.default.dynamicAnchors}${(0,r.getProperty)(t)}`,u="#"===a.errSchemaPath?a.validateName:function(e){const{schemaEnv:t,schema:n,self:r}=e.it,{root:o,baseId:a,localRefs:c,meta:u}=t.root,{schemaId:l}=r.opts,f=new i.SchemaEnv({schema:n,schemaId:l,root:o,baseId:a,localRefs:c,meta:u});return i.compileSchema.call(r,f),(0,s.getValidate)(e,f)}(e);n.if(r._`!${c}`,(()=>n.assign(c,u)))}t.dynamicAnchor=c,t.default=a},86625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicRef=void 0;const r=n(69593),o=n(5050),i=n(31028),s={keyword:"$dynamicRef",schemaType:"string",code:e=>a(e,e.schema)};function a(e,t){const{gen:n,keyword:s,it:a}=e;if("#"!==t[0])throw new Error(`"${s}" only supports hash fragment reference`);const c=t.slice(1);if(a.allErrors)u();else{const t=n.let("valid",!1);u(t),e.ok(t)}function u(e){if(a.schemaEnv.root.dynamicAnchors[c]){const t=n.let("_v",r._`${o.default.dynamicAnchors}${(0,r.getProperty)(c)}`);n.if(t,l(t,e),l(a.validateName,e))}else l(a.validateName,e)()}function l(t,r){return r?()=>n.block((()=>{(0,i.callRef)(e,t),n.let(r,!0)})):()=>(0,i.callRef)(e,t)}}t.dynamicRef=a,t.default=s},34700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(62032),o=n(86625),i=n(93137),s=n(99226),a=[r.default,o.default,i.default,s.default];t.default=a},93137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(62032),o=n(1842),i={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,r.dynamicAnchor)(e,""):(0,o.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};t.default=i},99226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(86625),o={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,r.dynamicRef)(e,e.schema)};t.default=o},23142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:o,$data:i,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:d}=c;u.validateFormats&&(i?function(){const i=n.scopeValue("formats",{ref:d.formats,code:u.code.formats}),s=n.const("fDef",r._`${i}[${a}]`),c=n.let("fType"),l=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(c,r._`${s}.type || "string"`).assign(l,r._`${s}.validate`)),(()=>n.assign(c,r._`"string"`).assign(l,s))),e.fail$data((0,r.or)(!1===u.strictSchema?r.nil:r._`${a} && !${l}`,function(){const e=f.$async?r._`(${s}.async ? await ${l}(${o}) : ${l}(${o}))`:r._`${l}(${o})`,n=r._`(typeof ${l} == "function" ? ${e} : ${l}.test(${o}))`;return r._`${l} && ${l} !== true && ${c} === ${t} && !${n}`}()))}():function(){const i=d.formats[s];if(!i)return void function(){if(!1===u.strictSchema)return void d.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${l}"`}}();if(!0===i)return;const[a,c,h]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):u.code.formats?r._`${u.code.formats}${(0,r.getProperty)(s)}`:void 0,o=n.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,r._`${o}.validate`];return["string",e,o]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!f.$async)throw new Error("async format in sync schema");return r._`await ${h}(${o})`}return"function"==typeof c?r._`${h}(${o})`:r._`${h}.test(${o})`}())}())}};t.default=o},53105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(23142).default];t.default=r},35181:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},93250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(43979),o=n(56275),i=n(19258),s=[r.default,o.default,i.default];t.default=s},83512:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44729),o=n(93483),i=[r.default,o.default];t.default=i},93483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{gen:t,schema:n,data:i,it:s}=e,a=s.items||0;if(!0===a)return;const c=t.const("len",r._`${i}.length`);if(!1===n)e.setParams({len:a}),e.fail(r._`${c} > ${a}`);else if("object"==typeof n&&!(0,o.alwaysValidSchema)(s,n)){const n=t.var("valid",r._`${c} <= ${a}`);t.if((0,r.not)(n),(()=>function(n,i){t.forRange("i",i,c,(i=>{e.subschema({keyword:"unevaluatedItems",dataProp:i,dataPropType:o.Type.Num},n),s.allErrors||t.if((0,r.not)(n),(()=>t.break()))}))}(n,a))),e.ok(n)}s.items=!0}};t.default=i},44729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i=n(5050),s={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:e})=>r._`{unevaluatedProperty: ${e.unevaluatedProperty}}`},code(e){const{gen:t,schema:n,data:s,errsCount:a,it:c}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,props:l}=c;function f(i){if(!1===n)return e.setParams({unevaluatedProperty:i}),e.error(),void(u||t.break());if(!(0,o.alwaysValidSchema)(c,n)){const n=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:i,dataPropType:o.Type.Str},n),u||t.if((0,r.not)(n),(()=>t.break()))}}l instanceof r.Name?t.if(r._`${l} !== true`,(()=>t.forIn("key",s,(e=>t.if(function(e,t){return r._`!${e} || !${e}[${t}]`}(l,e),(()=>f(e))))))):!0!==l&&t.forIn("key",s,(e=>void 0===l?f(e):t.if(function(e,t){const n=[];for(const o in e)!0===e[o]&&n.push(r._`${t} !== ${o}`);return(0,r.and)(...n)}(l,e),(()=>f(e))))),c.props=!0,e.ok(r._`${a} === ${i.default.errors}`)}};t.default=s},2196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i=n(21644),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:c}=e;s||c&&"object"==typeof c?e.fail$data(r._`!${(0,o.useFunc)(t,i.default)}(${n}, ${a})`):e.fail(r._`${c} !== ${n}`)}};t.default=s},43979:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57106),o={keyword:"dependentRequired",type:"object",schemaType:"object",error:r.error,code:e=>(0,r.validatePropertyDeps)(e)};t.default=o},49593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i=n(21644),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:c,it:u}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const l=a.length>=u.opts.loopEnum;let f;const d=()=>null!==f&&void 0!==f?f:f=(0,o.useFunc)(t,i.default);let h;if(l||s)h=t.let("valid"),e.block$data(h,(function(){t.assign(h,!1),t.forOf("v",c,(e=>t.if(r._`${d()}(${n}, ${e})`,(()=>t.assign(h,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);h=(0,r.or)(...a.map(((t,o)=>function(e,t){const o=a[t];return"object"===typeof o&&null!==o?r._`${d()}(${n}, ${e}[${t}])`:r._`${n} === ${o}`}(e,o))))}e.pass(h)}};t.default=s},95491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(95575),o=n(24230),i=n(64539),s=n(72107),a=n(69419),c=n(63386),u=n(74159),l=n(22544),f=n(2196),d=n(49593),h=[r.default,o.default,i.default,s.default,a.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=h},19258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:n}){void 0===t.contains&&(0,r.checkStrictMode)(n,`"${e}" without "contains" is ignored`)}};t.default=o},74159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${i} ${o}`)}};t.default=o},64539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=n(1842),i=n(19902),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,c="maxLength"===t?r.operators.GT:r.operators.LT,u=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,o.useFunc)(e.gen,i.default)}(${n})`;e.fail$data(r._`${u} ${c} ${s}`)}};t.default=s},95575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o=r.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>r.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`${n} ${i[t].fail} ${o} || isNaN(${n})`)}};t.default=a},69419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${i} ${o}`)}};t.default=o},24230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69593),o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,a=t.let("res"),c=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${o} === 0 || (${a} = ${n}/${o}, ${c}))`)}};t.default=o},72107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83745),o=n(69593),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:s,it:a}=e,c=a.opts.unicodeRegExp?"u":"",u=n?o._`(new RegExp(${s}, ${c}))`:(0,r.usePattern)(e,i);e.fail$data(o._`!${u}.test(${t})`)}};t.default=i},63386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83745),o=n(69593),i=n(1842),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:c,it:u}=e,{opts:l}=u;if(!c&&0===n.length)return;const f=n.length>=l.loopRequired;if(u.allErrors?function(){if(f||c)e.block$data(o.nil,d);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(f||c){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,i){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(i,(0,r.propertyInData)(t,a,n,l.ownProperties)),t.if((0,o.not)(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,i)),(0,r.reportMissingProp)(e,i),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(u,t,u.opts.strictRequired)}}function d(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,l.ownProperties),(()=>e.error()))}))}}};t.default=s},22544:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51495),o=n(69593),i=n(1842),s=n(21644),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:c,parentSchema:u,schemaCode:l,it:f}=e;if(!a&&!c)return;const d=t.let("valid"),h=u.items?(0,r.getSchemaTypes)(u.items):[];function p(i,s){const a=t.name("item"),c=(0,r.checkDataTypes)(h,a,f.opts.strictNumbers,r.DataType.Wrong),u=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(a,o._`${n}[${i}]`),t.if(c,o._`continue`),h.length>1&&t.if(o._`typeof ${a} == "string"`,o._`${a} += "_"`),t.if(o._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,o._`${u}[${a}]`),e.error(),t.assign(d,!1).break()})).code(o._`${u}[${a}] = ${i}`)}))}function m(r,a){const c=(0,i.useFunc)(t,s.default),u=t.name("outer");t.label(u).for(o._`;${r}--;`,(()=>t.for(o._`${a} = ${r}; ${a}--;`,(()=>t.if(o._`${c}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(u)}))))))}e.block$data(d,(function(){const r=t.let("i",o._`${n}.length`),i=t.let("j");e.setParams({i:r,j:i}),t.assign(d,!0),t.if(o._`${r} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?p:m)(r,i)))}),o._`${l} === false`),e.ok(d)}};t.default=a},91062:function(e){"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,o,i,s,a,c,u,l,f){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in r(i,s,a,c,u,l,f),i){var h=i[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var p=0;p<h.length;p++)n(e,r,o,h[p],s+"/"+d+"/"+p,a,s,d,i,p)}else if(d in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)n(e,r,o,h[m],s+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,i,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,r,o,h,s+"/"+d,a,s,d,i)}o(i,s,a,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},27082:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=n(16773),i=r(n(12840)),s=r(n(30778)),a=n(41274),c=Symbol("IGNORE_SUBSTREAM");class u extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new a.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=s.default(t);i.default(e,{readable:!1},n),i.default(e,{writable:!1},n)}(this,(e=>t.destroy(e||void 0))),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,n){const{name:r,data:o}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const i=this._substreams[r];return i?(i!==c&&i.push(o),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}}t.ObjectMultiplex=u},41274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const r=n(16773);class o extends r.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}t.Substream=o},68392:function(e,t,n){"use strict";const r=n(27082);e.exports=r.ObjectMultiplex},53669:function(e,t,n){"use strict";var r=n(88212),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var i=Object.create(n(16497));i.inherits=n(35717);var s=n(8663),a=n(16451);i.inherits(f,s);for(var c=o(a.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},85074:function(e,t,n){"use strict";e.exports=i;var r=n(37833),o=Object.create(n(16497));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n(35717),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},8663:function(e,t,n){"use strict";var r=n(83454),o=n(88212);e.exports=b;var i,s=n(5826);b.ReadableState=v;n(25293).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=n(9532),u=n(42379).Buffer,l=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var f=Object.create(n(16497));f.inherits=n(35717);var d=n(96918),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(39731),y=n(38140);f.inherits(b,c);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(53669));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(10185).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n(53669),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,o){var i,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,T(e)}(e,s)):(o||(i=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),i?e.emit("error",i):s.objectMode||t&&t.length>0?("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?E(e,s,t,!1):N(e,s)):E(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),N(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(10185).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(I,e):I(e))}function I(e){h("emit readable"),e.emit("readable"),x(e)}function N(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}function x(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(s===i.length?o+=i:o+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,s),0===(e-=s)){s===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function $(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?$(this):T(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&$(this),null;var r,o=t.needReadable;return h("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",o=!0),t.ended||t.reading?h("reading or ended",o=!1):o&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&$(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",y),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",m),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}i.endEmitted?o.nextTick(c):n.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,x(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==D(i.pipes,e))&&!d&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++,p=!0),n.pause())}function y(t){h("onerror",t),b(),e.removeListener("error",y),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),b()}function v(){h("onfinish"),e.removeListener("close",g),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=D(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):o.nextTick(k,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(A,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(h("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))})),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<g.length;i++)e.on(g[i],this.emit.bind(this,g[i]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=C},37833:function(e,t,n){"use strict";e.exports=s;var r=n(53669),o=Object.create(n(16497));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(35717),o.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},16451:function(e,t,n){"use strict";var r=n(88212);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=y;var i,s=r.nextTick;y.WritableState=m;var a=Object.create(n(16497));a.inherits=n(35717);var c={deprecate:n(94927)},u=n(9532),l=n(42379).Buffer,f=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var d,h=n(38140);function p(){}function m(e,t){i=i||n(53669),e=e||{};var a=t instanceof i;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,o=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,o,i){--t.pendingcb,n?(r.nextTick(i,o),r.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",o)):(i(o),e._writableState.errorEmitted=!0,e.emit("error",o),_(e,t))}(e,n,o,t,i);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),o?s(v,e,n,a,i):v(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(i=i||n(53669),!d.call(y,this)&&!(this instanceof i))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function g(e,t,n,r,o,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,g(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(g(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(y,u),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===y&&(e&&e._writableState instanceof m)}})):d=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var o,i=this._writableState,s=!1,a=!i.objectMode&&(o=e,l.isBuffer(o)||o instanceof f);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=p),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,o){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(o,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,o,i){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,n));return t}(t,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,a,r,o,i);return c}(this,i,a,e,t,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||b(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var o=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,o,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}},39731:function(e,t,n){"use strict";var r=n(42379).Buffer,o=n(22220);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);for(var t,n,o,i=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,o=a,t.copy(n,o),a+=s.data.length,s=s.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},38140:function(e,t,n){"use strict";var r=n(88212);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,e)):r.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},9532:function(e,t,n){e.exports=n(25293).EventEmitter},16773:function(e,t,n){(t=e.exports=n(8663)).Stream=t,t.Readable=t,t.Writable=n(16451),t.Duplex=n(53669),t.Transform=n(37833),t.PassThrough=n(85074)},42379:function(e,t,n){var r=n(48764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(o,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},10185:function(e,t,n){"use strict";var r=n(42379).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=s(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},98657:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseProvider=void 0;const o=r(n(19394)),i=n(79826),s=r(n(64063)),a=n(88625),c=r(n(59239)),u=n(74526);class l extends o.default{constructor({logger:e=console,maxEventListeners:t=100,rpcMiddleware:n=[]}={}){super(),this._log=e,this.setMaxListeners(t),this._state={...l._defaultState},this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const r=new a.JsonRpcEngine;n.forEach((e=>r.push(e))),this._rpcEngine=r}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!==typeof e||Array.isArray(e))throw i.ethErrors.rpc.invalidRequest({message:c.default.errors.invalidRequestArgs(),data:e});const{method:t,params:n}=e;if("string"!==typeof t||0===t.length)throw i.ethErrors.rpc.invalidRequest({message:c.default.errors.invalidRequestMethod(),data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!==typeof n||null===n))throw i.ethErrors.rpc.invalidRequest({message:c.default.errors.invalidRequestParams(),data:e});return new Promise(((e,r)=>{this._rpcRequest({method:t,params:n},(0,u.getRpcPromiseCallback)(e,r))}))}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:t,chainId:n,isUnlocked:r,networkVersion:o}=e;this._handleConnect(n),this._handleChainChanged({chainId:n,networkVersion:o}),this._handleUnlockStateChanged({accounts:t,isUnlocked:r}),this._handleAccountsChanged(t)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,t){let n=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(n=(n,r)=>{this._handleAccountsChanged(r.result??[],"eth_accounts"===e.method),t(n,r)})),this._rpcEngine.handle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(c.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new i.EthereumRpcError(1013,t??c.default.errors.disconnected()),this._log.debug(n)):(n=new i.EthereumRpcError(1011,t??c.default.errors.permanentlyDisconnected()),this._log.error(n),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleChainChanged({chainId:e}={}){(0,u.isValidChainId)(e)?(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error(c.default.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,t=!1){let n=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),n=[]);for(const r of e)if("string"!==typeof r){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),n=[];break}if(!(0,s.default)(this._state.accounts,n)&&(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",n),this._state.accounts=n,this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null),this._state.initialized)){const e=[...n];this.emit("accountsChanged",e)}}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"===typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.BaseProvider=l,l._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},40080:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetaMaskInpageProvider=t.MetaMaskInpageProviderStreamName=void 0;const o=n(79826),i=r(n(59239)),s=n(60457),a=n(18104),c=n(74526);t.MetaMaskInpageProviderStreamName="metamask-provider";class u extends a.AbstractStreamProvider{constructor(e,{jsonRpcStreamName:n=t.MetaMaskInpageProviderStreamName,logger:r=console,maxEventListeners:o=100,shouldSendMetadata:i}={}){if(super(e,{jsonRpcStreamName:n,logger:r,maxEventListeners:o,rpcMiddleware:(0,c.getDefaultExternalMiddleware)(r)}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this._initializeStateAsync(),this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;c.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),i)if("complete"===document.readyState)(0,s.sendSiteMetadata)(this._rpcEngine,this._log);else{const e=()=>{(0,s.sendSiteMetadata)(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){!1===this._sentWarnings?.events[e]&&(this._log.warn(i.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(i.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},(0,c.getRpcPromiseCallback)(e,t))}catch(n){t(n)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(i.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!==typeof e||t&&!Array.isArray(t)?e&&"object"===typeof e&&"function"===typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((n,r)=>{try{this._rpcRequest({method:e,params:t},(0,c.getRpcPromiseCallback)(n,r,!1))}catch(o){r(o)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(e,c.NOOP),t=!0;break;case"net_version":t=this.networkVersion??null;break;default:throw new Error(i.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,n)=>{this._rpcRequest(e,(0,c.getRpcPromiseCallback)(t,n))}))}},{get:(e,t,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(i.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...n))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),this._state.isConnected&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.MetaMaskInpageProvider=u},18104:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamProvider=t.AbstractStreamProvider=void 0;const o=r(n(68392)),i=n(24970),s=n(48758),a=r(n(74286)),c=n(98657),u=r(n(59239)),l=n(74526);class f extends c.BaseProvider{constructor(e,{jsonRpcStreamName:t,logger:n=console,maxEventListeners:r=100,rpcMiddleware:c=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:c}),!(0,i.duplex)(e))throw new Error(u.default.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const f=new o.default;(0,a.default)(e,f,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=(0,s.createStreamMiddleware)({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),(0,a.default)(this._jsonRpcConnection.stream,f.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",(t=>{const{method:n,params:r}=t;"metamask_accountsChanged"===n?this._handleAccountsChanged(r):"metamask_unlockStateChanged"===n?this._handleUnlockStateChanged(r):"metamask_chainChanged"===n?this._handleChainChanged(r):l.EMITTED_NOTIFICATIONS.includes(n)?this.emit("message",{type:n,data:r}):"METAMASK_STREAM_FAILURE"===n&&e.destroy(new Error(u.default.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let e;try{e=await this.request({method:"metamask_getProviderState"})}catch(t){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",t)}this._initializeState(e)}_handleStreamDisconnect(e,t){let n=`MetaMask: Lost connection to "${e}".`;t?.stack&&(n+=`\n${t.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){(0,l.isValidChainId)(e)&&(0,l.isValidNetworkVersion)(t)?"loading"===t?this._handleDisconnect(!0):super._handleChainChanged({chainId:e}):this._log.error(u.default.errors.invalidNetworkParams(),{chainId:e,networkVersion:t})}}t.AbstractStreamProvider=f;t.StreamProvider=class extends f{async initialize(){return this._initializeStateAsync()}}},89954:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC20=t.ERC1155=t.ERC721=void 0,t.ERC721="ERC721",t.ERC1155="ERC1155",t.ERC20="ERC20"},53183:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=void 0;const o=n(43631),i=r(n(83560)),s=r(n(55278)),a=n(40080),c=n(18104),u=n(74526),l=(0,o.detect)();t.createExternalExtensionProvider=function(e="stable"){let t;try{const n=function(e){return("firefox"===l?.name?s.default.firefoxIds:s.default.chromeIds)[e]??e}(e),r=chrome.runtime.connect(n),o=new i.default(r);t=new c.StreamProvider(o,{jsonRpcStreamName:a.MetaMaskInpageProviderStreamName,logger:console,rpcMiddleware:(0,u.getDefaultExternalMiddleware)(console)}),t.initialize()}catch(n){throw console.dir("MetaMask connect error.",n),n}return t}},7212:function(e,t,n){"use strict";t.yj=void 0;const r=n(98657);const o=n(53183);Object.defineProperty(t,"yj",{enumerable:!0,get:function(){return o.createExternalExtensionProvider}});const i=n(21607);const s=n(40080);const a=n(58243);const c=n(18104)},21607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const r=n(40080),o=n(58243);function i(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:n=console,maxEventListeners:s=100,shouldSendMetadata:a=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:u=!1}){const l=new r.MetaMaskInpageProvider(e,{jsonRpcStreamName:t,logger:n,maxEventListeners:s,shouldSendMetadata:a}),f=new Proxy(l,{deleteProperty:()=>!0});return c&&i(f),u&&(0,o.shimWeb3)(f,n),f},t.setGlobalProvider=i},59239:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},rpc:{ethDecryptDeprecation:"MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",ethGetEncryptionPublicKeyDeprecation:"MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",walletWatchAssetNFTExperimental:"MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};t.default=n},30687:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRpcWarningMiddleware=void 0;const o=n(89954),i=r(n(59239));t.createRpcWarningMiddleware=function(e){const t={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,s)=>{t.ethDecryptDeprecation||"eth_decrypt"!==n.method?t.ethGetEncryptionPublicKeyDeprecation||"eth_getEncryptionPublicKey"!==n.method?!t.walletWatchAssetNFTExperimental&&"wallet_watchAsset"===n.method&&[o.ERC721,o.ERC1155].includes(n.params?.type||"")&&(e.warn(i.default.warnings.rpc.walletWatchAssetNFTExperimental),t.walletWatchAssetNFTExperimental=!0):(e.warn(i.default.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),t.ethGetEncryptionPublicKeyDeprecation=!0):(e.warn(i.default.warnings.rpc.ethDecryptDeprecation),t.ethDecryptDeprecation=!0),s()}}},58243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shimWeb3=void 0,t.shimWeb3=function(e,t=console){let n=!1,r=!1;if(!window.web3){const o="__isMetaMaskShim__";let i={currentProvider:e};Object.defineProperty(i,o,{value:!0,enumerable:!0,configurable:!1,writable:!1}),i=new Proxy(i,{get:(i,s,...a)=>("currentProvider"!==s||n?"currentProvider"===s||s===o||r||(r=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(n=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(i,s,...a)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:i,enumerable:!1,configurable:!0,writable:!0})}}},60457:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendSiteMetadata=void 0;const o=r(n(59239)),i=n(74526);function s(e){const{document:t}=e,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function a(e){const{document:t}=e,n=t.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await c(r.href))return r.href;return null}async function c(e){return new Promise(((t,n)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(r){n(r)}}))}t.sendSiteMetadata=async function(e,t){try{const t=await async function(){return{name:s(window),icon:await a(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},i.NOOP)}catch(n){t.error({message:o.default.errors.sendSiteMetadata(),originalError:n})}}},74526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP=t.isValidNetworkVersion=t.isValidChainId=t.getRpcPromiseCallback=t.getDefaultExternalMiddleware=t.EMITTED_NOTIFICATIONS=void 0;const r=n(79826),o=n(88625),i=n(30687);t.EMITTED_NOTIFICATIONS=Object.freeze(["eth_subscription"]);t.getDefaultExternalMiddleware=(e=console)=>{return[(0,o.createIdRemapMiddleware)(),(t=e,(e,n,o)=>{"string"===typeof e.method&&e.method||(n.error=r.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),o((e=>{const{error:r}=n;return r?(t.error(`MetaMask - RPC Error: ${r.message}`,r),e()):e()}))}),(0,i.createRpcWarningMiddleware)(e)];var t};t.getRpcPromiseCallback=(e,t,n=!0)=>(r,o)=>{r||o.error?t(r||o.error):!n||Array.isArray(o)?e(o):e(o.result)};t.isValidChainId=e=>Boolean(e)&&"string"===typeof e&&e.startsWith("0x");t.isValidNetworkVersion=e=>Boolean(e)&&"string"===typeof e;t.NOOP=()=>{}},19394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25293);function o(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout((()=>{throw r}))}}class i extends r.EventEmitter{emit(e,...t){let n="error"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if("function"===typeof i)o(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)o(n[r],this,t)}return!0}}t.default=i},98099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97117);function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),l(e/4294967296>>>0,t,n),l(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),f(e>>>0,t,n),f(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=o,t.writeInt16BE=o,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=l,t.writeInt32BE=l,t.writeUint32LE=f,t.writeInt32LE=f,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=s(e,t),r=s(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=u(e,t);return 4294967296*u(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,o=1,i=e/8+n-1;i>=n;i--)r+=t[i]*o,o*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,o=1,i=n;i<n+e/8;i++)r+=t[i]*o,o*=256;return r},t.writeUintBE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+o-1;s>=o;s--)n[s]=t/i&255,i*=256;return n},t.writeUintLE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=o;s<o+e/8;s++)n[s]=t/i&255,i*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},25439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98099),o=n(17309);function i(e,t,n){for(var o=1634760805,i=857760878,s=2036477234,a=1797285236,c=n[3]<<24|n[2]<<16|n[1]<<8|n[0],u=n[7]<<24|n[6]<<16|n[5]<<8|n[4],l=n[11]<<24|n[10]<<16|n[9]<<8|n[8],f=n[15]<<24|n[14]<<16|n[13]<<8|n[12],d=n[19]<<24|n[18]<<16|n[17]<<8|n[16],h=n[23]<<24|n[22]<<16|n[21]<<8|n[20],p=n[27]<<24|n[26]<<16|n[25]<<8|n[24],m=n[31]<<24|n[30]<<16|n[29]<<8|n[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],b=t[15]<<24|t[14]<<16|t[13]<<8|t[12],w=o,E=i,_=s,S=a,T=c,I=u,N=l,O=f,k=d,A=h,x=p,C=m,$=y,R=g,D=v,P=b,j=0;j<20;j+=2)T=(T^=k=k+($=($^=w=w+T|0)>>>16|$<<16)|0)>>>20|T<<12,I=(I^=A=A+(R=(R^=E=E+I|0)>>>16|R<<16)|0)>>>20|I<<12,N=(N^=x=x+(D=(D^=_=_+N|0)>>>16|D<<16)|0)>>>20|N<<12,O=(O^=C=C+(P=(P^=S=S+O|0)>>>16|P<<16)|0)>>>20|O<<12,N=(N^=x=x+(D=(D^=_=_+N|0)>>>24|D<<8)|0)>>>25|N<<7,O=(O^=C=C+(P=(P^=S=S+O|0)>>>24|P<<8)|0)>>>25|O<<7,I=(I^=A=A+(R=(R^=E=E+I|0)>>>24|R<<8)|0)>>>25|I<<7,T=(T^=k=k+($=($^=w=w+T|0)>>>24|$<<8)|0)>>>25|T<<7,I=(I^=x=x+(P=(P^=w=w+I|0)>>>16|P<<16)|0)>>>20|I<<12,N=(N^=C=C+($=($^=E=E+N|0)>>>16|$<<16)|0)>>>20|N<<12,O=(O^=k=k+(R=(R^=_=_+O|0)>>>16|R<<16)|0)>>>20|O<<12,T=(T^=A=A+(D=(D^=S=S+T|0)>>>16|D<<16)|0)>>>20|T<<12,O=(O^=k=k+(R=(R^=_=_+O|0)>>>24|R<<8)|0)>>>25|O<<7,T=(T^=A=A+(D=(D^=S=S+T|0)>>>24|D<<8)|0)>>>25|T<<7,N=(N^=C=C+($=($^=E=E+N|0)>>>24|$<<8)|0)>>>25|N<<7,I=(I^=x=x+(P=(P^=w=w+I|0)>>>24|P<<8)|0)>>>25|I<<7;r.writeUint32LE(w+o|0,e,0),r.writeUint32LE(E+i|0,e,4),r.writeUint32LE(_+s|0,e,8),r.writeUint32LE(S+a|0,e,12),r.writeUint32LE(T+c|0,e,16),r.writeUint32LE(I+u|0,e,20),r.writeUint32LE(N+l|0,e,24),r.writeUint32LE(O+f|0,e,28),r.writeUint32LE(k+d|0,e,32),r.writeUint32LE(A+h|0,e,36),r.writeUint32LE(x+p|0,e,40),r.writeUint32LE(C+m|0,e,44),r.writeUint32LE($+y|0,e,48),r.writeUint32LE(R+g|0,e,52),r.writeUint32LE(D+v|0,e,56),r.writeUint32LE(P+b|0,e,60)}function s(e,t,n,r,s){if(void 0===s&&(s=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var c,u;if(0===s){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(c=new Uint8Array(16)).length-t.length,c.set(t,u)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");c=t,u=s}for(var l=new Uint8Array(64),f=0;f<n.length;f+=64){i(l,c,e);for(var d=f;d<f+64&&d<n.length;d++)r[d]=n[d]^l[d-f];a(c,0,u)}return o.wipe(l),0===s&&o.wipe(c),r}function a(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=s,t.stream=function(e,t,n,r){return void 0===r&&(r=0),o.wipe(n),s(e,t,n,n,r)}},15501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25439),o=n(63027),i=n(17309),s=n(98099),a=n(4153);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var c=new Uint8Array(16),u=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,o){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);r.stream(this._key,s,a,4);var c,u=t.length+this.tagLength;if(o){if(o.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=o}else c=new Uint8Array(u);return r.streamXOR(this._key,s,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),n),i.wipe(s),c},e.prototype.open=function(e,t,n,o){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var c=new Uint8Array(32);r.stream(this._key,s,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,t.subarray(0,t.length-this.tagLength),n),!a.equal(u,t.subarray(t.length-this.tagLength,t.length)))return null;var l,f=t.length-this.tagLength;if(o){if(o.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");l=o}else l=new Uint8Array(f);return r.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),l,4),i.wipe(s),l},e.prototype.clean=function(){return i.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var a=new o.Poly1305(t);r&&(a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16))),a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16));var u=new Uint8Array(8);r&&s.writeUint64LE(r.length,u),a.update(u),s.writeUint64LE(n.length,u),a.update(u);for(var l=a.digest(),f=0;f<l.length;f++)e[f]=l[f];a.clean(),i.wipe(l),i.wipe(u)},e}();t.ChaCha20Poly1305=u},4153:function(e,t){"use strict";function n(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=n,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==n(e,t)}},31050:function(e,t,n){"use strict";t.zh=t.SH=t._w=t.aP=t.KS=t.jQ=void 0;const r=n(31416),o=n(93350),i=n(17309);function s(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.jQ=64,t.KS=64,t.aP=32;new Uint8Array(32)[0]=9;const a=s(),c=s([1]),u=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function m(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function y(e,t,n){const r=~(n-1);for(let o=0;o<16;o++){const n=r&(e[o]^t[o]);e[o]^=n,t[o]^=n}}function g(e,t){const n=s(),r=s();for(let o=0;o<16;o++)r[o]=t[o];m(r),m(r),m(r);for(let o=0;o<2;o++){n[0]=r[0]-65517;for(let t=1;t<15;t++)n[t]=r[t]-65535-(n[t-1]>>16&1),n[t-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,y(r,n,1-e)}for(let o=0;o<16;o++)e[2*o]=255&r[o],e[2*o+1]=r[o]>>8}function v(e,t){let n=0;for(let r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}function b(e,t){const n=new Uint8Array(32),r=new Uint8Array(32);return g(n,e),g(r,t),v(n,r)}function w(e){const t=new Uint8Array(32);return g(t,e),1&t[0]}function E(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function _(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function S(e,t,n){let r,o,i=0,s=0,a=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,m=0,y=0,g=0,v=0,b=0,w=0,E=0,_=0,S=0,T=0,I=0,N=0,O=0,k=0,A=0,x=0,C=0,$=0,R=0,D=0,P=0,j=n[0],M=n[1],L=n[2],U=n[3],B=n[4],F=n[5],V=n[6],q=n[7],z=n[8],G=n[9],H=n[10],K=n[11],J=n[12],W=n[13],Q=n[14],Y=n[15];r=t[0],i+=r*j,s+=r*M,a+=r*L,c+=r*U,u+=r*B,l+=r*F,f+=r*V,d+=r*q,h+=r*z,p+=r*G,m+=r*H,y+=r*K,g+=r*J,v+=r*W,b+=r*Q,w+=r*Y,r=t[1],s+=r*j,a+=r*M,c+=r*L,u+=r*U,l+=r*B,f+=r*F,d+=r*V,h+=r*q,p+=r*z,m+=r*G,y+=r*H,g+=r*K,v+=r*J,b+=r*W,w+=r*Q,E+=r*Y,r=t[2],a+=r*j,c+=r*M,u+=r*L,l+=r*U,f+=r*B,d+=r*F,h+=r*V,p+=r*q,m+=r*z,y+=r*G,g+=r*H,v+=r*K,b+=r*J,w+=r*W,E+=r*Q,_+=r*Y,r=t[3],c+=r*j,u+=r*M,l+=r*L,f+=r*U,d+=r*B,h+=r*F,p+=r*V,m+=r*q,y+=r*z,g+=r*G,v+=r*H,b+=r*K,w+=r*J,E+=r*W,_+=r*Q,S+=r*Y,r=t[4],u+=r*j,l+=r*M,f+=r*L,d+=r*U,h+=r*B,p+=r*F,m+=r*V,y+=r*q,g+=r*z,v+=r*G,b+=r*H,w+=r*K,E+=r*J,_+=r*W,S+=r*Q,T+=r*Y,r=t[5],l+=r*j,f+=r*M,d+=r*L,h+=r*U,p+=r*B,m+=r*F,y+=r*V,g+=r*q,v+=r*z,b+=r*G,w+=r*H,E+=r*K,_+=r*J,S+=r*W,T+=r*Q,I+=r*Y,r=t[6],f+=r*j,d+=r*M,h+=r*L,p+=r*U,m+=r*B,y+=r*F,g+=r*V,v+=r*q,b+=r*z,w+=r*G,E+=r*H,_+=r*K,S+=r*J,T+=r*W,I+=r*Q,N+=r*Y,r=t[7],d+=r*j,h+=r*M,p+=r*L,m+=r*U,y+=r*B,g+=r*F,v+=r*V,b+=r*q,w+=r*z,E+=r*G,_+=r*H,S+=r*K,T+=r*J,I+=r*W,N+=r*Q,O+=r*Y,r=t[8],h+=r*j,p+=r*M,m+=r*L,y+=r*U,g+=r*B,v+=r*F,b+=r*V,w+=r*q,E+=r*z,_+=r*G,S+=r*H,T+=r*K,I+=r*J,N+=r*W,O+=r*Q,k+=r*Y,r=t[9],p+=r*j,m+=r*M,y+=r*L,g+=r*U,v+=r*B,b+=r*F,w+=r*V,E+=r*q,_+=r*z,S+=r*G,T+=r*H,I+=r*K,N+=r*J,O+=r*W,k+=r*Q,A+=r*Y,r=t[10],m+=r*j,y+=r*M,g+=r*L,v+=r*U,b+=r*B,w+=r*F,E+=r*V,_+=r*q,S+=r*z,T+=r*G,I+=r*H,N+=r*K,O+=r*J,k+=r*W,A+=r*Q,x+=r*Y,r=t[11],y+=r*j,g+=r*M,v+=r*L,b+=r*U,w+=r*B,E+=r*F,_+=r*V,S+=r*q,T+=r*z,I+=r*G,N+=r*H,O+=r*K,k+=r*J,A+=r*W,x+=r*Q,C+=r*Y,r=t[12],g+=r*j,v+=r*M,b+=r*L,w+=r*U,E+=r*B,_+=r*F,S+=r*V,T+=r*q,I+=r*z,N+=r*G,O+=r*H,k+=r*K,A+=r*J,x+=r*W,C+=r*Q,$+=r*Y,r=t[13],v+=r*j,b+=r*M,w+=r*L,E+=r*U,_+=r*B,S+=r*F,T+=r*V,I+=r*q,N+=r*z,O+=r*G,k+=r*H,A+=r*K,x+=r*J,C+=r*W,$+=r*Q,R+=r*Y,r=t[14],b+=r*j,w+=r*M,E+=r*L,_+=r*U,S+=r*B,T+=r*F,I+=r*V,N+=r*q,O+=r*z,k+=r*G,A+=r*H,x+=r*K,C+=r*J,$+=r*W,R+=r*Q,D+=r*Y,r=t[15],w+=r*j,E+=r*M,_+=r*L,S+=r*U,T+=r*B,I+=r*F,N+=r*V,O+=r*q,k+=r*z,A+=r*G,x+=r*H,C+=r*K,$+=r*J,R+=r*W,D+=r*Q,P+=r*Y,i+=38*E,s+=38*_,a+=38*S,c+=38*T,u+=38*I,l+=38*N,f+=38*O,d+=38*k,h+=38*A,p+=38*x,m+=38*C,y+=38*$,g+=38*R,v+=38*D,b+=38*P,o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,r=w+o+65535,o=Math.floor(r/65536),w=r-65536*o,i+=o-1+37*(o-1),o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,r=w+o+65535,o=Math.floor(r/65536),w=r-65536*o,i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=m,e[11]=y,e[12]=g,e[13]=v,e[14]=b,e[15]=w}function T(e,t){S(e,t,t)}function I(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)T(n,n),2!==r&&4!==r&&S(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function N(e,t){const n=s(),r=s(),o=s(),i=s(),a=s(),c=s(),u=s(),f=s(),d=s();_(n,e[1],e[0]),_(d,t[1],t[0]),S(n,n,d),E(r,e[0],e[1]),E(d,t[0],t[1]),S(r,r,d),S(o,e[3],t[3]),S(o,o,l),S(i,e[2],t[2]),E(i,i,i),_(a,r,n),_(c,i,o),E(u,i,o),E(f,r,n),S(e[0],a,c),S(e[1],f,u),S(e[2],u,c),S(e[3],a,f)}function O(e,t,n){for(let r=0;r<4;r++)y(e[r],t[r],n)}function k(e,t){const n=s(),r=s(),o=s();I(o,t[2]),S(n,t[0],o),S(r,t[1],o),g(e,r),e[31]^=w(n)<<7}function A(e,t,n){p(e[0],a),p(e[1],c),p(e[2],c),p(e[3],a);for(let r=255;r>=0;--r){const o=n[r/8|0]>>(7&r)&1;O(e,t,o),N(t,e),N(e,e),O(e,t,o)}}function x(e,t){const n=[s(),s(),s(),s()];p(n[0],f),p(n[1],d),p(n[2],c),S(n[3],f,d),A(e,n,t)}function C(e){if(e.length!==t.aP)throw new Error(`ed25519: seed must be ${t.aP} bytes`);const n=(0,o.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;const r=new Uint8Array(32),i=[s(),s(),s(),s()];x(i,n),k(r,i);const a=new Uint8Array(64);return a.set(e),a.set(r,32),{publicKey:r,secretKey:a}}t._w=C;const $=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function R(e,t){let n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)t[o]+=n-16*t[r]*$[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=256*n;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*$[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*$[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function D(e){const t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let n=0;n<64;n++)e[n]=0;R(e,t)}function P(e,t){const n=s(),r=s(),o=s(),i=s(),l=s(),f=s(),d=s();return p(e[2],c),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),T(o,e[1]),S(i,o,u),_(o,o,e[2]),E(i,e[2],i),T(l,i),T(f,l),S(d,f,l),S(n,d,o),S(n,n,i),function(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)T(n,n),1!==r&&S(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(n,n),S(n,n,o),S(n,n,i),S(n,n,i),S(e[0],n,i),T(r,e[0]),S(r,r,i),b(r,o)&&S(e[0],e[0],h),T(r,e[0]),S(r,r,i),b(r,o)?-1:(w(e[0])===t[31]>>7&&_(e[0],a,e[0]),S(e[3],e[0],e[1]),0)}t.SH=function(e){let t=[s(),s(),s(),s()];if(P(t,e))throw new Error("Ed25519: invalid public key");let n=s(),r=s(),o=t[1];E(n,c,o),_(r,c,o),I(r,r),S(n,n,r);let i=new Uint8Array(32);return g(i,n),i},t.zh=function(e){const t=(0,o.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const n=new Uint8Array(t.subarray(0,32));return(0,i.wipe)(t),n}},97117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},63027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4153),o=n(17309);t.DIGEST_LENGTH=16;var i=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var o=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|o<<6);var i=e[6]|e[7]<<8;this._r[3]=8191&(o>>>7|i<<9);var s=e[8]|e[9]<<8;this._r[4]=255&(i>>>4|s<<12),this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var c=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var u=e[14]|e[15]<<8;this._r[8]=8191&(c>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,o=this._h[0],i=this._h[1],s=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],l=this._h[6],f=this._h[7],d=this._h[8],h=this._h[9],p=this._r[0],m=this._r[1],y=this._r[2],g=this._r[3],v=this._r[4],b=this._r[5],w=this._r[6],E=this._r[7],_=this._r[8],S=this._r[9];n>=16;){var T=e[t+0]|e[t+1]<<8;o+=8191&T;var I=e[t+2]|e[t+3]<<8;i+=8191&(T>>>13|I<<3);var N=e[t+4]|e[t+5]<<8;s+=8191&(I>>>10|N<<6);var O=e[t+6]|e[t+7]<<8;a+=8191&(N>>>7|O<<9);var k=e[t+8]|e[t+9]<<8;c+=8191&(O>>>4|k<<12),u+=k>>>1&8191;var A=e[t+10]|e[t+11]<<8;l+=8191&(k>>>14|A<<2);var x=e[t+12]|e[t+13]<<8;f+=8191&(A>>>11|x<<5);var C=e[t+14]|e[t+15]<<8,$=0,R=$;R+=o*p,R+=i*(5*S),R+=s*(5*_),R+=a*(5*E),$=(R+=c*(5*w))>>>13,R&=8191,R+=u*(5*b),R+=l*(5*v),R+=f*(5*g),R+=(d+=8191&(x>>>8|C<<8))*(5*y);var D=$+=(R+=(h+=C>>>5|r)*(5*m))>>>13;D+=o*m,D+=i*p,D+=s*(5*S),D+=a*(5*_),$=(D+=c*(5*E))>>>13,D&=8191,D+=u*(5*w),D+=l*(5*b),D+=f*(5*v),D+=d*(5*g),$+=(D+=h*(5*y))>>>13,D&=8191;var P=$;P+=o*y,P+=i*m,P+=s*p,P+=a*(5*S),$=(P+=c*(5*_))>>>13,P&=8191,P+=u*(5*E),P+=l*(5*w),P+=f*(5*b),P+=d*(5*v);var j=$+=(P+=h*(5*g))>>>13;j+=o*g,j+=i*y,j+=s*m,j+=a*p,$=(j+=c*(5*S))>>>13,j&=8191,j+=u*(5*_),j+=l*(5*E),j+=f*(5*w),j+=d*(5*b);var M=$+=(j+=h*(5*v))>>>13;M+=o*v,M+=i*g,M+=s*y,M+=a*m,$=(M+=c*p)>>>13,M&=8191,M+=u*(5*S),M+=l*(5*_),M+=f*(5*E),M+=d*(5*w);var L=$+=(M+=h*(5*b))>>>13;L+=o*b,L+=i*v,L+=s*g,L+=a*y,$=(L+=c*m)>>>13,L&=8191,L+=u*p,L+=l*(5*S),L+=f*(5*_),L+=d*(5*E);var U=$+=(L+=h*(5*w))>>>13;U+=o*w,U+=i*b,U+=s*v,U+=a*g,$=(U+=c*y)>>>13,U&=8191,U+=u*m,U+=l*p,U+=f*(5*S),U+=d*(5*_);var B=$+=(U+=h*(5*E))>>>13;B+=o*E,B+=i*w,B+=s*b,B+=a*v,$=(B+=c*g)>>>13,B&=8191,B+=u*y,B+=l*m,B+=f*p,B+=d*(5*S);var F=$+=(B+=h*(5*_))>>>13;F+=o*_,F+=i*E,F+=s*w,F+=a*b,$=(F+=c*v)>>>13,F&=8191,F+=u*g,F+=l*y,F+=f*m,F+=d*p;var V=$+=(F+=h*(5*S))>>>13;V+=o*S,V+=i*_,V+=s*E,V+=a*w,$=(V+=c*b)>>>13,V&=8191,V+=u*v,V+=l*g,V+=f*y,V+=d*m,o=R=8191&($=($=(($+=(V+=h*p)>>>13)<<2)+$|0)+(R&=8191)|0),i=D+=$>>>=13,s=P&=8191,a=j&=8191,c=M&=8191,u=L&=8191,l=U&=8191,f=B&=8191,d=F&=8191,h=V&=8191,t+=16,n-=16}this._h[0]=o,this._h[1]=i,this._h[2]=s,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=l,this._h[7]=f,this._h[8]=d,this._h[9]=h},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,o,i,s=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=n,n=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,s[0]=this._h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this._h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,r=(1^n)-1,i=0;i<10;i++)s[i]&=r;for(r=~r,i=0;i<10;i++)this._h[i]=this._h[i]&r|s[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),o=this._h[0]+this._pad[0],this._h[0]=65535&o,i=1;i<8;i++)o=(this._h[i]+this._pad[i]|0)+(o>>>16)|0,this._h[i]=65535&o;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var o=0;o<t;o++)this._buffer[this._leftover+o]=e[n+o];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(o=0;o<r;o++)this._buffer[this._leftover+o]=e[n+o];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return o.wipe(this._buffer),o.wipe(this._r),o.wipe(this._h),o.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=i,t.oneTimeAuth=function(e,t){var n=new i(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},31416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(46008),o=n(98099),i=n(17309);function s(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){const n=s(4,e),r=(0,o.readUint32LE)(n);return(0,i.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,n=a,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let o="";const c=n.length,u=256-256%c;for(;e>0;){const t=s(Math.ceil(256*e/u),r);for(let r=0;r<t.length&&e>0;r++){const i=t[r];i<u&&(o+=n.charAt(i%c),e--)}(0,i.wipe)(t)}return o}t.randomString=c,t.randomStringForEntropy=function(e,n=a,r=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},75455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!==typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t}}},58871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(17309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(35883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let r=0;r<n.length;r++)n[r]=t[r];return(0,r.wipe)(t),n}}},46008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(75455),o=n(58871);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},93350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98099),o=n(17309);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var i=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._tempHi),o.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,o=t/536870912|0,i=t<<3,s=t%128<112?128:256;this._buffer[n]=128;for(var c=n+1;c<s-8;c++)this._buffer[c]=0;r.writeUint32BE(o,this._buffer,s-8),r.writeUint32BE(i,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/8;c++)r.writeUint32BE(this._stateHi[c],e,8*c),r.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){o.wipe(e.stateHi),o.wipe(e.stateLo),e.buffer&&o.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=i;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,n,o,i,a,c){for(var u,l,f,d,h,p,m,y,g=n[0],v=n[1],b=n[2],w=n[3],E=n[4],_=n[5],S=n[6],T=n[7],I=o[0],N=o[1],O=o[2],k=o[3],A=o[4],x=o[5],C=o[6],$=o[7];c>=128;){for(var R=0;R<16;R++){var D=8*R+a;e[R]=r.readUint32BE(i,D),t[R]=r.readUint32BE(i,D+4)}for(R=0;R<80;R++){var P,j,M=g,L=v,U=b,B=w,F=E,V=_,q=S,z=I,G=N,H=O,K=k,J=A,W=x,Q=C;if(h=65535&(l=$),p=l>>>16,m=65535&(u=T),y=u>>>16,h+=65535&(l=(A>>>14|E<<18)^(A>>>18|E<<14)^(E>>>9|A<<23)),p+=l>>>16,m+=65535&(u=(E>>>14|A<<18)^(E>>>18|A<<14)^(A>>>9|E<<23)),y+=u>>>16,h+=65535&(l=A&x^~A&C),p+=l>>>16,m+=65535&(u=E&_^~E&S),y+=u>>>16,u=s[2*R],h+=65535&(l=s[2*R+1]),p+=l>>>16,m+=65535&u,y+=u>>>16,u=e[R%16],p+=(l=t[R%16])>>>16,m+=65535&u,y+=u>>>16,m+=(p+=(h+=65535&l)>>>16)>>>16,h=65535&(l=d=65535&h|p<<16),p=l>>>16,m=65535&(u=f=65535&m|(y+=m>>>16)<<16),y=u>>>16,h+=65535&(l=(I>>>28|g<<4)^(g>>>2|I<<30)^(g>>>7|I<<25)),p+=l>>>16,m+=65535&(u=(g>>>28|I<<4)^(I>>>2|g<<30)^(I>>>7|g<<25)),y+=u>>>16,p+=(l=I&N^I&O^N&O)>>>16,m+=65535&(u=g&v^g&b^v&b),y+=u>>>16,P=65535&(m+=(p+=(h+=65535&l)>>>16)>>>16)|(y+=m>>>16)<<16,j=65535&h|p<<16,h=65535&(l=K),p=l>>>16,m=65535&(u=B),y=u>>>16,p+=(l=d)>>>16,m+=65535&(u=f),y+=u>>>16,v=M,b=L,w=U,E=B=65535&(m+=(p+=(h+=65535&l)>>>16)>>>16)|(y+=m>>>16)<<16,_=F,S=V,T=q,g=P,N=z,O=G,k=H,A=K=65535&h|p<<16,x=J,C=W,$=Q,I=j,R%16===15)for(D=0;D<16;D++)u=e[D],h=65535&(l=t[D]),p=l>>>16,m=65535&u,y=u>>>16,u=e[(D+9)%16],h+=65535&(l=t[(D+9)%16]),p+=l>>>16,m+=65535&u,y+=u>>>16,f=e[(D+1)%16],h+=65535&(l=((d=t[(D+1)%16])>>>1|f<<31)^(d>>>8|f<<24)^(d>>>7|f<<25)),p+=l>>>16,m+=65535&(u=(f>>>1|d<<31)^(f>>>8|d<<24)^f>>>7),y+=u>>>16,f=e[(D+14)%16],p+=(l=((d=t[(D+14)%16])>>>19|f<<13)^(f>>>29|d<<3)^(d>>>6|f<<26))>>>16,m+=65535&(u=(f>>>19|d<<13)^(d>>>29|f<<3)^f>>>6),y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,e[D]=65535&m|y<<16,t[D]=65535&h|p<<16}h=65535&(l=I),p=l>>>16,m=65535&(u=g),y=u>>>16,u=n[0],p+=(l=o[0])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[0]=g=65535&m|y<<16,o[0]=I=65535&h|p<<16,h=65535&(l=N),p=l>>>16,m=65535&(u=v),y=u>>>16,u=n[1],p+=(l=o[1])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[1]=v=65535&m|y<<16,o[1]=N=65535&h|p<<16,h=65535&(l=O),p=l>>>16,m=65535&(u=b),y=u>>>16,u=n[2],p+=(l=o[2])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[2]=b=65535&m|y<<16,o[2]=O=65535&h|p<<16,h=65535&(l=k),p=l>>>16,m=65535&(u=w),y=u>>>16,u=n[3],p+=(l=o[3])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[3]=w=65535&m|y<<16,o[3]=k=65535&h|p<<16,h=65535&(l=A),p=l>>>16,m=65535&(u=E),y=u>>>16,u=n[4],p+=(l=o[4])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[4]=E=65535&m|y<<16,o[4]=A=65535&h|p<<16,h=65535&(l=x),p=l>>>16,m=65535&(u=_),y=u>>>16,u=n[5],p+=(l=o[5])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[5]=_=65535&m|y<<16,o[5]=x=65535&h|p<<16,h=65535&(l=C),p=l>>>16,m=65535&(u=S),y=u>>>16,u=n[6],p+=(l=o[6])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[6]=S=65535&m|y<<16,o[6]=C=65535&h|p<<16,h=65535&(l=$),p=l>>>16,m=65535&(u=T),y=u>>>16,u=n[7],p+=(l=o[7])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[7]=T=65535&m|y<<16,o[7]=$=65535&h|p<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},17309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},5753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98099),o=n(17309),i=n(25439);function s(e,t,n,r){if(24!==t.length)throw new Error("XChaCha20 nonce must be 24 bytes");var s=a(e,t.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(t.subarray(16),4);var u=i.streamXOR(s,c,n,r);return o.wipe(s),u}function a(e,t,n){for(var o=1634760805,i=857760878,s=2036477234,a=1797285236,c=e[3]<<24|e[2]<<16|e[1]<<8|e[0],u=e[7]<<24|e[6]<<16|e[5]<<8|e[4],l=e[11]<<24|e[10]<<16|e[9]<<8|e[8],f=e[15]<<24|e[14]<<16|e[13]<<8|e[12],d=e[19]<<24|e[18]<<16|e[17]<<8|e[16],h=e[23]<<24|e[22]<<16|e[21]<<8|e[20],p=e[27]<<24|e[26]<<16|e[25]<<8|e[24],m=e[31]<<24|e[30]<<16|e[29]<<8|e[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],v=t[11]<<24|t[10]<<16|t[9]<<8|t[8],b=t[15]<<24|t[14]<<16|t[13]<<8|t[12],w=0;w<20;w+=2)c=(c^=d=d+(y=(y^=o=o+c|0)>>>16|y<<16)|0)>>>20|c<<12,u=(u^=h=h+(g=(g^=i=i+u|0)>>>16|g<<16)|0)>>>20|u<<12,l=(l^=p=p+(v=(v^=s=s+l|0)>>>16|v<<16)|0)>>>20|l<<12,f=(f^=m=m+(b=(b^=a=a+f|0)>>>16|b<<16)|0)>>>20|f<<12,l=(l^=p=p+(v=(v^=s=s+l|0)>>>24|v<<8)|0)>>>25|l<<7,f=(f^=m=m+(b=(b^=a=a+f|0)>>>24|b<<8)|0)>>>25|f<<7,u=(u^=h=h+(g=(g^=i=i+u|0)>>>24|g<<8)|0)>>>25|u<<7,c=(c^=d=d+(y=(y^=o=o+c|0)>>>24|y<<8)|0)>>>25|c<<7,u=(u^=p=p+(b=(b^=o=o+u|0)>>>16|b<<16)|0)>>>20|u<<12,l=(l^=m=m+(y=(y^=i=i+l|0)>>>16|y<<16)|0)>>>20|l<<12,f=(f^=d=d+(g=(g^=s=s+f|0)>>>16|g<<16)|0)>>>20|f<<12,c=(c^=h=h+(v=(v^=a=a+c|0)>>>16|v<<16)|0)>>>20|c<<12,f=(f^=d=d+(g=(g^=s=s+f|0)>>>24|g<<8)|0)>>>25|f<<7,c=(c^=h=h+(v=(v^=a=a+c|0)>>>24|v<<8)|0)>>>25|c<<7,l=(l^=m=m+(y=(y^=i=i+l|0)>>>24|y<<8)|0)>>>25|l<<7,u=(u^=p=p+(b=(b^=o=o+u|0)>>>24|b<<8)|0)>>>25|u<<7;return r.writeUint32LE(o,n,0),r.writeUint32LE(i,n,4),r.writeUint32LE(s,n,8),r.writeUint32LE(a,n,12),r.writeUint32LE(y,n,16),r.writeUint32LE(g,n,20),r.writeUint32LE(v,n,24),r.writeUint32LE(b,n,28),n}t.streamXOR=s,t.stream=function(e,t,n){return o.wipe(n),s(e,t,n,n)},t.hchacha=a},49375:function(e,t,n){"use strict";var r=n(5753),o=n(15501),i=n(17309);t.Cv=32,t.WH=24,t.pg=16;var s=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");var a=r.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(e.subarray(16),4);var u=new o.ChaCha20Poly1305(a),l=u.seal(c,t,n,s);return i.wipe(a),i.wipe(c),u.clean(),l},e.prototype.open=function(e,t,n,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=r.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(e.subarray(16),4);var u=new o.ChaCha20Poly1305(a),l=u.open(c,t,n,s);return i.wipe(a),i.wipe(c),u.clean(),l},e.prototype.clean=function(){return i.wipe(this._key),this},e}();t.NV=s},16870:function(e,t){"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:n(i,s),time:n(c,u),"date-time":n((function(e){const t=e.split(l);return 2===t.length&&i(t[0])&&c(t[1],!0)}),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return d.test(e)&&h.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return p.lastIndex=0,p.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=2147483647&&e>=-2147483648}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:m},double:{type:"number",validate:m},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(e){const t=r.exec(e);if(!t)return!1;const n=+t[1],i=+t[2],s=+t[3];return i>=1&&i<=12&&s>=1&&s<=(2===i&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:o[i])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(e,t){const n=a.exec(e);if(!n)return!1;const r=+n[1],o=+n[2],i=+n[3],s=n[5];return(r<=23&&o<=59&&i<=59||23===r&&59===o&&60===i)&&(!t||""!==s)}function u(e,t){if(!e||!t)return;const n=a.exec(e),r=a.exec(t);return n&&r?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=r[1]+r[2]+r[3]+(r[4]||""))?1:e<t?-1:0:void 0}const l=/t|\s/i;function f(e,t){if(!e||!t)return;const[n,r]=e.split(l),[o,i]=t.split(l),a=s(n,o);return void 0!==a?a||u(r,i):void 0}const d=/\/|:/,h=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(){return!0}const y=/[^\\]\\Z/},5477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16870),o=n(57963),i=n(48461),s=new i.Name("fullFormats"),a=new i.Name("fastFormats"),c=(e,t={keywords:!0})=>{if(Array.isArray(t))return u(e,t,r.fullFormats,s),e;const[n,i]="fast"===t.mode?[r.fastFormats,a]:[r.fullFormats,s];return u(e,t.formats||r.formatNames,n,i),t.keywords&&o.default(e),e};function u(e,t,n,r){var o,s;null!==(o=(s=e.opts.code).formats)&&void 0!==o||(s.formats=i._`require("ajv-formats/dist/formats").${r}`);for(const i of t)e.addFormat(i,n[i])}c.get=(e,t="full")=>{const n=("fast"===t?r.fastFormats:r.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n},e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},57963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const r=n(4444),o=n(48461),i=o.operators,s={formatMaximum:{okStr:"<=",ok:i.LTE,fail:i.GT},formatMinimum:{okStr:">=",ok:i.GTE,fail:i.LT},formatExclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},formatExclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},a={message:({keyword:e,schemaCode:t})=>o.str`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>o._`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:n,schemaCode:i,keyword:a,it:c}=e,{opts:u,self:l}=c;if(!u.validateFormats)return;const f=new r.KeywordCxt(c,l.RULES.all.format.definition,"format");function d(e){return o._`${e}.compare(${n}, ${i}) ${s[a].fail} 0`}f.$data?function(){const n=t.scopeValue("formats",{ref:l.formats,code:u.code.formats}),r=t.const("fmt",o._`${n}[${f.schemaCode}]`);e.fail$data(o.or(o._`typeof ${r} != "object"`,o._`${r} instanceof RegExp`,o._`typeof ${r}.compare != "function"`,d(r)))}():function(){const n=f.schema,r=l.formats[n];if(!r||!0===r)return;if("object"!=typeof r||r instanceof RegExp||"function"!=typeof r.compare)throw new Error(`"${a}": format "${n}" does not define "compare" function`);const i=t.scopeValue("formats",{key:n,ref:r,code:u.code.formats?o._`${u.code.formats}${o.getProperty(n)}`:void 0});e.fail$data(d(i))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},4444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=n(70623),o=n(60892),i=n(85451),s=n(90074),a=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=n(25700);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=n(48461);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var d=n(14007);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=n(32381);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},826:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class o extends n{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new o(n)}t._Code=o,t.nil=new o(""),t._=i;const s=new o("+");function a(e,...t){const n=[l(e[0])];let r=0;for(;r<t.length;)n.push(s),c(n,t[r]),n.push(s,l(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new o(n)}function c(e,t){var n;t instanceof o?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:l(Array.isArray(n)?n.join(","):n))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new o(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new o(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new o(e.toString())}},48461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(826),o=n(27102);var i=n(826);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var s=n(27102);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?o.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=C(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=C(this.rhs,e,t),this}get names(){return x(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class h extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=C(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const o=n[r];o.optimizeNames(e,t)||($(e,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>A(e,t.names)),{})}}class y extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends m{}class v extends y{}v.kind="else";class b extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(R(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=C(this.condition,e,t),this}get names(){const e=super.names;return x(e,this.condition),this.else&&A(e,this.else.names),e}}b.kind="if";class w extends y{}w.kind="for";class E extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=C(this.iteration,e,t),this}get names(){return A(super.names,this.iteration.names)}}class _ extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:n,from:r,to:i}=this;return`for(${t} ${n}=${r}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){const e=x(super.names,this.from);return x(e,this.to)}}class S extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=C(this.iterable,e,t),this}get names(){return A(super.names,this.iterable.names)}}class T extends y{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}T.kind="func";class I extends m{render(e){return"return "+super.render(e)}}I.kind="return";class N extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&A(e,this.catch.names),this.finally&&A(e,this.finally.names),e}}class O extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class k extends y{render(e){return"finally"+super.render(e)}}k.kind="finally";function A(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function x(e,t){return t instanceof r._CodeOrName?A(e,t.names):e}function C(e,t,n){return e instanceof r.Name?i(e):(o=e)instanceof r._Code&&o._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function $(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function R(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${M(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const o=this._scope.toName(t);return void 0!==n&&r&&(this._constants[o.str]=n),this._leafNode(new c(e,o,n)),o}const(e,t,n){return this._def(o.varKinds.const,e,t,n)}let(e,t,n){return this._def(o.varKinds.let,e,t,n)}var(e,t,n){return this._def(o.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new u(e,t,n))}add(e,n){return this._leafNode(new l(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[n,o]of e)t.length>1&&t.push(","),t.push(n),(n!==o||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,o));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new E(e),t)}forRange(e,t,n,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const s=this._scope.toName(e);return this._for(new _(i,s,t,n),(()=>r(s)))}forOf(e,t,n,i=o.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new S("of",i,s,t),(()=>n(s)))}forIn(e,t,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new S("in",i,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new f(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new I;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new N;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new O(e),t(e)}return n&&(this._currNode=r.finally=new k,this.code(n)),this._endBlockNode(O,k)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,o){return this._blockNode(new T(e,t,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=R;const D=j(t.operators.AND);t.and=function(...e){return e.reduce(D)};const P=j(t.operators.OR);function j(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${M(t)} ${e} ${M(n)}`}function M(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(...e){return e.reduce(P)}},27102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(826);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}t.ValueScopeName=a;const c=r._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:o}=r,i=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[o];if(s){const e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,r);const a=this._scope[o]||(this._scope[o]=[]),c=a.length;return a[c]=t.ref,r.setValue(t,{property:o,itemIndex:c}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let c=r.nil;for(const u in e){const l=e[u];if(!l)continue;const f=s[u]=s[u]||new Map;l.forEach((e=>{if(f.has(e))return;f.set(e,i.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;c=r._`${c}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null===a||void 0===a?void 0:a(e)))throw new o(e);c=r._`${c}${s}${this.opts._n}`}f.set(e,i.Completed)}))}return c}}},2024:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(48461),o=n(40950),i=n(5077);function s(e,t){const n=e.const("err",t);e.if(r._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,r._`[${n}]`)),r._`${i.default.vErrors}.push(${n})`),e.code(r._`${i.default.errors}++`)}function a(e,t){const{gen:n,validateName:o,schemaEnv:i}=e;i.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${o}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,o,i){const{it:c}=e,{gen:l,compositeRule:f,allErrors:d}=c,h=u(e,n,o);(null!==i&&void 0!==i?i:f||d)?s(l,h):a(c,r._`[${h}]`)},t.reportExtraError=function(e,n=t.keywordError,r){const{it:o}=e,{gen:c,compositeRule:l,allErrors:f}=o;s(c,u(e,n,r)),l||f||a(o,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(r._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:o,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,i.default.errors,(s=>{e.const(c,r._`${i.default.vErrors}[${s}]`),e.if(r._`${c}.instancePath === undefined`,(()=>e.assign(r._`${c}.instancePath`,(0,r.strConcat)(i.default.instancePath,a.errorPath)))),e.assign(r._`${c}.schemaPath`,r.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(r._`${c}.schema`,n),e.assign(r._`${c}.data`,o))}))};const c={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function u(e,t,n){const{createErrors:o}=e.it;return!1===o?r._`{}`:function(e,t,n={}){const{gen:o,it:s}=e,a=[l(s,n),f(e,n)];return function(e,{params:t,message:n},o){const{keyword:s,data:a,schemaValue:u,it:l}=e,{opts:f,propertyName:d,topSchemaRef:h,schemaPath:p}=l;o.push([c.keyword,s],[c.params,"function"==typeof t?t(e):t||r._`{}`]),f.messages&&o.push([c.message,"function"==typeof n?n(e):n]);f.verbose&&o.push([c.schema,u],[c.parentSchema,r._`${h}${p}`],[i.default.data,a]);d&&o.push([c.propertyName,d])}(e,t,a),o.object(...a)}(e,t,n)}function l({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,o.getErrorPath)(t,o.Type.Str)}`:e;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,n)]}function f({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let s=i?t:r.str`${t}/${e}`;return n&&(s=r.str`${s}${(0,o.getErrorPath)(n,o.Type.Str)}`),[c.schemaPath,s]}},22478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(48461),o=n(14007),i=n(5077),s=n(77679),a=n(40950),c=n(25700);class u{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null===n||void 0===n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function l(e){const t=d.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,f=new r.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let h;e.$async&&(h=f.scopeValue("Error",{ref:o.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const p=f.scopeName("validate");e.validateName=p;const m={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,c.validateFunctionCode)(m),f.optimize(this.opts.code.optimize);const t=f.toString();y=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const n=new Function(`${i.default.self}`,`${i.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:p,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(g){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),g}finally{this._compilations.delete(e)}}function f(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function d(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function h(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||p.call(this,e,t)}function p(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let o=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===o)return y.call(this,n,e);const i=(0,s.normalizeId)(r),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=p.call(this,e,a);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return y.call(this,n,t)}if("object"===typeof(null===a||void 0===a?void 0:a.schema)){if(a.validate||l.call(this,a),i===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,r)),new u({schema:t,schemaId:n,root:e,baseId:o})}return y.call(this,n,a)}}t.SchemaEnv=u,t.compileSchema=l,t.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let i=h.call(this,e,n);if(void 0===i){const o=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;o&&(i=new u({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==i?e.refs[n]=f.call(this,i):void 0},t.getCompilingSchema=d,t.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:n,root:r}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const u of e.fragment.slice(1).split("/")){if("boolean"===typeof n)return;const e=n[(0,a.unescapeFragment)(u)];if(void 0===e)return;const r="object"===typeof(n=e)&&n[this.opts.schemaId];!m.has(u)&&r&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,r))}let i;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=p.call(this,r,e)}const{schemaId:c}=this.opts;return i=i||new u({schema:n,schemaId:c,root:r,baseId:t}),i.schema!==i.root.schema?i:void 0}},5077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=o},32381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(77679);class o extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=o},77679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(40950),o=n(64063),i=n(55136),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function u(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=u(e))),t===1/0))return 1/0}return t}function l(e,t="",n){!1!==n&&(t=h(t));const r=e.parse(t);return f(e,r)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=f;const d=/#\/?$/;function h(e){return e?e.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=h(e[n]||t),a={"":s},c=l(r,s,!1),u={},f=new Set;return i(e,{allKeys:!0},((e,t,r,o)=>{if(void 0===o)return;const i=c+t;let s=a[o];function l(t){const n=this.opts.uriResolver.resolve;if(t=h(s?n(s,t):t),f.has(t))throw m(t);f.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?d(e,r.schema,t):t!==h(i)&&("#"===t[0]?(d(e,u[t],t),u[t]=e):this.refs[t]=i),t}function y(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=l.call(this,e[n])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),a[t]=s})),u;function d(e,t,n){if(void 0!==t&&!o(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},68803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},40950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(48461),o=n(826);function i(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"===typeof t)return;const o=r.RULES.keywords;for(const i in t)o[i]||p(e,`unknown keyword: "${i}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:o}){return(i,s,a,c)=>{const u=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?e(i,s,a):t(i,s,a),a):s instanceof r.Name?(t(i,a,s),s):n(s,a);return c!==r.Name||u instanceof r.Name?u:o(i,u)}}function l(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&f(e,n,t),n}function f(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,o,i){if(!i){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(o)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),f(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=f;const d={};var h;function p(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new o._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(h=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const o=t===h.Num;return n?o?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:o?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},51134:function(e,t){"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},r){const o=t.RULES.types[r];return o&&!0!==o&&n(e,o)},t.shouldUseGroup=n,t.shouldUseRule=r},57122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(2024),o=n(48461),i=n(5077),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:o}=e,i={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(i,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign(o._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},85298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(68803),o=n(51134),i=n(2024),s=n(48461),a=n(40950);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:i}=e,a=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(u){const o=d(t,r,i.strictNumbers,c.Wrong);n.if(o,(()=>{a.length?function(e,t,n){const{gen:r,data:o,opts:i}=e,a=r.let("dataType",s._`typeof ${o}`),c=r.let("coerced",s._`undefined`);"array"===i.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>r.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(d(t,o,i.strictNumbers),(()=>r.assign(c,o)))));r.if(s._`${c} !== undefined`);for(const s of n)(l.has(s)||"array"===s&&"array"===i.coerceTypes)&&u(s);function u(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(c,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(c,s._`+${o}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,s._`+${o}`);case"boolean":return void r.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(c,!0);case"null":return r.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void r.assign(c,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(c,s._`[${o}]`)}}r.else(),p(e),r.endIf(),r.if(s._`${c} !== undefined`,(()=>{r.assign(o,c),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,c)}))}(e,t,a):p(e)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function f(e,t,n,r=c.Correct){const o=r===c.Correct?s.operators.EQ:s.operators.NEQ;let i;switch(e){case"null":return s._`${t} ${o} null`;case"array":i=s._`Array.isArray(${t})`;break;case"object":i=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return s._`typeof ${t} ${o} ${e}`}return r===c.Correct?i:(0,s.not)(i);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function d(e,t,n,r){if(1===e.length)return f(e[0],t,n,r);let o;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=s._`typeof ${t} != "object"`;o=i.null?e:s._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=s.nil;i.number&&delete i.integer;for(const a in i)o=(0,s.and)(o,f(a,t,n,r));return o}t.checkDataType=f,t.checkDataTypes=d;const h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:n,schema:r}=e,o=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:o,schemaValue:o,parentSchema:r,params:{},it:e}}(e);(0,i.reportError)(t,h)}t.reportTypeError=p},57054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(48461),o=n(40950);function i(e,t,n){const{gen:i,compositeRule:s,data:a,opts:c}=e;if(void 0===n)return;const u=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,o.checkStrictMode)(e,`default is ignored for: ${u}`);let l=r._`${u} === undefined`;"empty"===c.useDefaults&&(l=r._`${l} || ${u} === null || ${u} === ""`),i.if(l,r._`${u} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const o in n)i(e,o,n[o].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>i(e,n,t.default)))}},25700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(57122),o=n(85298),i=n(51134),s=n(85298),a=n(57054),c=n(83134),u=n(75197),l=n(48461),f=n(5077),d=n(77679),h=n(40950),p=n(2024);function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:o},i){o.code.es5?e.func(t,l._`${f.default.data}, ${f.default.valCxt}`,r.$async,(()=>{e.code(l._`"use strict"; ${y(n,o)}`),function(e,t){e.if(f.default.valCxt,(()=>{e.var(f.default.instancePath,l._`${f.default.valCxt}.${f.default.instancePath}`),e.var(f.default.parentData,l._`${f.default.valCxt}.${f.default.parentData}`),e.var(f.default.parentDataProperty,l._`${f.default.valCxt}.${f.default.parentDataProperty}`),e.var(f.default.rootData,l._`${f.default.valCxt}.${f.default.rootData}`),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`${f.default.valCxt}.${f.default.dynamicAnchors}`)}),(()=>{e.var(f.default.instancePath,l._`""`),e.var(f.default.parentData,l._`undefined`),e.var(f.default.parentDataProperty,l._`undefined`),e.var(f.default.rootData,f.default.data),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`{}`)}))}(e,o),e.code(i)})):e.func(t,l._`${f.default.data}, ${function(e){return l._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${e.dynamicRef?l._`, ${f.default.dynamicAnchors}={}`:l.nil}}={}`}(o)}`,r.$async,(()=>e.code(y(n,o)).code(i)))}function y(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?l._`/*# sourceURL=${n} */`:l.nil}function g(e,t){b(e)&&(w(e),v(e))?function(e,t){const{schema:n,gen:r,opts:o}=e;o.$comment&&n.$comment&&_(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=r.const("_errs",f.default.errors);E(e,i),r.var(t,l._`${i} === ${f.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function w(e){(0,h.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:o}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function E(e,t){if(e.opts.jtd)return S(e,[],!1,t);const n=(0,o.getSchemaTypes)(e.schema);S(e,n,!(0,o.coerceAndCheckDataType)(e,n),t)}function _({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:o}){const i=n.$comment;if(!0===o.$comment)e.code(l._`${f.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const n=l.str`${r}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(l._`${f.default.self}.opts.$comment(${i}, ${n}, ${o}.schema)`)}}function S(e,t,n,r){const{gen:o,schema:a,data:c,allErrors:u,opts:d,self:p}=e,{RULES:m}=p;function y(h){(0,i.shouldUseGroup)(a,h)&&(h.type?(o.if((0,s.checkDataType)(h.type,c,d.strictNumbers)),T(e,h),1===t.length&&t[0]===h.type&&n&&(o.else(),(0,s.reportTypeError)(e)),o.endIf()):T(e,h),u||o.if(l._`${f.default.errors} === ${r||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(a,m)?(d.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{N(e.dataTypes,t)||O(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const r of e.dataTypes)N(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&O(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const r in n){const o=n[r];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some((e=>I(t,e)))&&O(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes)}(e,t),o.block((()=>{for(const e of m.rules)y(e);y(m.post)}))):o.block((()=>A(e,"$ref",m.all.$ref.definition)))}function T(e,t){const{gen:n,schema:r,opts:{useDefaults:o}}=e;o&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,i.shouldUseRule)(r,n)&&A(e,n.keyword,n.definition,t.type)}))}function I(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function N(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function O(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){b(e)&&(w(e),v(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&_(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(f.default.vErrors,null),r.let(f.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",l._`${n}.evaluated`),t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`))),t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}(e),E(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:o,opts:i}=e;n.$async?t.if(l._`${f.default.errors} === 0`,(()=>t.return(f.default.data)),(()=>t.throw(l._`new ${o}(${f.default.vErrors})`))):(t.assign(l._`${r}.errors`,f.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof l.Name&&e.assign(l._`${t}.props`,n);r instanceof l.Name&&e.assign(l._`${t}.items`,r)}(e),t.return(l._`${f.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class k{constructor(e,t,n){if((0,c.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",$(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",f.default.errors))}result(e,t,n){this.failResult((0,l.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,l.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${(0,l.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=l.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:o,def:i}=this;n.if((0,l.or)(l._`${r} === undefined`,t)),e!==l.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==l.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:o}=this;return(0,l.or)(function(){if(n.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return l._`${(0,s.checkDataTypes)(e,t,o.opts.strictNumbers,s.DataType.Wrong)}`}return l.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return l._`!${n}(${t})`}return l.nil}())}subschema(e,t){const n=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(n,this.it,e),(0,u.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return g(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=h.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=h.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,l.Name))),!0}}function A(e,t,n,r){const o=new k(e,n,t);"code"in n?n.code(o,r):o.$data&&n.validate?(0,c.funcKeywordCode)(o,n):"macro"in n?(0,c.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,c.funcKeywordCode)(o,n)}t.KeywordCxt=k;const x=/^\/(?:[^~]|~0|~1)*$/,C=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let o,i;if(""===e)return f.default.rootData;if("/"===e[0]){if(!x.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=f.default.rootData}else{const s=C.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(o=s[2],"#"===o){if(a>=t)throw new Error(c("property/index",a));return r[t-a]}if(a>t)throw new Error(c("data",a));if(i=n[t-a],!o)return i}let s=i;const a=o.split("/");for(const u of a)u&&(i=l._`${i}${(0,l.getProperty)((0,h.unescapeJsonPointer)(u))}`,s=l._`${s} && ${i}`);return s;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=$},83134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(48461),o=n(5077),i=n(47813),s=n(2024);function a(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,(()=>t.assign(n,r._`${o.parentData}[${o.parentDataProperty}]`)))}function c(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:o,schema:i,parentSchema:s,it:a}=e,u=t.macro.call(a.self,i,s,a),l=c(n,o,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const f=n.name("valid");e.subschema({schema:u,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${o}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:u,keyword:l,schema:f,parentSchema:d,$data:h,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const m=!h&&t.compile?t.compile.call(p.self,f,d,p):t.validate,y=c(u,l,m),g=u.let("valid");function v(n=(t.async?r._`await `:r.nil)){const s=p.opts.passContext?o.default.this:o.default.self,a=!("compile"in t&&!h||!1===t.schema);u.assign(g,r._`${n}${(0,i.callValidateCode)(e,y,s,a)}`,t.modifying)}function b(e){var n;u.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:g),e)}e.block$data(g,(function(){if(!1===t.errors)v(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=u.let("ruleErrs",null);return u.try((()=>v(r._`await `)),(t=>u.assign(g,!1).if(r._`${t} instanceof ${p.ValidationError}`,(()=>u.assign(e,r._`${t}.errors`)),(()=>u.throw(t))))),e}():function(){const e=r._`${y}.errors`;return u.assign(e,null),v(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(o.default.vErrors,r._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,r._`${o.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:g)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const s=o.dependencies;if(null===s||void 0===s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema){if(!o.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(o.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}},75197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(48461),o=n(40950);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,o.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:s,dataTypes:a,propertyName:c}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:c}=t;l(u.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${s}${(0,o.getErrorPath)(n,i,c.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==s){l(s instanceof r.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)}function l(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:o,allErrors:i}){void 0!==r&&(e.compositeRule=r),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}},70623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(25700);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var o=n(48461);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const i=n(14007),s=n(32381),a=n(68803),c=n(22478),u=n(48461),l=n(77679),f=n(85298),d=n(40950),h=n(87099),p=n(10579),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,r,o,i,s,a,c,u,l,f,d,h,y,g,v,b,w,E,_,S,T,I,N,O;const k=e.strict,A=null===(t=e.code)||void 0===t?void 0:t.optimize,x=!0===A||void 0===A?1:A||0,C=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,$=null!==(o=e.uriResolver)&&void 0!==o?o:p.default;return{strictSchema:null===(s=null!==(i=e.strictSchema)&&void 0!==i?i:k)||void 0===s||s,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:k)||void 0===c||c,strictTypes:null!==(l=null!==(u=e.strictTypes)&&void 0!==u?u:k)&&void 0!==l?l:"log",strictTuples:null!==(d=null!==(f=e.strictTuples)&&void 0!==f?f:k)&&void 0!==d?d:"log",strictRequired:null!==(y=null!==(h=e.strictRequired)&&void 0!==h?h:k)&&void 0!==y&&y,code:e.code?{...e.code,optimize:x,regExp:C}:{optimize:x,regExp:C},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(E=e.inlineRefs)||void 0===E||E,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(S=e.addUsedSchema)||void 0===S||S,validateSchema:null===(T=e.validateSchema)||void 0===T||T,validateFormats:null===(I=e.validateFormats)||void 0===I||I,unicodeRegExp:null===(N=e.unicodeRegExp)||void 0===N||N,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:$}}class E{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:t,lines:n}),this.logger=function(e){if(!1===e)return k;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),_.call(this,v,e,"NOT SUPPORTED"),_.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=O.call(this),e.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&N.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),T.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=h;"id"===n&&(r={...h},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await o.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function o(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await u.call(this,e);this.refs[e]||await o.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let o;if("object"===typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${t} must be string`)}return t=(0,l.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=S.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=S.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,l.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(x.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>C.call(this,e))),this;R.call(this,t);const r={...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>C.call(this,e,r):e=>r.type.forEach((t=>C.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,i=o[e];r&&i&&(o[e]=P(i))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;const{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,l.normalizeId)(i||n);const u=l.getSchemaRefs.call(this,e,n);return a=new c.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:u}),this._cache.set(a.schema,a),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),r&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,n,r="error"){for(const o in e){const i=o;i in t&&this.logger[r](`${n}: option ${o}. ${e[i]}`)}}function S(e){return e=(0,l.normalizeId)(e),this.schemas[e]||this.refs[e]}function T(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function I(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function N(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function O(){const e={...this.opts};for(const t of y)delete e[t];return e}t.default=E,E.ValidationError=i.default,E.MissingRefError=s.default;const k={log(){},warn(){},error(){}};const A=/^[a-z_$][a-z0-9_$:-]*$/i;function x(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!A.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function C(e,t,n){var r;const o=null===t||void 0===t?void 0:t.post;if(n&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=o?i.post:i.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)}};t.before?$.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function $(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function R(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=P(t)),e.validateSchema=this.compile(t,!0))}const D={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function P(e){return{anyOf:[e,D]}}},22444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(64063);r.code='require("ajv/dist/runtime/equal").default',t.default=r},36670:function(e,t){"use strict";function n(e){const t=e.length;let n,r=0,o=0;for(;o<t;)r++,n=e.charCodeAt(o++),n>=55296&&n<=56319&&o<t&&(n=e.charCodeAt(o),56320===(64512&n)&&o++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},10579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60540);r.code='require("ajv/dist/runtime/uri").default',t.default=r},14007:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},59756:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(48461),o=n(40950),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,o.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:i,data:s,keyword:a,it:c}=e;c.items=!0;const u=n.const("len",r._`${s}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(r._`${u} <= ${t.length}`);else if("object"==typeof i&&!(0,o.alwaysValidSchema)(c,i)){const i=n.var("valid",r._`${u} <= ${t.length}`);n.if((0,r.not)(i),(()=>function(i){n.forRange("i",t.length,u,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:o.Type.Num},i),c.allErrors||n.if((0,r.not)(i),(()=>n.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=s,t.default=i},79670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(47813),o=n(48461),i=n(5077),s=n(40950),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:c,errsCount:u,it:l}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:f,opts:d}=l;if(l.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(l,n))return;const h=(0,r.allSchemaProperties)(a.properties),p=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(o._`delete ${c}[${e}]`)}function y(r){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(f||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(l,n)){const n=t.name("valid");"failing"===d.removeAdditional?(g(r,n,!1),t.if((0,o.not)(n),(()=>{e.reset(),m(r)}))):(g(r,n),f||t.if((0,o.not)(n),(()=>t.break())))}}}function g(t,n,r){const o={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,n)}t.forIn("key",c,(n=>{h.length||p.length?t.if(function(n){let i;if(h.length>8){const e=(0,s.schemaRefOrVal)(l,a.properties,"properties");i=(0,r.isOwnProperty)(t,e,n)}else i=h.length?(0,o.or)(...h.map((e=>o._`${n} === ${e}`))):o.nil;return p.length&&(i=(0,o.or)(i,...p.map((t=>o._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,o.not)(i)}(n),(()=>y(n))):y(n)})),e.ok(o._`${u} === ${i.default.errors}`)}};t.default=a},67516:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40950),o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(o,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},i);e.ok(i),e.mergeEvaluated(s)}))}};t.default=o},55812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(47813).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},90220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:s,it:a}=e;let c,u;const{minContains:l,maxContains:f}=i;a.opts.next?(c=void 0===l?1:l,u=f):c=1;const d=t.const("len",r._`${s}.length`);if(e.setParams({min:c,max:u}),void 0===u&&0===c)return void(0,o.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&c>u)return(0,o.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,o.alwaysValidSchema)(a,n)){let t=r._`${d} >= ${c}`;return void 0!==u&&(t=r._`${t} && ${d} <= ${u}`),void e.pass(t)}a.items=!0;const h=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===u?t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0).break())):(t.if(r._`${e} > ${u}`,(()=>t.assign(h,!1).break())),1===c?t.assign(h,!0):t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0))))}(n)))))}function m(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},n),r()}))}void 0===u&&1===c?m(h,(()=>t.if(h,(()=>t.break())))):0===c?(t.let(h,!0),void 0!==u&&t.if(r._`${s}.length > 0`,p)):(t.let(h,!1),p()),e.result(h,(()=>e.reset()))}};t.default=i},54853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(48461),o=n(40950),i=n(47813);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const o=1===t?"property":"properties";return r.str`must have ${o} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:o}})=>r._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e){if("__proto__"===r)continue;(Array.isArray(e[r])?t:n)[r]=e[r]}return[t,n]}(e);a(e,t),c(e,n)}};function a(e,t=e.schema){const{gen:n,data:o,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const l=(0,i.propertyInData)(n,o,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?n.if(l,(()=>{for(const t of u)(0,i.checkReportMissingProp)(e,t)})):(n.if(r._`${l} && (${(0,i.checkMissingProp)(e,u,a)})`),(0,i.reportMissingProp)(e,a),n.else())}}function c(e,t=e.schema){const{gen:n,data:r,keyword:s,it:a}=e,c=n.name("valid");for(const u in t)(0,o.alwaysValidSchema)(a,t[u])||(n.if((0,i.propertyInData)(n,r,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>n.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},73449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&(0,o.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const a=s(i,"then"),c=s(i,"else");if(!a&&!c)return;const u=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),a&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(l,f("then",n),f("else",n))}else a?t.if(l,f("then")):t.if((0,r.not)(l),f("else"));function f(n,o){return()=>{const i=e.subschema({keyword:n},l);t.assign(u,l),e.mergeValidEvaluated(i,u),o?t.assign(o,r._`${n}`):e.setParams({ifClause:n})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,o.alwaysValidSchema)(e,n)}t.default=i},61964:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59756),o=n(81849),i=n(42031),s=n(8089),a=n(90220),c=n(54853),u=n(21523),l=n(79670),f=n(90704),d=n(66125),h=n(98556),p=n(55812),m=n(94164),y=n(67516),g=n(73449),v=n(65846);t.default=function(e=!1){const t=[h.default,p.default,m.default,y.default,g.default,v.default,u.default,l.default,c.default,f.default,d.default];return e?t.push(o.default,s.default):t.push(r.default,i.default),t.push(a.default),t}},42031:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(48461),o=n(40950),i=n(47813),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,o.alwaysValidSchema)(n,t)||e.ok((0,i.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:i,parentSchema:s,data:a,keyword:c,it:u}=e;!function(e){const{opts:r,errSchemaPath:i}=u,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(r.strictTuples&&!a){const e=`"${c}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,o.checkStrictMode)(u,e,r.strictTuples)}}(s),u.opts.unevaluated&&n.length&&!0!==u.items&&(u.items=o.mergeEvaluated.items(i,n.length,u.items));const l=i.name("valid"),f=i.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,o.alwaysValidSchema)(u,t)||(i.if(r._`${f} > ${n}`,(()=>e.subschema({keyword:c,schemaProp:n,dataProp:n},l))),e.ok(l))}))}t.validateTuple=a,t.default=s},8089:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i=n(47813),s=n(59756),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,o.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,i.validateArray)(e)))}};t.default=a},98556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40950),o={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,r.alwaysValidSchema)(o,n))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=o},94164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&i.discriminator)return;const a=n,c=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block((function(){a.forEach(((n,i)=>{let a;(0,o.alwaysValidSchema)(s,n)?t.var(l,!0):a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},l),i>0&&t.if(r._`${l} && ${c}`).assign(c,!1).assign(u,r._`[${u}, ${i}]`).else(),t.if(l,(()=>{t.assign(c,!0),t.assign(u,i),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},66125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(47813),o=n(48461),i=n(40950),s=n(40950),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:c,it:u}=e,{opts:l}=u,f=(0,r.allSchemaProperties)(n),d=f.filter((e=>(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length||d.length===f.length&&(!u.opts.unevaluated||!0===u.props))return;const h=l.strictSchema&&!l.allowMatchingProperties&&c.properties,p=t.name("valid");!0===u.props||u.props instanceof o.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));const{props:m}=u;function y(e){for(const t in h)new RegExp(e).test(t)&&(0,i.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(n){t.forIn("key",a,(i=>{t.if(o._`${(0,r.usePattern)(e,n)}.test(${i})`,(()=>{const r=d.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:s.Type.Str},p),u.opts.unevaluated&&!0!==m?t.assign(o._`${m}[${i}]`,!0):r||u.allErrors||t.if((0,o.not)(p),(()=>t.break()))}))}))}!function(){for(const e of f)h&&y(e),u.allErrors?g(e):(t.var(p,!0),g(e),t.if(p))}()}};t.default=a},81849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(42031),o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=o},90704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25700),o=n(47813),i=n(40950),s=n(79670),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(u,s.default,"additionalProperties"));const l=(0,o.allSchemaProperties)(n);for(const r of l)u.definedProperties.add(r);u.opts.unevaluated&&l.length&&!0!==u.props&&(u.props=i.mergeEvaluated.props(t,(0,i.toHash)(l),u.props));const f=l.filter((e=>!(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length)return;const d=t.name("valid");for(const r of f)h(r)?p(r):(t.if((0,o.propertyInData)(t,c,r,u.opts.ownProperties)),p(r),u.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(d);function h(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==n[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=a},21523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:s}=e;if((0,o.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=i},65846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(40950),o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=o},47813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(48461),o=n(40950),i=n(5077),s=n(40950);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function c(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function u(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} === undefined`;return o?(0,r.or)(i,(0,r.not)(c(e,t,n))):i}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:o,it:i}=e;n.if(u(n,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},o,i){return(0,r.or)(...o.map((o=>(0,r.and)(u(e,t,o,n.ownProperties),r._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return o?r._`${i} && ${c(e,t,n)}`:i},t.noPropertyInData=u,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((n=>!(0,o.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:s,errorPath:a},it:c},u,l,f){const d=f?r._`${e}, ${t}, ${o}${s}`:t,h=[[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,a)],[i.default.parentData,c.parentData],[i.default.parentDataProperty,c.parentDataProperty],[i.default.rootData,i.default.rootData]];c.opts.dynamicRef&&h.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const p=r._`${d}, ${n.object(...h)}`;return l!==r.nil?r._`${u}.call(${l}, ${p})`:r._`${u}(${p})`};const f=r._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:r._`${"new RegExp"===i.code?f:(0,s.useFunc)(e,i)}(${n}, ${o})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",r._`${n}.length`);t.forRange("i",0,c,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:o.Type.Num},a),t.if((0,r.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,o.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>n.forEach(((n,o)=>{const s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},c);t.assign(a,r._`${a} || ${c}`);e.mergeValidEvaluated(s,c)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},59899:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},69265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59899),o=n(3672),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,o.default];t.default=i},3672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(32381),o=n(47813),i=n(48461),s=n(5077),a=n(22478),c=n(40950),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:s,schemaEnv:c,validateName:u,opts:d,self:h}=o,{root:p}=c;if(("#"===n||"#/"===n)&&s===p.baseId)return function(){if(c===p)return f(e,u,c,c.$async);const n=t.scopeValue("root",{ref:p});return f(e,i._`${n}.validate`,p,p.$async)}();const m=a.resolveRef.call(h,p,s,n);if(void 0===m)throw new r.default(o.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=l(e,t);f(e,n,t,t.$async)}(m):function(r){const o=t.scopeValue("schema",!0===d.code.source?{ref:r,code:(0,i.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function l(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):i._`${n.scopeValue("wrapper",{ref:t})}.validate`}function f(e,t,n,r){const{gen:a,it:u}=e,{allErrors:l,schemaEnv:f,opts:d}=u,h=d.passContext?s.default.this:i.nil;function p(e){const t=i._`${e}.errors`;a.assign(s.default.vErrors,i._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,i._`${s.default.vErrors}.length`)}function m(e){var t;if(!u.opts.unevaluated)return;const r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(r&&!r.dynamicProps)void 0!==r.props&&(u.props=c.mergeEvaluated.props(a,r.props,u.props));else{const t=a.var("props",i._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,i.Name)}if(!0!==u.items)if(r&&!r.dynamicItems)void 0!==r.items&&(u.items=c.mergeEvaluated.items(a,r.items,u.items));else{const t=a.var("items",i._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,i.Name)}}r?function(){if(!f.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(i._`await ${(0,o.callValidateCode)(e,t,h)}`),m(t),l||a.assign(n,!0)}),(e=>{a.if(i._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),l||a.assign(n,!1)})),e.ok(n)}():e.result((0,o.callValidateCode)(e,t,h),(()=>m(t)),(()=>p(t)))}t.getValidate=l,t.callRef=f,t.default=u},85451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(5447),i=n(22478),s=n(40950),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:c,it:u}=e,{oneOf:l}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=a.propertyName;if("string"!=typeof f)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),h=t.const("tag",r._`${n}${(0,r.getProperty)(f)}`);function p(n){const o=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},o);return e.mergeEvaluated(i,r.Name),o}t.if(r._`typeof ${h} == "string"`,(()=>function(){const n=function(){var e;const t={},n=o(c);let r=!0;for(let c=0;c<l.length;c++){let t=l[c];(null===t||void 0===t?void 0:t.$ref)&&!(0,s.schemaHasRulesButRef)(t,u.self.RULES)&&(t=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null===t||void 0===t?void 0:t.$ref),t instanceof i.SchemaEnv&&(t=t.schema));const d=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[f];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);r=r&&(n||o(t)),a(d,c)}if(!r)throw new Error(`discriminator: "${f}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(f)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${f}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${h} === ${e}`),t.assign(d,p(n[e]));t.else(),e.error(!1,{discrError:o.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}()),(()=>e.error(!1,{discrError:o.DiscrError.Tag,tag:h,tagName:f}))),e.ok(d)}};t.default=a},5447:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},60892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(69265),o=n(67978),i=n(61964),s=n(89179),a=n(26001),c=[r.default,o.default,(0,i.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},9079:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:o,$data:i,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:d}=c;u.validateFormats&&(i?function(){const i=n.scopeValue("formats",{ref:d.formats,code:u.code.formats}),s=n.const("fDef",r._`${i}[${a}]`),c=n.let("fType"),l=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(c,r._`${s}.type || "string"`).assign(l,r._`${s}.validate`)),(()=>n.assign(c,r._`"string"`).assign(l,s))),e.fail$data((0,r.or)(!1===u.strictSchema?r.nil:r._`${a} && !${l}`,function(){const e=f.$async?r._`(${s}.async ? await ${l}(${o}) : ${l}(${o}))`:r._`${l}(${o})`,n=r._`(typeof ${l} == "function" ? ${e} : ${l}.test(${o}))`;return r._`${l} && ${l} !== true && ${c} === ${t} && !${n}`}()))}():function(){const i=d.formats[s];if(!i)return void function(){if(!1===u.strictSchema)return void d.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${l}"`}}();if(!0===i)return;const[a,c,h]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):u.code.formats?r._`${u.code.formats}${(0,r.getProperty)(s)}`:void 0,o=n.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,r._`${o}.validate`];return["string",e,o]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!f.$async)throw new Error("async format in sync schema");return r._`await ${h}(${o})`}return"function"==typeof c?r._`${h}(${o})`:r._`${h}.test(${o})`}())}())}};t.default=o},89179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(9079).default];t.default=r},26001:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},23723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i=n(22444),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:c}=e;s||c&&"object"==typeof c?e.fail$data(r._`!${(0,o.useFunc)(t,i.default)}(${n}, ${a})`):e.fail(r._`${c} !== ${n}`)}};t.default=s},73186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i=n(22444),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:c,it:u}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const l=a.length>=u.opts.loopEnum;let f;const d=()=>null!==f&&void 0!==f?f:f=(0,o.useFunc)(t,i.default);let h;if(l||s)h=t.let("valid"),e.block$data(h,(function(){t.assign(h,!1),t.forOf("v",c,(e=>t.if(r._`${d()}(${n}, ${e})`,(()=>t.assign(h,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);h=(0,r.or)(...a.map(((t,o)=>function(e,t){const o=a[t];return"object"===typeof o&&null!==o?r._`${d()}(${n}, ${e}[${t}])`:r._`${n} === ${o}`}(e,o))))}e.pass(h)}};t.default=s},67978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(80949),o=n(43229),i=n(66346),s=n(41244),a=n(12561),c=n(19798),u=n(35767),l=n(89320),f=n(23723),d=n(73186),h=[r.default,o.default,i.default,s.default,a.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=h},35767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${i} ${o}`)}};t.default=o},66346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=n(40950),i=n(36670),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,c="maxLength"===t?r.operators.GT:r.operators.LT,u=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,o.useFunc)(e.gen,i.default)}(${n})`;e.fail$data(r._`${u} ${c} ${s}`)}};t.default=s},80949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o=r.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>r.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`${n} ${i[t].fail} ${o} || isNaN(${n})`)}};t.default=a},12561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${i} ${o}`)}};t.default=o},43229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48461),o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,a=t.let("res"),c=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${o} === 0 || (${a} = ${n}/${o}, ${c}))`)}};t.default=o},41244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(47813),o=n(48461),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:s,it:a}=e,c=a.opts.unicodeRegExp?"u":"",u=n?o._`(new RegExp(${s}, ${c}))`:(0,r.usePattern)(e,i);e.fail$data(o._`!${u}.test(${t})`)}};t.default=i},19798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(47813),o=n(48461),i=n(40950),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:c,it:u}=e,{opts:l}=u;if(!c&&0===n.length)return;const f=n.length>=l.loopRequired;if(u.allErrors?function(){if(f||c)e.block$data(o.nil,d);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(f||c){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,i){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(i,(0,r.propertyInData)(t,a,n,l.ownProperties)),t.if((0,o.not)(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,i)),(0,r.reportMissingProp)(e,i),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(u,t,u.opts.strictRequired)}}function d(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,l.ownProperties),(()=>e.error()))}))}}};t.default=s},89320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85298),o=n(48461),i=n(40950),s=n(22444),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:c,parentSchema:u,schemaCode:l,it:f}=e;if(!a&&!c)return;const d=t.let("valid"),h=u.items?(0,r.getSchemaTypes)(u.items):[];function p(i,s){const a=t.name("item"),c=(0,r.checkDataTypes)(h,a,f.opts.strictNumbers,r.DataType.Wrong),u=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(a,o._`${n}[${i}]`),t.if(c,o._`continue`),h.length>1&&t.if(o._`typeof ${a} == "string"`,o._`${a} += "_"`),t.if(o._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,o._`${u}[${a}]`),e.error(),t.assign(d,!1).break()})).code(o._`${u}[${a}] = ${i}`)}))}function m(r,a){const c=(0,i.useFunc)(t,s.default),u=t.name("outer");t.label(u).for(o._`;${r}--;`,(()=>t.for(o._`${a} = ${r}; ${a}--;`,(()=>t.if(o._`${c}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(u)}))))))}e.block$data(d,(function(){const r=t.let("i",o._`${n}.length`),i=t.let("j");e.setParams({i:r,j:i}),t.assign(d,!0),t.if(o._`${r} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?p:m)(r,i)))}),o._`${l} === false`),e.ok(d)}};t.default=a},55136:function(e){"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,o,i,s,a,c,u,l,f){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in r(i,s,a,c,u,l,f),i){var h=i[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var p=0;p<h.length;p++)n(e,r,o,h[p],s+"/"+d+"/"+p,a,s,d,i,p)}else if(d in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)n(e,r,o,h[m],s+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,i,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,r,o,h,s+"/"+d,a,s,d,i)}o(i,s,a,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},79742:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=c(e),s=i[0],a=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(u(e,a,a+s>c?c:a+s));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},27715:function(e,t){"use strict";t.gW=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let f=0;f<n.length;f++){const e=n.charAt(f);r[e]=f}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function s(e,t,n,r){let o=0,i=0;const s=(1<<n)-1,a=[];for(let c=0;c<e.length;++c)for(o=o<<t|e[c],i+=t;i>=n;)i-=n,a.push(o>>i&s);if(r)i>0&&a.push(o<<n-i&s);else{if(i>=t)return"Excess padding";if(o<<n-i&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function s(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const c=(e=s).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let f=i(u);if("string"===typeof f)return f;const d=[];for(let t=0;t<l.length;++t){const e=l.charAt(t),n=r[e];if(void 0===n)return"Unknown character "+e;f=o(f)^n,t+6>=l.length||d.push(n)}return f!==t?"Invalid checksum for "+e:{prefix:u,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=s(e,t);if("object"===typeof n)return n},decode:function(e,t){const n=s(e,t);if("object"===typeof n)return n;throw new Error(n)},encode:function(e,r,s){if(s=s||90,e.length+7+r.length>s)throw new TypeError("Exceeds length limit");let a=i(e=e.toLowerCase());if("string"===typeof a)throw new Error(a);let c=e+"1";for(let t=0;t<r.length;++t){const e=r[t];if(e>>5!==0)throw new Error("Non 5-bit word");a=o(a)^e,c+=n.charAt(e)}for(let t=0;t<6;++t)a=o(a);a^=t;for(let t=0;t<6;++t){c+=n.charAt(a>>5*(5-t)&31)}return c},toWords:a,fromWordsUnsafe:c,fromWords:u}}t.gW=l("bech32"),l("bech32m")},48764:function(e,t,n){"use strict";const r=n(79742),o=n(80645),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Q(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return r?-1:H(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Q(r))return s;e[n+s]=r}return s}function E(e,t,n,r){return J(H(t,e.length-n),e,n,r)}function _(e,t,n,r){return J(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return J(K(t),e,n,r)}function T(e,t,n,r){return J(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128===(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128===(192&n)&&128===(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(W(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(W(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?N(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(W(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),u=this.slice(r,o),l=e.slice(t,n);for(let c=0;c<a;++c)if(u[c]!==l[c]){i=u[c],s=l[c];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=Y[e[i]];return o}function C(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function $(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function P(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||$(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||$(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||$(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||$(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||$(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||$(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||$(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||$(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||$(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||$(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||$(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||$(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||$(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||$(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||$(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const U={};function B(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(r,o,i)}function q(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=F(String(n)):"bigint"===typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=F(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function J(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},95456:function(e){"use strict";e.exports=function e(t){if("number"===typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"===typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");if(null===t||"object"!==typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){return`[${t.reduce(((t,n,r)=>`${t}${0===r?"":","}${e(void 0===n||"symbol"===typeof n?null:n)}`),"")}]`}return`{${Object.keys(t).sort().reduce(((n,r)=>{if(void 0===t[r]||"symbol"===typeof t[r])return n;return`${n}${0===n.length?"":","}${e(r)}:${e(t[r])}`}),"")}}`}},16497:function(e,t,n){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(48764).Buffer.isBuffer},54098:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[u(e)]},d.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},d.prototype.set=function(e,t){this.map[u(e)]=l(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];_.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(I){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(r,i){var s=new b(e,n);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:E(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new _(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=d,e.Request=b,e.Response=_),t.Headers=d,t.Request=b,t.Response=_,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},45933:function(e,t,n){"use strict";var r,o=n(83454),i=function(){function e(e,t){if("function"!==typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(e&&!1===e.batch)return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!==typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return s;if("function"!==typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!==typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(e&&!1===e.cache)return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!==typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}(t),this._batch=null,this.name=function(e){if(e&&e.name)return e.name;return null}(t)}var t=e.prototype;return t.load=function(e){if(null===e||void 0===e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void c(t);var n;try{n=e._batchLoadFn(t.keys)}catch(r){return a(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(r)+"."))}if(!n||"function"!==typeof n.then)return a(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!u(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));c(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){a(e,t,n)}))}(e,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var o=n.get(r);if(o){var i=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){i.push((function(){e(o)}))}))}}t.keys.push(e);var s=new Promise((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,s),s},t.loadMany=function(e){if(!u(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,o=this._cacheKeyFn(e);if(void 0===n.get(o))t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(o,r)}return this},e}(),s="object"===typeof o&&"function"===typeof o.nextTick?function(e){r||(r=Promise.resolve()),r.then((function(){o.nextTick(e)}))}:"function"===typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function a(e,t,n){c(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function c(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function u(e){return"object"===typeof e&&null!==e&&"number"===typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=i},43631:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserInfo:function(){return i},NodeInfo:function(){return s},SearchBotDeviceInfo:function(){return a},BotInfo:function(){return c},ReactNativeInfo:function(){return u},detect:function(){return h},browserName:function(){return m},parseUserAgent:function(){return y},detectOS:function(){return g},getNodeVersion:function(){return v}});var r=n(83454),o=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform},a=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!==typeof navigator?y(navigator.userAgent):v()}function p(e){return""!==e&&f.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}function m(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new c;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<3&&(s=o(o([],s,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-s.length),!0)):s=[];var u=s.join("."),f=g(e),d=l.exec(e);return d&&d[1]?new a(n,u,f,d[1]):new i(n,u,f)}function g(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],o=r[0];if(r[1].exec(e))return o}return null}function v(){return"undefined"!==typeof r&&r.version?new s(r.version.slice(1)):null}},12840:function(e,t,n){var r=n(83454),o=n(30778),i=function(){},s=function(e,t,n){if("function"===typeof t)return s(e,null,t);t||(t={}),n=o(n||i);var a=e._writableState,c=e._readableState,u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,u||n.call(e)},p=function(){u=!1,l||n.call(e)},m=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){n.call(e,t)},g=function(){r.nextTick(v)},v=function(){if(!f)return(!u||c&&c.ended&&!c.destroyed)&&(!l||a&&a.ended&&!a.destroyed)?void 0:n.call(e,new Error("premature close"))},b=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?l&&!a&&(e.on("end",d),e.on("close",d)):(e.on("complete",h),e.on("abort",g),e.req?b():e.on("request",b)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",m),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",g),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",b),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",g)}};e.exports=s},12294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const r=n(4445);class o extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return r.default(this.serialize(),i,2)}}t.EthereumRpcError=o;function i(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=class extends o{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}},92662:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},68797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const r=n(12294),o=n(68753),i=n(92662);function s(e,t){const[n,i]=c(t);return new r.EthereumRpcError(e,n||o.getMessageFromCode(e),i)}function a(e,t){const[n,i]=c(t);return new r.EthereumProviderError(e,n||o.getMessageFromCode(e),i)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}t.ethErrors={rpc:{parse:e=>s(i.errorCodes.rpc.parse,e),invalidRequest:e=>s(i.errorCodes.rpc.invalidRequest,e),invalidParams:e=>s(i.errorCodes.rpc.invalidParams,e),methodNotFound:e=>s(i.errorCodes.rpc.methodNotFound,e),internal:e=>s(i.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(i.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>s(i.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>s(i.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>s(i.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>s(i.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>s(i.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(i.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(i.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(i.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(i.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(i.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:o}=e;if(!n||"string"!==typeof n)throw new Error('"message" must be a nonempty string');return new r.EthereumProviderError(t,n,o)}}}},79826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const r=n(12294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return r.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return r.EthereumProviderError}});const o=n(68753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return o.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}});const i=n(68797);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});const s=n(92662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})},68753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const r=n(92662),o=n(12294),i=r.errorCodes.rpc.internal,s={code:i,message:a(i)};function a(e,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const n=e.toString();if(f(r.errorValues,n))return r.errorValues[n].message;if(u(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function c(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!r.errorValues[t]||!!u(e)}function u(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=a,t.isValidCode=c,t.serializeError=function(e,{fallbackError:t=s,shouldIncludeStack:n=!1}={}){var r,i;if(!t||!Number.isInteger(t.code)||"string"!==typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof o.EthereumRpcError)return e.serialize();const u={};if(e&&"object"===typeof e&&!Array.isArray(e)&&f(e,"code")&&c(e.code)){const t=e;u.code=t.code,t.message&&"string"===typeof t.message?(u.message=t.message,f(t,"data")&&(u.data=t.data)):(u.message=a(u.code),u.data={originalError:l(e)})}else{u.code=t.code;const n=null===(r=e)||void 0===r?void 0:r.message;u.message=n&&"string"===typeof n?n:t.message,u.data={originalError:l(e)}}const d=null===(i=e)||void 0===i?void 0:i.stack;return n&&e&&d&&"string"===typeof d&&(u.stack=d),u}},83560:function(e,t,n){"use strict";var r=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const o=n(42830);class i extends o.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect())),this._log=()=>null}_onMessage(e){if(r.isBuffer(e)){const t=r.from(e);this._log(t,!1),this.push(t)}else this._log(e,!1),this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,n){try{if(r.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._log(t,!0),this._port.postMessage(t)}else this._log(e,!0),this._port.postMessage(e)}catch(o){return n(new Error("PortDuplexStream - disconnected"))}return n()}_setLogger(e){this._log=e}}t.default=i},64063:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},35035:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=i.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(s="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return i.splice(a,1),"{"+s+"}"}}(e)}},4445:function(e){e.exports=s,s.default=s,s.stable=l,s.stableStringify=l;var t="[...]",n="[Circular]",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(e,t,n,s){var a;"undefined"===typeof s&&(s=i()),c(e,"",0,[],void 0,0,s);try{a=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,d(t),n)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function a(e,t,n,i){var s=Object.getOwnPropertyDescriptor(i,n);void 0!==s.get?s.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,s])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,s,u,l){var f;if(u+=1,"object"===typeof e&&null!==e){for(f=0;f<i.length;f++)if(i[f]===e)return void a(n,e,r,s);if("undefined"!==typeof l.depthLimit&&u>l.depthLimit)return void a(t,e,r,s);if("undefined"!==typeof l.edgesLimit&&o+1>l.edgesLimit)return void a(t,e,r,s);if(i.push(e),Array.isArray(e))for(f=0;f<e.length;f++)c(e[f],f,f,i,e,u,l);else{var d=Object.keys(e);for(f=0;f<d.length;f++){var h=d[f];c(e[h],h,f,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,s){"undefined"===typeof s&&(s=i());var a,c=f(e,"",0,[],void 0,0,s)||e;try{a=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,d(t),n)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function f(e,o,i,s,c,l,d){var h;if(l+=1,"object"===typeof e&&null!==e){for(h=0;h<s.length;h++)if(s[h]===e)return void a(n,e,o,c);try{if("function"===typeof e.toJSON)return}catch(g){return}if("undefined"!==typeof d.depthLimit&&l>d.depthLimit)return void a(t,e,o,c);if("undefined"!==typeof d.edgesLimit&&i+1>d.edgesLimit)return void a(t,e,o,c);if(s.push(e),Array.isArray(e))for(h=0;h<e.length;h++)f(e[h],h,h,s,e,l,d);else{var p={},m=Object.keys(e).sort(u);for(h=0;h<m.length;h++){var y=m[h];f(e[y],y,h,s,e,l,d),p[y]=e[y]}if("undefined"===typeof c)return p;r.push([c,o,e]),c[o]=p}s.pop()}}function d(e){return e="undefined"!==typeof e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},25740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectionFromArray=o,t.connectionFromPromisedArray=function(e,t){return e.then((e=>o(e,t)))},t.connectionFromArraySlice=i,t.connectionFromPromisedArraySlice=function(e,t,n){return e.then((e=>i(e,t,n)))},t.offsetToCursor=a,t.cursorToOffset=c,t.cursorForObjectInConnection=function(e,t){const n=e.indexOf(t);if(-1===n)return null;return a(n)},t.getOffsetWithDefault=u;var r=n(74945);function o(e,t){return i(e,t,{sliceStart:0,arrayLength:e.length})}function i(e,t,n){const{after:r,before:o,first:i,last:s}=t,{sliceStart:c,arrayLength:l}=n,f=c+e.length;let d=Math.max(c,0),h=Math.min(f,l);const p=u(r,-1);0<=p&&p<l&&(d=Math.max(d,p+1));const m=u(o,h);if(0<=m&&m<l&&(h=Math.min(h,m)),"number"===typeof i){if(i<0)throw new Error('Argument "first" must be a non-negative integer');h=Math.min(h,d+i)}if("number"===typeof s){if(s<0)throw new Error('Argument "last" must be a non-negative integer');d=Math.max(d,h-s)}const y=e.slice(d-c,h-c).map(((e,t)=>({cursor:a(d+t),node:e}))),g=y[0],v=y[y.length-1],b=null!=r?p+1:0,w=null!=o?m:l;return{edges:y,pageInfo:{startCursor:g?g.cursor:null,endCursor:v?v.cursor:null,hasPreviousPage:"number"===typeof s&&d>b,hasNextPage:"number"===typeof i&&h<w}}}const s="arrayconnection:";function a(e){return(0,r.base64)(s+e.toString())}function c(e){return parseInt((0,r.unbase64)(e).substring(s.length),10)}function u(e,t){if("string"!==typeof e)return t;const n=c(e);return isNaN(n)?t:n}},16745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectionDefinitions=function(e){var t;const{nodeType:n}=e,o=null!==(t=e.name)&&void 0!==t?t:(0,r.getNamedType)(n).name,i=new r.GraphQLObjectType({name:o+"Edge",description:"An edge in a connection.",fields:()=>{var t;return{node:{type:n,resolve:e.resolveNode,description:"The item at the end of the edge"},cursor:{type:new r.GraphQLNonNull(r.GraphQLString),resolve:e.resolveCursor,description:"A cursor for use in pagination"},...(0,r.resolveObjMapThunk)(null!==(t=e.edgeFields)&&void 0!==t?t:{})}}}),s=new r.GraphQLObjectType({name:o+"Connection",description:"A connection to a list of items.",fields:()=>{var t;return{pageInfo:{type:new r.GraphQLNonNull(a),description:"Information to aid in pagination."},edges:{type:new r.GraphQLList(i),description:"A list of edges."},...(0,r.resolveObjMapThunk)(null!==(t=e.connectionFields)&&void 0!==t?t:{})}}});return{edgeType:i,connectionType:s}},t.connectionArgs=t.backwardConnectionArgs=t.forwardConnectionArgs=void 0;var r=n(57893);const o=Object.freeze({after:{type:r.GraphQLString,description:"Returns the items in the list that come after the specified cursor."},first:{type:r.GraphQLInt,description:"Returns the first n items from the list."}});t.forwardConnectionArgs=o;const i=Object.freeze({before:{type:r.GraphQLString,description:"Returns the items in the list that come before the specified cursor."},last:{type:r.GraphQLInt,description:"Returns the last n items from the list."}});t.backwardConnectionArgs=i;const s={...o,...i};t.connectionArgs=s;const a=new r.GraphQLObjectType({name:"PageInfo",description:"Information about pagination in a connection.",fields:()=>({hasNextPage:{type:new r.GraphQLNonNull(r.GraphQLBoolean),description:"When paginating forwards, are there more items?"},hasPreviousPage:{type:new r.GraphQLNonNull(r.GraphQLBoolean),description:"When paginating backwards, are there more items?"},startCursor:{type:r.GraphQLString,description:"When paginating backwards, the cursor to continue."},endCursor:{type:r.GraphQLString,description:"When paginating forwards, the cursor to continue."}})})},78863:function(e,t,n){"use strict";Object.defineProperty(t,"Zd",{enumerable:!0,get:function(){return r.connectionArgs}}),Object.defineProperty(t,"Tr",{enumerable:!0,get:function(){return r.connectionDefinitions}}),Object.defineProperty(t,"Fj",{enumerable:!0,get:function(){return i.mutationWithClientMutationId}}),Object.defineProperty(t,"SX",{enumerable:!0,get:function(){return s.nodeDefinitions}});var r=n(16745),o=n(25740),i=n(4955),s=n(66888),a=n(64423)},4955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mutationWithClientMutationId=function(e){const{name:t,inputFields:n,outputFields:o,mutateAndGetPayload:i}=e,s=new r.GraphQLObjectType({name:t+"Payload",fields:()=>({...(0,r.resolveObjMapThunk)(o),clientMutationId:{type:r.GraphQLString}})}),a=new r.GraphQLInputObjectType({name:t+"Input",fields:()=>({...(0,r.resolveObjMapThunk)(n),clientMutationId:{type:r.GraphQLString}})});return{type:s,description:e.description,deprecationReason:e.deprecationReason,extensions:e.extensions,args:{input:{type:new r.GraphQLNonNull(a)}},resolve:(e,{input:t},n,r)=>{const{clientMutationId:o}=t,s=i(t,n,r);return"function"===typeof(null===(a=s)||void 0===a?void 0:a.then)?s.then(c):c(s);var a;function c(e){return"object"===typeof e&&null!==e&&(e.clientMutationId=o),e}}}};var r=n(57893)},66888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeDefinitions=function(e,t){const n=new r.GraphQLInterfaceType({name:"Node",description:"An object with an ID",fields:()=>({id:{type:new r.GraphQLNonNull(r.GraphQLID),description:"The id of the object."}}),resolveType:t}),o={description:"Fetches an object given its ID",type:n,args:{id:{type:new r.GraphQLNonNull(r.GraphQLID),description:"The ID of an object"}},resolve:(t,{id:n},r,o)=>e(n,r,o)},i={description:"Fetches objects given their IDs",type:new r.GraphQLNonNull(new r.GraphQLList(n)),args:{ids:{type:new r.GraphQLNonNull(new r.GraphQLList(new r.GraphQLNonNull(r.GraphQLID))),description:"The IDs of objects"}},resolve:(t,{ids:n},r,o)=>n.map((t=>e(t,r,o)))};return{nodeInterface:n,nodeField:o,nodesField:i}},t.toGlobalId=i,t.fromGlobalId=function(e){const t=(0,o.unbase64)(e),n=t.indexOf(":");return{type:t.substring(0,n),id:t.substring(n+1)}},t.globalIdField=function(e,t){return{description:"The ID of an object",type:new r.GraphQLNonNull(r.GraphQLID),resolve:(n,r,o,s)=>i(null!==e&&void 0!==e?e:s.parentType.name,t?t(n,o,s):n.id)}};var r=n(57893),o=n(74945);function i(e,t){return(0,o.base64)([e,r.GraphQLID.serialize(t)].join(":"))}},64423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluralIdentifyingRootField=function(e){return{description:e.description,type:new r.GraphQLList(e.outputType),args:{[e.argName]:{type:new r.GraphQLNonNull(new r.GraphQLList(new r.GraphQLNonNull((0,r.getNullableType)(e.inputType))))}},resolve:(t,n,r,o)=>n[e.argName].map((t=>e.resolveSingleInput(t,r,o)))}};var r=n(57893)},74945:function(e,t){"use strict";function n(e){return a(e>>2&63)}function r(e,t){return a(63&(e<<4|t>>4))}function o(e,t){return a(63&(e<<2|t>>6))}function i(e){return a(63&e)}Object.defineProperty(t,"__esModule",{value:!0}),t.base64=function(e){const t=function(e){const t=[];for(const n of e){const e=n.codePointAt(0);e<128?t.push(e):e<2048?(t.push(192|e>>6),t.push(128|63&e)):e<65536?(t.push(224|e>>12),t.push(128|e>>6&63),t.push(128|63&e)):(t.push(240|e>>18),t.push(128|e>>12&63),t.push(128|e>>6&63),t.push(128|63&e))}return t}(e);let s="";const a=t.length,c=a%3;for(let u=0;u<a-c;u+=3){const e=t[u],a=t[u+1],c=t[u+2];s+=n(e),s+=r(e,a),s+=o(a,c),s+=i(c)}if(1===c){const e=t[a-1];s+=n(e)+r(e,0)+"=="}else if(2===c){const e=t[a-2],i=t[a-1];s+=n(e)+r(e,i)+o(i,0)+"="}return s},t.unbase64=function(e){const t=[];for(let r=0;r<e.length;r+=4){const n=c(e[r]),o=c(e[r+1]),i=c(e[r+2]),s=c(e[r+3]);if(-1===n||-1===o||-1===i||-1===s)return"";const a=n<<18|o<<12|i<<6|s;t.push(a>>16&255),t.push(a>>8&255),t.push(255&a)}let n=e.length-1;for(;"="===e[n];)--n,t.pop();return function(e){let t="";for(let n=0;n<e.length;){const r=e[n++];if(0===(128&r)){t+=u(r);continue}const o=e[n++];if(192===(224&r)){t+=u((31&r)<<6|63&o);continue}const i=e[n++];if(224===(240&r)){t+=u((15&r)<<12|(63&o)<<6|63&i);continue}t+=u((7&r)<<18|(63&o)<<12|(63&i)<<6|63&e[n++])}return t}(t)};const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(e){return s.charAt(e)}function c(e){return void 0===e?-1:"="===e?0:s.indexOf(e)}function u(e){return e>1114111?"":String.fromCodePoint(e)}},80645:function(e,t){t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=256*i+e[t+f],f+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=u}return(h?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}},35717:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},24970:function(e){"use strict";const t=e=>null!==e&&"object"===typeof e&&"function"===typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"===typeof e._transform,e.exports=t},5826:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},17398:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const o=r(n(60759)),i=n(79826);class s extends o.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,r)=>{try{const[o,i,a]=await s._runAllMiddleware(e,t,this._middleware);return i?(await s._runReturnHandlers(a),r(o)):n((async e=>{try{await s._runReturnHandlers(a)}catch(t){return e(t)}return e()}))}catch(o){return r(o)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(n){if(t)return t(n);throw n}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,n)=>{t(n)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!==typeof e){const n=new i.EthereumRpcError(i.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(n,{id:void 0,jsonrpc:"2.0",error:n})}if("string"!==typeof e.method){const n=new i.EthereumRpcError(i.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(n,{id:e.id,jsonrpc:"2.0",error:n})}const n=Object.assign({},e),r={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,r)}catch(s){o=s}return o&&(delete r.result,r.error||(r.error=i.serializeError(o))),t(o,r)}async _processRequest(e,t){const[n,r,o]=await s._runAllMiddleware(e,t,this._middleware);if(s._checkForCompletion(e,t,r),await s._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(e,t,n){const r=[];let o=null,i=!1;for(const a of n)if([o,i]=await s._runMiddleware(e,t,a,r),i)break;return[o,i,r.reverse()]}static _runMiddleware(e,t,n,r){return new Promise((o=>{const s=e=>{const n=e||t.error;n&&(t.error=i.serializeError(n)),o([n,!0])},c=n=>{t.error?s(t.error):(n&&("function"!==typeof n&&s(new i.EthereumRpcError(i.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof n}" for request:\n${a(e)}`,{request:e})),r.push(n)),o([null,!1]))};try{n(e,t,c,s)}catch(u){s(u)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,n)=>{t((t=>t?n(t):e()))}))}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new i.EthereumRpcError(i.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${a(e)}`,{request:e});if(!n)throw new i.EthereumRpcError(i.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${a(e)}`,{request:e})}}function a(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=s},31841:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,n,r,o)=>{let i;const s=new Promise((e=>{i=e}));let a=null,c=!1;const u=async()=>{c=!0,r((e=>{a=e,i()})),await s};try{await e(t,n,u),c?(await s,a(null)):o(null)}catch(l){a?a(l):o(l)}}}},48508:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,n,r,o)=>{const i=e[t.method];return void 0===i?r():"function"===typeof i?i(t,n,r,o):(n.result=i,o())}}},33107:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const n=4294967295;let r=Math.floor(Math.random()*n);t.getUniqueId=function(){return r=(r+1)%n,r}},85086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const r=n(33107);t.createIdRemapMiddleware=function(){return(e,t,n,o)=>{const i=e.id,s=r.getUniqueId();e.id=s,t.id=s,n((n=>{e.id=i,t.id=i,n()}))}}},88625:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(85086),t),o(n(31841),t),o(n(48508),t),o(n(33107),t),o(n(17398),t),o(n(79962),t)},79962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const r=n(17398);t.mergeMiddleware=function(e){const t=new r.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},60759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25293);function o(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout((()=>{throw r}))}}class i extends r.EventEmitter{emit(e,...t){let n="error"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if("function"===typeof i)o(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)o(n[r],this,t)}return!0}}t.default=i},61824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19141);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,n=new r.Duplex({objectMode:!0,read:()=>{},write:function(e,r,o){t.handle(e,((e,t)=>{n.push(t)})),o()}});return t.on&&t.on("notification",(e=>{n.push(e)})),n}},15399:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(19394)),i=n(19141);t.default=function(e={}){const t={},n=new i.Duplex({objectMode:!0,read:()=>{},write:function(n,o,i){let a=null;try{!n.id?function(n){(null===e||void 0===e?void 0:e.retryOnMessage)&&n.method===e.retryOnMessage&&Object.values(t).forEach((({req:e,retryCount:n=0})=>{if(e.id){if(n>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);t[e.id].retryCount=n+1,s(e)}}));r.emit("notification",n)}(n):function(e){const n=t[e.id];if(!n)return void console.warn(`StreamMiddleware - Unknown response id "${e.id}"`);delete t[e.id],Object.assign(n.res,e),setTimeout(n.end)}(n)}catch(c){a=c}i(a)}}),r=new o.default;return{events:r,middleware:(e,n,r,o)=>{t[e.id]={req:e,res:n,next:r,end:o},s(e)},stream:n};function s(e){n.push(e)}}},48758:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const o=r(n(61824));t.createEngineStream=o.default;const i=r(n(15399));t.createStreamMiddleware=i.default},40243:function(e,t,n){"use strict";var r=n(88212),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var i=Object.create(n(16497));i.inherits=n(35717);var s=n(3492),a=n(59890);i.inherits(f,s);for(var c=o(a.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},29022:function(e,t,n){"use strict";e.exports=i;var r=n(84209),o=Object.create(n(16497));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n(35717),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},3492:function(e,t,n){"use strict";var r=n(83454),o=n(88212);e.exports=b;var i,s=n(5826);b.ReadableState=v;n(25293).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=n(99965),u=n(24620).Buffer,l=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var f=Object.create(n(16497));f.inherits=n(35717);var d=n(82442),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(51252),y=n(47192);f.inherits(b,c);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(40243));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(85386).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n(40243),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,o){var i,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,T(e)}(e,s)):(o||(i=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),i?e.emit("error",i):s.objectMode||t&&t.length>0?("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?E(e,s,t,!1):N(e,s)):E(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),N(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(85386).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(I,e):I(e))}function I(e){h("emit readable"),e.emit("readable"),x(e)}function N(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}function x(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(s===i.length?o+=i:o+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,s),0===(e-=s)){s===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function $(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?$(this):T(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&$(this),null;var r,o=t.needReadable;return h("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",o=!0),t.ended||t.reading?h("reading or ended",o=!1):o&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&$(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",y),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",m),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}i.endEmitted?o.nextTick(c):n.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,x(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==D(i.pipes,e))&&!d&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++,p=!0),n.pause())}function y(t){h("onerror",t),b(),e.removeListener("error",y),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),b()}function v(){h("onfinish"),e.removeListener("close",g),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=D(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):o.nextTick(k,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(A,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(h("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))})),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<g.length;i++)e.on(g[i],this.emit.bind(this,g[i]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=C},84209:function(e,t,n){"use strict";e.exports=s;var r=n(40243),o=Object.create(n(16497));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(35717),o.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},59890:function(e,t,n){"use strict";var r=n(88212);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=y;var i,s=r.nextTick;y.WritableState=m;var a=Object.create(n(16497));a.inherits=n(35717);var c={deprecate:n(94927)},u=n(99965),l=n(24620).Buffer,f=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var d,h=n(47192);function p(){}function m(e,t){i=i||n(40243),e=e||{};var a=t instanceof i;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,o=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,o,i){--t.pendingcb,n?(r.nextTick(i,o),r.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",o)):(i(o),e._writableState.errorEmitted=!0,e.emit("error",o),_(e,t))}(e,n,o,t,i);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),o?s(v,e,n,a,i):v(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(i=i||n(40243),!d.call(y,this)&&!(this instanceof i))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function g(e,t,n,r,o,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,g(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(g(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(y,u),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===y&&(e&&e._writableState instanceof m)}})):d=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var o,i=this._writableState,s=!1,a=!i.objectMode&&(o=e,l.isBuffer(o)||o instanceof f);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=p),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,o){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(o,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,o,i){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,n));return t}(t,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,a,r,o,i);return c}(this,i,a,e,t,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||b(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var o=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,o,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}},51252:function(e,t,n){"use strict";var r=n(24620).Buffer,o=n(46559);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);for(var t,n,o,i=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,o=a,t.copy(n,o),a+=s.data.length,s=s.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},47192:function(e,t,n){"use strict";var r=n(88212);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,e)):r.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},99965:function(e,t,n){e.exports=n(25293).EventEmitter},19141:function(e,t,n){(t=e.exports=n(3492)).Stream=t,t.Readable=t,t.Writable=n(59890),t.Duplex=n(40243),t.Transform=n(84209),t.PassThrough=n(29022)},24620:function(e,t,n){var r=n(48764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(o,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},85386:function(e,t,n){"use strict";var r=n(24620).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=s(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},83465:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",I="[object Int32Array]",N="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",x=/\w*$/,C=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[b]=R[w]=R[s]=R[a]=R[E]=R[_]=R[S]=R[T]=R[I]=R[l]=R[f]=R[d]=R[p]=R[m]=R[y]=R[g]=R[N]=R[O]=R[k]=R[A]=!0,R["[object Error]"]=R[c]=R[v]=!1;var D="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,P="object"==typeof self&&self&&self.Object===Object&&self,j=D||P||Function("return this")(),M=t&&!t.nodeType&&t,L=M&&e&&!e.nodeType&&e,U=L&&L.exports===M;function B(e,t){return e.set(t[0],t[1]),e}function F(e,t){return e.add(t),e}function V(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K=Array.prototype,J=Function.prototype,W=Object.prototype,Q=j["__core-js_shared__"],Y=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X=J.toString,Z=W.hasOwnProperty,ee=W.toString,te=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=U?j.Buffer:void 0,re=j.Symbol,oe=j.Uint8Array,ie=G(Object.getPrototypeOf,Object),se=Object.create,ae=W.propertyIsEnumerable,ce=K.splice,ue=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=G(Object.keys,Object),de=Me(j,"DataView"),he=Me(j,"Map"),pe=Me(j,"Promise"),me=Me(j,"Set"),ye=Me(j,"WeakMap"),ge=Me(Object,"create"),ve=Ve(de),be=Ve(he),we=Ve(pe),Ee=Ve(me),_e=Ve(ye),Se=re?re.prototype:void 0,Te=Se?Se.valueOf:void 0;function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){this.__data__=new Ne(e)}function Ae(e,t){var n=ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&Z.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!Z.call(e,s)||o&&("length"==s||Be(s,r))||n.push(s);return n}function xe(e,t,n){var r=e[t];Z.call(e,t)&&qe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ce(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1}function $e(e,t,n,r,o,h,v){var C;if(r&&(C=h?r(e,o,h,v):r(e)),void 0!==C)return C;if(!Je(e))return e;var $=ze(e);if($){if(C=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,C)}else{var D=Ue(e),P=D==c||D==u;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(D==d||D==i||P&&!h){if(q(e))return h?e:{};if(C=function(e){return"function"!=typeof e.constructor||Fe(e)?{}:(t=ie(e),Je(t)?se(t):{});var t}(P?{}:e),!t)return function(e,t){return Pe(e,Le(e),t)}(e,function(e,t){return e&&Pe(t,We(t),e)}(C,e))}else{if(!R[D])return h?e:{};C=function(e,t,n,r){var o=e.constructor;switch(t){case b:return De(e);case s:case a:return new o(+e);case w:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case _:case S:case T:case I:case N:case O:case k:case A:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){return V(t?n(z(e),!0):z(e),B,new e.constructor)}(e,r,n);case f:case y:return new o(e);case p:return function(e){var t=new e.constructor(e.source,x.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return V(t?n(H(e),!0):H(e),F,new e.constructor)}(e,r,n);case g:return i=e,Te?Object(Te.call(i)):{}}var i}(e,D,$e,t)}}v||(v=new ke);var j=v.get(e);if(j)return j;if(v.set(e,C),!$)var M=n?function(e){return function(e,t,n){var r=t(e);return ze(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,We,Le)}(e):We(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(M||e,(function(o,i){M&&(o=e[i=o]),xe(C,i,$e(o,t,n,r,i,e,v))})),C}function Re(e){return!(!Je(e)||(t=e,Y&&Y in t))&&(Ke(e)||q(e)?te:C).test(Ve(e));var t}function De(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Pe(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var s=t[o],a=r?r(n[s],e[s],s,n,e):void 0;xe(n,s,void 0===a?e[s]:a)}return n}function je(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(n)?n:void 0}Ie.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ie.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},Ie.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Z.call(t,e)},Ie.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Ne.prototype.clear=function(){this.__data__=[]},Ne.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Ne.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Ne.prototype.has=function(e){return Ce(this.__data__,e)>-1},Ne.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Oe.prototype.clear=function(){this.__data__={hash:new Ie,map:new(he||Ne),string:new Ie}},Oe.prototype.delete=function(e){return je(this,e).delete(e)},Oe.prototype.get=function(e){return je(this,e).get(e)},Oe.prototype.has=function(e){return je(this,e).has(e)},Oe.prototype.set=function(e,t){return je(this,e).set(e,t),this},ke.prototype.clear=function(){this.__data__=new Ne},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ne){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Oe(r)}return n.set(e,t),this};var Le=ue?G(ue,Object):function(){return[]},Ue=function(e){return ee.call(e)};function Be(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||$.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||W)}function Ve(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qe(e,t){return e===t||e!==e&&t!==t}(de&&Ue(new de(new ArrayBuffer(1)))!=w||he&&Ue(new he)!=l||pe&&Ue(pe.resolve())!=h||me&&Ue(new me)!=m||ye&&Ue(new ye)!=v)&&(Ue=function(e){var t=ee.call(e),n=t==d?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case ve:return w;case be:return l;case we:return h;case Ee:return m;case _e:return v}return t});var ze=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ke(e)}var He=le||function(){return!1};function Ke(e){var t=Je(e)?ee.call(e):"";return t==c||t==u}function Je(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function We(e){return Ge(e)?Ae(e):function(e){if(!Fe(e))return fe(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return $e(e,!0,!0)}},83454:function(e,t,n){"use strict";e.exports=n.g.process||n(77663)},81780:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(23354)}])},26885:function(e,t,n){"use strict";n.d(t,{B:function(){return _E},c:function(){return SE}});var r={};n.r(r),n.d(r,{code:function(){return It},decode:function(){return Ot},encode:function(){return Nt},name:function(){return Tt}});var o={};n.r(o),n.d(o,{JsonPatchError:function(){return ao},_areEquals:function(){return vo},applyOperation:function(){return ho},applyPatch:function(){return po},applyReducer:function(){return mo},deepClone:function(){return co},getValueByPointer:function(){return fo},validate:function(){return go},validator:function(){return yo}});var i={};n.r(i),n.d(i,{compare:function(){return No},generate:function(){return To},observe:function(){return So},unobserve:function(){return _o}});var s=n(85893),a=n(67294),c=n(9613),u=n(95891),l=n(67189);const f=(0,l.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});(0,l.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var d=n(27353),h=n(94676);const p=["string","number","bigint","symbol"],m=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function y(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(p.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(m.includes(t))return t;return}(e);return n||"Object"}class g{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}g.uint=new g(0,"uint",!0),g.negint=new g(1,"negint",!0),g.bytes=new g(2,"bytes",!0),g.string=new g(3,"string",!0),g.array=new g(4,"array",!1),g.map=new g(5,"map",!1),g.tag=new g(6,"tag",!1),g.float=new g(7,"float",!0),g.false=new g(7,"false",!0),g.true=new g(7,"true",!0),g.null=new g(7,"null",!0),g.undefined=new g(7,"undefined",!0),g.break=new g(7,"break",!0);class v{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const b=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,w=new TextDecoder,E=new TextEncoder;function _(e){return b&&globalThis.Buffer.isBuffer(e)}function S(e){return e instanceof Uint8Array?_(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const T=b?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):C(e,t,n):(e,t,n)=>n-t>64?w.decode(e.subarray(t,n)):C(e,t,n),I=b?e=>e.length>64?globalThis.Buffer.from(e):x(e):e=>e.length>64?E.encode(e):x(e),N=e=>Uint8Array.from(e),O=b?(e,t,n)=>_(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),k=b?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),S(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},A=b?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function x(e,t=1/0){let n;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function C(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}(r)}const $=4096;class R{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=A(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=O(n,0,this.cursor)}else t=k(this.chunks,this.cursor);return e&&this.reset(),t}}const D=[];function P(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}D[23]=1,D[24]=2,D[25]=3,D[26]=5,D[27]=9;const j=[24,256,65536,4294967296,BigInt("18446744073709551616")];function M(e,t,n){P(e,t,1);const r=e[t];if(!0===n.strict&&r<j[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function L(e,t,n){P(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<j[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function U(e,t,n){P(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<j[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function B(e,t,n){P(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<j[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function F(e,t){return V(e,0,t.value)}function V(e,t,n){if(n<j[0]){const r=Number(n);e.push([t|r])}else if(n<j[1]){const r=Number(n);e.push([24|t,r])}else if(n<j[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<j[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<j[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}F.encodedSize=function(e){return V.encodedSize(e.value)},V.encodedSize=function(e){return e<j[0]?1:e<j[1]?2:e<j[2]?3:e<j[3]?5:9},F.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const q=BigInt(-1),z=BigInt(1);function G(e,t){const n=t.value,r="bigint"===typeof n?n*q-z:-1*n-1;V(e,t.type.majorEncoded,r)}function H(e,t,n,r){P(e,t,n+r);const o=O(e,t+n,t+n+r);return new v(g.bytes,o,n+r)}function K(e,t,n,r){return H(e,t,1,n)}function J(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===g.string?I(e.value):e.value),e.encodedBytes}function W(e,t){const n=J(t);V(e,t.type.majorEncoded,n.length),e.push(n)}function Q(e,t,n,r,o){const i=n+r;P(e,t,i);const s=new v(g.string,T(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=O(e,t+n,t+i)),s}function Y(e,t,n,r){return Q(e,t,1,n,r)}G.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*q-z:-1*t-1;return n<j[0]?1:n<j[1]?2:n<j[2]?3:n<j[3]?5:9},G.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},W.encodedSize=function(e){const t=J(e);return V.encodedSize(t.length)+t.length},W.compareTokens=function(e,t){return n=J(e),r=J(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(_(e)&&_(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const X=W;function Z(e,t,n,r){return new v(g.array,r,n)}function ee(e,t,n,r){return Z(0,0,1,n)}function te(e,t){V(e,g.array.majorEncoded,t.value)}function ne(e,t,n,r){return new v(g.map,r,n)}function re(e,t,n,r){return ne(0,0,1,n)}function oe(e,t){V(e,g.map.majorEncoded,t.value)}function ie(e,t,n,r){return new v(g.tag,n,1)}function se(e,t){V(e,g.tag.majorEncoded,t.value)}te.compareTokens=F.compareTokens,te.encodedSize=function(e){return V.encodedSize(e.value)},oe.compareTokens=F.compareTokens,oe.encodedSize=function(e){return V.encodedSize(e.value)},se.compareTokens=F.compareTokens,se.encodedSize=function(e){return V.encodedSize(e.value)};function ae(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new v(g.float,e,t)}function ce(e,t,n){const r=t.value;if(!1===r)e.push([20|g.float.majorEncoded]);else if(!0===r)e.push([21|g.float.majorEncoded]);else if(null===r)e.push([22|g.float.majorEncoded]);else if(void 0===r)e.push([23|g.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(de(r),t=he(fe,1),r===t||Number.isNaN(r)?(fe[0]=249,e.push(fe.slice(0,3)),i=!0):(pe(r),t=me(fe,1),r===t&&(fe[0]=250,e.push(fe.slice(0,5)),i=!0))),i||(o=r,le.setFloat64(0,o,!1),t=ye(fe,1),fe[0]=251,e.push(fe.slice(0,9)))}var o}ce.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){de(n);let e=he(fe,1);if(n===e||Number.isNaN(n))return 3;if(pe(n),e=me(fe,1),n===e)return 5}return 9};const ue=new ArrayBuffer(9),le=new DataView(ue,1),fe=new Uint8Array(ue,0);function de(e){if(e===1/0)le.setUint16(0,31744,!1);else if(e===-1/0)le.setUint16(0,64512,!1);else if(Number.isNaN(e))le.setUint16(0,32256,!1);else{le.setFloat32(0,e);const t=le.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)le.setUint16(0,31744,!1);else if(0===n)le.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?le.setUint16(0,0):e<-14?le.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):le.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function he(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function pe(e){le.setFloat32(0,e,!1)}function me(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function ye(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function ge(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function ve(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}ce.compareTokens=F.compareTokens;const be=[];for(let TE=0;TE<=23;TE++)be[TE]=ge;be[24]=function(e,t,n,r){return new v(g.uint,M(e,t+1,r),2)},be[25]=function(e,t,n,r){return new v(g.uint,L(e,t+1,r),3)},be[26]=function(e,t,n,r){return new v(g.uint,U(e,t+1,r),5)},be[27]=function(e,t,n,r){return new v(g.uint,B(e,t+1,r),9)},be[28]=ge,be[29]=ge,be[30]=ge,be[31]=ge;for(let TE=32;TE<=55;TE++)be[TE]=ge;be[56]=function(e,t,n,r){return new v(g.negint,-1-M(e,t+1,r),2)},be[57]=function(e,t,n,r){return new v(g.negint,-1-L(e,t+1,r),3)},be[58]=function(e,t,n,r){return new v(g.negint,-1-U(e,t+1,r),5)},be[59]=function(e,t,n,r){const o=B(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new v(g.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new v(g.negint,q-BigInt(o),9)},be[60]=ge,be[61]=ge,be[62]=ge,be[63]=ge;for(let TE=64;TE<=87;TE++)be[TE]=K;be[88]=function(e,t,n,r){return H(e,t,2,M(e,t+1,r))},be[89]=function(e,t,n,r){return H(e,t,3,L(e,t+1,r))},be[90]=function(e,t,n,r){return H(e,t,5,U(e,t+1,r))},be[91]=function(e,t,n,r){const o=B(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return H(e,t,9,o)},be[92]=ge,be[93]=ge,be[94]=ge,be[95]=ve("indefinite length bytes/strings are not supported");for(let TE=96;TE<=119;TE++)be[TE]=Y;be[120]=function(e,t,n,r){return Q(e,t,2,M(e,t+1,r),r)},be[121]=function(e,t,n,r){return Q(e,t,3,L(e,t+1,r),r)},be[122]=function(e,t,n,r){return Q(e,t,5,U(e,t+1,r),r)},be[123]=function(e,t,n,r){const o=B(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Q(e,t,9,o,r)},be[124]=ge,be[125]=ge,be[126]=ge,be[127]=ve("indefinite length bytes/strings are not supported");for(let TE=128;TE<=151;TE++)be[TE]=ee;be[152]=function(e,t,n,r){return Z(0,0,2,M(e,t+1,r))},be[153]=function(e,t,n,r){return Z(0,0,3,L(e,t+1,r))},be[154]=function(e,t,n,r){return Z(0,0,5,U(e,t+1,r))},be[155]=function(e,t,n,r){const o=B(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return Z(0,0,9,o)},be[156]=ge,be[157]=ge,be[158]=ge,be[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Z(0,0,1,1/0)};for(let TE=160;TE<=183;TE++)be[TE]=re;be[184]=function(e,t,n,r){return ne(0,0,2,M(e,t+1,r))},be[185]=function(e,t,n,r){return ne(0,0,3,L(e,t+1,r))},be[186]=function(e,t,n,r){return ne(0,0,5,U(e,t+1,r))},be[187]=function(e,t,n,r){const o=B(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return ne(0,0,9,o)},be[188]=ge,be[189]=ge,be[190]=ge,be[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return ne(0,0,1,1/0)};for(let TE=192;TE<=215;TE++)be[TE]=ie;be[216]=function(e,t,n,r){return new v(g.tag,M(e,t+1,r),2)},be[217]=function(e,t,n,r){return new v(g.tag,L(e,t+1,r),3)},be[218]=function(e,t,n,r){return new v(g.tag,U(e,t+1,r),5)},be[219]=function(e,t,n,r){return new v(g.tag,B(e,t+1,r),9)},be[220]=ge,be[221]=ge,be[222]=ge,be[223]=ge;for(let TE=224;TE<=243;TE++)be[TE]=ve("simple values are not supported");be[244]=ge,be[245]=ge,be[246]=ge,be[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new v(g.null,null,1):new v(g.undefined,void 0,1)},be[248]=ve("simple values are not supported"),be[249]=function(e,t,n,r){return ae(he(e,t+1),3,r)},be[250]=function(e,t,n,r){return ae(me(e,t+1),5,r)},be[251]=function(e,t,n,r){return ae(ye(e,t+1),9,r)},be[252]=ge,be[253]=ge,be[254]=ge,be[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new v(g.break,void 0,1)};const we=[];for(let TE=0;TE<24;TE++)we[TE]=new v(g.uint,TE,1);for(let TE=-1;TE>=-24;TE--)we[31-TE]=new v(g.negint,TE,1);we[64]=new v(g.bytes,new Uint8Array(0),1),we[96]=new v(g.string,"",1),we[128]=new v(g.array,0,1),we[160]=new v(g.map,0,1),we[244]=new v(g.false,!1,1),we[245]=new v(g.true,!0,1),we[246]=new v(g.null,null,1);const Ee={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=_e[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case g.false:return N([244]);case g.true:return N([245]);case g.null:return N([246]);case g.bytes:return e.value.length?void 0:N([64]);case g.string:return""===e.value?N([96]):void 0;case g.array:return 0===e.value?N([128]):void 0;case g.map:return 0===e.value?N([160]):void 0;case g.uint:return e.value<24?N([Number(e.value)]):void 0;case g.negint:if(e.value>=-24)return N([31-Number(e.value)])}}};const _e=function(){const e=[];return e[g.uint.major]=F,e[g.negint.major]=G,e[g.bytes.major]=W,e[g.string.major]=X,e[g.array.major]=te,e[g.map.major]=oe,e[g.tag.major]=se,e[g.float.major]=ce,e}(),Se=new R;class Te{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Te(t,e)}}const Ie={null:new v(g.null,null),undefined:new v(g.undefined,void 0),true:new v(g.true,!0),false:new v(g.false,!1),emptyArray:new v(g.array,0),emptyMap:new v(g.map,0)},Ne={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new v(e>=0?g.uint:g.negint,e):new v(g.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new v(g.uint,e):new v(g.negint,e),Uint8Array:(e,t,n,r)=>new v(g.bytes,e),string:(e,t,n,r)=>new v(g.string,e),boolean:(e,t,n,r)=>e?Ie.true:Ie.false,null:(e,t,n,r)=>Ie.null,undefined:(e,t,n,r)=>Ie.undefined,ArrayBuffer:(e,t,n,r)=>new v(g.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new v(g.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[Ie.emptyArray,new v(g.break)]:Ie.emptyArray;r=Te.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=Oe(s,n,r);return n.addBreakTokens?[new v(g.array,e.length),o,new v(g.break)]:[new v(g.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[Ie.emptyMap,new v(g.break)]:Ie.emptyMap;r=Te.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[Oe(u,n,r),Oe(o?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new v(g.map,s),a,new v(g.break)]:[new v(g.map,s),a]}};Ne.Map=Ne.Object,Ne.Buffer=Ne.Uint8Array;for(const TE of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Ne[`${TE}Array`]=Ne.DataView;function Oe(e,t={},n){const r=y(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||Ne[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=Ne[r];if(!i)throw new Error(`CBOR encode error: unsupported type: ${r}`);return i(e,r,t,n)}function ke(e,t,n,r){if(Array.isArray(t))for(const o of t)ke(e,o,n,r);else n[t.type.major](e,t,r)}function Ae(e,t,n){const r=Oe(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new R(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return S(t.chunks[0])}}return Se.reset(),ke(Se,r,t,n),Se.toBytes(!0)}const xe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Ce{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=we[e];if(void 0===t){const n=be[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this.pos,r,this.options)}return this.pos+=t.encodedLength,t}}const $e=Symbol.for("DONE"),Re=Symbol.for("BREAK");function De(e,t){if(e.done())return $e;const n=e.next();if(n.type===g.break)return Re;if(n.type.terminal)return n.value;if(n.type===g.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=De(t,n);if(i===Re){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(i===$e)throw new Error(`CBOR decode error: found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===g.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=De(t,n);if(a===Re){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===$e)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=De(t,n);if(c===$e)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,c):o[a]=c}return r?i:o}(n,e,t);if(n.type===g.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=De(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}var Pe=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=je;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},je=Math.pow(2,31);var Me=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var Le=Math.pow(2,7),Ue=Math.pow(2,14),Be=Math.pow(2,21),Fe=Math.pow(2,28),Ve=Math.pow(2,35),qe=Math.pow(2,42),ze=Math.pow(2,49),Ge=Math.pow(2,56),He=Math.pow(2,63),Ke={encode:Pe,decode:Me,encodingLength:function(e){return e<Le?1:e<Ue?2:e<Be?3:e<Fe?4:e<Ve?5:e<qe?6:e<ze?7:e<Ge?8:e<He?9:10}};const Je=(e,t=0)=>[Ke.decode(e,t),Ke.decode.bytes],We=(e,t,n=0)=>(Ke.encode(e,t,n),t),Qe=e=>Ke.encodingLength(e),Ye=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Xe{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var Ze=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class et{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tt{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return rt(this,e)}}class nt{constructor(e){this.decoders=e}or(e){return rt(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rt=(e,t)=>new nt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ot{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new et(e,t,n),this.decoder=new tt(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const it=({name:e,prefix:t,encode:n,decode:r})=>new ot(e,t,n,r),st=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=Ze(n,t);return it({prefix:e,name:t,encode:r,decode:e=>Ye(o(e))})},at=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>it({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),ct=st({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ut=(st({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),at({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));at({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),at({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),at({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),at({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),at({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),at({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),at({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),at({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class lt{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:bt,byteLength:bt,code:vt,version:vt,multihash:vt,bytes:vt,_baseCache:bt,asCID:bt})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==pt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==mt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return lt.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Qe(e),o=r+Qe(n),i=new Uint8Array(o+n);return We(e,i,0),We(n,i,r),i.set(t,o),new Xe(e,n,t,i)})(e,t);return lt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return dt(t,r,e||ct.encoder);default:return ht(t,r,e||ut.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return wt(/^0\.0/,Et),!(!e||!e[gt]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof lt)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new lt(t,n,r,o||yt(t,n,r.bytes))}if(null!=e&&!0===e[gt]){const{version:t,multihash:n,code:r}=e,o=(e=>{const t=Ye(e),[n,r]=Je(t),[o,i]=Je(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Xe(n,o,s,t)})(n);return lt.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==pt)throw new Error(`Version 0 CID must use dag-pb (code: ${pt}) block encoding`);return new lt(e,t,n,n.bytes);case 1:{const r=yt(e,t,n.bytes);return new lt(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return lt.create(0,pt,e)}static createV1(e,t){return lt.create(1,e,t)}static decode(e){const[t,n]=lt.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=lt.inspectBytes(e),n=t.size-t.multihashSize,r=Ye(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new Xe(t.multihashCode,t.digestSize,o,r);return[0===t.version?lt.createV0(i):lt.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Je(e.subarray(t));return t+=r,n};let r=n(),o=pt;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=ft(e,t),o=lt.decode(r);return o._baseCache.set(n,e),o}}const ft=(e,t)=>{switch(e[0]){case"Q":{const n=t||ct;return[ct.prefix,n.decode(`${ct.prefix}${e}`)]}case ct.prefix:{const n=t||ct;return[ct.prefix,n.decode(e)]}case ut.prefix:{const n=t||ut;return[ut.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},dt=(e,t,n)=>{const{prefix:r}=n;if(r!==ct.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},ht=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},pt=112,mt=18,yt=(e,t,n)=>{const r=Qe(e),o=r+Qe(t),i=new Uint8Array(o+n.byteLength);return We(e,i,0),We(t,i,r),i.set(n,o),i},gt=Symbol.for("@ipld/js-cid/CID"),vt={writable:!1,configurable:!1,enumerable:!0},bt={writable:!1,enumerable:!1,configurable:!1},wt=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Et="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const _t={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=lt.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new v(g.tag,42),new v(g.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const St={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};St.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return lt.decode(e.subarray(1))};const Tt="dag-cbor",It=113,Nt=e=>{return t=e,n=_t,n=Object.assign({},Ee,n),Ae(t,_e,n);var t,n},Ot=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},xe,t)).tokenizer||new Ce(e,t),r=De(n,t);if(r===$e)throw new Error("CBOR decode error: did not find any content to decode");if(r===Re)throw new Error("CBOR decode error: got unexpected break");if(!n.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return r}(e,St);var kt=n(738);var At;function xt(...e){let t="";for(let n=0,r=e.length;n<r;n++)t+=`${e[n]}$!$`;return t}!function(e){e.WEAKMAP="weakmap",e.REPLACE="replace"}(At||(At={}));const Ct=function(e){const t=e?.hashFunction||xt,n=e?.strategy||At.WEAKMAP,r=e?.argsCacheBuilder||(()=>new Map);return(e,o,i)=>{if(Boolean(i.value))!function(e,t,n,r,o){const i=e.value;switch(i.length){case 0:switch(n){case At.REPLACE:return void(e.value=function(){const n=i.apply(this);Object.defineProperty(this,t,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:function(){return n}})});case At.WEAKMAP:{const t=new WeakMap;e.value=function(){if(t.has(this))return t.get(this);let e=i.apply(this);return t.set(this,e),e};break}}break;case 1:switch(n){case At.WEAKMAP:{const t=new WeakMap;e.value=function(e){let n=t.get(this);if(n||(n=o(),t.set(this,n)),n.has(e))return n.get(e);const r=i.call(this,e);return n.set(e,r),r};break}case At.REPLACE:e.value=function(n){const r=o();function s(e){if(r.has(e))return r.get(e);{const t=i.call(this,e);return r.set(e,t),t}}return Object.defineProperty(this,t,{configurable:e.configurable,enumerable:e.enumerable,writable:e.writable,value:s}),s.call(this,n)}}break;default:switch(n){case At.REPLACE:e.value=function(...n){const s=o();function a(...e){const t=r.apply(this,e);if(s.has(t))return s.get(t);{const n=i.apply(this,e);return s.set(t,n),n}}return Object.defineProperty(this,t,{configurable:e.configurable,enumerable:e.enumerable,writable:e.writable,value:a}),a.apply(this,n)};break;case At.WEAKMAP:{const t=new WeakMap;e.value=function(...e){let n=t.get(this);const s=r.apply(this,e);if(n?.has(s))return n.get(s);n||(n=o(),t.set(this,n));const a=i.apply(this,e);return n.set(s,a),a}}}}}(i,o,n,t,r);else{if(!function(e){return Boolean(e.get)}(i))throw new Error("Decorate only a method or get accessor");!function(e,t,n){const r=e.get;switch(n){case At.WEAKMAP:{const t=new WeakMap;e.get=function(){let e=t.get(this);return e||(e=r.apply(this),t.set(this,e)),e};break}case At.REPLACE:e.get=function(){const e=r.apply(this);return Object.defineProperty(this,t,{configurable:!1,enumerable:!1,value:e}),e};break;default:throw new Error(`Unsupported strategy: ${n}`)}}(i,o,n)}}},$t={tile:0,"caip10-link":1,model:2,MID:3,UNLOADABLE:4};class Rt{}function Dt(e){try{return e()}catch(t){return t}}Rt.nameByCode=function(e){const t=Object.entries($t).find((([,t])=>t===e));if(t)return t[0];throw new Error(`No stream type registered for index ${e}`)},Rt.codeByName=function(e){const t=$t[e];if("undefined"!==typeof t)return t;throw new Error(`No stream type registered for name ${e}`)};var Pt=n(29094);function jt(e){const t=h.decode(e),n=h.decode.bytes;return[t,e.subarray(n),n]}function Mt(e){const[t,n]=jt(e);if(0!==(r=t)&&1!==r)throw new Error(`Unknown CID version ${t}`);var r;const[o,i]=jt(n),[,s,a]=jt(i),[u,,l]=jt(s),f=i.subarray(0,a+l+u),d=i.subarray(a+l+u);return[c.k0.create(t,o,(0,Pt.Jx)(f)),d]}function Lt(e,t="StreamRef"){const[n,r]=jt(e);if(206!==n)throw new Error(`Invalid ${t}, does not include streamid codec`);const[o,i]=jt(r),s=Mt(i),[a,c]=s;if(0===c.length)return{kind:"stream-id",type:o,genesis:a};if(1===c.length&&0===c[0])return{kind:"commit-id",type:o,genesis:a,commit:null};{const[e]=Mt(c);return{kind:"commit-id",type:o,genesis:a,commit:e}}}const Ut=/(ceramic:\/\/|\/ceramic\/)?([a-zA-Z0-9]+)(\?commit=([a-zA-Z0-9]+))?/;function Bt(e,t="StreamRef"){const n=Ut.exec(e)||[],r=n[2];if(!r)throw new Error(`Malformed ${t} string: ${e}`);const o=Lt(f.decode(r)),i=n[4];return i?{kind:"commit-id",type:o.type,genesis:o.genesis,commit:Ft(o.genesis,i)}:o}function Ft(e,t=null){if(!t)return null;if("0"===t)return null;const n=function(e){try{return"string"===typeof e?c.k0.parse(e):c.k0.asCID(e)}catch{return null}}(t);if(n)return e.equals(n)?null:n;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}var Vt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},qt=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};class zt extends Error{constructor(e){super(`Invalid StreamID bytes ${f.encode(e)}: contains commit`)}}class Gt extends Error{constructor(e){super(`Invalid StreamID string ${e}: contains commit`)}}function Ht(e){const t=Lt(e,"StreamID");if("stream-id"===t.kind)return new Wt(t.type,t.genesis);throw new zt(e)}function Kt(e){const t=Bt(e,"StreamID");if("stream-id"===t.kind)return new Wt(t.type,t.genesis);throw new Gt(e)}const Jt=Symbol.for("@ceramicnetwork/streamid/StreamID");class Wt{constructor(e,t){if(this._tag=Jt,!e&&0!==e)throw new Error("StreamID constructor: type required");if(!t)throw new Error("StreamID constructor: cid required");this._type="string"===typeof e?Rt.codeByName(e):e,this._cid="string"===typeof t?c.k0.parse(t):t}static isInstance(e){return"object"===typeof e&&"_tag"in e&&e._tag===Jt}static async fromGenesis(e,t){const n=await u.cv({value:t,codec:r,hasher:d.J});return new Wt(e,n.cid)}get type(){return this._type}get typeName(){return Rt.nameByCode(this._type)}get cid(){return this._cid}get bytes(){const e=h.encode(206),t=h.encode(this.type);return(0,kt.zo)([e,t,this.cid.bytes])}get baseID(){return new Wt(this._type,this._cid)}equals(e){return!!Wt.isInstance(e)&&(this.type===e.type&&this.cid.equals(e.cid))}toString(){return f.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[Symbol.for("nodejs.util.inspect.custom")](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}function Qt(e){return"string"===typeof e?Wt.fromString(e):e}function Yt(e){const t={};for(const[n,r]of Object.entries(e))Wt.isInstance(r)?t[n]=r.toString():t[n]=r;return t}Wt.fromBytes=Ht,Wt.fromBytesNoThrow=function(e){return Dt((()=>Ht(e)))},Wt.fromString=Kt,Wt.fromStringNoThrow=function(e){return Dt((()=>Kt(e)))},Vt([Ct(),qt("design:type",String),qt("design:paramtypes",[])],Wt.prototype,"typeName",null),Vt([Ct(),qt("design:type",Uint8Array),qt("design:paramtypes",[])],Wt.prototype,"bytes",null),Vt([Ct(),qt("design:type",Wt),qt("design:paramtypes",[])],Wt.prototype,"baseID",null),Vt([Ct(),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",String)],Wt.prototype,"toString",null),Vt([Ct(),qt("design:type",Function),qt("design:paramtypes",[]),qt("design:returntype",String)],Wt.prototype,"toUrl",null);class Xt extends Error{constructor(){super("Failed to get DID.  Please make sure your Ceramic client has an authenticated DID attached")}}var Zt=function(e,t){return(Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function en(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function tn(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function nn(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function rn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function on(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function sn(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function an(e){return this instanceof an?(this.v=e,this):new an(e)}function cn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof an?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function un(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=rn(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;function ln(e){return"function"===typeof e}function fn(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dn=fn((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function hn(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var pn=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=rn(i),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(ln(c))try{c()}catch(p){o=p instanceof dn?p.errors:[p]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=rn(u),f=l.next();!f.done;f=l.next()){var d=f.value;try{gn(d)}catch(m){o=null!==o&&void 0!==o?o:[],m instanceof dn?o=sn(sn([],on(o)),on(m.errors)):o.push(m)}}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new dn(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)gn(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&hn(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&hn(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),mn=pn.EMPTY;function yn(e){return e instanceof pn||e&&"closed"in e&&ln(e.remove)&&ln(e.add)&&ln(e.unsubscribe)}function gn(e){ln(e)?e():e.unsubscribe()}var vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bn={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=bn.delegate;return(null===o||void 0===o?void 0:o.setTimeout)?o.setTimeout.apply(o,sn([e,t],on(n))):setTimeout.apply(void 0,sn([e,t],on(n)))},clearTimeout:function(e){var t=bn.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function wn(e){bn.setTimeout((function(){var t=vn.onUnhandledError;if(!t)throw e;t(e)}))}function En(){}var _n=Sn("C",void 0,void 0);function Sn(e,t,n){return{kind:e,value:t,error:n}}var Tn=null;function In(e){if(vn.useDeprecatedSynchronousErrorHandling){var t=!Tn;if(t&&(Tn={errorThrown:!1,error:null}),e(),t){var n=Tn,r=n.errorThrown,o=n.error;if(Tn=null,r)throw o}}else e()}var Nn=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,yn(t)&&t.add(n)):n.destination=Rn,n}return en(t,e),t.create=function(e,t,n){return new xn(e,t,n)},t.prototype.next=function(e){this.isStopped?$n(function(e){return Sn("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?$n(Sn("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?$n(_n,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(pn),On=Function.prototype.bind;function kn(e,t){return On.call(e,t)}var An=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){Cn(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){Cn(n)}else Cn(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Cn(t)}},e}(),xn=function(e){function t(t,n,r){var o,i,s=e.call(this)||this;ln(t)||!t?o={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:s&&vn.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&kn(t.next,i),error:t.error&&kn(t.error,i),complete:t.complete&&kn(t.complete,i)}):o=t;return s.destination=new An(o),s}return en(t,e),t}(Nn);function Cn(e){var t;vn.useDeprecatedSynchronousErrorHandling?(t=e,vn.useDeprecatedSynchronousErrorHandling&&Tn&&(Tn.errorThrown=!0,Tn.error=t)):wn(e)}function $n(e,t){var n=vn.onStoppedNotification;n&&bn.setTimeout((function(){return n(e,t)}))}var Rn={closed:!0,next:En,error:function(e){throw e},complete:En},Dn="function"===typeof Symbol&&Symbol.observable||"@@observable";function Pn(e){return e}function jn(e){return 0===e.length?Pn:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Mn=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof Nn||function(e){return e&&ln(e.next)&&ln(e.error)&&ln(e.complete)}(r)&&yn(r)?e:new xn(e,t,n);return In((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Ln(t))((function(t,r){var o=new xn({next:function(t){try{e(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Dn]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return jn(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Ln(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Ln(e){var t;return null!==(t=null!==e&&void 0!==e?e:vn.Promise)&&void 0!==t?t:Promise}var Un=function(e){function t(t,n){return e.call(this)||this}return en(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(pn),Bn={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Bn.delegate;return(null===o||void 0===o?void 0:o.setInterval)?o.setInterval.apply(o,sn([e,t],on(n))):setInterval.apply(void 0,sn([e,t],on(n)))},clearInterval:function(e){var t=Bn.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Fn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return en(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Bn.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Bn.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,hn(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Un),Vn={now:function(){return(Vn.delegate||Date).now()},delegate:void 0},qn=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Vn.now,e}(),zn=new(function(e){function t(t,n){void 0===n&&(n=qn.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return en(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(qn))(Fn);function Gn(e){return e&&ln(e.schedule)}function Hn(e,t,n){void 0===e&&(e=0),void 0===n&&(n=zn);var r=-1;return null!=t&&(Gn(t)?n=t:r=t),new Mn((function(t){var o,i=(o=e)instanceof Date&&!isNaN(o)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule((function(){t.closed||(t.next(s++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function Kn(e){return function(t){if(function(e){return ln(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Jn(e,t,n,r,o){return new Wn(e,t,n,r,o)}var Wn=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return en(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Nn),Qn=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function Yn(e){return ln(null===e||void 0===e?void 0:e.then)}function Xn(e){return ln(e[Dn])}function Zn(e){return Symbol.asyncIterator&&ln(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function er(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var tr,nr="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rr(e){return ln(null===e||void 0===e?void 0:e[nr])}function or(e){return cn(this,arguments,(function(){var t,n,r;return nn(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,an(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,an(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,an(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function ir(e){return ln(null===e||void 0===e?void 0:e.getReader)}function sr(e){if(e instanceof Mn)return e;if(null!=e){if(Xn(e))return o=e,new Mn((function(e){var t=o[Dn]();if(ln(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Qn(e))return r=e,new Mn((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(Yn(e))return n=e,new Mn((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,wn)}));if(Zn(e))return ar(e);if(rr(e))return t=e,new Mn((function(e){var n,r;try{for(var o=rn(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(ir(e))return ar(or(e))}var t,n,r,o;throw er(e)}function ar(e){return new Mn((function(t){(function(e,t){var n,r,o,i;return tn(this,void 0,void 0,(function(){var s,a;return nn(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=un(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}!function(e){e[e.PREFER_CACHE=0]="PREFER_CACHE",e[e.SYNC_ALWAYS=1]="SYNC_ALWAYS",e[e.NEVER_SYNC=2]="NEVER_SYNC",e[e.SYNC_ON_ERROR=3]="SYNC_ON_ERROR"}(tr||(tr={}));var cr,ur,lr=fn((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),fr=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return en(t,e),t.prototype.lift=function(e){var t=new dr(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new lr},t.prototype.next=function(e){var t=this;In((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=rn(t.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(e)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;In((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;In((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?mn:(this.currentObservers=null,i.push(e),new pn((function(){t.currentObservers=null,hn(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new Mn;return e.source=this,e},t.create=function(e,t){return new dr(e,t)},t}(Mn),dr=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return en(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:mn},t}(fr),hr=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return en(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(fr),pr=n(83465);function mr(e){const t=c.k0.asCID(e);if(t)return t;if("string"===typeof e)return c.k0.parse(e);if(e instanceof Uint8Array)return c.k0.decode(e);throw new Error(`${e} cannot be converted to a CID`)}!function(e){e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.PENDING=1]="PENDING",e[e.PROCESSING=2]="PROCESSING",e[e.ANCHORED=3]="ANCHORED",e[e.FAILED=4]="FAILED",e[e.REPLACED=5]="REPLACED"}(cr||(cr={})),function(e){e.DID="did"}(ur||(ur={}));class yr{static streamIdFromState(e){return new Wt(e.type,e.log[0].cid)}static serializeCommit(e){const t=pr(e);return yr.isSignedCommitContainer(t)?(t.jws.link=t.jws.link.toString(),t.linkedBlock=kt.BB(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=kt.BB(t.cacaoBlock,"base64")),t):(yr.isSignedCommit(e)&&(t.link=t.link.toString()),yr.isAnchorCommit(e)&&(t.proof=t.proof.toString()),t.id&&(t.id=t.id.toString()),t.prev&&(t.prev=t.prev.toString()),e.header?.model&&(t.header.model=kt.BB(e.header.model,"base64")),t)}static deserializeCommit(e){const t=pr(e);return yr.isSignedCommitContainer(t)?(t.jws.link=mr(t.jws.link),t.linkedBlock=kt.mL(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=kt.mL(t.cacaoBlock,"base64")),t):(yr.isSignedCommit(t)&&(t.link=mr(t.link)),yr.isAnchorCommit(t)&&(t.proof=mr(t.proof)),t.id&&(t.id=mr(t.id)),t.prev&&(t.prev=mr(t.prev)),t.header?.model&&(t.header.model=kt.mL(t.header.model,"base64")),t)}static serializeState(e){const t=pr(e);return t.log=t.log.map((e=>({...e,cid:e.cid.toString()}))),null!=t.anchorStatus&&(t.anchorStatus=cr[t.anchorStatus]),null!=t.anchorProof&&(t.anchorProof.txHash=t.anchorProof.txHash.toString(),t.anchorProof.root=t.anchorProof.root.toString()),e.metadata?.model&&(t.metadata.model=e.metadata.model.toString()),e.next?.metadata?.model&&(t.next.metadata.model=e.next.metadata.model.toString()),e.metadata?.unique&&0!=e.type&&(t.metadata.unique=kt.BB(t.metadata.unique,"base64")),t.doctype=Rt.nameByCode(t.type),t}static deserializeState(e){if(!e)return null;const t=pr(e);return t.doctype&&(t.type=Rt.codeByName(t.doctype),delete t.doctype),t.log=t.log.map((e=>({...e,cid:mr(e.cid)}))),t.anchorProof&&(t.anchorProof.txHash=mr(t.anchorProof.txHash),t.anchorProof.root=mr(t.anchorProof.root)),t.anchorStatus&&(t.anchorStatus=cr[t.anchorStatus]),e.metadata?.model&&(t.metadata.model=Wt.fromString(e.metadata.model)),e.next?.metadata?.model&&(t.next.metadata.model=Wt.fromString(e.next.metadata.model)),e.metadata?.unique&&0!=e.type&&(t.metadata.unique=kt.mL(e.metadata.unique,"base64")),t}static statesEqual(e,t){return JSON.stringify(yr.serializeState(e))===JSON.stringify(yr.serializeState(t))}static isStateSupersetOf(e,t){if(e.log.length<t.log.length)return!1;for(const n in t.log)if(!e.log[n].cid.equals(t.log[n].cid))return!1;return e.log.length!==t.log.length||e.anchorStatus==t.anchorStatus}static assertCommitLinksToState(e,t){const n=this.streamIdFromState(e);if(t.id&&!t.id.equals(e.log[0].cid))throw new Error(`Invalid genesis CID in commit for StreamID ${n.toString()}. Found: ${t.id}, expected ${e.log[0].cid}`);const r=e.log[e.log.length-1].cid;if(!t.prev.equals(r))throw new Error(`Commit doesn't properly point to previous commit in log. Expected ${r}, found 'prev' ${t.prev}`)}static async convertCommitToSignedCommitContainer(e,t){if(yr.isSignedCommit(e)){return{jws:e,linkedBlock:await t.block.get(mr(e.link))}}return e}static isSignedCommitContainer(e){return e&&void 0!==e.jws}static isSignedCommit(e){return e&&void 0!==e.link}static getCacaoCidFromCommit(e){if(yr.isSignedCommit(e)){const n=(t=e.signatures[0].protected,JSON.parse((0,kt.BB)((0,kt.mL)(t,"base64url"))));if(n.cap){const e=n.cap;return c.k0.parse(e.replace("ipfs://",""))}}var t}static isAnchorCommit(e){return e&&void 0!==e.proof}static isSignedCommitData(e){return e&&void 0!==e.envelope}static isAnchorCommitData(e){return e&&void 0!==e.proof}static commitDataToLogEntry(e,t){const n={cid:e.cid,type:t};return e?.capability?.p?.exp&&(n.expirationTime=Math.floor(Date.parse(e.capability.p.exp)/1e3)),e.timestamp&&(n.timestamp=e.timestamp),n}static checkForCacaoExpiration(e){const t=Math.floor(Date.now()/1e3);for(const n of e.log){const r=n.timestamp??t;if(n.expirationTime&&n.expirationTime<r)throw new Error(`CACAO expired: Commit ${n.cid.toString()} of Stream ${yr.streamIdFromState(e).toString()} has a CACAO that expired at ${n.expirationTime}. Loading the stream with 'sync: SyncOptions.ALWAYS_SYNC' will restore the stream to a usable state, by discarding the invalid commits (this means losing the data from those invalid writes!)`)}}static anchorTimestampFromState(e){for(let t=e.log.length-1;t>=0;t--){const n=e.log[t];if(n.timestamp)return n.timestamp}return null}static validDIDString(e){return"string"==typeof e&&!!e.startsWith("did:")}}class gr extends hr{next(e){const t=this.value;yr.statesEqual(t,e)||super.next(e)}}var vr=n(54098);function br(e,t){return Kn((function(n,r){var o=0;n.subscribe(Jn(r,(function(n){r.next(e.call(t,n,o++))})))}))}function wr(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function Er(e,t,n){return void 0===n&&(n=1/0),ln(t)?Er((function(n,r){return br((function(e,o){return t(n,e,r,o)}))(sr(e(n,r)))}),n):("number"===typeof t&&(n=t),Kn((function(t,r){return function(e,t,n,r,o,i,s,a){var c=[],u=0,l=0,f=!1,d=function(){!f||c.length||u||t.complete()},h=function(e){return u<r?p(e):c.push(e)},p=function(e){i&&t.next(e),u++;var a=!1;sr(n(e,l++)).subscribe(Jn(t,(function(e){null===o||void 0===o||o(e),i?h(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{u--;for(var e=function(){var e=c.shift();s?wr(t,s,(function(){return p(e)})):p(e)};c.length&&u<r;)e();d()}catch(n){t.error(n)}})))};return e.subscribe(Jn(t,h,(function(){f=!0,d()}))),function(){null===a||void 0===a||a()}}(t,r,e,n)})))}function _r(e){return void 0===e&&(e=1/0),Er(Pn,e)}var Sr=new Mn((function(e){return e.complete()}));function Tr(e){return e[e.length-1]}function Ir(e){return Gn(Tr(e))?e.pop():void 0}function Nr(e,t){return"number"===typeof Tr(e)?e.pop():t}function Or(e,t){return void 0===t&&(t=0),Kn((function(n,r){n.subscribe(Jn(r,(function(n){return wr(r,e,(function(){return r.next(n)}),t)}),(function(){return wr(r,e,(function(){return r.complete()}),t)}),(function(n){return wr(r,e,(function(){return r.error(n)}),t)})))}))}function kr(e,t){return void 0===t&&(t=0),Kn((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Ar(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mn((function(n){wr(n,t,(function(){var r=e[Symbol.asyncIterator]();wr(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function xr(e,t){if(null!=e){if(Xn(e))return function(e,t){return sr(e).pipe(kr(t),Or(t))}(e,t);if(Qn(e))return function(e,t){return new Mn((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Yn(e))return function(e,t){return sr(e).pipe(kr(t),Or(t))}(e,t);if(Zn(e))return Ar(e,t);if(rr(e))return function(e,t){return new Mn((function(n){var r;return wr(n,t,(function(){r=e[nr](),wr(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return ln(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if(ir(e))return function(e,t){return Ar(or(e),t)}(e,t)}throw er(e)}function Cr(e,t){return t?xr(e,t):sr(e)}var $r=Array.isArray;function Rr(e){return br((function(t){return function(e,t){return $r(t)?e.apply(void 0,sn([],on(t))):e(t)}(e,t)}))}var Dr=["addListener","removeListener"],Pr=["addEventListener","removeEventListener"],jr=["on","off"];function Mr(e,t,n,r){if(ln(n)&&(r=n,n=void 0),r)return Mr(e,t,n).pipe(Rr(r));var o=on(function(e){return ln(e.addEventListener)&&ln(e.removeEventListener)}(e)?Pr.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return ln(e.addListener)&&ln(e.removeListener)}(e)?Dr.map(Lr(e,t)):function(e){return ln(e.on)&&ln(e.off)}(e)?jr.map(Lr(e,t)):[],2),i=o[0],s=o[1];if(!i&&Qn(e))return Er((function(e){return Mr(e,t,n)}))(sr(e));if(!i)throw new TypeError("Invalid event target");return new Mn((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return s(t)}}))}function Lr(e,t){return function(n){return function(r){return e[n](t,r)}}}var Ur=fn((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function Br(e,t){return Kn((function(n,r){var o=0;n.subscribe(Jn(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function Fr(e){return e<=0?function(){return Sr}:Kn((function(t,n){var r=0;t.subscribe(Jn(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function Vr(e){return Kn((function(t,n){var r=!1;t.subscribe(Jn(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function qr(e){return void 0===e&&(e=zr),Kn((function(t,n){var r=!1;t.subscribe(Jn(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function zr(){return new Ur}function Gr(e){const t=new AbortController;if(0===e.length)throw Error("Need abort signals to create a merged abort signal");return e.some((e=>e.aborted))?(t.abort(),t.signal):(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ir(e),r=Nr(e,1/0),o=e;return o.length?1===o.length?sr(o[0]):_r(r)(Cr(o,n)):Sr}(...e.map((e=>Mr(e,"abort")))).pipe(function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Br((function(t,n){return e(t,n,r)})):Pn,Fr(1),n?Vr(t):qr((function(){return new Ur})))}}()).subscribe((()=>{t.abort()})),t.signal)}class Hr{constructor(e){const t=new AbortController;this.signal=t.signal,e<=0?t.abort():this._subscription=Hn(e).subscribe((()=>{t.abort()}))}clear(){this._subscription?.unsubscribe()}}var Kr;async function Jr(e,t={}){if(t.body){const e={"Content-Type":"application/json",...t.headers};Object.assign(t,{body:"application/json"==e["Content-Type"]?JSON.stringify(t.body):t.body,headers:e})}const n=t.timeout||18e4,r=new Hr(n),o=t.signal?Gr([t.signal,r.signal]):r.signal,i=await async function(e,t){const n=new AbortController,r=()=>{n.abort()};return e.addEventListener("abort",r),e.aborted&&n.abort(),t(n.signal).finally((()=>{e.removeEventListener("abort",r)}))}(o,(n=>vr(String(e),{...t,signal:n,credentials:"include"}))).finally((()=>r.clear()));if(!i.ok){const t=await i.text();throw new Error(`HTTP request to '${e}' failed with status '${i.statusText}': ${t}`)}return i.json()}!function(e){e.GET="GET",e.POST="POST"}(Kr||(Kr={}));class Wr extends Mn{constructor(e,t,n){super((e=>{0===this.state$.observers.length&&(this.periodicSubscription=Hn(0,n).pipe(function(e,t){return Kn((function(n,r){var o=null!==t&&void 0!==t?t:{},i=o.leading,s=void 0===i||i,a=o.trailing,c=void 0!==a&&a,u=!1,l=null,f=null,d=!1,h=function(){null===f||void 0===f||f.unsubscribe(),f=null,c&&(y(),d&&r.complete())},p=function(){f=null,d&&r.complete()},m=function(t){return f=sr(e(t)).subscribe(Jn(r,h,p))},y=function(){if(u){u=!1;var e=l;l=null,r.next(e),!d&&m(e)}};n.subscribe(Jn(r,(function(e){u=!0,l=e,(!f||f.closed)&&(s?y():m(e))}),(function(){d=!0,(!(c&&u&&f)||f.closed)&&r.complete()})))}))}((()=>this._syncState(this.id,{sync:tr.PREFER_CACHE})))).subscribe()),this.state$.subscribe(e).add((()=>{0===this.state$.observers.length&&this.periodicSubscription?.unsubscribe()}))})),this.state$=new gr(e),this._apiUrl=new URL(t)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){const n=await Wr._load(e,this._apiUrl,t);this.state$.next(yr.deserializeState(n))}get id(){return new Wt(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,n,r,o){const i=new URL("./streams",e),{state:s}=await Jr(i,{method:"post",body:{type:t,genesis:yr.serializeCommit(n),opts:r}});return new Wr(yr.deserializeState(s),e,o)}static async applyCommit(e,t,n,r,o){const i=new URL("./commits",e),{state:s}=await Jr(i,{method:"post",body:{streamId:t.toString(),commit:yr.serializeCommit(n),opts:r}});return new Wr(yr.deserializeState(s),e,o)}static async _load(e,t,n){const r=function(e,t){const n=new URL(e);for(const[r,o]of Object.entries(t))Wt.isInstance(o)?n.searchParams.set(r,o.toString()):"object"==typeof o?n.searchParams.set(r,JSON.stringify(o)):n.searchParams.set(r,o);return n}(new URL(`./streams/${e}`,t),n),{state:o}=await Jr(r);return o}static async load(e,t,n,r){const o=await Wr._load(e,t,r);return new Wr(yr.deserializeState(o),t,n)}static async loadStreamCommits(e,t){const n=new URL(`./commits/${e}`,t),{commits:r}=await Jr(n);return r.map((e=>({cid:e.cid,value:yr.deserializeCommit(e.value)})))}complete(){this.state$.complete()}}var Qr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yr=Object.prototype.hasOwnProperty;function Xr(e,t){return Yr.call(e,t)}function Zr(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)Xr(e,o)&&r.push(o);return r}function eo(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function to(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function no(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ro(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function oo(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(oo(e[t]))return!0}else if("object"===typeof e)for(var r=Zr(e),o=r.length,i=0;i<o;i++)if(oo(e[r[i]]))return!0;return!1}function io(e,t){var n=[e];for(var r in t){var o="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof o&&n.push(r+": "+o)}return n.join("\n")}var so=function(e){function t(t,n,r,o,i){var s=this.constructor,a=e.call(this,io(t,{name:n,index:r,operation:o,tree:i}))||this;return a.name=n,a.index=r,a.operation=o,a.tree=i,Object.setPrototypeOf(a,s.prototype),a.message=io(t,{name:n,index:r,operation:o,tree:i}),a}return Qr(t,e),t}(Error),ao=so,co=eo,uo={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=fo(n,this.path);r&&(r=eo(r));var o=ho(n,{op:"remove",path:this.from}).removed;return ho(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=fo(n,this.from);return ho(n,{op:"add",path:this.path,value:eo(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:vo(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},lo={add:function(e,t,n){return to(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:uo.move,copy:uo.copy,test:uo.test,_get:uo._get};function fo(e,t){if(""==t)return e;var n={op:"_get",path:t};return ho(e,n),n.value}function ho(e,t,n,r,o,i){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===i&&(i=0),n&&("function"==typeof n?n(t,0,e,t.path):yo(t,0)),""===t.path){var s={newDocument:e};if("add"===t.op)return s.newDocument=t.value,s;if("replace"===t.op)return s.newDocument=t.value,s.removed=e,s;if("move"===t.op||"copy"===t.op)return s.newDocument=fo(e,t.from),"move"===t.op&&(s.removed=e),s;if("test"===t.op){if(s.test=vo(e,t.value),!1===s.test)throw new ao("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s.newDocument=e,s}if("remove"===t.op)return s.removed=e,s.newDocument=null,s;if("_get"===t.op)return t.value=e,s;if(n)throw new ao("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return s}r||(e=eo(e));var a=(t.path||"").split("/"),c=e,u=1,l=a.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:yo;;){if((d=a[u])&&-1!=d.indexOf("~")&&(d=ro(d)),o&&("__proto__"==d||"prototype"==d&&u>0&&"constructor"==a[u-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===c[d]?f=a.slice(0,u).join("/"):u==l-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),u++,Array.isArray(c)){if("-"===d)d=c.length;else{if(n&&!to(d))throw new ao("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);to(d)&&(d=~~d)}if(u>=l){if(n&&"add"===t.op&&d>c.length)throw new ao("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(s=lo[t.op].call(t,c,d,e)).test)throw new ao("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s}}else if(u>=l){if(!1===(s=uo[t.op].call(t,c,d,e)).test)throw new ao("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s}if(c=c[d],n&&u<l&&(!c||"object"!==typeof c))throw new ao("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}function po(e,t,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),n&&!Array.isArray(t))throw new ao("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=eo(e));for(var i=new Array(t.length),s=0,a=t.length;s<a;s++)i[s]=ho(e,t[s],n,!0,o,s),e=i[s].newDocument;return i.newDocument=e,i}function mo(e,t,n){var r=ho(e,t);if(!1===r.test)throw new ao("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function yo(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new ao("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!uo[e.op])throw new ao("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new ao("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new ao('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new ao("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new ao("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&oo(e.value))throw new ao("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var o=e.path.split("/").length,i=r.split("/").length;if(o!==i+1&&o!==i)throw new ao("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new ao("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var s=go([{op:"_get",path:e.from,value:void 0}],n);if(s&&"OPERATION_PATH_UNRESOLVABLE"===s.name)throw new ao("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function go(e,t,n){try{if(!Array.isArray(e))throw new ao("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)po(eo(t),eo(e),n||!0);else{n=n||yo;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(o){if(o instanceof ao)return o;throw o}}function vo(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,o,i=Array.isArray(e),s=Array.isArray(t);if(i&&s){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!vo(e[n],t[n]))return!1;return!0}if(i!=s)return!1;var a=Object.keys(e);if((r=a.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(a[n]))return!1;for(n=r;0!==n--;)if(!vo(e[o=a[n]],t[o]))return!1;return!0}return e!==e&&t!==t}var bo=new WeakMap,wo=function(e){this.observers=new Map,this.obj=e},Eo=function(e,t){this.callback=e,this.observer=t};function _o(e,t){t.unobserve()}function So(e,t){var n,r=function(e){return bo.get(e)}(e);if(r){var o=function(e,t){return e.observers.get(t)}(r,t);n=o&&o.observer}else r=new wo(e),bo.set(e,r);if(n)return n;if(n={},r.value=eo(e),t){n.callback=t,n.next=null;var i=function(){To(n)},s=function(){clearTimeout(n.next),n.next=setTimeout(i)};"undefined"!==typeof window&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return n.patches=[],n.object=e,n.unobserve=function(){To(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},r.observers.set(t,new Eo(t,n)),n}function To(e,t){void 0===t&&(t=!1);var n=bo.get(e.object);Io(n.value,e.object,e.patches,"",t),e.patches.length&&po(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Io(e,t,n,r,o){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var i=Zr(t),s=Zr(e),a=!1,c=s.length-1;c>=0;c--){var u=e[f=s[c]];if(!Xr(t,f)||void 0===t[f]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:r+"/"+no(f),value:eo(u)}),n.push({op:"remove",path:r+"/"+no(f)}),a=!0):(o&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var l=t[f];"object"==typeof u&&null!=u&&"object"==typeof l&&null!=l&&Array.isArray(u)===Array.isArray(l)?Io(u,l,n,r+"/"+no(f),o):u!==l&&(!0,o&&n.push({op:"test",path:r+"/"+no(f),value:eo(u)}),n.push({op:"replace",path:r+"/"+no(f),value:eo(l)}))}}if(a||i.length!=s.length)for(c=0;c<i.length;c++){var f;Xr(e,f=i[c])||void 0===t[f]||n.push({op:"add",path:r+"/"+no(f),value:eo(t[f])})}}}function No(e,t,n){void 0===n&&(n=!1);var r=[];return Io(e,t,r,"",n),r}var Oo=Object.assign({},o,i,{JsonPatchError:so,deepClone:eo,escapePathComponent:no,unescapePathComponent:ro});const ko=["string","number","bigint","symbol"],Ao=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function xo(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(ko.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Ao.includes(t))return t;return}(e);return n||"Object"}class Co{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Co.uint=new Co(0,"uint",!0),Co.negint=new Co(1,"negint",!0),Co.bytes=new Co(2,"bytes",!0),Co.string=new Co(3,"string",!0),Co.array=new Co(4,"array",!1),Co.map=new Co(5,"map",!1),Co.tag=new Co(6,"tag",!1),Co.float=new Co(7,"float",!0),Co.false=new Co(7,"false",!0),Co.true=new Co(7,"true",!0),Co.null=new Co(7,"null",!0),Co.undefined=new Co(7,"undefined",!0),Co.break=new Co(7,"break",!0);class $o{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Ro=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,Do=new TextDecoder,Po=new TextEncoder;function jo(e){return Ro&&globalThis.Buffer.isBuffer(e)}function Mo(e){return e instanceof Uint8Array?jo(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Lo=Ro?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):Go(e,t,n):(e,t,n)=>n-t>64?Do.decode(e.subarray(t,n)):Go(e,t,n),Uo=Ro?e=>e.length>64?globalThis.Buffer.from(e):zo(e):e=>e.length>64?Po.encode(e):zo(e),Bo=e=>Uint8Array.from(e),Fo=Ro?(e,t,n)=>jo(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),Vo=Ro?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),Mo(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},qo=Ro?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function zo(e,t=1/0){let n;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Go(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=Ho)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Ho));return n}(r)}const Ho=4096;class Ko{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=qo(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Fo(n,0,this.cursor)}else t=Vo(this.chunks,this.cursor);return e&&this.reset(),t}}const Jo=[];function Wo(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}Jo[23]=1,Jo[24]=2,Jo[25]=3,Jo[26]=5,Jo[27]=9;const Qo=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Yo(e,t,n){Wo(e,t,1);const r=e[t];if(!0===n.strict&&r<Qo[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Xo(e,t,n){Wo(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<Qo[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Zo(e,t,n){Wo(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<Qo[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function ei(e,t,n){Wo(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<Qo[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function ti(e,t){return ni(e,0,t.value)}function ni(e,t,n){if(n<Qo[0]){const r=Number(n);e.push([t|r])}else if(n<Qo[1]){const r=Number(n);e.push([24|t,r])}else if(n<Qo[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<Qo[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<Qo[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}ti.encodedSize=function(e){return ni.encodedSize(e.value)},ni.encodedSize=function(e){return e<Qo[0]?1:e<Qo[1]?2:e<Qo[2]?3:e<Qo[3]?5:9},ti.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const ri=BigInt(-1),oi=BigInt(1);function ii(e,t){const n=t.value,r="bigint"===typeof n?n*ri-oi:-1*n-1;ni(e,t.type.majorEncoded,r)}function si(e,t,n,r){Wo(e,t,n+r);const o=Fo(e,t+n,t+n+r);return new $o(Co.bytes,o,n+r)}function ai(e,t,n,r){return si(e,t,1,n)}function ci(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Co.string?Uo(e.value):e.value),e.encodedBytes}function ui(e,t){const n=ci(t);ni(e,t.type.majorEncoded,n.length),e.push(n)}function li(e,t,n,r,o){const i=n+r;Wo(e,t,i);const s=new $o(Co.string,Lo(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=Fo(e,t+n,t+i)),s}function fi(e,t,n,r){return li(e,t,1,n,r)}ii.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*ri-oi:-1*t-1;return n<Qo[0]?1:n<Qo[1]?2:n<Qo[2]?3:n<Qo[3]?5:9},ii.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},ui.encodedSize=function(e){const t=ci(e);return ni.encodedSize(t.length)+t.length},ui.compareTokens=function(e,t){return n=ci(e),r=ci(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(jo(e)&&jo(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const di=ui;function hi(e,t,n,r){return new $o(Co.array,r,n)}function pi(e,t,n,r){return hi(0,0,1,n)}function mi(e,t){ni(e,Co.array.majorEncoded,t.value)}function yi(e,t,n,r){return new $o(Co.map,r,n)}function gi(e,t,n,r){return yi(0,0,1,n)}function vi(e,t){ni(e,Co.map.majorEncoded,t.value)}function bi(e,t,n,r){return new $o(Co.tag,n,1)}function wi(e,t){ni(e,Co.tag.majorEncoded,t.value)}mi.compareTokens=ti.compareTokens,mi.encodedSize=function(e){return ni.encodedSize(e.value)},vi.compareTokens=ti.compareTokens,vi.encodedSize=function(e){return ni.encodedSize(e.value)},wi.compareTokens=ti.compareTokens,wi.encodedSize=function(e){return ni.encodedSize(e.value)};function Ei(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new $o(Co.float,e,t)}function _i(e,t,n){const r=t.value;if(!1===r)e.push([20|Co.float.majorEncoded]);else if(!0===r)e.push([21|Co.float.majorEncoded]);else if(null===r)e.push([22|Co.float.majorEncoded]);else if(void 0===r)e.push([23|Co.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(Ni(r),t=Oi(Ii,1),r===t||Number.isNaN(r)?(Ii[0]=249,e.push(Ii.slice(0,3)),i=!0):(ki(r),t=Ai(Ii,1),r===t&&(Ii[0]=250,e.push(Ii.slice(0,5)),i=!0))),i||(o=r,Ti.setFloat64(0,o,!1),t=xi(Ii,1),Ii[0]=251,e.push(Ii.slice(0,9)))}var o}_i.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){Ni(n);let e=Oi(Ii,1);if(n===e||Number.isNaN(n))return 3;if(ki(n),e=Ai(Ii,1),n===e)return 5}return 9};const Si=new ArrayBuffer(9),Ti=new DataView(Si,1),Ii=new Uint8Array(Si,0);function Ni(e){if(e===1/0)Ti.setUint16(0,31744,!1);else if(e===-1/0)Ti.setUint16(0,64512,!1);else if(Number.isNaN(e))Ti.setUint16(0,32256,!1);else{Ti.setFloat32(0,e);const t=Ti.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)Ti.setUint16(0,31744,!1);else if(0===n)Ti.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?Ti.setUint16(0,0):e<-14?Ti.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Ti.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function Oi(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function ki(e){Ti.setFloat32(0,e,!1)}function Ai(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function xi(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function Ci(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function $i(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}_i.compareTokens=ti.compareTokens;const Ri=[];for(let TE=0;TE<=23;TE++)Ri[TE]=Ci;Ri[24]=function(e,t,n,r){return new $o(Co.uint,Yo(e,t+1,r),2)},Ri[25]=function(e,t,n,r){return new $o(Co.uint,Xo(e,t+1,r),3)},Ri[26]=function(e,t,n,r){return new $o(Co.uint,Zo(e,t+1,r),5)},Ri[27]=function(e,t,n,r){return new $o(Co.uint,ei(e,t+1,r),9)},Ri[28]=Ci,Ri[29]=Ci,Ri[30]=Ci,Ri[31]=Ci;for(let TE=32;TE<=55;TE++)Ri[TE]=Ci;Ri[56]=function(e,t,n,r){return new $o(Co.negint,-1-Yo(e,t+1,r),2)},Ri[57]=function(e,t,n,r){return new $o(Co.negint,-1-Xo(e,t+1,r),3)},Ri[58]=function(e,t,n,r){return new $o(Co.negint,-1-Zo(e,t+1,r),5)},Ri[59]=function(e,t,n,r){const o=ei(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new $o(Co.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new $o(Co.negint,ri-BigInt(o),9)},Ri[60]=Ci,Ri[61]=Ci,Ri[62]=Ci,Ri[63]=Ci;for(let TE=64;TE<=87;TE++)Ri[TE]=ai;Ri[88]=function(e,t,n,r){return si(e,t,2,Yo(e,t+1,r))},Ri[89]=function(e,t,n,r){return si(e,t,3,Xo(e,t+1,r))},Ri[90]=function(e,t,n,r){return si(e,t,5,Zo(e,t+1,r))},Ri[91]=function(e,t,n,r){const o=ei(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return si(e,t,9,o)},Ri[92]=Ci,Ri[93]=Ci,Ri[94]=Ci,Ri[95]=$i("indefinite length bytes/strings are not supported");for(let TE=96;TE<=119;TE++)Ri[TE]=fi;Ri[120]=function(e,t,n,r){return li(e,t,2,Yo(e,t+1,r),r)},Ri[121]=function(e,t,n,r){return li(e,t,3,Xo(e,t+1,r),r)},Ri[122]=function(e,t,n,r){return li(e,t,5,Zo(e,t+1,r),r)},Ri[123]=function(e,t,n,r){const o=ei(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return li(e,t,9,o,r)},Ri[124]=Ci,Ri[125]=Ci,Ri[126]=Ci,Ri[127]=$i("indefinite length bytes/strings are not supported");for(let TE=128;TE<=151;TE++)Ri[TE]=pi;Ri[152]=function(e,t,n,r){return hi(0,0,2,Yo(e,t+1,r))},Ri[153]=function(e,t,n,r){return hi(0,0,3,Xo(e,t+1,r))},Ri[154]=function(e,t,n,r){return hi(0,0,5,Zo(e,t+1,r))},Ri[155]=function(e,t,n,r){const o=ei(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return hi(0,0,9,o)},Ri[156]=Ci,Ri[157]=Ci,Ri[158]=Ci,Ri[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return hi(0,0,1,1/0)};for(let TE=160;TE<=183;TE++)Ri[TE]=gi;Ri[184]=function(e,t,n,r){return yi(0,0,2,Yo(e,t+1,r))},Ri[185]=function(e,t,n,r){return yi(0,0,3,Xo(e,t+1,r))},Ri[186]=function(e,t,n,r){return yi(0,0,5,Zo(e,t+1,r))},Ri[187]=function(e,t,n,r){const o=ei(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return yi(0,0,9,o)},Ri[188]=Ci,Ri[189]=Ci,Ri[190]=Ci,Ri[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return yi(0,0,1,1/0)};for(let TE=192;TE<=215;TE++)Ri[TE]=bi;Ri[216]=function(e,t,n,r){return new $o(Co.tag,Yo(e,t+1,r),2)},Ri[217]=function(e,t,n,r){return new $o(Co.tag,Xo(e,t+1,r),3)},Ri[218]=function(e,t,n,r){return new $o(Co.tag,Zo(e,t+1,r),5)},Ri[219]=function(e,t,n,r){return new $o(Co.tag,ei(e,t+1,r),9)},Ri[220]=Ci,Ri[221]=Ci,Ri[222]=Ci,Ri[223]=Ci;for(let TE=224;TE<=243;TE++)Ri[TE]=$i("simple values are not supported");Ri[244]=Ci,Ri[245]=Ci,Ri[246]=Ci,Ri[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new $o(Co.null,null,1):new $o(Co.undefined,void 0,1)},Ri[248]=$i("simple values are not supported"),Ri[249]=function(e,t,n,r){return Ei(Oi(e,t+1),3,r)},Ri[250]=function(e,t,n,r){return Ei(Ai(e,t+1),5,r)},Ri[251]=function(e,t,n,r){return Ei(xi(e,t+1),9,r)},Ri[252]=Ci,Ri[253]=Ci,Ri[254]=Ci,Ri[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new $o(Co.break,void 0,1)};const Di=[];for(let TE=0;TE<24;TE++)Di[TE]=new $o(Co.uint,TE,1);for(let TE=-1;TE>=-24;TE--)Di[31-TE]=new $o(Co.negint,TE,1);Di[64]=new $o(Co.bytes,new Uint8Array(0),1),Di[96]=new $o(Co.string,"",1),Di[128]=new $o(Co.array,0,1),Di[160]=new $o(Co.map,0,1),Di[244]=new $o(Co.false,!1,1),Di[245]=new $o(Co.true,!0,1),Di[246]=new $o(Co.null,null,1);const Pi={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=ji[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case Co.false:return Bo([244]);case Co.true:return Bo([245]);case Co.null:return Bo([246]);case Co.bytes:return e.value.length?void 0:Bo([64]);case Co.string:return""===e.value?Bo([96]):void 0;case Co.array:return 0===e.value?Bo([128]):void 0;case Co.map:return 0===e.value?Bo([160]):void 0;case Co.uint:return e.value<24?Bo([Number(e.value)]):void 0;case Co.negint:if(e.value>=-24)return Bo([31-Number(e.value)])}}};const ji=function(){const e=[];return e[Co.uint.major]=ti,e[Co.negint.major]=ii,e[Co.bytes.major]=ui,e[Co.string.major]=di,e[Co.array.major]=mi,e[Co.map.major]=vi,e[Co.tag.major]=wi,e[Co.float.major]=_i,e}(),Mi=new Ko;class Li{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Li(t,e)}}const Ui={null:new $o(Co.null,null),undefined:new $o(Co.undefined,void 0),true:new $o(Co.true,!0),false:new $o(Co.false,!1),emptyArray:new $o(Co.array,0),emptyMap:new $o(Co.map,0)},Bi={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new $o(e>=0?Co.uint:Co.negint,e):new $o(Co.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new $o(Co.uint,e):new $o(Co.negint,e),Uint8Array:(e,t,n,r)=>new $o(Co.bytes,e),string:(e,t,n,r)=>new $o(Co.string,e),boolean:(e,t,n,r)=>e?Ui.true:Ui.false,null:(e,t,n,r)=>Ui.null,undefined:(e,t,n,r)=>Ui.undefined,ArrayBuffer:(e,t,n,r)=>new $o(Co.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new $o(Co.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[Ui.emptyArray,new $o(Co.break)]:Ui.emptyArray;r=Li.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=Fi(s,n,r);return n.addBreakTokens?[new $o(Co.array,e.length),o,new $o(Co.break)]:[new $o(Co.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[Ui.emptyMap,new $o(Co.break)]:Ui.emptyMap;r=Li.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[Fi(u,n,r),Fi(o?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new $o(Co.map,s),a,new $o(Co.break)]:[new $o(Co.map,s),a]}};Bi.Map=Bi.Object,Bi.Buffer=Bi.Uint8Array;for(const TE of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Bi[`${TE}Array`]=Bi.DataView;function Fi(e,t={},n){const r=xo(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||Bi[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=Bi[r];if(!i)throw new Error(`CBOR encode error: unsupported type: ${r}`);return i(e,r,t,n)}function Vi(e,t,n,r){if(Array.isArray(t))for(const o of t)Vi(e,o,n,r);else n[t.type.major](e,t,r)}function qi(e,t,n){const r=Fi(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new Ko(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return Mo(t.chunks[0])}}return Mi.reset(),Vi(Mi,r,t,n),Mi.toBytes(!0)}Symbol.for("DONE"),Symbol.for("BREAK");var zi=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=Gi;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},Gi=Math.pow(2,31);var Hi=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var Ki=Math.pow(2,7),Ji=Math.pow(2,14),Wi=Math.pow(2,21),Qi=Math.pow(2,28),Yi=Math.pow(2,35),Xi=Math.pow(2,42),Zi=Math.pow(2,49),es=Math.pow(2,56),ts=Math.pow(2,63),ns={encode:zi,decode:Hi,encodingLength:function(e){return e<Ki?1:e<Ji?2:e<Wi?3:e<Qi?4:e<Yi?5:e<Xi?6:e<Zi?7:e<es?8:e<ts?9:10}};const rs=(e,t=0)=>[ns.decode(e,t),ns.decode.bytes],os=(e,t,n=0)=>(ns.encode(e,t,n),t),is=e=>ns.encodingLength(e),ss=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class as{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var cs=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class us{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ls{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ds(this,e)}}class fs{constructor(e){this.decoders=e}or(e){return ds(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ds=(e,t)=>new fs({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class hs{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new us(e,t,n),this.decoder=new ls(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ps=({name:e,prefix:t,encode:n,decode:r})=>new hs(e,t,n,r),ms=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=cs(n,t);return ps({prefix:e,name:t,encode:r,decode:e=>ss(o(e))})},ys=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ps({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),gs=ms({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vs=(ms({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ys({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));ys({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ys({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ys({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ys({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ys({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ys({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ys({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ys({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class bs{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ks,byteLength:ks,code:Os,version:Os,multihash:Os,bytes:Os,_baseCache:ks,asCID:ks})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==Ss)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Ts)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return bs.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=is(e),o=r+is(n),i=new Uint8Array(o+n);return os(e,i,0),os(n,i,r),i.set(t,o),new as(e,n,t,i)})(e,t);return bs.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return Es(t,r,e||gs.encoder);default:return _s(t,r,e||vs.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return As(/^0\.0/,xs),!(!e||!e[Ns]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof bs)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new bs(t,n,r,o||Is(t,n,r.bytes))}if(null!=e&&!0===e[Ns]){const{version:t,multihash:n,code:r}=e,o=(e=>{const t=ss(e),[n,r]=rs(t),[o,i]=rs(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new as(n,o,s,t)})(n);return bs.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Ss)throw new Error(`Version 0 CID must use dag-pb (code: ${Ss}) block encoding`);return new bs(e,t,n,n.bytes);case 1:{const r=Is(e,t,n.bytes);return new bs(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return bs.create(0,Ss,e)}static createV1(e,t){return bs.create(1,e,t)}static decode(e){const[t,n]=bs.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=bs.inspectBytes(e),n=t.size-t.multihashSize,r=ss(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new as(t.multihashCode,t.digestSize,o,r);return[0===t.version?bs.createV0(i):bs.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=rs(e.subarray(t));return t+=r,n};let r=n(),o=Ss;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=ws(e,t),o=bs.decode(r);return o._baseCache.set(n,e),o}}const ws=(e,t)=>{switch(e[0]){case"Q":{const n=t||gs;return[gs.prefix,n.decode(`${gs.prefix}${e}`)]}case gs.prefix:{const n=t||gs;return[gs.prefix,n.decode(e)]}case vs.prefix:{const n=t||vs;return[vs.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Es=(e,t,n)=>{const{prefix:r}=n;if(r!==gs.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},_s=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},Ss=112,Ts=18,Is=(e,t,n)=>{const r=is(e),o=r+is(t),i=new Uint8Array(o+n.byteLength);return os(e,i,0),os(t,i,r),i.set(n,o),i},Ns=Symbol.for("@ipld/js-cid/CID"),Os={writable:!1,configurable:!1,enumerable:!0},ks={writable:!1,enumerable:!1,configurable:!1},As=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},xs="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const Cs={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=bs.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new $o(Co.tag,42),new $o(Co.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const $s={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};$s.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return bs.decode(e.subarray(1))};const Rs=e=>{return t=e,n=Cs,n=Object.assign({},Pi,n),qi(t,ji,n);var t,n};var Ds,Ps,js,Ms=n(31416),Ls=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Us=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},Bs=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},Fs=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Vs extends Error{constructor(e){super(`Error while parsing CommitID from bytes ${f.encode(e)}: no commit information provided`)}}class qs extends Error{constructor(e){super(`Error while parsing CommitID from string ${e}: no commit information provided`)}}function zs(e){const t=Lt(e,"CommitID");if("commit-id"===t.kind)return new Ks(t.type,t.genesis,t.commit);throw new Vs(e)}function Gs(e){const t=Bt(e,"CommitID");if("commit-id"===t.kind)return new Ks(t.type,t.genesis,t.commit);throw new qs(e)}const Hs=Symbol.for("@ceramicnetwork/streamid/CommitID");class Ks{constructor(e,t,n=null){if(this._tag=Hs,Ds.set(this,void 0),Ps.set(this,void 0),js.set(this,void 0),!e&&0!==e)throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");Bs(this,Ds,"string"===typeof e?Rt.codeByName(e):e,"f"),Bs(this,Ps,"string"===typeof t?c.k0.parse(t):t,"f"),Bs(this,js,Ft(Fs(this,Ps,"f"),n),"f")}static isInstance(e){return"object"===typeof e&&"_tag"in e&&e._tag===Hs}get baseID(){return new Wt(Fs(this,Ds,"f"),Fs(this,Ps,"f"))}get type(){return Fs(this,Ds,"f")}get typeName(){return Rt.nameByCode(Fs(this,Ds,"f"))}get cid(){return Fs(this,Ps,"f")}get commit(){return Fs(this,js,"f")||Fs(this,Ps,"f")}get bytes(){const e=h.encode(206),t=h.encode(this.type),n=Fs(this,js,"f")?.bytes||new Uint8Array([0]);return(0,kt.zo)([e,t,this.cid.bytes,n])}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return f.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[(Ds=new WeakMap,Ps=new WeakMap,js=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}var Js,Ws,Qs;Ks.fromBytes=zs,Ks.fromBytesNoThrow=function(e){return Dt((()=>zs(e)))},Ks.fromString=Gs,Ks.fromStringNoThrow=function(e){return Dt((()=>Gs(e)))},Ks.make=function(e,t){return new Ks(e.type,e.cid,t)},Ls([Ct(),Us("design:type",Wt),Us("design:paramtypes",[])],Ks.prototype,"baseID",null),Ls([Ct(),Us("design:type",String),Us("design:paramtypes",[])],Ks.prototype,"typeName",null),Ls([Ct(),Us("design:type",c.k0),Us("design:paramtypes",[])],Ks.prototype,"commit",null),Ls([Ct(),Us("design:type",Uint8Array),Us("design:paramtypes",[])],Ks.prototype,"bytes",null),Ls([Ct(),Us("design:type",Function),Us("design:paramtypes",[]),Us("design:returntype",String)],Ks.prototype,"toString",null),Ls([Ct(),Us("design:type",Function),Us("design:paramtypes",[]),Us("design:returntype",String)],Ks.prototype,"toUrl",null),function(e){e[e.GENESIS=0]="GENESIS",e[e.PARTIAL=1]="PARTIAL",e[e.SIGNED=2]="SIGNED"}(Js||(Js={})),function(e){e[e.GENESIS=0]="GENESIS",e[e.SIGNED=1]="SIGNED",e[e.ANCHOR=2]="ANCHOR"}(Ws||(Ws={}));class Ys extends Mn{constructor(e,t){super((t=>{e.subscribe(t)})),this.state$=e,this._context=t}get id(){return new Wt(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get content(){const{next:e,content:t}=this.state$.value;return pr(e?.content??t)}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return Ks.make(this.id,this.tip)}get allCommitIds(){return this.state$.value.log.map((({cid:e})=>Ks.make(this.id,e)))}get anchorCommitIds(){return this.state$.value.log.filter((({type:e})=>e===Ws.ANCHOR)).map((({cid:e})=>Ks.make(this.id,e)))}get state(){return pr(this.state$.value)}async sync(e={}){e={sync:tr.PREFER_CACHE,...e};const t=await this.api.loadStream(this.id,e);this.state$.next(t.state)}async requestAnchor(){return this.api.requestAnchor(this.id)}}!function(e){function t(e){const t=Lt(e);switch(t.kind){case"commit-id":return new Ks(t.type,t.genesis,t.commit);case"stream-id":return new Wt(t.type,t.genesis);default:throw new Error(`Malformed StreamRef bytes: ${f.encode(e)}`)}}function n(e){const t=Bt(e);switch(t.kind){case"commit-id":return new Ks(t.type,t.genesis,t.commit);case"stream-id":return new Wt(t.type,t.genesis);default:throw new Error(`Malformed StreamRef string: ${e}`)}}e.fromBytes=t,e.fromString=n,e.from=function(e){if(Wt.isInstance(e))return e;if(Ks.isInstance(e))return e;if(e instanceof Uint8Array)return t(e);if("string"===typeof e)return n(e);throw new Error(`Can not build CommitID or StreamID from ${JSON.stringify(e)}`)}}(Qs||(Qs={}));var Xs,Zs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const ea={anchor:!0,publish:!0,sync:tr.PREFER_CACHE},ta={sync:tr.PREFER_CACHE},na={anchor:!0,publish:!0};function ra(e,t){if("string"===typeof e?.schema)try{Ks.fromString(e.schema)}catch{throw new Error("Schema must be a CommitID")}const n={controllers:e?.controllers,family:e?.family,schema:e?.schema?.toString(),tags:e?.tags};if(t)e?.deterministic||(n.unique=kt.BB((0,Ms.randomBytes)(12),"base64")),e?.forbidControllerChange&&(n.forbidControllerChange=!0);else{if(void 0!==e?.deterministic||void 0!==e?.unique)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if(void 0!==e?.forbidControllerChange)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(n).forEach((e=>void 0===n[e]&&delete n[e])),n}async function oa(e){if(!e.did)throw new Error("No DID provided");return e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`)),e.did}async function ia(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let sa=Xs=class extends Ys{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){const{next:e,metadata:t}=this.state$.value;return pr(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async create(e,t,n,r={}){r={...ea,...r},n?.deterministic||void 0!=r.syncTimeoutSeconds||(r.syncTimeoutSeconds=0);const o=r.asDID?{did:r.asDID}:e,i=await Xs.makeGenesis(o,t,n);return e.createStreamFromGenesis(Xs.STREAM_TYPE_ID,i,r)}static async createFromGenesis(e,t,n={}){n={...ea,...n},t.header?.unique&&void 0==n.syncTimeoutSeconds&&(n.syncTimeoutSeconds=0);const r=t.data?await Xs._signDagJWS(e,t):t;return e.createStreamFromGenesis(Xs.STREAM_TYPE_ID,r,n)}static async deterministic(e,t,n={}){if(n={...ea,...n},null==(t={...t,deterministic:!0}).family&&null==t.tags)throw new Error("Family and/or tags are required when creating a deterministic tile document");const r=await Xs.makeGenesis(e,null,t);return e.createStreamFromGenesis(Xs.STREAM_TYPE_ID,r,n)}static async load(e,t,n={}){n={...ta,...n};const r=Qs.from(t);if(r.type!=Xs.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${Xs.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}async update(e,t,n={}){const r=(n={...na,...n}).asDID?{did:n.asDID}:this.api,o=await this.makeCommit(r,e,t),i=await this.api.applyCommit(this.id,o,n);this.state$.next(i.state)}async patch(e,t={}){t={...na,...t};const n={header:ra(this.metadata,!1),data:e,prev:this.tip,id:this.id.cid},r=await Xs._signDagJWS(this.api,n),o=await this.api.applyCommit(this.id,r,t);this.state$.next(o.state)}makeReadOnly(){this.update=ia,this.patch=ia,this.sync=ia,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}async makeCommit(e,t,n){const r=await this._makeRawCommit(t,n);return Xs._signDagJWS(e,r)}async _makeRawCommit(e,t){t||(t={});const n=ra(t,!1);if(null==e&&(e=this.content),n.controllers){if(1!==n.controllers.length)throw new Error("Exactly one controller must be specified");if(!n.controllers[0])throw new Error("Controller cannot be updated to an undefined value.")}const r=Oo.compare(this.content,e),o=this.state.log[0];return{header:n,data:r,prev:this.tip,id:o.cid}}static async makeGenesis(e,t,n){if(n||(n={}),!n.controllers||0===n.controllers.length){if(!e.did)throw new Error("No controllers specified");{const t=await oa(e);n.controllers=[t.hasParent?t.parent:t.id]}}if(1!==n.controllers?.length)throw new Error("Exactly one controller must be specified");const r=ra(n,!0);if(n?.deterministic&&t)throw new Error("Initial content must be null when creating a deterministic Tile document");if(null==t){const e={header:r};return Rs(e),e}const o={data:t,header:r};return Xs._signDagJWS(e,o)}static async _signDagJWS(e,t){return(await oa(e)).createDagJWS(t)}};sa.STREAM_TYPE_NAME="tile",sa.STREAM_TYPE_ID=0,sa=Xs=Zs([e=>{}],sa);var aa=n(74747),ca=n(67118);var ua,la=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const fa=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},da={anchor:!1,publish:!0,sync:tr.PREFER_CACHE},ha={anchor:!0,publish:!0},pa={sync:tr.PREFER_CACHE};let ma=ua=class extends Ys{constructor(){super(...arguments),this._isReadOnly=!1}get did(){return this.content}get metadata(){const{next:e,metadata:t}=this.state$.value;return pr(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async fromAccount(e,t,n={}){n={...da,...n};const r=function(e){if("string"===typeof e&&e.includes("@")){const[t,n]=e.split("@");if(!t||!n)throw new Error("Invalid accountId provided");return new ca.hX({address:t,chainId:n})}return new ca.hX(e)}(t),o=ua.makeGenesis(r);return ua.fromGenesis(e,o,n)}static async fromGenesis(e,t,n={}){return n={...da,...n},e.createStreamFromGenesis(ua.STREAM_TYPE_ID,t,n)}async setDid(e,t,n={}){n={...ha,...n};const r="string"==typeof e?e.trim():e.id;if((0,aa.Qc)(r)?.did!==r)throw new Error(`DID is not valid: '${r}'`);const o=await t.createLink(r);return this.setDidProof(o,n)}async setDidProof(e,t={}){t={...ha,...t};const n=this.makeCommit(e),r=await this.api.applyCommit(this.id,n,t);this.state$.next(r.state)}async clearDid(e,t={}){t={...ha,...t};const n=await e.createLink("");return this.setDidProof(n,t)}static async load(e,t,n={}){n={...pa,...n};const r=Qs.from(t);if(r.type!=ua.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${ua.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}static makeGenesis(e){"eip155"===e.chainId.namespace&&(e.address=e.address.toLowerCase());return{header:{controllers:[`${e.address}@${e.chainId.toString()}`],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.id.cid}}makeReadOnly(){this.setDidProof=fa,this.setDid=fa,this.sync=fa,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};ma.STREAM_TYPE_NAME="caip10-link",ma.STREAM_TYPE_ID=1,ma=ua=la([e=>{}],ma);const ya=["string","number","bigint","symbol"],ga=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function va(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(ya.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(ga.includes(t))return t;return}(e);return n||"Object"}class ba{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}ba.uint=new ba(0,"uint",!0),ba.negint=new ba(1,"negint",!0),ba.bytes=new ba(2,"bytes",!0),ba.string=new ba(3,"string",!0),ba.array=new ba(4,"array",!1),ba.map=new ba(5,"map",!1),ba.tag=new ba(6,"tag",!1),ba.float=new ba(7,"float",!0),ba.false=new ba(7,"false",!0),ba.true=new ba(7,"true",!0),ba.null=new ba(7,"null",!0),ba.undefined=new ba(7,"undefined",!0),ba.break=new ba(7,"break",!0);class wa{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Ea=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,_a=new TextDecoder,Sa=new TextEncoder;function Ta(e){return Ea&&globalThis.Buffer.isBuffer(e)}function Ia(e){return e instanceof Uint8Array?Ta(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Na=Ea?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):Ra(e,t,n):(e,t,n)=>n-t>64?_a.decode(e.subarray(t,n)):Ra(e,t,n),Oa=Ea?e=>e.length>64?globalThis.Buffer.from(e):$a(e):e=>e.length>64?Sa.encode(e):$a(e),ka=e=>Uint8Array.from(e),Aa=Ea?(e,t,n)=>Ta(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),xa=Ea?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),Ia(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},Ca=Ea?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function $a(e,t=1/0){let n;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Ra(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=Da)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Da));return n}(r)}const Da=4096;class Pa{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Ca(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Aa(n,0,this.cursor)}else t=xa(this.chunks,this.cursor);return e&&this.reset(),t}}const ja=[];function Ma(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}ja[23]=1,ja[24]=2,ja[25]=3,ja[26]=5,ja[27]=9;const La=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ua(e,t,n){Ma(e,t,1);const r=e[t];if(!0===n.strict&&r<La[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Ba(e,t,n){Ma(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<La[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Fa(e,t,n){Ma(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<La[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Va(e,t,n){Ma(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<La[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function qa(e,t){return za(e,0,t.value)}function za(e,t,n){if(n<La[0]){const r=Number(n);e.push([t|r])}else if(n<La[1]){const r=Number(n);e.push([24|t,r])}else if(n<La[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<La[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<La[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}qa.encodedSize=function(e){return za.encodedSize(e.value)},za.encodedSize=function(e){return e<La[0]?1:e<La[1]?2:e<La[2]?3:e<La[3]?5:9},qa.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Ga=BigInt(-1),Ha=BigInt(1);function Ka(e,t){const n=t.value,r="bigint"===typeof n?n*Ga-Ha:-1*n-1;za(e,t.type.majorEncoded,r)}function Ja(e,t,n,r){Ma(e,t,n+r);const o=Aa(e,t+n,t+n+r);return new wa(ba.bytes,o,n+r)}function Wa(e,t,n,r){return Ja(e,t,1,n)}function Qa(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===ba.string?Oa(e.value):e.value),e.encodedBytes}function Ya(e,t){const n=Qa(t);za(e,t.type.majorEncoded,n.length),e.push(n)}function Xa(e,t,n,r,o){const i=n+r;Ma(e,t,i);const s=new wa(ba.string,Na(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=Aa(e,t+n,t+i)),s}function Za(e,t,n,r){return Xa(e,t,1,n,r)}Ka.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*Ga-Ha:-1*t-1;return n<La[0]?1:n<La[1]?2:n<La[2]?3:n<La[3]?5:9},Ka.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},Ya.encodedSize=function(e){const t=Qa(e);return za.encodedSize(t.length)+t.length},Ya.compareTokens=function(e,t){return n=Qa(e),r=Qa(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(Ta(e)&&Ta(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const ec=Ya;function tc(e,t,n,r){return new wa(ba.array,r,n)}function nc(e,t,n,r){return tc(0,0,1,n)}function rc(e,t){za(e,ba.array.majorEncoded,t.value)}function oc(e,t,n,r){return new wa(ba.map,r,n)}function ic(e,t,n,r){return oc(0,0,1,n)}function sc(e,t){za(e,ba.map.majorEncoded,t.value)}function ac(e,t,n,r){return new wa(ba.tag,n,1)}function cc(e,t){za(e,ba.tag.majorEncoded,t.value)}rc.compareTokens=qa.compareTokens,rc.encodedSize=function(e){return za.encodedSize(e.value)},sc.compareTokens=qa.compareTokens,sc.encodedSize=function(e){return za.encodedSize(e.value)},cc.compareTokens=qa.compareTokens,cc.encodedSize=function(e){return za.encodedSize(e.value)};function uc(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new wa(ba.float,e,t)}function lc(e,t,n){const r=t.value;if(!1===r)e.push([20|ba.float.majorEncoded]);else if(!0===r)e.push([21|ba.float.majorEncoded]);else if(null===r)e.push([22|ba.float.majorEncoded]);else if(void 0===r)e.push([23|ba.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(pc(r),t=mc(hc,1),r===t||Number.isNaN(r)?(hc[0]=249,e.push(hc.slice(0,3)),i=!0):(yc(r),t=gc(hc,1),r===t&&(hc[0]=250,e.push(hc.slice(0,5)),i=!0))),i||(o=r,dc.setFloat64(0,o,!1),t=vc(hc,1),hc[0]=251,e.push(hc.slice(0,9)))}var o}lc.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){pc(n);let e=mc(hc,1);if(n===e||Number.isNaN(n))return 3;if(yc(n),e=gc(hc,1),n===e)return 5}return 9};const fc=new ArrayBuffer(9),dc=new DataView(fc,1),hc=new Uint8Array(fc,0);function pc(e){if(e===1/0)dc.setUint16(0,31744,!1);else if(e===-1/0)dc.setUint16(0,64512,!1);else if(Number.isNaN(e))dc.setUint16(0,32256,!1);else{dc.setFloat32(0,e);const t=dc.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)dc.setUint16(0,31744,!1);else if(0===n)dc.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?dc.setUint16(0,0):e<-14?dc.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):dc.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function mc(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function yc(e){dc.setFloat32(0,e,!1)}function gc(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function vc(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function bc(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function wc(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}lc.compareTokens=qa.compareTokens;const Ec=[];for(let TE=0;TE<=23;TE++)Ec[TE]=bc;Ec[24]=function(e,t,n,r){return new wa(ba.uint,Ua(e,t+1,r),2)},Ec[25]=function(e,t,n,r){return new wa(ba.uint,Ba(e,t+1,r),3)},Ec[26]=function(e,t,n,r){return new wa(ba.uint,Fa(e,t+1,r),5)},Ec[27]=function(e,t,n,r){return new wa(ba.uint,Va(e,t+1,r),9)},Ec[28]=bc,Ec[29]=bc,Ec[30]=bc,Ec[31]=bc;for(let TE=32;TE<=55;TE++)Ec[TE]=bc;Ec[56]=function(e,t,n,r){return new wa(ba.negint,-1-Ua(e,t+1,r),2)},Ec[57]=function(e,t,n,r){return new wa(ba.negint,-1-Ba(e,t+1,r),3)},Ec[58]=function(e,t,n,r){return new wa(ba.negint,-1-Fa(e,t+1,r),5)},Ec[59]=function(e,t,n,r){const o=Va(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new wa(ba.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new wa(ba.negint,Ga-BigInt(o),9)},Ec[60]=bc,Ec[61]=bc,Ec[62]=bc,Ec[63]=bc;for(let TE=64;TE<=87;TE++)Ec[TE]=Wa;Ec[88]=function(e,t,n,r){return Ja(e,t,2,Ua(e,t+1,r))},Ec[89]=function(e,t,n,r){return Ja(e,t,3,Ba(e,t+1,r))},Ec[90]=function(e,t,n,r){return Ja(e,t,5,Fa(e,t+1,r))},Ec[91]=function(e,t,n,r){const o=Va(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return Ja(e,t,9,o)},Ec[92]=bc,Ec[93]=bc,Ec[94]=bc,Ec[95]=wc("indefinite length bytes/strings are not supported");for(let TE=96;TE<=119;TE++)Ec[TE]=Za;Ec[120]=function(e,t,n,r){return Xa(e,t,2,Ua(e,t+1,r),r)},Ec[121]=function(e,t,n,r){return Xa(e,t,3,Ba(e,t+1,r),r)},Ec[122]=function(e,t,n,r){return Xa(e,t,5,Fa(e,t+1,r),r)},Ec[123]=function(e,t,n,r){const o=Va(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Xa(e,t,9,o,r)},Ec[124]=bc,Ec[125]=bc,Ec[126]=bc,Ec[127]=wc("indefinite length bytes/strings are not supported");for(let TE=128;TE<=151;TE++)Ec[TE]=nc;Ec[152]=function(e,t,n,r){return tc(0,0,2,Ua(e,t+1,r))},Ec[153]=function(e,t,n,r){return tc(0,0,3,Ba(e,t+1,r))},Ec[154]=function(e,t,n,r){return tc(0,0,5,Fa(e,t+1,r))},Ec[155]=function(e,t,n,r){const o=Va(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return tc(0,0,9,o)},Ec[156]=bc,Ec[157]=bc,Ec[158]=bc,Ec[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return tc(0,0,1,1/0)};for(let TE=160;TE<=183;TE++)Ec[TE]=ic;Ec[184]=function(e,t,n,r){return oc(0,0,2,Ua(e,t+1,r))},Ec[185]=function(e,t,n,r){return oc(0,0,3,Ba(e,t+1,r))},Ec[186]=function(e,t,n,r){return oc(0,0,5,Fa(e,t+1,r))},Ec[187]=function(e,t,n,r){const o=Va(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return oc(0,0,9,o)},Ec[188]=bc,Ec[189]=bc,Ec[190]=bc,Ec[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return oc(0,0,1,1/0)};for(let TE=192;TE<=215;TE++)Ec[TE]=ac;Ec[216]=function(e,t,n,r){return new wa(ba.tag,Ua(e,t+1,r),2)},Ec[217]=function(e,t,n,r){return new wa(ba.tag,Ba(e,t+1,r),3)},Ec[218]=function(e,t,n,r){return new wa(ba.tag,Fa(e,t+1,r),5)},Ec[219]=function(e,t,n,r){return new wa(ba.tag,Va(e,t+1,r),9)},Ec[220]=bc,Ec[221]=bc,Ec[222]=bc,Ec[223]=bc;for(let TE=224;TE<=243;TE++)Ec[TE]=wc("simple values are not supported");Ec[244]=bc,Ec[245]=bc,Ec[246]=bc,Ec[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new wa(ba.null,null,1):new wa(ba.undefined,void 0,1)},Ec[248]=wc("simple values are not supported"),Ec[249]=function(e,t,n,r){return uc(mc(e,t+1),3,r)},Ec[250]=function(e,t,n,r){return uc(gc(e,t+1),5,r)},Ec[251]=function(e,t,n,r){return uc(vc(e,t+1),9,r)},Ec[252]=bc,Ec[253]=bc,Ec[254]=bc,Ec[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new wa(ba.break,void 0,1)};const _c=[];for(let TE=0;TE<24;TE++)_c[TE]=new wa(ba.uint,TE,1);for(let TE=-1;TE>=-24;TE--)_c[31-TE]=new wa(ba.negint,TE,1);_c[64]=new wa(ba.bytes,new Uint8Array(0),1),_c[96]=new wa(ba.string,"",1),_c[128]=new wa(ba.array,0,1),_c[160]=new wa(ba.map,0,1),_c[244]=new wa(ba.false,!1,1),_c[245]=new wa(ba.true,!0,1),_c[246]=new wa(ba.null,null,1);const Sc={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=Tc[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case ba.false:return ka([244]);case ba.true:return ka([245]);case ba.null:return ka([246]);case ba.bytes:return e.value.length?void 0:ka([64]);case ba.string:return""===e.value?ka([96]):void 0;case ba.array:return 0===e.value?ka([128]):void 0;case ba.map:return 0===e.value?ka([160]):void 0;case ba.uint:return e.value<24?ka([Number(e.value)]):void 0;case ba.negint:if(e.value>=-24)return ka([31-Number(e.value)])}}};const Tc=function(){const e=[];return e[ba.uint.major]=qa,e[ba.negint.major]=Ka,e[ba.bytes.major]=Ya,e[ba.string.major]=ec,e[ba.array.major]=rc,e[ba.map.major]=sc,e[ba.tag.major]=cc,e[ba.float.major]=lc,e}(),Ic=new Pa;class Nc{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Nc(t,e)}}const Oc={null:new wa(ba.null,null),undefined:new wa(ba.undefined,void 0),true:new wa(ba.true,!0),false:new wa(ba.false,!1),emptyArray:new wa(ba.array,0),emptyMap:new wa(ba.map,0)},kc={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new wa(e>=0?ba.uint:ba.negint,e):new wa(ba.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new wa(ba.uint,e):new wa(ba.negint,e),Uint8Array:(e,t,n,r)=>new wa(ba.bytes,e),string:(e,t,n,r)=>new wa(ba.string,e),boolean:(e,t,n,r)=>e?Oc.true:Oc.false,null:(e,t,n,r)=>Oc.null,undefined:(e,t,n,r)=>Oc.undefined,ArrayBuffer:(e,t,n,r)=>new wa(ba.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new wa(ba.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[Oc.emptyArray,new wa(ba.break)]:Oc.emptyArray;r=Nc.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=Ac(s,n,r);return n.addBreakTokens?[new wa(ba.array,e.length),o,new wa(ba.break)]:[new wa(ba.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[Oc.emptyMap,new wa(ba.break)]:Oc.emptyMap;r=Nc.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[Ac(u,n,r),Ac(o?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new wa(ba.map,s),a,new wa(ba.break)]:[new wa(ba.map,s),a]}};kc.Map=kc.Object,kc.Buffer=kc.Uint8Array;for(const TE of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))kc[`${TE}Array`]=kc.DataView;function Ac(e,t={},n){const r=va(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||kc[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=kc[r];if(!i)throw new Error(`CBOR encode error: unsupported type: ${r}`);return i(e,r,t,n)}function xc(e,t,n,r){if(Array.isArray(t))for(const o of t)xc(e,o,n,r);else n[t.type.major](e,t,r)}function Cc(e,t,n){const r=Ac(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new Pa(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return Ia(t.chunks[0])}}return Ic.reset(),xc(Ic,r,t,n),Ic.toBytes(!0)}Symbol.for("DONE"),Symbol.for("BREAK");var $c=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=Rc;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},Rc=Math.pow(2,31);var Dc=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var Pc=Math.pow(2,7),jc=Math.pow(2,14),Mc=Math.pow(2,21),Lc=Math.pow(2,28),Uc=Math.pow(2,35),Bc=Math.pow(2,42),Fc=Math.pow(2,49),Vc=Math.pow(2,56),qc=Math.pow(2,63),zc={encode:$c,decode:Dc,encodingLength:function(e){return e<Pc?1:e<jc?2:e<Mc?3:e<Lc?4:e<Uc?5:e<Bc?6:e<Fc?7:e<Vc?8:e<qc?9:10}};const Gc=(e,t=0)=>[zc.decode(e,t),zc.decode.bytes],Hc=(e,t,n=0)=>(zc.encode(e,t,n),t),Kc=e=>zc.encodingLength(e),Jc=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Wc{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var Qc=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class Yc{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xc{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return eu(this,e)}}class Zc{constructor(e){this.decoders=e}or(e){return eu(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const eu=(e,t)=>new Zc({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tu{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Yc(e,t,n),this.decoder=new Xc(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const nu=({name:e,prefix:t,encode:n,decode:r})=>new tu(e,t,n,r),ru=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=Qc(n,t);return nu({prefix:e,name:t,encode:r,decode:e=>Jc(o(e))})},ou=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>nu({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),iu=ru({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),su=(ru({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ou({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));ou({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ou({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ou({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ou({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ou({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ou({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ou({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ou({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class au{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:yu,byteLength:yu,code:mu,version:mu,multihash:mu,bytes:mu,_baseCache:yu,asCID:yu})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==fu)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==du)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return au.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Kc(e),o=r+Kc(n),i=new Uint8Array(o+n);return Hc(e,i,0),Hc(n,i,r),i.set(t,o),new Wc(e,n,t,i)})(e,t);return au.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return uu(t,r,e||iu.encoder);default:return lu(t,r,e||su.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return gu(/^0\.0/,vu),!(!e||!e[pu]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof au)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new au(t,n,r,o||hu(t,n,r.bytes))}if(null!=e&&!0===e[pu]){const{version:t,multihash:n,code:r}=e,o=(e=>{const t=Jc(e),[n,r]=Gc(t),[o,i]=Gc(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Wc(n,o,s,t)})(n);return au.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==fu)throw new Error(`Version 0 CID must use dag-pb (code: ${fu}) block encoding`);return new au(e,t,n,n.bytes);case 1:{const r=hu(e,t,n.bytes);return new au(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return au.create(0,fu,e)}static createV1(e,t){return au.create(1,e,t)}static decode(e){const[t,n]=au.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=au.inspectBytes(e),n=t.size-t.multihashSize,r=Jc(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new Wc(t.multihashCode,t.digestSize,o,r);return[0===t.version?au.createV0(i):au.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Gc(e.subarray(t));return t+=r,n};let r=n(),o=fu;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=cu(e,t),o=au.decode(r);return o._baseCache.set(n,e),o}}const cu=(e,t)=>{switch(e[0]){case"Q":{const n=t||iu;return[iu.prefix,n.decode(`${iu.prefix}${e}`)]}case iu.prefix:{const n=t||iu;return[iu.prefix,n.decode(e)]}case su.prefix:{const n=t||su;return[su.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},uu=(e,t,n)=>{const{prefix:r}=n;if(r!==iu.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},lu=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},fu=112,du=18,hu=(e,t,n)=>{const r=Kc(e),o=r+Kc(t),i=new Uint8Array(o+n.byteLength);return Hc(e,i,0),Hc(t,i,r),i.set(n,o),i},pu=Symbol.for("@ipld/js-cid/CID"),mu={writable:!1,configurable:!1,enumerable:!0},yu={writable:!1,enumerable:!1,configurable:!1},gu=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},vu="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const bu={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=au.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new wa(ba.tag,42),new wa(ba.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const wu={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};wu.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return au.decode(e.subarray(1))};const Eu=e=>{return t=e,n=bu,n=Object.assign({},Sc,n),Cc(t,Tc,n);var t,n};var _u=n(38566),Su=n(44415);const Tu="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",Iu=new RegExp(`^did:([a-z0-9]+):${`((?:${Tu}*:)*(${Tu}+))`}$`);const Nu=(0,Su.oc)(Su.Z_,(function(e){return Boolean(e&&e.match(Iu))}),"did-string");const Ou=(0,Su.oc)(Su.Z_,(function(e){try{return Wt.fromString(e),!0}catch(t){return!1}}),"StreamID-string"),ku=(new Su.Dy("StreamID-as-string",(e=>Wt.isInstance(e)),((e,t)=>{try{return t.success(Wt.fromString(e))}catch{return t.failure()}}),(e=>e.toString())),new Su.Dy("StreamID-as-bytes",(e=>Wt.isInstance(e)),((e,t)=>{try{return t.success(Wt.fromBytes(e))}catch{return t.failure()}}),(e=>e.bytes)));new Su.Dy("CommitID-as-string",(e=>Ks.isInstance(e)),((e,t)=>{try{return t.success(Ks.fromString(e))}catch{return t.failure()}}),(e=>e.toString()));var Au=n(37885),xu=n(5477);const Cu=new Au({strict:!0,allErrors:!0,allowMatchingProperties:!1,ownProperties:!1,unevaluated:!1});xu(Cu);const $u=function(e,t){function n(t){return"object"===typeof t&&null!=t&&t.type===e}return new Su.Dy(t,n,((t,r)=>{if(!n(t))return r.failure(`Input is not a JSON schema of type: ${e}`);const o=Cu.validateSchema(t);return Cu.removeSchema(t),o?r.success(t):r.failure(`Validation Error: ${Cu.errorsText()}`)}),Su.yR)}("object","ObjectSchema"),Ru=((0,Su.wY)({controller:Nu,model:ku},"ModelMetadata"),(0,Su.G0)([(0,Su.wY)({type:(0,Su.i0)("list")}),(0,Su.wY)({type:(0,Su.i0)("single")})],"ModelAccountRelation")),Du=(0,Su.G0)([(0,Su.wY)({type:(0,Su.i0)("account")}),(0,Su.wY)({type:(0,Su.i0)("document"),model:Ou})],"ModelRelationDefinition"),Pu=(0,Su.IM)(Su.Z_,Du,"ModelRelationsDefinition"),ju=(0,Su.G0)([(0,Su.wY)({type:(0,Su.i0)("documentAccount")}),(0,Su.wY)({type:(0,Su.i0)("documentVersion")})],"ModelDocumentMetadataViewDefinition"),Mu=(0,Su.G0)([(0,Su.wY)({type:(0,Su.i0)("relationDocument"),model:Ou,property:Su.Z_}),(0,Su.wY)({type:(0,Su.i0)("relationFrom"),model:Ou,property:Su.Z_}),(0,Su.wY)({type:(0,Su.i0)("relationCountFrom"),model:Ou,property:Su.Z_})],"ModelRelationViewDefinition"),Lu=(0,Su.G0)([ju,Mu],"ModelViewDefinition"),Uu=(0,Su.IM)(Su.Z_,Lu,"ModelViewDefinition"),Bu=(0,Su.rV)({version:Su.Z_,name:Su.Z_,description:(0,Su.jt)(Su.Z_),schema:$u,accountRelation:Ru,relations:(0,Su.jt)(Pu),views:(0,Su.jt)(Uu)},"ModelDefinition");var Fu,Vu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const qu=/^[0-9]+\.[0-9]+$/;function zu(e){if(!qu.test(e))throw new Error(`Unsupported version format: ${e}`);const[t,n]=e.split(".").map((e=>parseInt(e,10)));return[t,n]}const Gu={sync:tr.PREFER_CACHE};async function Hu(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function Ku(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let Ju=Fu=class extends Ys{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){return{controller:this.state$.value.metadata.controllers[0],model:Fu.MODEL}}static async create(e,t,n){Fu.assertComplete(t),Fu.assertVersionValid(t,"minor");const r={publish:!0,anchor:!0,sync:tr.NEVER_SYNC},o=await Fu._makeGenesis(e,t,n);return await e.createStreamFromGenesis(Fu.STREAM_TYPE_ID,o,r)}static assertComplete(e,t){(0,Su.Jx)(Bu,e)}static assertVersionValid(e,t="minor"){const[n,r]=zu(Fu.VERSION),[o,i]=zu(e.version);if(o>n||"minor"===t&&o===n&&i>r)throw new Error(`Unsupported version ${e.version} for model ${e.name}, the maximum version supported by the Ceramic node is ${Fu.VERSION}. Please update your Ceramic node to a newer version supporting at least version ${e.version} of the Model definition.`)}static assertRelationsValid(e){null!=e.relations&&(0,Su.Jx)(Pu,e.relations)}static async load(e,t,n={}){n={...Gu,...n};const r=Qs.from(t);if(r.type!=Fu.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${Fu.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return await e.loadStream(r,n)}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return Fu._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(null==t)throw new Error("Genesis content cannot be null");if(!n||!n.controller){if(!e.did)throw new Error("No controller specified");await Hu(e),n={controller:e.did.hasParent?e.did.parent:e.did.id}}return{data:t,header:{controllers:[n.controller],model:Fu.MODEL.bytes,sep:"model"}}}makeReadOnly(){this.sync=Ku,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}static async _signDagJWS(e,t){return await Hu(e),e.did.createDagJWS(t)}};Ju.STREAM_TYPE_NAME="model",Ju.STREAM_TYPE_ID=2,Ju.MODEL=function(){const e=Eu("model-v1"),t=_u.y.digest(e),n=(0,Pt.Ue)(113,t.bytes),r=c.k0.createV1(113,n);return new Wt("UNLOADABLE",r)}(),Ju.VERSION="1.0",Ju=Fu=Vu([e=>{}],Ju);const Wu=["string","number","bigint","symbol"],Qu=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Yu(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Wu.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Qu.includes(t))return t;return}(e);return n||"Object"}class Xu{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Xu.uint=new Xu(0,"uint",!0),Xu.negint=new Xu(1,"negint",!0),Xu.bytes=new Xu(2,"bytes",!0),Xu.string=new Xu(3,"string",!0),Xu.array=new Xu(4,"array",!1),Xu.map=new Xu(5,"map",!1),Xu.tag=new Xu(6,"tag",!1),Xu.float=new Xu(7,"float",!0),Xu.false=new Xu(7,"false",!0),Xu.true=new Xu(7,"true",!0),Xu.null=new Xu(7,"null",!0),Xu.undefined=new Xu(7,"undefined",!0),Xu.break=new Xu(7,"break",!0);class Zu{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const el=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,tl=new TextDecoder,nl=new TextEncoder;function rl(e){return el&&globalThis.Buffer.isBuffer(e)}function ol(e){return e instanceof Uint8Array?rl(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const il=el?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):dl(e,t,n):(e,t,n)=>n-t>64?tl.decode(e.subarray(t,n)):dl(e,t,n),sl=el?e=>e.length>64?globalThis.Buffer.from(e):fl(e):e=>e.length>64?nl.encode(e):fl(e),al=e=>Uint8Array.from(e),cl=el?(e,t,n)=>rl(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),ul=el?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),ol(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},ll=el?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function fl(e,t=1/0){let n;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function dl(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=hl)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=hl));return n}(r)}const hl=4096;class pl{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=ll(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=cl(n,0,this.cursor)}else t=ul(this.chunks,this.cursor);return e&&this.reset(),t}}const ml=[];function yl(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}ml[23]=1,ml[24]=2,ml[25]=3,ml[26]=5,ml[27]=9;const gl=[24,256,65536,4294967296,BigInt("18446744073709551616")];function vl(e,t,n){yl(e,t,1);const r=e[t];if(!0===n.strict&&r<gl[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function bl(e,t,n){yl(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<gl[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function wl(e,t,n){yl(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<gl[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function El(e,t,n){yl(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<gl[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function _l(e,t){return Sl(e,0,t.value)}function Sl(e,t,n){if(n<gl[0]){const r=Number(n);e.push([t|r])}else if(n<gl[1]){const r=Number(n);e.push([24|t,r])}else if(n<gl[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<gl[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<gl[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}_l.encodedSize=function(e){return Sl.encodedSize(e.value)},Sl.encodedSize=function(e){return e<gl[0]?1:e<gl[1]?2:e<gl[2]?3:e<gl[3]?5:9},_l.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Tl=BigInt(-1),Il=BigInt(1);function Nl(e,t){const n=t.value,r="bigint"===typeof n?n*Tl-Il:-1*n-1;Sl(e,t.type.majorEncoded,r)}function Ol(e,t,n,r){yl(e,t,n+r);const o=cl(e,t+n,t+n+r);return new Zu(Xu.bytes,o,n+r)}function kl(e,t,n,r){return Ol(e,t,1,n)}function Al(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Xu.string?sl(e.value):e.value),e.encodedBytes}function xl(e,t){const n=Al(t);Sl(e,t.type.majorEncoded,n.length),e.push(n)}function Cl(e,t,n,r,o){const i=n+r;yl(e,t,i);const s=new Zu(Xu.string,il(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=cl(e,t+n,t+i)),s}function $l(e,t,n,r){return Cl(e,t,1,n,r)}Nl.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*Tl-Il:-1*t-1;return n<gl[0]?1:n<gl[1]?2:n<gl[2]?3:n<gl[3]?5:9},Nl.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},xl.encodedSize=function(e){const t=Al(e);return Sl.encodedSize(t.length)+t.length},xl.compareTokens=function(e,t){return n=Al(e),r=Al(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(rl(e)&&rl(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const Rl=xl;function Dl(e,t,n,r){return new Zu(Xu.array,r,n)}function Pl(e,t,n,r){return Dl(0,0,1,n)}function jl(e,t){Sl(e,Xu.array.majorEncoded,t.value)}function Ml(e,t,n,r){return new Zu(Xu.map,r,n)}function Ll(e,t,n,r){return Ml(0,0,1,n)}function Ul(e,t){Sl(e,Xu.map.majorEncoded,t.value)}function Bl(e,t,n,r){return new Zu(Xu.tag,n,1)}function Fl(e,t){Sl(e,Xu.tag.majorEncoded,t.value)}jl.compareTokens=_l.compareTokens,jl.encodedSize=function(e){return Sl.encodedSize(e.value)},Ul.compareTokens=_l.compareTokens,Ul.encodedSize=function(e){return Sl.encodedSize(e.value)},Fl.compareTokens=_l.compareTokens,Fl.encodedSize=function(e){return Sl.encodedSize(e.value)};function Vl(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new Zu(Xu.float,e,t)}function ql(e,t,n){const r=t.value;if(!1===r)e.push([20|Xu.float.majorEncoded]);else if(!0===r)e.push([21|Xu.float.majorEncoded]);else if(null===r)e.push([22|Xu.float.majorEncoded]);else if(void 0===r)e.push([23|Xu.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(Kl(r),t=Jl(Hl,1),r===t||Number.isNaN(r)?(Hl[0]=249,e.push(Hl.slice(0,3)),i=!0):(Wl(r),t=Ql(Hl,1),r===t&&(Hl[0]=250,e.push(Hl.slice(0,5)),i=!0))),i||(o=r,Gl.setFloat64(0,o,!1),t=Yl(Hl,1),Hl[0]=251,e.push(Hl.slice(0,9)))}var o}ql.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){Kl(n);let e=Jl(Hl,1);if(n===e||Number.isNaN(n))return 3;if(Wl(n),e=Ql(Hl,1),n===e)return 5}return 9};const zl=new ArrayBuffer(9),Gl=new DataView(zl,1),Hl=new Uint8Array(zl,0);function Kl(e){if(e===1/0)Gl.setUint16(0,31744,!1);else if(e===-1/0)Gl.setUint16(0,64512,!1);else if(Number.isNaN(e))Gl.setUint16(0,32256,!1);else{Gl.setFloat32(0,e);const t=Gl.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)Gl.setUint16(0,31744,!1);else if(0===n)Gl.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?Gl.setUint16(0,0):e<-14?Gl.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Gl.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function Jl(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function Wl(e){Gl.setFloat32(0,e,!1)}function Ql(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function Yl(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function Xl(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function Zl(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}ql.compareTokens=_l.compareTokens;const ef=[];for(let TE=0;TE<=23;TE++)ef[TE]=Xl;ef[24]=function(e,t,n,r){return new Zu(Xu.uint,vl(e,t+1,r),2)},ef[25]=function(e,t,n,r){return new Zu(Xu.uint,bl(e,t+1,r),3)},ef[26]=function(e,t,n,r){return new Zu(Xu.uint,wl(e,t+1,r),5)},ef[27]=function(e,t,n,r){return new Zu(Xu.uint,El(e,t+1,r),9)},ef[28]=Xl,ef[29]=Xl,ef[30]=Xl,ef[31]=Xl;for(let TE=32;TE<=55;TE++)ef[TE]=Xl;ef[56]=function(e,t,n,r){return new Zu(Xu.negint,-1-vl(e,t+1,r),2)},ef[57]=function(e,t,n,r){return new Zu(Xu.negint,-1-bl(e,t+1,r),3)},ef[58]=function(e,t,n,r){return new Zu(Xu.negint,-1-wl(e,t+1,r),5)},ef[59]=function(e,t,n,r){const o=El(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new Zu(Xu.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new Zu(Xu.negint,Tl-BigInt(o),9)},ef[60]=Xl,ef[61]=Xl,ef[62]=Xl,ef[63]=Xl;for(let TE=64;TE<=87;TE++)ef[TE]=kl;ef[88]=function(e,t,n,r){return Ol(e,t,2,vl(e,t+1,r))},ef[89]=function(e,t,n,r){return Ol(e,t,3,bl(e,t+1,r))},ef[90]=function(e,t,n,r){return Ol(e,t,5,wl(e,t+1,r))},ef[91]=function(e,t,n,r){const o=El(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return Ol(e,t,9,o)},ef[92]=Xl,ef[93]=Xl,ef[94]=Xl,ef[95]=Zl("indefinite length bytes/strings are not supported");for(let TE=96;TE<=119;TE++)ef[TE]=$l;ef[120]=function(e,t,n,r){return Cl(e,t,2,vl(e,t+1,r),r)},ef[121]=function(e,t,n,r){return Cl(e,t,3,bl(e,t+1,r),r)},ef[122]=function(e,t,n,r){return Cl(e,t,5,wl(e,t+1,r),r)},ef[123]=function(e,t,n,r){const o=El(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Cl(e,t,9,o,r)},ef[124]=Xl,ef[125]=Xl,ef[126]=Xl,ef[127]=Zl("indefinite length bytes/strings are not supported");for(let TE=128;TE<=151;TE++)ef[TE]=Pl;ef[152]=function(e,t,n,r){return Dl(0,0,2,vl(e,t+1,r))},ef[153]=function(e,t,n,r){return Dl(0,0,3,bl(e,t+1,r))},ef[154]=function(e,t,n,r){return Dl(0,0,5,wl(e,t+1,r))},ef[155]=function(e,t,n,r){const o=El(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return Dl(0,0,9,o)},ef[156]=Xl,ef[157]=Xl,ef[158]=Xl,ef[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Dl(0,0,1,1/0)};for(let TE=160;TE<=183;TE++)ef[TE]=Ll;ef[184]=function(e,t,n,r){return Ml(0,0,2,vl(e,t+1,r))},ef[185]=function(e,t,n,r){return Ml(0,0,3,bl(e,t+1,r))},ef[186]=function(e,t,n,r){return Ml(0,0,5,wl(e,t+1,r))},ef[187]=function(e,t,n,r){const o=El(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return Ml(0,0,9,o)},ef[188]=Xl,ef[189]=Xl,ef[190]=Xl,ef[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Ml(0,0,1,1/0)};for(let TE=192;TE<=215;TE++)ef[TE]=Bl;ef[216]=function(e,t,n,r){return new Zu(Xu.tag,vl(e,t+1,r),2)},ef[217]=function(e,t,n,r){return new Zu(Xu.tag,bl(e,t+1,r),3)},ef[218]=function(e,t,n,r){return new Zu(Xu.tag,wl(e,t+1,r),5)},ef[219]=function(e,t,n,r){return new Zu(Xu.tag,El(e,t+1,r),9)},ef[220]=Xl,ef[221]=Xl,ef[222]=Xl,ef[223]=Xl;for(let TE=224;TE<=243;TE++)ef[TE]=Zl("simple values are not supported");ef[244]=Xl,ef[245]=Xl,ef[246]=Xl,ef[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new Zu(Xu.null,null,1):new Zu(Xu.undefined,void 0,1)},ef[248]=Zl("simple values are not supported"),ef[249]=function(e,t,n,r){return Vl(Jl(e,t+1),3,r)},ef[250]=function(e,t,n,r){return Vl(Ql(e,t+1),5,r)},ef[251]=function(e,t,n,r){return Vl(Yl(e,t+1),9,r)},ef[252]=Xl,ef[253]=Xl,ef[254]=Xl,ef[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new Zu(Xu.break,void 0,1)};const tf=[];for(let TE=0;TE<24;TE++)tf[TE]=new Zu(Xu.uint,TE,1);for(let TE=-1;TE>=-24;TE--)tf[31-TE]=new Zu(Xu.negint,TE,1);tf[64]=new Zu(Xu.bytes,new Uint8Array(0),1),tf[96]=new Zu(Xu.string,"",1),tf[128]=new Zu(Xu.array,0,1),tf[160]=new Zu(Xu.map,0,1),tf[244]=new Zu(Xu.false,!1,1),tf[245]=new Zu(Xu.true,!0,1),tf[246]=new Zu(Xu.null,null,1);const nf={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=rf[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case Xu.false:return al([244]);case Xu.true:return al([245]);case Xu.null:return al([246]);case Xu.bytes:return e.value.length?void 0:al([64]);case Xu.string:return""===e.value?al([96]):void 0;case Xu.array:return 0===e.value?al([128]):void 0;case Xu.map:return 0===e.value?al([160]):void 0;case Xu.uint:return e.value<24?al([Number(e.value)]):void 0;case Xu.negint:if(e.value>=-24)return al([31-Number(e.value)])}}};const rf=function(){const e=[];return e[Xu.uint.major]=_l,e[Xu.negint.major]=Nl,e[Xu.bytes.major]=xl,e[Xu.string.major]=Rl,e[Xu.array.major]=jl,e[Xu.map.major]=Ul,e[Xu.tag.major]=Fl,e[Xu.float.major]=ql,e}(),of=new pl;class sf{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new sf(t,e)}}const af={null:new Zu(Xu.null,null),undefined:new Zu(Xu.undefined,void 0),true:new Zu(Xu.true,!0),false:new Zu(Xu.false,!1),emptyArray:new Zu(Xu.array,0),emptyMap:new Zu(Xu.map,0)},cf={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Zu(e>=0?Xu.uint:Xu.negint,e):new Zu(Xu.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new Zu(Xu.uint,e):new Zu(Xu.negint,e),Uint8Array:(e,t,n,r)=>new Zu(Xu.bytes,e),string:(e,t,n,r)=>new Zu(Xu.string,e),boolean:(e,t,n,r)=>e?af.true:af.false,null:(e,t,n,r)=>af.null,undefined:(e,t,n,r)=>af.undefined,ArrayBuffer:(e,t,n,r)=>new Zu(Xu.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new Zu(Xu.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[af.emptyArray,new Zu(Xu.break)]:af.emptyArray;r=sf.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=uf(s,n,r);return n.addBreakTokens?[new Zu(Xu.array,e.length),o,new Zu(Xu.break)]:[new Zu(Xu.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[af.emptyMap,new Zu(Xu.break)]:af.emptyMap;r=sf.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[uf(u,n,r),uf(o?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new Zu(Xu.map,s),a,new Zu(Xu.break)]:[new Zu(Xu.map,s),a]}};cf.Map=cf.Object,cf.Buffer=cf.Uint8Array;for(const TE of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))cf[`${TE}Array`]=cf.DataView;function uf(e,t={},n){const r=Yu(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||cf[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=cf[r];if(!i)throw new Error(`CBOR encode error: unsupported type: ${r}`);return i(e,r,t,n)}function lf(e,t,n,r){if(Array.isArray(t))for(const o of t)lf(e,o,n,r);else n[t.type.major](e,t,r)}function ff(e,t,n){const r=uf(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new pl(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return ol(t.chunks[0])}}return of.reset(),lf(of,r,t,n),of.toBytes(!0)}Symbol.for("DONE"),Symbol.for("BREAK");var df=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=hf;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},hf=Math.pow(2,31);var pf=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var mf=Math.pow(2,7),yf=Math.pow(2,14),gf=Math.pow(2,21),vf=Math.pow(2,28),bf=Math.pow(2,35),wf=Math.pow(2,42),Ef=Math.pow(2,49),_f=Math.pow(2,56),Sf=Math.pow(2,63),Tf={encode:df,decode:pf,encodingLength:function(e){return e<mf?1:e<yf?2:e<gf?3:e<vf?4:e<bf?5:e<wf?6:e<Ef?7:e<_f?8:e<Sf?9:10}};const If=(e,t=0)=>[Tf.decode(e,t),Tf.decode.bytes],Nf=(e,t,n=0)=>(Tf.encode(e,t,n),t),Of=e=>Tf.encodingLength(e),kf=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Af{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var xf=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class Cf{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $f{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Df(this,e)}}class Rf{constructor(e){this.decoders=e}or(e){return Df(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Df=(e,t)=>new Rf({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Pf{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Cf(e,t,n),this.decoder=new $f(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const jf=({name:e,prefix:t,encode:n,decode:r})=>new Pf(e,t,n,r),Mf=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=xf(n,t);return jf({prefix:e,name:t,encode:r,decode:e=>kf(o(e))})},Lf=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>jf({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Uf=Mf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bf=(Mf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Lf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));Lf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Lf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Lf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Lf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Lf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Lf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Lf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class Ff{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Qf,byteLength:Qf,code:Wf,version:Wf,multihash:Wf,bytes:Wf,_baseCache:Qf,asCID:Qf})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==Gf)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Hf)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ff.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Of(e),o=r+Of(n),i=new Uint8Array(o+n);return Nf(e,i,0),Nf(n,i,r),i.set(t,o),new Af(e,n,t,i)})(e,t);return Ff.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return qf(t,r,e||Uf.encoder);default:return zf(t,r,e||Bf.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Yf(/^0\.0/,Xf),!(!e||!e[Jf]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ff)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new Ff(t,n,r,o||Kf(t,n,r.bytes))}if(null!=e&&!0===e[Jf]){const{version:t,multihash:n,code:r}=e,o=(e=>{const t=kf(e),[n,r]=If(t),[o,i]=If(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Af(n,o,s,t)})(n);return Ff.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Gf)throw new Error(`Version 0 CID must use dag-pb (code: ${Gf}) block encoding`);return new Ff(e,t,n,n.bytes);case 1:{const r=Kf(e,t,n.bytes);return new Ff(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Ff.create(0,Gf,e)}static createV1(e,t){return Ff.create(1,e,t)}static decode(e){const[t,n]=Ff.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Ff.inspectBytes(e),n=t.size-t.multihashSize,r=kf(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new Af(t.multihashCode,t.digestSize,o,r);return[0===t.version?Ff.createV0(i):Ff.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=If(e.subarray(t));return t+=r,n};let r=n(),o=Gf;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=Vf(e,t),o=Ff.decode(r);return o._baseCache.set(n,e),o}}const Vf=(e,t)=>{switch(e[0]){case"Q":{const n=t||Uf;return[Uf.prefix,n.decode(`${Uf.prefix}${e}`)]}case Uf.prefix:{const n=t||Uf;return[Uf.prefix,n.decode(e)]}case Bf.prefix:{const n=t||Bf;return[Bf.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},qf=(e,t,n)=>{const{prefix:r}=n;if(r!==Uf.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},zf=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},Gf=112,Hf=18,Kf=(e,t,n)=>{const r=Of(e),o=r+Of(t),i=new Uint8Array(o+n.byteLength);return Nf(e,i,0),Nf(t,i,r),i.set(n,o),i},Jf=Symbol.for("@ipld/js-cid/CID"),Wf={writable:!1,configurable:!1,enumerable:!0},Qf={writable:!1,enumerable:!1,configurable:!1},Yf=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Xf="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const Zf={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=Ff.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Zu(Xu.tag,42),new Zu(Xu.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const ed={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};ed.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ff.decode(e.subarray(1))};const td=e=>{return t=e,n=Zf,n=Object.assign({},nf,n),ff(t,rf,n);var t,n};var nd,rd=n(64225),od=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const id={anchor:!0,publish:!0,sync:tr.NEVER_SYNC,syncTimeoutSeconds:0},sd={anchor:!1,publish:!1,sync:tr.PREFER_CACHE},ad={sync:tr.PREFER_CACHE},cd={anchor:!0,publish:!0};async function ud(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function ld(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let fd=nd=class extends Ys{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){const e=this.state$.value.metadata;return{controller:e.controllers[0],model:e.model}}static async create(e,t,n,r={}){const o=(r={...id,...r}).asDID?{did:r.asDID}:e,i=await nd._makeGenesis(o,t,n);return e.createStreamFromGenesis(nd.STREAM_TYPE_ID,i,r)}static async single(e,t,n={}){const r=(n={...sd,...n}).asDID?{did:n.asDID}:e;t={...t,deterministic:!0};const o=await nd._makeGenesis(r,null,t);return e.createStreamFromGenesis(nd.STREAM_TYPE_ID,o,n)}static async load(e,t,n={}){n={...ad,...n};const r=Qs.from(t);if(r.type!=nd.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${nd.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}async replace(e,t={}){t={...cd,...t},dd(e);const n=t.asDID?{did:t.asDID}:this.api,r=await this._makeCommit(n,e),o=await this.api.applyCommit(this.id,r,t);this.state$.next(o.state)}async patch(e,t={}){t={...cd,...t},e.forEach((e=>{switch(e.op){case"add":case"replace":dd(e.value)}}));const n={data:e,prev:this.tip,id:this.id.cid},r=await nd._signDagJWS(this.api,n),o=await this.api.applyCommit(this.id,r,t);this.state$.next(o.state)}makeReadOnly(){this.replace=ld,this.patch=ld,this.sync=ld,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}_makeCommit(e,t){const n=this._makeRawCommit(t);return nd._signDagJWS(e,n)}_makeRawCommit(e){return{data:Oo.compare(this.content,e||{}),prev:this.tip,id:this.state.log[0].cid}}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return n.deterministic?(td(r),r):nd._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(!n.model)throw new Error("Must specify a 'model' when creating a ModelInstanceDocument");dd(t);let r=n.controller;if(!r){if(!e.did)throw new Error("No controller specified");await ud(e),r=e.did.hasParent?e.did.parent:e.did.id}const o={controllers:[r],model:n.model.bytes,sep:"model"};return n.deterministic||(o.unique=(0,Ms.randomBytes)(12)),{data:t,header:o}}static async _signDagJWS(e,t){return await ud(e),e.did.createDagJWS(t)}};function dd(e){if(e){const t=rd(e);if(t>fd.MAX_DOCUMENT_SIZE)throw new Error(`Content has length of ${t}B which exceeds maximum size of ${fd.MAX_DOCUMENT_SIZE}B`)}}fd.STREAM_TYPE_NAME="MID",fd.STREAM_TYPE_ID=3,fd.MAX_DOCUMENT_SIZE=16e6,fd=nd=od([e=>{}],fd);class hd{constructor(e){this._fetchJson=Jr,this._collectionURL=new URL("./collection",e),this._countURL=new URL("./collection/count",e)}async count(e){return(await this._fetchJson(this._countURL,{method:"POST",body:Yt(e)})).count}async query(e){const t=await this._fetchJson(this._collectionURL,{method:"POST",body:Yt(e)});return{edges:t.edges.map((e=>({cursor:e.cursor,node:yr.deserializeState(e.node)}))),pageInfo:t.pageInfo}}}class pd{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=Jr,this.getCodePath="./admin/getCode"}async buildJWS(e,t,n){if(!e)throw new Xt;const r=await e.createJWS({code:t,requestPath:n.pathname});return`${r.signatures[0].protected}.${r.payload}.${r.signatures[0].signature}`}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getBaseUrl(){return new URL("./admin/pins",this._apiUrl)}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async add(e,t){const n={};t&&(n.force=!0);const r=await this.generateCode(),o=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(o,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),r,this.getBaseUrl())}`},method:"post",body:n})}async rm(e,t){const n=await this.generateCode(),r=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(r,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`},method:"delete",body:{opts:t}})}async ls(e){let t=new URL("./admin/pins",this._apiUrl);e&&(t=new URL(`./admin/pins/${e.toString()}`,this._apiUrl));const n=await this.generateCode(),r=await this._fetchJson(t,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`}}),{pinnedStreamIds:o}=r;return{[Symbol.asyncIterator](){let e=0;return{next:()=>e===o.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:o[e++],done:!1})}}}}}class md{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=Jr,this.modelsPath="./admin/models",this.modelDataPath="./admin/modelData",this.getCodePath="./admin/getCode",this.nodeStatusPath="./admin/status",this._pinApi=new pd(this._apiUrl,this._getDidFn)}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getModelsUrl(){return new URL(this.modelsPath,this._apiUrl)}getModelDataUrl(){return new URL(this.modelDataPath,this._apiUrl)}getStatusUrl(){return new URL(this.nodeStatusPath,this._apiUrl)}async buildJWS(e,t,n,r){if(!e)throw new Xt;const o=await e.createJWS({code:t,requestPath:n,requestBody:r});return`${o.signatures[0].protected}.${o.payload}.${o.signatures[0].signature}`}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async nodeStatus(){const e=await this.generateCode();return this._fetchJson(this.getStatusUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getStatusUrl().pathname)}`}})}async startIndexingModels(e){const t=await this.generateCode(),n={models:e.map((e=>e.toString()))};await this._fetchJson(this.getModelsUrl(),{method:"post",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,n)}})}async startIndexingModelData(e){const t=await this.generateCode(),n={modelData:e.map((e=>({streamID:e.streamID.toString(),indices:e.indices})))};await this._fetchJson(this.getModelDataUrl(),{method:"post",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelDataUrl().pathname,n)}})}async getIndexedModels(){const e=await this.generateCode();return(await this._fetchJson(this.getModelsUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getModelsUrl().pathname)}`}})).models.map((e=>({streamID:Wt.fromString(e)})))}async getIndexedModelData(){const e=await this.generateCode();return(await this._fetchJson(this.getModelDataUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getModelDataUrl().pathname)}`}})).modelData.map((e=>({streamID:Wt.fromString(e.streamID),indices:e.indices})))}async stopIndexingModels(e){const t=await this.generateCode(),n={models:e.map((e=>e.toString()))};await this._fetchJson(this.getModelsUrl(),{method:"delete",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,n)}})}async stopIndexingModelData(e){const t=await this.generateCode(),n={modelData:e.map((e=>({streamID:e.streamID.toString()})))};await this._fetchJson(this.getModelDataUrl(),{method:"delete",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelDataUrl().pathname,n)}})}get pin(){return this._pinApi}}function yd(e){console.warn(`You are using the ceramic.pin.${e} API which has been removed and is now a no-op.  This operation will not have any affect.  If you want to change the pin state of streams please use the new ceramic.admin.pin API which requires a DID that has been granted admin access on the Ceramic node.`)}class gd{async add(){yd("add")}async ls(){yd("ls")}async rm(e,t){yd("ls")}}const vd={syncInterval:5e3},bd={anchor:!0,publish:!0,sync:tr.PREFER_CACHE},wd={anchor:!0,publish:!0,sync:tr.PREFER_CACHE},Ed={sync:tr.PREFER_CACHE};class _d{constructor(e="http://localhost:7007",t={}){this._config={...vd,...t},this._apiUrl=new URL("/api/v0/",e),this.context={api:this},this.pin=new gd,this.index=new hd(this._apiUrl);const n=(()=>this.did).bind(this);this.admin=new md(this._apiUrl,n),this._streamConstructors={[ma.STREAM_TYPE_ID]:ma,[Ju.STREAM_TYPE_ID]:Ju,[fd.STREAM_TYPE_ID]:fd,[sa.STREAM_TYPE_ID]:sa}}get did(){return this.context.did}set did(e){this.context.did=e}async createStreamFromGenesis(e,t,n={}){n={...wd,...n};const r=await Wr.createFromGenesis(this._apiUrl,e,t,n,this._config.syncInterval);return this.buildStreamFromDocument(r)}async loadStream(e,t={}){t={...Ed,...t};const n=Qs.from(e),r=await Wr.load(n,this._apiUrl,this._config.syncInterval,t);return this.buildStreamFromDocument(r)}async multiQuery(e,t){const n=e.map((e=>({...e,streamId:"string"===typeof e.streamId?e.streamId:e.streamId.toString()}))),r=new URL("./multiqueries",this._apiUrl),o=await Jr(r,{method:"post",body:{queries:n,timeout:t}});return Object.entries(o).reduce(((e,t)=>{const[n,r]=t,o=yr.deserializeState(r),i=new Wr(o,this._apiUrl,this._config.syncInterval);return e[n]=this.buildStreamFromDocument(i),e}),{})}loadStreamCommits(e){const t=Qt(e);return Wr.loadStreamCommits(t,this._apiUrl)}async applyCommit(e,t,n={}){n={...bd,...n};const r=Qt(e),o=await Wr.applyCommit(this._apiUrl,r,t,n,this._config.syncInterval);return this.buildStreamFromDocument(o)}async requestAnchor(e,t={}){t={...Ed,...t};const{anchorStatus:n}=await Jr(`${this._apiUrl}/streams/${e.toString()}/anchor`,{method:"post",body:{opts:t}});return n}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}buildStreamFromState(e){const t=new Wr(e,this._apiUrl,this._config.syncInterval);return this.buildStreamFromDocument(t)}buildStreamFromDocument(e){const t=e.state.type,n=this._streamConstructors[t];if(!n)throw new Error(`Failed to find constructor for stream ${t}`);return new n(e,this.context)}async setDID(e){this.context.did=e}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:e}=await Jr(this._apiUrl+"/node/chains");return this._supportedChains=e,e}async close(){}}async function Sd(e,t){const n=function(e){const{after:t,before:n,first:r,last:o,...i}=e;let s;if(null!=r?(s={first:r},null!=t&&(s.after=t)):null!=o&&(s={last:o},null!=n&&(s.before=n)),null==s)throw new Error('Missing "first" or "last" connection argument');return{...i,...s}}(t),r=await e.index.query(n);return function(e,t){return{edges:(t.edges??[]).map((({cursor:t,node:n})=>({cursor:t,node:n?e.buildStreamFromState(n):null}))),pageInfo:{...t.pageInfo,startCursor:t.pageInfo.startCursor??null,endCursor:t.pageInfo.endCursor??null}}}(e,r)}const Td=["greaterThan","greaterThanOrEqualTo"],Id=["lessThan","lessThanOrEqualTo"];function Nd(e){if(null==e)throw new Error("No value filter provided");const t=Object.keys(e);if(0===t.length)throw new Error("Invalid empty value filter");if(t.length>2)throw new Error("Too many conditions provided in value filter");if(2===t.length){if(n=t[0],r=t[1],Td.includes(n)&&Id.includes(r)||Td.includes(r)&&Id.includes(n))return;throw new Error("Invalid range conditions in value filter")}var n,r;const o=t[0],i=e[o];switch(o){case"in":case"notIn":if(!Array.isArray(i))throw new Error(`Invalid value for condition "${o}": must be an array`);return;case"isNull":case"equalTo":case"notEqualTo":return;default:if(Td.includes(o)||Id.includes(o))return;throw new Error(`Unexpected condition "${o}" in value filter`)}}function Od(e){if(null==e)throw new Error("No query filters provided");const t=Object.keys(e);if(1!==t.length)throw new Error("Invalid query filters: a single key must be provided");const n=t[0],r=e[n];if(null==r)throw new Error("Invalid query filters: missing filter value");switch(n){case"where":return void function(e){if(null==e)throw new Error("No object filter provided");const t=Object.values(e);if(0===t.length)throw new Error("Empty object filter");t.forEach(Nd)}(r);case"not":return void Od(r);case"and":case"or":if(!Array.isArray(r))throw new Error(`Invalid value for "${n}" filter: must be an array`);return void r.forEach(Od);default:throw new Error(`Invalid query filter type: expecting "where", "and", "or" or "not" key but got "${n}"`)}}function kd(e,t,n){const r={where:{[e]:{equalTo:t}}};return null==n?r:(Od(n),{and:[r,n]})}var Ad=n(45933);function xd(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Cd(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,xd(e,t,"get"))}function $d(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Rd(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,xd(e,t,"set"),n),n}function Dd(e){return"string"===typeof e?Qs.from(e).toString():e.toString()}const Pd=()=>Promise.resolve([]);var jd=new WeakMap,Md=new WeakMap;class Ld extends Ad{cache(e){if(!Cd(this,Md))return!1;const t=e.id.toString();return this.clear(t).prime(t,e),!0}async create(e,t,{controller:n,...r}={}){const o={controller:n,model:e instanceof Wt?e:Wt.fromString(e)},i=await fd.create(Cd(this,jd),t,o,r);return this.cache(i),i}async load(e){return await super.load(e)}async single(e,t,n){const r={controller:e,model:t instanceof Wt?t:Wt.fromString(t)},o=await fd.single(Cd(this,jd),r,n);return this.cache(o),o}async update(e,t,{replace:n,version:r,...o}={}){const i=Dd(e);this.clear(i);const s=await this.load(i);if(null!=r&&s.commitId.toString()!==r)throw new Error("Stream version mismatch");const a=n?t:{...s.content,...t};return await s.replace(a,o),s}constructor(e){super(Pd,{cache:!0,cacheKeyFn:Dd,cacheMap:null!=e.cache&&"boolean"!==typeof e.cache?e.cache:void 0}),$d(this,jd,{writable:!0,value:void 0}),$d(this,Md,{writable:!0,value:void 0}),this._batchLoadFn=async t=>{e.cache||this.clearAll();const n=await e.ceramic.multiQuery(t.map(Dd).map((e=>({streamId:e}))),e.multiqueryTimeout);return t.map((e=>{const t=Dd(e),r=n[t];return r||new Error(`Failed to load document: ${t}`)}))},Rd(this,jd,e.ceramic),Rd(this,Md,!!e.cache)}}function Ud(e){const{cache:t,ceramic:n,fallbackViewerID:r}=e,o=e.loader??new Ld({ceramic:n,cache:t});function i(){const e=n.did;return e?e.hasParent?e.parent:e.id:r??null}return{ceramic:n,loader:o,getViewerID:i,isAuthenticated:()=>n.did?.authenticated??!1,loadDoc:async(e,t=!1)=>(t&&o.clear(e),await o.load(e)),createDoc:async(e,t)=>await o.create(e,t),createSingle:async(e,t)=>{const n=i();if(null==n)throw new Error("Document can only be created with an authenticated account");const r=await o.single(n,e);return await r.replace(t),r},updateDoc:async(e,t,n)=>await o.update(e,t,n),queryConnection:async e=>await Sd(n,e),queryCount:async e=>await n.index.count(e),querySingle:async e=>await async function(e,t){const n={...t,last:1},r=(await e.index.query(n)).edges?.[0]?.node;return r?e.buildStreamFromState(r):null}(n,e)}}var Bd=n(24635),Fd=n(74296),Vd=n(84275),qd=n(3801),zd=n(4454),Gd=n(97359),Hd=n(55944),Kd=n(28087);function Jd(e,t){return Hd.A.major>=17?new Kd.__(e,t):new Kd.__(e,null===t||void 0===t?void 0:t.nodes,null===t||void 0===t?void 0:t.source,null===t||void 0===t?void 0:t.positions,null===t||void 0===t?void 0:t.path,null===t||void 0===t?void 0:t.originalError,null===t||void 0===t?void 0:t.extensions)}const Wd=/^(AD|AE|AF|AG|AI|AL|AM|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BL|BM|BN|BO|BQ|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CF|CG|CH|CI|CK|CL|CM|CN|CO|CR|CU|CV|CW|CX|CY|CZ|DE|DJ|DK|DM|DO|DZ|EC|EE|EG|EH|ER|ES|ET|FI|FJ|FK|FM|FO|FR|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MF|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|SS|ST|SV|SX|SY|SZ|TC|TD|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TR|TT|TV|TW|TZ|UA|UG|UM|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|YE|YT|ZA|ZM|ZW)$/i,Qd=(e,t)=>{if("string"!==typeof e)throw Jd(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Wd.test(e))throw Jd(`Value is not a valid country code: ${e}`,t?{nodes:t}:void 0);return e},Yd=new zd.n2({name:"CountryCode",description:"A country code as defined by ISO 3166-1 alpha-2",serialize:e=>Qd(e),parseValue:e=>Qd(e),parseLiteral(e){if(e.kind!==Gd.h.STRING)throw Jd(`Can only validate strings as country codes but got a: ${e.kind}`,{nodes:[e]});return Qd(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"CountryCode",type:"string",pattern:Wd.source}}}),Xd=/^did:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*$/,Zd=(e,t)=>{if("string"!==typeof e)throw Jd(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Xd.test(e))throw Jd(`Value is not a valid DID: ${e}`,t?{nodes:t}:void 0);return e},eh="https://www.w3.org/TR/did-core/",th={name:"DID",description:"A field whose value conforms to the standard DID format as specified in did-core: https://www.w3.org/TR/did-core/.",serialize:Zd,parseValue:Zd,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw Jd(`Can only validate strings as DID but got a: ${e.kind}`,{nodes:e});return Zd(e.value,e)},specifiedByURL:eh,specifiedByUrl:eh,extensions:{codegenScalarType:"string",jsonSchema:{title:"DID",type:"string",pattern:Xd.source}}},nh=new zd.n2(th),rh=/^(-|\+)?P(?!$)((-|\+)?\d+(?:(\.|,)\d+)?Y)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?W)?((-|\+)?\d+(?:(\.|,)\d+)?D)?(T(?=(-|\+)?\d)((-|\+)?\d+(?:(\.|,)\d+)?H)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?S)?)?$/,oh={name:"Duration",description:"\n    A string representing a duration conforming to the ISO8601 standard,\n    such as: P1W1DT13H23M34S\n    P is the duration designator (for period) placed at the start of the duration representation.\n    Y is the year designator that follows the value for the number of years.\n    M is the month designator that follows the value for the number of months.\n    W is the week designator that follows the value for the number of weeks.\n    D is the day designator that follows the value for the number of days.\n    T is the time designator that precedes the time components of the representation.\n    H is the hour designator that follows the value for the number of hours.\n    M is the minute designator that follows the value for the number of minutes.\n    S is the second designator that follows the value for the number of seconds.\n\n    Note the time designator, T, that precedes the time value.\n\n    Matches moment.js, Luxon and DateFns implementations\n    ,/. is valid for decimal places and +/- is a valid prefix\n  ",serialize(e){if("string"!==typeof e)throw Jd(`Value is not string: ${e}`);if(!rh.test(e))throw Jd(`Value is not a valid ISO Duration: ${e}`);return e},parseValue(e){if("string"!==typeof e)throw Jd(`Value is not string: ${e}`);if(!rh.test(e))throw Jd(`Value is not a valid ISO Duration: ${e}`);return e},parseLiteral(e){if(e.kind!==Gd.h.STRING)throw Jd(`Can only validate strings as ISO Durations but got a: ${e.kind}`,{nodes:e});if(!rh.test(e.value))throw Jd(`Value is not a valid ISO Duration: ${e.value}`,{nodes:e});return e.value},extensions:{codegenScalarType:"string",jsonSchema:{title:"Duration",type:"string",pattern:rh.source}}},ih=new zd.n2({...oh,name:"Duration"});var sh,ah;!function(e){e[e.NEGATIVE=0]="NEGATIVE",e[e.NON_NEGATIVE=1]="NON_NEGATIVE",e[e.POSITIVE=2]="POSITIVE",e[e.NON_POSITIVE=3]="NON_POSITIVE"}(sh||(sh={})),function(e){e[e.INT=0]="INT",e[e.FLOAT=1]="FLOAT"}(ah||(ah={}));const ch=/^([0-9]{1,3})\xb0\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['\u2032]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["\u2033]\s*)?([NEOSW]?)$/;sh.NON_POSITIVE,ah.INT,sh.POSITIVE,ah.INT,sh.NON_NEGATIVE,ah.INT,sh.NEGATIVE,ah.INT,sh.NON_POSITIVE,ah.FLOAT,sh.POSITIVE,ah.FLOAT,sh.NON_NEGATIVE,ah.FLOAT,sh.NEGATIVE,ah.FLOAT;function uh(e){const t=e.toString().trim();return!Number.isNaN(Number.parseFloat(t))&&Number.parseFloat(t)===Number(t)}function lh(e){return"string"===typeof e&&ch.test(e.toString().trim())}function fh(e){const t=ch.exec(e);if("undefined"===typeof t||null===t)throw Jd(`Value is not in sexagesimal format: ${e}`);const n=Number(t[2])/60||0,r=Number(t[4])/3600||0,o=Number.parseFloat(t[1])+n+r;return["S","W"].includes(t[7])?-o:o}const dh=(e,t)=>{if("string"!==typeof e&&"number"!==typeof e||null===e||"undefined"===typeof e||Number.isNaN(e))throw Jd(`Value is neither a number nor a string: ${e}`,t?{nodes:t}:void 0);if(uh(e)){const n="string"===typeof e?Number.parseFloat(e):e;if(n<-90||n>90)throw Jd(`Value must be between -90 and 90: ${e}`,t?{nodes:t}:void 0);return Number.parseFloat(n.toFixed(8))}if(lh(e))return dh(fh(e));throw Jd(`Value is not a valid latitude: ${e}`,t?{nodes:t}:void 0)},hh=new zd.n2({name:"Latitude",description:"A field whose value is a valid decimal degrees latitude number (53.471): https://en.wikipedia.org/wiki/Latitude",serialize:e=>dh(e),parseValue:e=>dh(e),parseLiteral(e){if(e.kind!==Gd.h.FLOAT&&e.kind!==Gd.h.STRING)throw Jd(`Can only validate floats or strings as latitude but got a: ${e.kind}`,{nodes:[e]});return dh(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"Latitude",type:"number",minimum:-90,maximum:90}}}),ph=/^\d{4}-\d{2}-\d{2}$/;function mh(e,t){if("string"!==typeof e)throw Jd(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!ph.test(e))throw Jd(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);const n=new Date(e);if(!!isNaN(n.getTime()))throw Jd(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);if(!(n.toISOString()===`${e}T00:00:00.000Z`))throw Jd(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);return e}const yh=new zd.n2({name:"LocalDate",description:"A local date string (i.e., with no associated timezone) in `YYYY-MM-DD` format, e.g. `2020-01-01`.",serialize:e=>mh(e),parseValue:e=>mh(e),parseLiteral(e){if(e.kind!==Gd.h.STRING)throw Jd(`Can only validate strings as local dates but got a: ${e.kind}`,{nodes:e});return mh(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalDate",type:"string",pattern:ph.source}}}),gh=/^(((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+))$/;function vh(e,t){if(!e)throw Jd(`Value is not a valid string. Received: ${e}`,t?{nodes:t}:void 0);if(!gh.test(e))throw Jd(`Value is not a valid BCP-47 standard formatted string. Received: ${e}`,t?{nodes:t}:void 0);return e}const bh=new zd.n2({name:"Locale",description:"The locale in the format of a BCP 47 (RFC 5646) standard string",serialize:vh,parseValue:vh,parseLiteral(e){if(e.kind===Gd.h.STRING)return vh(e.value,e);throw Jd(`Value is not a string. Received: ${e.kind}`,{nodes:e})},extensions:{codegenScalarType:"string",jsonSchema:{title:"Locale",type:"string",pattern:gh.source}}}),wh=/^([0-1][0-9]|2[0-3]):([0-5][0-9])(:[0-5][0-9](\.\d{3})?)?$/;function Eh(e,t){if("string"!==typeof e)throw Jd(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!wh.test(e))throw Jd(`Value is not a valid LocalTime: ${e}`,t?{nodes:t}:void 0);return e}const _h=new zd.n2({name:"LocalTime",description:"A local time string (i.e., with no associated timezone) in 24-hr `HH:mm[:ss[.SSS]]` format, e.g. `14:25` or `14:25:06` or `14:25:06.123`.",serialize:e=>Eh(e),parseValue:e=>Eh(e),parseLiteral(e){if(e.kind!==Gd.h.STRING)throw Jd(`Can only validate strings as local times but got a: ${e.kind}`,{nodes:e});return Eh(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalTime",type:"string",pattern:wh.source}}}),Sh=-180,Th=(e,t)=>{if("string"!==typeof e&&"number"!==typeof e||null===e||"undefined"===typeof e||Number.isNaN(e))throw Jd(`Value is neither a number nor a string: ${e}`,t?{nodes:t}:void 0);if(uh(e)){const n="string"===typeof e?Number.parseFloat(e):e;if(n<Sh||n>180)throw Jd(`Value must be between -180 and 180: ${e}`,t?{nodes:t}:void 0);return Number.parseFloat(n.toFixed(8))}if(lh(e))return Th(fh(e));throw Jd(`Value is not a valid longitude: ${e}`,t?{nodes:t}:void 0)},Ih=new zd.n2({name:"Longitude",description:"A field whose value is a valid decimal degrees longitude number (53.471): https://en.wikipedia.org/wiki/Longitude",serialize:e=>Th(e),parseValue:e=>Th(e),parseLiteral(e){if(e.kind!==Gd.h.FLOAT&&e.kind!==Gd.h.STRING)throw Jd(`Can only validate floats or strings as longitude but got a: ${e.kind}`,{nodes:[e]});return Th(e.value,e)},extensions:{codegenScalarType:"string | number",jsonSchema:{type:"number",minimum:Sh,maximum:180}}}),Nh=(e,t)=>{if(!(null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat().resolvedOptions().timeZone))throw Jd("Time zones are not available in this environment",t?{nodes:t}:void 0);try{return Intl.DateTimeFormat(void 0,{timeZone:e}),e}catch(n){throw n instanceof RangeError?Jd(`Value is not a valid IANA time zone: ${e}`,t?{nodes:t}:void 0):Jd("Could not validate time zone.",t?{nodes:t}:void 0)}},Oh=new zd.n2({name:"TimeZone",description:"A field whose value exists in the standard IANA Time Zone Database: https://www.iana.org/time-zones",serialize:Nh,parseValue:Nh,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw Jd(`Can only sanitize time zone strings, but got: ${e.kind}`);return Nh(e.value)},extensions:{codegenScalarType:"string",jsonSchema:{title:"TimeZone",type:"string",pattern:"^(?:[A-Za-z0-9_]|(?:%[0-9A-Fa-f]{2}))+"}}}),kh=/^([+-]?)(\d{2}):(\d{2})$/,Ah=(e,t)=>{if("string"!==typeof e)throw Jd(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!kh.test(e))throw Jd(`Value is not a valid UTC Offset: ${e}`,t?{nodes:t}:void 0);return e},xh=new zd.n2({name:"UtcOffset",description:"A field whose value is a UTC Offset: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",serialize:Ah,parseValue:Ah,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw Jd(`Can only validate strings as UTC Offset but got a: ${e.kind}`,{nodes:e});return Ah(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"UtcOffset",type:"string",pattern:kh.source}}});function Ch(e){return Ks.fromString(e).toString()}function $h(e){return Wt.fromString(e).toString()}const Rh=new zd.n2({name:"CeramicCommitID",description:"A Ceramic Commit ID",specifiedByURL:"https://github.com/ceramicnetwork/CIP/blob/main/CIPs/CIP-59/CIP-59.md#commitid",serialize:Ch,parseValue:Ch,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw new Kd.__(`Can only validate strings as CommitID but got a: ${e.kind}`);return Ch(e.value)}}),Dh=new zd.n2({name:"CeramicStreamID",description:"A Ceramic Stream ID",specifiedByURL:"https://github.com/ceramicnetwork/CIP/blob/main/CIPs/CIP-59/CIP-59.md#streamid",serialize:$h,parseValue:$h,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw new Kd.__(`Can only validate strings as StreamID but got a: ${e.kind}`);return $h(e.value)}});function Ph(e){return new ca.hX(e).toString()}function jh(e){return new ca.a_(e).toString()}const Mh=new zd.n2({name:"ChainAgnosticAccountID",description:"A Chain Agnostic AccountId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md",serialize:Ph,parseValue:Ph,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw new Kd.__(`Can only validate strings as ChainAgnosticAccountID but got a: ${e.kind}`);return Ph(e.value)}}),Lh=new zd.n2({name:"ChainAgnosticChainID",description:"A Chain Agnostic ChainId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md",serialize:jh,parseValue:jh,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw new Kd.__(`Can only validate strings as ChainAgnosticAccountID but got a: ${e.kind}`);return jh(e.value)}});function Uh(e){e=e?.toUpperCase();return/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(e)}function Bh(e){if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))$/.test(e))return!1;const t=Number(e.substring(0,4)),n=Number(e.substring(5,2)),r=Number(e.substring(8,2));switch(n){case 2:return!((t%4===0&&t%100!==0||t%400===0)&&r>29)&&!((t%4===0&&t%100!==0||t%400===0)&&r>28);case 4:case 6:case 9:case 11:if(r>30)return!1}return!0}function Fh(e){e=e?.toUpperCase();if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60))(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(e))return!1;const t=Date.parse(e);if(Number.isNaN(t))return!1;const n=e.indexOf("T"),r=e.substring(0,n),o=e.substring(n+1);return Bh(r)&&Uh(o)}const Vh=new zd.n2({name:"Date",description:"A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:e=>{if("string"===typeof e&&Bh(e))return e;throw new TypeError(`Date cannot represent an invalid date-string ${String(e)}.`)},parseValue:e=>{if("string"===typeof e&&Bh(e))return e;throw new TypeError(`Date cannot represent an invalid date-string ${String(e)}.`)},parseLiteral:e=>{if(e.kind!==Gd.h.STRING)throw new TypeError("Date cannot represent non string or Date type");const{value:t}=e;if(Bh(t))return t;throw new TypeError(`Date cannot represent an invalid date-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date"}}}),qh=new zd.n2({name:"DateTime",description:"A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:e=>{if("string"===typeof e&&Fh(e)){if(-1!==e.indexOf("Z"))return e;throw new TypeError(`DateTime string must be formatted to UTC time ${String(e)}.`)}throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(e)}.`)},parseValue:e=>{if("string"===typeof e&&Fh(e))return e;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(e)}.`)},parseLiteral:e=>{if(e.kind!==Gd.h.STRING)throw new TypeError("DateTime cannot represent non string or Date type");const{value:t}=e;if(Fh(t))return t;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date-time"}}}),zh=new zd.n2({name:"Time",description:"A time string at UTC, such as 10:15:30Z, compliant with the `full-time` format outlined in section 5.6 of the RFC 3339profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize(e){if(e instanceof Date){const t=e.toISOString();return t.substring(t.indexOf("T")+1)}if("string"===typeof e){if(Uh(e))return e;throw new TypeError(`Time cannot represent an invalid time-string ${e}.`)}throw new TypeError("Time cannot be serialized from a non string, or non Date type "+JSON.stringify(e))},parseValue(e){if("string"!==typeof e)throw new TypeError(`Time cannot represent non string type ${JSON.stringify(e)}`);if(Uh(e))return e;throw new TypeError(`Time cannot represent an invalid time-string ${e}.`)},parseLiteral(e){if(e.kind!==Gd.h.STRING)throw new TypeError(`Time cannot represent non string type: ${e.kind}`);const t=e.value;if(Uh(t))return t;throw new TypeError(`Time cannot represent an invalid time-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"time"}}});var Gh=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const Hh=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class Kh{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Jh{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Qh(this,e)}}class Wh{constructor(e){this.decoders=e}or(e){return Qh(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Qh=(e,t)=>new Wh({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Yh{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Kh(e,t,n),this.decoder=new Jh(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Xh=({name:e,prefix:t,encode:n,decode:r})=>new Yh(e,t,n,r),Zh=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=Gh(n,t);return Xh({prefix:e,name:t,encode:r,decode:e=>Hh(o(e))})},ep=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Xh({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),tp=ep({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),np=(ep({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ep({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ep({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ep({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ep({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ep({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ep({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ep({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Zh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));Zh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var rp=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=op;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},op=Math.pow(2,31);var ip=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var sp=Math.pow(2,7),ap=Math.pow(2,14),cp=Math.pow(2,21),up=Math.pow(2,28),lp=Math.pow(2,35),fp=Math.pow(2,42),dp=Math.pow(2,49),hp=Math.pow(2,56),pp=Math.pow(2,63),mp={encode:rp,decode:ip,encodingLength:function(e){return e<sp?1:e<ap?2:e<cp?3:e<up?4:e<lp?5:e<fp?6:e<dp?7:e<hp?8:e<pp?9:10}};const yp=(e,t=0)=>[mp.decode(e,t),mp.decode.bytes],gp=(e,t,n=0)=>(mp.encode(e,t,n),t),vp=e=>mp.encodingLength(e);class bp{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const wp=(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return Ip(n,_p(e),t||np.encoder);default:return Np(n,_p(e),t||tp.encoder)}},Ep=new WeakMap,_p=e=>{const t=Ep.get(e);if(null==t){const t=new Map;return Ep.set(e,t),t}return t};class Sp{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==Op)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==kp)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Sp.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=vp(e),o=r+vp(n),i=new Uint8Array(o+n);return gp(e,i,0),gp(n,i,r),i.set(t,o),new bp(e,n,t,i)})(e,t);return Sp.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Sp.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&((e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(e.bytes,n.bytes)}})(e.multihash,n.multihash)}toString(e){return wp(this,e)}toJSON(){return{"/":wp(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof Sp)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new Sp(e,n,r,o||Ap(e,n,r.bytes))}if(!0===t[xp]){const{version:e,multihash:n,code:r}=t,o=(e=>{const t=Hh(e),[n,r]=yp(t),[o,i]=yp(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new bp(n,o,s,t)})(n);return Sp.create(e,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==Op)throw new Error(`Version 0 CID must use dag-pb (code: ${Op}) block encoding`);return new Sp(e,t,n,n.bytes);case 1:{const r=Ap(e,t,n.bytes);return new Sp(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Sp.create(0,Op,e)}static createV1(e,t){return Sp.create(1,e,t)}static decode(e){const[t,n]=Sp.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Sp.inspectBytes(e),n=t.size-t.multihashSize,r=Hh(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new bp(t.multihashCode,t.digestSize,o,r);return[0===t.version?Sp.createV0(i):Sp.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=yp(e.subarray(t));return t+=r,n};let r=n(),o=Op;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=Tp(e,t),o=Sp.decode(r);if(0===o.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return _p(o).set(n,e),o}}const Tp=(e,t)=>{switch(e[0]){case"Q":{const n=t||np;return[np.prefix,n.decode(`${np.prefix}${e}`)]}case np.prefix:{const n=t||np;return[np.prefix,n.decode(e)]}case tp.prefix:{const n=t||tp;return[tp.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Ip=(e,t,n)=>{const{prefix:r}=n;if(r!==np.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},Np=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},Op=112,kp=18,Ap=(e,t,n)=>{const r=vp(e),o=r+vp(t),i=new Uint8Array(o+n.byteLength);return gp(e,i,0),gp(t,i,r),i.set(n,o),i},xp=Symbol.for("@ipld/js-cid/CID");function Cp(e){const t="string"===typeof e?Sp.parse(e):Sp.asCID(e);if(null==t)throw new Kd.__(`Could not parse input as CID: ${e}`);return t.toV1().toString()}const $p=new zd.n2({name:"InterPlanetaryCID",description:"A IPLD CID",specifiedByURL:"https://github.com/multiformats/cid",serialize:Cp,parseValue:Cp,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw new Kd.__(`Can only validate strings as CID but got a: ${e.kind}`);return Cp(e.value)}}),Rp=new zd.n2({name:"URI",description:"A field whose value conforms to the standard Uniform Resource Identifier (URI) format as specified in RFC3986.",specifiedByURL:"https://www.ietf.org/rfc/rfc3986.txt",parseValue:e=>e,parseLiteral(e){if(e.kind!==Gd.h.STRING)throw new Kd.__(`Can only validate strings as URIs but got a: ${e.kind}`);return e.value},extensions:{jsonSchema:{type:"string",format:"uri"}}}),Dp={accountid:Mh,boolean:qd.EZ,chainid:Lh,cid:$p,commitid:Rh,countrycode:Yd,date:Vh,datetime:qh,did:nh,duration:ih,float:qd.av,id:qd.km,integer:qd._o,latitude:hh,localdate:yh,locale:bh,localtime:_h,longitude:Ih,streamid:Dh,string:qd.kH,time:zh,timezone:Oh,uri:Rp,utcoffset:xh},Pp=Object.keys(Dp);function jp(e){if(function(e){return Pp.includes(e)}(e))return Dp[e];throw new Error(`Unsupported scalar type: ${e}`)}var Mp=n(19655),Lp=n(59678),Up=n(78863);function Bp(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Fp(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Bp(e,t,"get"))}function Vp(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function qp(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Bp(e,t,"set"),n),n}const zp=["meta","reference","list","view"];function Gp(e){return!zp.includes(e.type)}const Hp=["enum","node"];function Kp(e){return"reference"===e.type&&Hp.includes(e.refType)}const Jp={...Up.Zd,account:{type:qd.km,description:"Returns only documents created by the provided account"}},Wp=new zd.sR({name:"UpdateOptionsInput",fields:{replace:{type:qd.EZ,defaultValue:!1,description:"Fully replace the document contents instead of performing a shallow merge"},version:{type:Rh,description:"Only perform mutation if the document matches the provided version"}}}),Qp=new zd.mR({name:"SortOrder",values:{ASC:{value:"ASC"},DESC:{value:"DESC"}}});function Yp(e){return new zd.sR({name:`${e.name}ValueFilterInput`,fields:{isNull:{type:qd.EZ},equalTo:{type:e},notEqualTo:{type:e},in:{type:new zd.p2(new zd.bM(e))},notIn:{type:new zd.p2(new zd.bM(e))}}})}function Xp(e){return new zd.sR({name:`${e.name}ValueFilterInput`,fields:{isNull:{type:qd.EZ},equalTo:{type:e},notEqualTo:{type:e},in:{type:new zd.p2(new zd.bM(e))},notIn:{type:new zd.p2(new zd.bM(e))},lessThan:{type:e},lessThanOrEqualTo:{type:e},greaterThan:{type:e},greaterThanOrEqualTo:{type:e}}})}const Zp={BooleanValueFilter:new zd.sR({name:"BooleanValueFilterInput",fields:{isNull:{type:qd.EZ},equalTo:{type:qd.EZ}}}),FloatValueFilter:Xp(qd.av),IntValueFilter:Xp(qd._o),StringValueFilter:Xp(qd.kH)},em={boolean:"BooleanValueFilter",float:"FloatValueFilter",integer:"IntValueFilter",string:"StringValueFilter"};var tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,om=new WeakMap,im=new WeakMap,sm=new WeakMap;class am{build(){this._buildEnums();const e=this._createSharedDefinitions();this._buildObjects(e),this._buildConnections();const t=this._createSchema(e);return(0,Mp.J)(t),t}_createSharedDefinitions(){const e=(0,Up.SX)((async(e,t)=>e.startsWith("did:")?e:await t.loadDoc(e)),(e=>"string"===typeof e?"CeramicAccount":Fp(this,sm)[e.metadata.model?.toString()])),t=new zd.h6({name:"CeramicAccount",interfaces:[e.nodeInterface],fields:()=>{const e={id:{type:new zd.bM(qd.km),description:"Globally unique identifier of the account (DID string)",resolve:e=>e},isViewer:{type:new zd.bM(qd.EZ),description:"Whether the Ceramic instance is currently authenticated with this account or not",resolve:(e,t,n)=>n.isAuthenticated()&&n.getViewerID()===e}};for(const[t,n]of Object.entries(Fp(this,tm).accountData??{})){const r=Fp(this,tm).models[n.name];if(null==r)throw new Error(`Missing model for reference name: ${n.name}`);if("node"===n.type)e[t]={type:Fp(this,rm)[n.name],resolve:async(e,t,n)=>await n.querySingle({account:e,model:r.id})};else{if("connection"!==n.type)throw new Error(`Unsupported reference type: ${n.type}`);{const o=Fp(this,om)[`${n.name}Filters`],i=Fp(this,om)[`${n.name}Sorting`],s={...Up.Zd};o&&i&&(s.filters={type:o},s.sorting={type:i}),e[t]={type:Fp(this,rm)[`${n.name}Connection`],args:s,resolve:async(e,{filters:t,...n},o)=>(null!=t&&Od(t),await o.queryConnection({...n,queryFilters:t,account:e,model:r.id}))},e[`${t}Count`]={type:new zd.bM(qd._o),args:o?{filters:{type:o}}:{},resolve:async(e,{filters:t},n)=>(null!=t&&Od(t),await n.queryCount({queryFilters:t,account:e,model:r.id}))}}}}return e}}),n={node:e.nodeField,viewer:{type:t,description:"Account currently authenticated on the Ceramic instance, if set",resolve:(e,t,n)=>n.getViewerID()}};return{...e,accountObject:t,queryFields:n}}_buildEnums(){for(const[e,t]of Object.entries(Fp(this,tm).enums))Fp(this,rm)[e]=new zd.mR({name:e,values:t.reduce(((e,t)=>(e[t]={value:t},e)),{})})}_buildObjects(e){for(const[t,n]of Object.entries(Fp(this,tm).objects))this._buildObjectType({definitions:e,name:t,fields:n})}_buildObjectType(e){const t=Fp(this,tm).models[e.name];return t?this._buildDocumentObjectType({model:t,...e}):this._buildEmbeddedObjectType(e)}_buildDocumentObjectType({model:e,definitions:t,name:n,fields:r}){Fp(this,rm)[n]=new zd.h6({name:n,interfaces:[t.nodeInterface],isTypeOf:t=>t.metadata.model.toString()===e.id,fields:()=>{const e={id:{type:new zd.bM(qd.km),resolve:e=>e.id.toString()}};for(const[n,o]of Object.entries(r))switch(o.type){case"meta":continue;case"reference":e[n]=this._buildDocumentObjectReferenceField(n,o);break;case"list":e[n]={type:this._buildObjectListFieldType(t,o),resolve:e=>e.content?.[n]};break;case"view":{const i=this._buildDocumentObjectViewField(n,t,o,r);i&&(e[n]=i);break}default:e[n]={type:this._buildScalarFieldType(t,o),resolve:e=>e.content?.[n]}}return e}}),this._buildFiltersType(n,r),this._buildSortingType(n,r),Fp(this,nm)||(this._buildInputObjectType(n,r),this._buildNodeMutations(t.queryFields,n,e))}_buildEmbeddedObjectType({definitions:e,name:t,fields:n}){Fp(this,rm)[t]=new zd.h6({name:t,fields:()=>{const r={};for(const[o,i]of Object.entries(n))switch(i.type){case"meta":continue;case"reference":r[o]=this._buildEmbeddedObjectReferenceField(o,i);break;case"list":r[o]={type:this._buildObjectListFieldType(e,i),resolve:e=>e[o]};break;case"view":throw new Error(`Unsupported view field ${o} on embedded object ${t}`);default:r[o]={type:this._buildScalarFieldType(e,i),resolve:e=>e[o]}}return r}}),Fp(this,nm)||this._buildInputObjectType(t,n)}_buildConnections(){for(const e of Object.keys(Fp(this,tm).models)){const t=Fp(this,rm)[e];if(null==t)throw new Error(`Missing object type for connection: ${e}`);const{connectionType:n,edgeType:r}=(0,Up.Tr)({nodeType:t});Fp(this,rm)[`${e}Connection`]=n,Fp(this,rm)[`${e}Edge`]=r}}_buildDocumentObjectReferenceField(e,t){const n="connection"===t.refType?t.refName+"Connection":t.refName,r=Fp(this,rm)[n];if(null==r)throw new Error(`Missing type: ${n}`);const o=t.required?new zd.bM(r):r;switch(t.refType){case"connection":return{type:o,args:Up.Zd,resolve:(e,t,n)=>{throw new Error("Not implemented")}};case"node":return{type:o,args:Up.Zd,resolve:async(t,n,r)=>await r.loadDoc(t.content[e])};case"enum":case"object":return{type:o,resolve:t=>t.content[e]};default:throw new Error(`Unsupported reference type on document object: ${t.refType}`)}}_buildEmbeddedObjectReferenceField(e,t){const n=Fp(this,rm)[t.refName];if(null==n)throw new Error(`Missing type: ${t.refName}`);const r=t.required?new zd.bM(n):n;switch(t.refType){case"enum":case"object":return{type:r,resolve:t=>t[e]};default:throw new Error(`Unsupported reference type on embedded object: ${t.refType}`)}}_buildObjectListFieldType(e,t){let n;if("reference"===t.item.type){if(n=Fp(this,rm)[t.item.refName],null==n)throw new Error(`Missing referenced object type: ${t.item.refName}`)}else n="did"===t.item.type?e.accountObject:jp(t.item.type);t.item.required&&(n=new zd.bM(n));const r=new zd.p2(n);return t.required?new zd.bM(r):r}_buildDocumentObjectRelation(e,t,n){const r=Fp(this,sm)[t.model];if(null==r)throw new Error(`Model alias not found for relation with ID ${t.model} on field ${e}`);switch(t.source){case"document":if(null==n[t.property])throw new Error(`Missing reference field ${t.property} for relation defined on field ${e}`);return{type:Fp(this,rm)[r],resolve:async(e,n,r)=>{const o=e.content?.[t.property];if(null==o)return null;const i=await r.loadDoc(o);if(null==i)return null;const s=i.metadata.model.toString();return null!=t.model&&s!==t.model?(console.warn(`Ignoring unexpected model ${s} for document ${o}, expected model ${t.model}`),null):i}};case"queryConnection":{const e=Fp(this,om)[`${r}Filters`],n=Fp(this,om)[`${r}Sorting`],o={...Jp};return e&&n&&(o.filters={type:e},o.sorting={type:n}),{type:new zd.bM(Fp(this,rm)[`${r}Connection`]),args:o,resolve:async(e,n,r)=>{const o="documentAccount"===n.account?e.metadata.controller:n.account,i=kd(t.property,e.id.toString(),n.filters);return await r.queryConnection({...n,account:o,model:t.model,queryFilters:i})}}}case"queryCount":{const e=Fp(this,om)[`${r}Filters`],n={account:{type:qd.km,description:"Counts only documents created by the provided account"}};return e&&(n.filters={type:e}),{type:new zd.bM(qd._o),args:n,resolve:async(e,n,r)=>{const o="documentAccount"===n.account?e.metadata.controller:n.account,i=kd(t.property,e.id.toString(),n.filters);return await r.queryCount({account:o,model:t.model,queryFilters:i})}}}default:throw new Error(`Unsupported relation source: ${t.source}`)}}_buildDocumentObjectViewField(e,t,n,r){switch(n.viewType){case"documentAccount":return{type:new zd.bM(t.accountObject),description:"Account controlling the document",resolve:e=>e.metadata.controller};case"documentVersion":return{type:new zd.bM(Rh),description:"Current version of the document",resolve:e=>e.commitId.toString()};case"relation":return this._buildDocumentObjectRelation(e,n.relation,r);default:throw new Error(`Unsupported view type: ${n.viewType}`)}}_buildScalarFieldType(e,t){const n="did"===t.type?e.accountObject:jp(t.type);return t.required?new zd.bM(n):n}_buildFiltersType(e,t){const n=`${e}ObjectFilter`,r=`${e}Filters`,o={};for(const[i,s]of Object.entries(t)){let e;if("reference"===s.type&&s.indexed)if("enum"===s.refType){e=Yp(Fp(this,rm)[s.refName]),Fp(this,om)[e.name]=e}else"node"===s.refType&&(e=Fp(this,om).StringValueFilter);else Gp(s)&&s.indexed&&(e=Fp(this,om)[em[s.type]??"StringValueFilter"]);null!=e&&(o[i]={type:e})}Object.keys(o).length>0&&(Fp(this,om)[n]=new zd.sR({name:`${n}Input`,fields:()=>o}),Fp(this,om)[r]=new zd.sR({name:`${r}Input`,fields:()=>({where:{type:Fp(this,om)[n]},and:{type:new zd.p2(new zd.bM(Fp(this,om)[r]))},or:{type:new zd.p2(new zd.bM(Fp(this,om)[r]))},not:{type:Fp(this,om)[r]}})}))}_buildSortingType(e,t){const n=`${e}Sorting`,r={};for(const[o,i]of Object.entries(t))(Kp(i)||Gp(i))&&i.indexed&&(r[o]={type:Qp});Object.keys(r).length>0&&(Fp(this,om)[n]=new zd.sR({name:`${n}Input`,fields:()=>r}))}_buildInputObjectType(e,t){const n=null!=Fp(this,tm).models[e],r=e=>{const r={},o=n||e?"":"Partial";for(const[n,i]of Object.entries(t)){let t;switch(i.type){case"meta":case"view":continue;case"reference":switch(i.refType){case"connection":continue;case"enum":t=Fp(this,rm)[i.refName];break;case"node":t=qd.km;break;case"object":if(t=Fp(this,om)[o+i.refName],null==t)throw new Error(`Missing referenced input type: ${o+i.refName}`)}break;case"list":{let e;if("reference"===i.item.type){if(e=Fp(this,om)[o+i.item.refName],null==e)throw new Error(`Missing referenced input type: ${o+i.item.refName}`)}else e=jp(i.item.type);t=new zd.p2(e);break}default:t=jp(i.type)}null!=t&&(r[n]={type:e&&i.required?new zd.bM(t):t})}return r};Fp(this,om)[e]=new zd.sR({name:`${e}Input`,fields:()=>r(!0)}),n&&(Fp(this,om)[`Partial${e}`]=new zd.sR({name:`Partial${e}Input`,fields:()=>r(!1)}))}_buildNodeMutations(e,t,n){Fp(this,im)[`create${t}`]=(0,Up.Fj)({name:`Create${t}`,inputFields:()=>({content:{type:new zd.bM(Fp(this,om)[t])}}),outputFields:()=>({...e,document:{type:new zd.bM(Fp(this,rm)[t])}}),mutateAndGetPayload:async(e,t)=>{if(null==t.ceramic.did||!t.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:"single"===n.accountRelation.type?await t.createSingle(n.id,e.content):await t.createDoc(n.id,e.content)}}}),Fp(this,im)[`update${t}`]=(0,Up.Fj)({name:`Update${t}`,inputFields:()=>({id:{type:new zd.bM(qd.km)},content:{type:new zd.bM(Fp(this,om)[`Partial${t}`])},options:{type:Wp}}),outputFields:()=>({...e,document:{type:new zd.bM(Fp(this,rm)[t])}}),mutateAndGetPayload:async(e,t)=>{if(null==t.ceramic.did||!t.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:await t.updateDoc(e.id,e.content,e.options)}}})}_createSchema(e){const t={nodes:e.nodesField,...e.queryFields};for(const[r,o]of Object.entries(Fp(this,tm).models)){const e=r[0].toLowerCase(),n=r.slice(1),i=Fp(this,om)[`${r}Filters`],s=Fp(this,om)[`${r}Sorting`],a={...Up.Zd};i&&s&&(a.filters={type:i},a.sorting={type:s}),t[`${e}${n}Index`]={type:Fp(this,rm)[`${r}Connection`],args:a,resolve:async(e,{filters:t,...n},r)=>(null!=t&&Od(t),await r.queryConnection({...n,queryFilters:t,model:o.id}))},t[`${e}${n}Count`]={type:new zd.bM(qd._o),args:i?{filters:{type:i}}:{},resolve:async(e,{filters:t},n)=>(null!=t&&Od(t),await n.queryCount({queryFilters:t,model:o.id}))}}const n={query:new zd.h6({name:"Query",fields:t})};return Fp(this,nm)||0===Object.keys(Fp(this,im)).length||(n.mutation=new zd.h6({name:"Mutation",fields:Fp(this,im)})),new Lp.XO(n)}constructor(e){Vp(this,tm,{writable:!0,value:void 0}),Vp(this,nm,{writable:!0,value:void 0}),Vp(this,rm,{writable:!0,value:{SortOrder:Qp}}),Vp(this,om,{writable:!0,value:{...Zp}}),Vp(this,im,{writable:!0,value:{}}),Vp(this,sm,{writable:!0,value:void 0}),qp(this,tm,e.definition),qp(this,nm,!!e.readonly),qp(this,sm,Object.entries(Fp(this,tm).models).reduce(((e,[t,n])=>(e[n.id]=t,e)),{}))}}function cm(e){return new am(e).build()}function um(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function lm(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,um(e,t,"get"))}function fm(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function dm(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,um(e,t,"set"),n),n}var hm=new WeakMap,pm=new WeakMap;class mm{get context(){return lm(this,hm)}async execute(e,t){const n=(0,Bd.Gu)(lm(this,pm),e);return n.length>0?{errors:n}:await(0,Fd.ht)({document:e,variableValues:t,contextValue:lm(this,hm),schema:lm(this,pm)})}async executeQuery(e,t){let n;try{n=(0,Vd.Qc)(e)}catch(r){return{errors:[r]}}return await this.execute(n,t)}constructor(e){fm(this,hm,{writable:!0,value:void 0}),fm(this,pm,{writable:!0,value:void 0});const{ceramic:t,context:n,definition:r,readonly:o,schema:i,...s}=e,a="string"===typeof t?new _d(t):t;dm(this,hm,n??Ud({...s,ceramic:a})),dm(this,pm,function(e){const{definition:t,readonly:n,schema:r}=e;if(null!=r)return r;if(null==t)throw new Error("Invalid parameters to get schema: missing definition or schema");return cm({definition:t,readonly:n})}({definition:r,readonly:o,schema:i}))}}const ym=e=>{throw e};class gm{state;constructor(e){let t;try{t=e()}catch(r){return void(this.state={status:"rejected",value:r})}var n;null==(n=t)||"function"!==typeof n.then?this.state={status:"fulfilled",value:t}:this.state={status:"pending",value:t}}then(e,t){const n=this.state;if("pending"===n.status)return new gm((()=>n.value.then(e,t)));const r="function"===typeof t?t:ym;if("rejected"===n.status)return new gm((()=>r(n.value)));try{const t="function"===typeof e?e:void 0;return new gm(void 0===t?()=>n.value:()=>t(n.value))}catch(o){return new gm((()=>r(o)))}}catch(e){return this.then(void 0,e)}resolve(){const e=this.state;if("pending"===e.status)return Promise.resolve(e.value);if("rejected"===e.status)throw e.value;return e.value}static all(e){let t,n=!1,r=!1;const o=[];for(const i of e){const e=i.state;if("rejected"!==e.status)"pending"===e.status&&(r=!0),o.push(e.value);else{if(n)continue;n=!0,t=e.value}}return r?n?(Promise.all(o).catch((()=>{})),new gm((()=>{throw t}))):new gm((()=>Promise.all(o))):new gm((()=>o))}}var vm=n(52100);function bm(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0===r){const r=e(n);return t.set(n,r),r}return r}}function wm(e){const t=new WeakMap;return function(n,r){let o=t.get(n);if(!o){o=new WeakMap,t.set(n,o);const i=e(n,r);return o.set(r,i),i}const i=o.get(r);if(void 0===i){const t=e(n,r);return o.set(r,t),t}return i}}function Em(e){const t=new WeakMap;return function(n,r,o){let i=t.get(n);if(!i){i=new WeakMap,t.set(n,i);const s=new WeakMap;i.set(r,s);const a=e(n,r,o);return s.set(o,a),a}let s=i.get(r);if(!s){s=new WeakMap,i.set(r,s);const t=e(n,r,o);return s.set(o,t),t}const a=s.get(o);if(void 0===a){const t=e(n,r,o);return s.set(o,t),t}return a}}function _m(e){const t=new WeakMap;return function(n,r,o,i,s){let a=t.get(n);if(!a){a=new WeakMap,t.set(n,a);const c=new WeakMap;a.set(r,c);const u=new WeakMap;c.set(o,u);const l=new WeakMap;u.set(i,l);const f=e(n,r,o,i,s);return l.set(s,f),f}let c=a.get(r);if(!c){c=new WeakMap,a.set(r,c);const t=new WeakMap;c.set(o,t);const u=new WeakMap;t.set(i,u);const l=e(n,r,o,i,s);return u.set(s,l),l}let u=c.get(o);if(!u){u=new WeakMap,c.set(o,u);const t=new WeakMap;u.set(i,t);const a=e(n,r,o,i,s);return t.set(s,a),a}let l=u.get(i);if(!l){l=new WeakMap,u.set(i,l);const t=e(n,r,o,i,s);return l.set(s,t),t}const f=l.get(s);if(void 0===f){const t=e(n,r,o,i,s);return l.set(s,t),t}return f}}const Sm=bm((function(e){return function(e,t){const n=(0,vm.S)(e,t);if(!n)throw new Error(`Cannot infer operation ${t||""}`);return n}(e.document,e.operationName)}));function Tm(e){return null!=e?.[Symbol.asyncIterator]}var Im=n(77304);function Nm(e){return`_${e}_`}function Om(e){const t=/^_(\d+)_(.*)$/.exec(e);return t&&3===t.length&&!isNaN(Number(t[1]))&&t[2]?{index:Number(t[1]),originalKey:t[2]}:null}function km(e){const t=Om(e);if(!t)throw new Error(`Key ${e} is not correctly prefixed`);return t}function Am(e){let t=0,n=null;for(;!n&&t<e.length;t++){const r=e[t];"string"===typeof r&&(n=Om(r))}if(!n)throw new Error(`Path ${e.join(".")} does not contain correctly prefixed key`);return{...n,keyOffset:t}}function xm(e,t){const n=t.variables??{};function r(t){return Rm(t,e)}let o=function(e,t){const n={[Gd.h.OPERATION_DEFINITION]:n=>{const{selections:r}=n.selectionSet;return{...n,selectionSet:{...n.selectionSet,selections:Cm(e,r,t)}}}};return(0,Im.Vn)(t,n,{[Gd.h.DOCUMENT]:["definitions"]})}(e,t.document);const i=Object.keys(n),s=t.document.definitions.some((e=>Pm(e))),a={};(i.length>0||s)&&(o=(0,Im.Vn)(o,{[Gd.h.VARIABLE]:r,[Gd.h.FRAGMENT_DEFINITION]:r,[Gd.h.FRAGMENT_SPREAD]:t=>(t=Rm(t,e),a[t.name.value]=!0,t)}));const c={};for(const u of i)c[e+u]=n[u];return s&&(o={...o,definitions:o.definitions.filter((e=>!Pm(e)||a[e.name.value]))}),{document:o,variables:c}}function Cm(e,t,n){return t.map((t=>{switch(t.kind){case Gd.h.INLINE_FRAGMENT:return $m(e,t,n);case Gd.h.FRAGMENT_SPREAD:{const r=function(e,t){const n=t.definitions.find((t=>Pm(t)&&t.name.value===e.name.value));if(!n)throw new Error(`Fragment ${e.name.value} does not exist`);const{typeCondition:r,selectionSet:o}=n;return{kind:Gd.h.INLINE_FRAGMENT,typeCondition:r,selectionSet:o,directives:e.directives}}(t,n);return $m(e,r,n)}case Gd.h.FIELD:default:return function(e,t){const n=e.alias?e.alias:e.name;return{...e,alias:{...n,value:t+n.value}}}(t,e)}}))}function $m(e,t,n){const{selections:r}=t.selectionSet;return{...t,selectionSet:{...t.selectionSet,selections:Cm(e,r,n)}}}function Rm(e,t){return{...e,name:{...e.name,value:t+e.name.value}}}function Dm(e){return e.kind===Gd.h.OPERATION_DEFINITION}function Pm(e){return e.kind===Gd.h.FRAGMENT_DEFINITION}function jm(e,t){return Hd.A.major>=17?new Kd.__(e,t):new Kd.__(e,t?.nodes,t?.source,t?.positions,t?.path,t?.originalError,t?.extensions)}function Mm(e,t){return jm(e.message,{nodes:e.nodes,source:e.source,positions:e.positions,path:null==t?e.path:t,originalError:e,extensions:e.extensions})}function Lm(e,t,n=Um){const r=function(e,t){return function(n){if(1===n.length)return new gm((()=>e(n[0]))).then((e=>[e])).catch((e=>[e]));const r=function(e,t){const n=Object.create(null),r=[],o=[],i=[];let s=Object.create(null);for(const f in e){const a=e[f],c=xm(Nm(f),a);for(const e of c.document.definitions)Dm(e)&&(o.push(...e.selectionSet.selections),e.variableDefinitions&&r.push(...e.variableDefinitions)),Pm(e)&&i.push(e);Object.assign(n,c.variables),s=t(s,a)}const a=e[0],c=a.operationType??Sm(a).operation,u={kind:Gd.h.OPERATION_DEFINITION,operation:c,variableDefinitions:r,selectionSet:{kind:Gd.h.SELECTION_SET,selections:o}},l=a.operationName??a.info?.operation?.name?.value;return l&&(u.name={kind:Gd.h.NAME,value:l}),{document:{kind:Gd.h.DOCUMENT,definitions:[u,...i]},variables:n,extensions:s,context:e[0].context,info:e[0].info,operationType:c,rootValue:e[0].rootValue}}(n,t);return new gm((()=>e(r))).then((e=>{if(Tm(e))throw new Error("Executor must not return incremental results for batching");return function({data:e,errors:t},n){const r=[];for(let o=0;o<n;o++)r.push({});if(e)for(const o in e){const{index:t,originalKey:n}=km(o),i=r[t];null!=i&&(null==i.data?i.data={[n]:e[o]}:i.data[n]=e[o])}if(t)for(const o of t)if(o.path){const{index:e,originalKey:t,keyOffset:n}=Am(o.path),i=Mm(o,[t,...o.path.slice(n)]);(r[e].errors=r[e].errors||[]).push(i)}else r.forEach((e=>{(e.errors=e.errors||[]).push(o)}));return r}(e,n.length)}))}}(e,n),o=new Ad(r,t),i=new Ad(r,t);return function(t){const n=t.operationType??Sm(t)?.operation;switch(n){case"query":return o.load(t);case"mutation":return i.load(t);case"subscription":return e(t);default:throw new Error(`Invalid operation type "${n}"`)}}}function Um(e,t){const n=t.extensions;return null!=n&&Object.assign(e,n),e}var Bm=n(68238),Fm=n(79557);function Vm(e){return null!=e.fieldNodes[0].alias?e.fieldNodes[0].alias.value:e.fieldName}var qm=n(31394),zm=n(79380);function Gm(e){return null!=e&&"object"===typeof e&&Symbol.iterator in e}function Hm(e){return"object"===typeof e&&null!==e}function Km(e){return null!=e?.then}function Jm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Wm=n(66422),Qm=n(30077);class Ym extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(e,t){const n=this.get(e);void 0===n?this.set(e,[t]):n.push(t)}}var Xm=n(99878);const Zm=new Bm.NZ({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[Xm.B.FRAGMENT_SPREAD,Xm.B.INLINE_FRAGMENT],args:{if:{type:new zd.bM(qd.EZ),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:qd.kH,description:"Unique name"}}}),ey=new Bm.NZ({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[Xm.B.FIELD],args:{if:{type:new zd.bM(qd.EZ),description:"Stream when true or undefined.",defaultValue:!0},label:{type:qd.kH,description:"Unique name"},initialCount:{defaultValue:0,type:qd._o,description:"Number of items to return immediately"}}});function ty(e,t,n,r,o,i,s,a){for(const u of o.selections)switch(u.kind){case Gd.h.FIELD:if(!ry(n,u))continue;i.add((c=u).alias?c.alias.value:c.name.value,u);break;case Gd.h.INLINE_FRAGMENT:{if(!ry(n,u)||!oy(e,u,r))continue;const o=iy(n,u);if(o){const i=new Ym;ty(e,t,n,r,u.selectionSet,i,s,a),s.push({label:o.label,fields:i})}else ty(e,t,n,r,u.selectionSet,i,s,a);break}case Gd.h.FRAGMENT_SPREAD:{const o=u.name.value;if(!ry(n,u))continue;const c=iy(n,u);if(a.has(o)&&!c)continue;const l=t[o];if(!l||!oy(e,l,r))continue;if(c||a.add(o),c){const o=new Ym;ty(e,t,n,r,l.selectionSet,o,s,a),s.push({label:c.label,fields:o})}else ty(e,t,n,r,l.selectionSet,i,s,a);break}}var c}function ny(e,t,n,r,o){const i=new Ym,s=[];return ty(e,t,n,r,o,i,s,new Set),{fields:i,patches:s}}function ry(e,t){if(!0===(0,Wm.zu)(Bm.QE,t,e)?.if)return!1;return!1!==(0,Wm.zu)(Bm.Yf,t,e)?.if}function oy(e,t,n){const r=t.typeCondition;if(!r)return!0;const o=(0,Qm._)(e,r);if(o===n)return!0;if((0,zd.m0)(o)){return e.getPossibleTypes(o).includes(n)}return!1}function iy(e,t){const n=(0,Wm.zu)(Zm,t,e);if(n&&!1!==n.if)return{label:"string"===typeof n.label?n.label:void 0}}const sy=_m((function(e,t,n,r,o){const i=new Ym,s=new Set,a=[],c={fields:i,patches:a};for(const u of o)u.selectionSet&&ty(e,t,n,r,u.selectionSet,i,a,s);return c})),ay=Symbol.for("subschemaErrors"),cy=Symbol.for("initialSubschema"),uy=Symbol.for("subschemaMap");function ly(e){return void 0!==e[ay]}function fy(e,t){return e[uy][t]??e[cy]}function dy(e){return e[ay]}const hy=[],py=Object.create(null),my=bm((function(e){return[e]}));function yy(e,t,n,r,o){const i=e.delegationPlanBuilder(o.schema,n,null!=o.variableValues&&Object.keys(o.variableValues).length>0?o.variableValues:py,null!=o.fragments&&Object.keys(o.fragments).length>0?o.fragments:py,o.fieldNodes?.length?1===o.fieldNodes.length?my(o.fieldNodes[0]):o.fieldNodes:hy).reduce(((n,i)=>{function s(){return function(e,t,n,r,o){const i=n[ay],s=(0,zm.N)(o.path),a=n[uy],c=[];for(const[l,f]of t){const t=(l.transformedSchema||o.schema).getType(n.__typename),d=e.resolvers.get(l);if(d)try{const e=d(n,r,o,l,f,void 0,t);Km(e)?c.push(e.then((e=>gy(e,l,f,n,a,o,s,i))).catch((e=>gy(e,l,f,n,a,o,s,i)))):gy(e,l,f,n,a,o,s,i)}catch(u){gy(u,l,f,n,a,o,s,i)}}if(c.length)return 1===c.length?c[0]:Promise.all(c)}(e,i,t,r,o)}return Km(n)?n.then(s):s()}),void 0);return Km(i)?i.then((()=>t)):t}function gy(e,t,n,r,o,i,s,a){if(e instanceof Error||null==e){const o=t.transformedSchema||i.schema,a=o.getType(r.__typename),{fields:c}=ny(o,py,py,a,n),u={};for(const[t,n]of c){const r=[...s,t];e instanceof Kd.__?u[t]=Mm(e,r):e instanceof Error?u[t]=(0,qm.y)(e,n,r):u[t]=null}e=u}else e[ay]&&a.push(...e[ay]);const c=e[cy],u=e[uy];for(const l in e){if("__proto__"===l)continue;const t=r[l],n=e[l];null==n&&null!=t||(r[l]=n),o[l]=u?.[l]??c}}function vy(e,t,n,r,o,i=function(e){if(null==e)throw new Error("Return type cannot be inferred without a source schema.");return e.returnType}(o),s){const a=(0,zd.tf)(i);return e instanceof Error?e:null==e?function(e){if(e.length){const t=[];for(const n of e)by.has(n)||(t.push(n),by.set(n,!0));if(t.length){if(1===t.length)return t[0];const e=new AggregateError(t,t.map((e=>e.message)).join(", \n"));return(0,qm.y)(e,void 0,t[0].path)}}return null}(t):"parseValue"in a?a.parseValue(e):(0,zd.Gv)(a)?function(e,t,n,r,o,i,s){ly(t)||function(e,t,n,r){Object.defineProperties(e,{[cy]:{value:n},[uy]:{value:r},[ay]:{value:t}})}(t,n,r,Object.create(null));if(s||null==i)return t;const a=i.schema.extensions?.stitchingInfo;if(null==a)return t;const c=(0,zd.m0)(e)?t.__typename:e.name,u=a.mergedTypes[c];let l;null!=u&&(l=u.targetSubschemas.get(r));if(!l||!l.length)return t;return yy(u,t,r,o,i)}(a,e,t,n,r,o,s):(0,zd.HG)(a)?Array.isArray(e)?function(e,t,n,r,o,i,s){return t.map((t=>vy(t,n,r,o,i,e.ofType,s)))}(a,e,t,n,r,o,s):vy(e,t,n,r,o,a.ofType,s):void 0}const by=new WeakMap;function wy(e,t,n,r){if(!e)return null;const o=Vm(r);if(!ly(e))return(0,Fd.El)(e,t,n,r);return vy(e[o],dy(e),fy(e,o),n,r)}function Ey(e){return Boolean(e?.schema)}function _y(e){const t={...e,transforms:null!=e.transforms?[...e.transforms]:void 0};if(null!=t.merge){t.merge={...e.merge};for(const n in t.merge){const r=t.merge[n]={...e.merge?.[n]??{}};if(null!=r.entryPoints&&(r.entryPoints=r.entryPoints.map((e=>({...e})))),null!=r.fields){const e=r.fields={...r.fields};for(const t in e)e[t]={...e[t]}}}}return t}const Sy=wm((function(e,t){const n=t.transforms;return null==n?e:n.reduce(((e,n)=>n.transformSchema?.(e,t)||e),e)}));class Ty{constructor(e){this.schema=e.schema,this.executor=e.executor,this.batch=e.batch,this.batchingOptions=e.batchingOptions,this.createProxyingResolver=e.createProxyingResolver,this.transforms=e.transforms??[],this.merge=e.merge}get transformedSchema(){return this._transformedSchema||(null!=globalThis.process?.env?.DEBUG&&console.warn("Transformed schema is not set yet. Returning a dummy one."),this._transformedSchema=Sy(this.schema,this)),this._transformedSchema}set transformedSchema(e){this._transformedSchema=e}}function Iy(e){let t;return"alias"in e&&(t=e.alias?.value),null==t&&"name"in e&&(t=e.name?.value),null==t&&(t=e.kind),t}function Ny(e,t,n){const r=Iy(e),o=Iy(t);return"function"===typeof n?n(r,o):function(e,t){return String(e)<String(t)?-1:String(e)>String(t)?1:0}(r,o)}function Oy(e){return null!=e}function ky(e,t=!1){const n=e[0]||{},r={};t&&Object.setPrototypeOf(r,Object.create(Object.getPrototypeOf(n)));for(const o of e)if(Ay(n)&&Ay(o)){if(t){const e=Object.getPrototypeOf(r),t=Object.getPrototypeOf(o);if(t)for(const n of Object.getOwnPropertyNames(t)){const r=Object.getOwnPropertyDescriptor(t,n);Oy(r)&&Object.defineProperty(e,n,r)}}for(const e in o)Ay(o[e])?e in r?r[e]=ky([r[e],o[e]],t):Object.assign(r,{[e]:o[e]}):Object.assign(r,{[e]:o[e]})}return r}function Ay(e){return e&&"object"===typeof e&&!Array.isArray(e)}function xy(e,t){if(!e||Array.isArray(e)&&0===e.length)return{};if(!Array.isArray(e))return e;if(1===e.length)return e[0]||{};const n=new Array;for(let o of e)Array.isArray(o)&&(o=xy(o)),"object"===typeof o&&o&&n.push(o);const r=ky(n,!0);if(t?.exclusions)for(const o of t.exclusions){const[e,t]=o.split(".");t&&"*"!==t?r[e]&&delete r[e][t]:delete r[e]}return r}function Cy(e,t){e&&(e.extensions=ky([e.extensions||{},t||{}]))}function $y(e,t){const n={},r=e.getTypeMap();for(const o in r){const e=r[o];if("getInterfaces"in e){n[o]={};for(const i of e.getInterfaces())if(t[i.name])for(const e in t[i.name])"__isTypeOf"!==e&&e.startsWith("__")||(n[o][e]=t[i.name][e]);const r=t[o];n[o]={...n[o],...r}}else{const e=t[o];null!=e&&(n[o]=e)}}return n}function Ry(e,t){const n=e.getTypeMap();for(const r in n){const e=n[r];if(!(0,zd.xC)(e).name.startsWith("__"))if((0,zd.lp)(e)){const n=e.getFields();for(const e in n){const r=n[e];for(const e of r.args)e.defaultValue=t(e.type,e.defaultValue)}}else if((0,zd.hL)(e)){const n=e.getFields();for(const e in n){const r=n[e];r.defaultValue=t(r.type,r.defaultValue)}}}}function Dy(e,t,n=null,r=null){if(null==t)return t;const o=(0,zd.tf)(e);if((0,zd.UT)(o))return null!=n?n(o,t):t;if((0,zd.HG)(o))return(i=t,Array.isArray(i)?i:i?[i]:[]).map((e=>Dy(o.ofType,e,n,r)));if((0,zd.hL)(o)){const e=o.getFields(),i={};for(const o in t){const s=e[o];null!=s&&(i[o]=Dy(s.type,t[o],n,r))}return null!=r?r(o,i):i}var i}function Py(e,t){return Dy(e,t,((e,t)=>{try{return e.serialize(t)}catch{return t}}))}function jy(e,t){return Dy(e,t,((e,t)=>{try{return e.parseValue(t)}catch{return t}}))}function My(e){return function(e,t){const n=Object.create(null);for(const u in e){const t=e[u];if(null==t||u.startsWith("__"))continue;const r=t.name;r.startsWith("__")||(null==n[r]?n[r]=t:console.warn(`Duplicate schema type name ${r} found; keeping the existing one found in the schema`))}for(const u in n){const t=n[u];e[u]=t}for(const u of t)u.args=u.args.filter((e=>(e.type=c(e.type),null!==e.type)));for(const u in e){const t=e[u];!u.startsWith("__")&&u in n&&null!=t&&r(t)}for(const u in e)u.startsWith("__")||u in n||delete e[u];function r(e){if((0,zd.lp)(e))return o(e),void i(e);if((0,zd.oT)(e))return o(e),void("getInterfaces"in e&&i(e));if((0,zd.EN)(e))a(e);else if((0,zd.hL)(e))s(e);else if(!(0,zd.UT)(e))throw new Error(`Unexpected schema type: ${e}`)}function o(e){const t=e.getFields();for(const[n,r]of Object.entries(t))r.args.map((e=>(e.type=c(e.type),null===e.type?null:e))).filter(Boolean),r.type=c(r.type),null===r.type&&delete t[n]}function i(e){if("getInterfaces"in e){const t=e.getInterfaces();t.push(...t.splice(0).map((e=>c(e))).filter(Boolean))}}function s(e){const t=e.getFields();for(const[n,r]of Object.entries(t))r.type=c(r.type),null===r.type&&delete t[n]}function a(e){const t=e.getTypes();t.push(...t.splice(0).map((e=>c(e))).filter(Boolean))}function c(t){if((0,zd.HG)(t)){const e=c(t.ofType);return null!=e?new zd.p2(e):null}if((0,zd.zM)(t)){const e=c(t.ofType);return null!=e?new zd.bM(e):null}if((0,zd.Zs)(t)){const n=e[t.name];if(n&&t!==n)return n}return t}}(e.getTypeMap(),e.getDirectives()),e}function Ly(e,t){const n=e.getTypeMap();for(const r in n){const e=n[r];if(!(0,zd.xC)(e).name.startsWith("__")&&(0,zd.lp)(e)){const n=e.getFields();for(const e in n){t(n[e],r,e)}}}}function Uy(e,t){if(t){const n=e[t.name];if((0,zd.lp)(n))return n}}var By;function Fy(e,t){let n;return n="object"===t?zd.h6:"interface"===t?zd.oW:zd.sR,new n({name:e,fields:{_fake:{type:qd.kH}}})}function Vy(e,t){switch(e.kind){case Gd.h.LIST_TYPE:return new zd.p2(Vy(e.type,t));case Gd.h.NON_NULL_TYPE:return new zd.bM(Vy(e.type,t));default:return Fy(e.name.value,"output"===t?"object":"input")}}function qy(e,t){const n=Object.create(null);for(const l in e)n[l]=e[l];const r=Object.create(null);for(const l in n){const e=n[l];if(null==e||l.startsWith("__"))continue;const t=e.name;t.startsWith("__")||(null==r[t]?r[t]=e:console.warn(`Duplicate schema type name ${t} found; keeping the existing one found in the schema`))}for(const l in r)r[l]=s(r[l]);const o=t.map((e=>function(e){if((0,Bm.xg)(e))return e;const t=e.toConfig();return t.args=i(t.args),new Bm.NZ(t)}(e)));return{typeMap:r,directives:o};function i(e){const t={};for(const n in e){const r=e[n],o=u(r.type);null!=o&&(r.type=o,t[n]=r)}return t}function s(e){if((0,zd.lp)(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields),interfaces:()=>c(t.interfaces)};return new zd.h6(n)}if((0,zd.oT)(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields)};return"interfaces"in n&&(n.interfaces=()=>c(t.interfaces)),new zd.oW(n)}if((0,zd.EN)(e)){const t=e.toConfig(),n={...t,types:()=>c(t.types)};return new zd.Gp(n)}if((0,zd.hL)(e)){const t=e.toConfig(),n={...t,fields:()=>function(e){const t={};for(const n in e){const r=e[n],o=u(r.type);null!=o&&(r.type=o,t[n]=r)}return t}(t.fields)};return new zd.sR(n)}if((0,zd.EM)(e)){const t=e.toConfig();return new zd.mR(t)}if((0,zd.KA)(e)){if((0,qd.u1)(e))return e;const t=e.toConfig();return new zd.n2(t)}throw new Error(`Unexpected schema type: ${e}`)}function a(e){const t={};for(const n in e){const r=e[n],o=u(r.type);null!=o&&r.args&&(r.type=o,r.args=i(r.args),t[n]=r)}return t}function c(e){const t=[];for(const n of e){const e=u(n);null!=e&&t.push(e)}return t}function u(e){if((0,zd.HG)(e)){const t=u(e.ofType);return null!=t?new zd.p2(t):null}if((0,zd.zM)(e)){const t=u(e.ofType);return null!=t?new zd.bM(t):null}if((0,zd.Zs)(e)){let t=n[e.name];return void 0===t&&(t=function(e){if("getFields"in e){const t=e.getFields();for(const e in t)return"_fake"===t[e].name}return!1}(e)?function(e){switch(e.name){case qd._o.name:return qd._o;case qd.av.name:return qd.av;case qd.kH.name:return qd.kH;case qd.EZ.name:return qd.EZ;case qd.km.name:return qd.km;default:return e}}(e):s(e),r[t.name]=n[e.name]=t),null!=t?r[t.name]:null}return null}}function zy(e,t={}){const n=Wy(Jy(Gy(Hy(function(e,t,n){const r=function(e){const t=e[By.ENUM_VALUE];return null!=t?t:null}(n);if(!r)return e;return Gy(e,t,{[By.ENUM_TYPE]:e=>{const n=e.toConfig(),o=n.values,i={};for(const s in o){const n=o[s],a=r(n,e.name,t,s);if(void 0===a)i[s]=n;else if(Array.isArray(a)){const[e,t]=a;i[e]=void 0===t?n:t}else null!==a&&(i[s]=a)}return Zy(new zd.mR({...n,values:i}))}},(e=>(0,zd.EM)(e)))}(Gy(Hy(e.getTypeMap(),e,Py),e,t,(e=>(0,zd.UT)(e))),e,t),e,jy),e,t,(e=>!(0,zd.UT)(e))),e,t),e,t),r=function(e,t,n){const r=function(e){const t=e[By.DIRECTIVE];return null!=t?t:null}(n);if(null==r)return e.slice();const o=[];for(const i of e){const e=r(i,t);void 0===e?o.push(i):null!==e&&o.push(e)}return o}(e.getDirectives(),e,t),{typeMap:o,directives:i}=qy(n,r);return new Lp.XO({...e.toConfig(),query:Uy(o,Uy(n,e.getQueryType())),mutation:Uy(o,Uy(n,e.getMutationType())),subscription:Uy(o,Uy(n,e.getSubscriptionType())),types:Object.values(o),directives:i})}function Gy(e,t,n,r=(()=>!0)){const o={};for(const i in e)if(!i.startsWith("__")){const s=e[i];if(null==s||!r(s)){o[i]=s;continue}const a=Qy(t,n,i);if(null==a){o[i]=s;continue}const c=a(s,t);if(void 0===c){o[i]=s;continue}o[i]=c}return o}function Hy(e,t,n){const r=Wy(e,t,{[By.ARGUMENT]:t=>{if(void 0===t.defaultValue)return t;const r=Ky(e,t.type);return null!=r?{...t,defaultValue:n(r,t.defaultValue)}:void 0}});return Jy(r,t,{[By.INPUT_OBJECT_FIELD]:e=>{if(void 0===e.defaultValue)return e;const t=Ky(r,e.type);return null!=t?{...e,defaultValue:n(t,e.defaultValue)}:void 0}})}function Ky(e,t){if((0,zd.HG)(t)){const n=Ky(e,t.ofType);return null!=n?new zd.p2(n):null}if((0,zd.zM)(t)){const n=Ky(e,t.ofType);return null!=n?new zd.bM(n):null}if((0,zd.Zs)(t)){const n=e[t.name];return null!=n?n:null}return null}function Jy(e,t,n){const r={};for(const o in e)if(!o.startsWith("__")){const i=e[o];if(!(0,zd.lp)(i)&&!(0,zd.oT)(i)&&!(0,zd.hL)(i)){r[o]=i;continue}const s=Yy(t,n,o);if(null==s){r[o]=i;continue}const a=i.toConfig(),c=a.fields,u={};for(const e in c){const n=c[e],r=s(n,e,o,t);if(void 0===r)u[e]=n;else if(Array.isArray(r)){const[e,t]=r;null!=t.astNode&&(t.astNode={...t.astNode,name:{...t.astNode.name,value:e}}),u[e]=void 0===t?n:t}else null!==r&&(u[e]=r)}(0,zd.lp)(i)?r[o]=Zy(new zd.h6({...a,fields:u})):(0,zd.oT)(i)?r[o]=Zy(new zd.oW({...a,fields:u})):r[o]=Zy(new zd.sR({...a,fields:u}))}return r}function Wy(e,t,n){const r={};for(const o in e)if(!o.startsWith("__")){const i=e[o];if(!(0,zd.lp)(i)&&!(0,zd.oT)(i)){r[o]=i;continue}const s=Xy(n);if(null==s){r[o]=i;continue}const a=i.toConfig(),c=a.fields,u={};for(const e in c){const n=c[e],r=n.args;if(null==r){u[e]=n;continue}const i=Object.keys(r);if(!i.length){u[e]=n;continue}const a={};for(const c of i){const n=r[c],i=s(n,e,o,t);if(void 0===i)a[c]=n;else if(Array.isArray(i)){const[e,t]=i;a[e]=t}else null!==i&&(a[c]=i)}u[e]={...n,args:a}}(0,zd.lp)(i)?r[o]=new zd.h6({...a,fields:u}):(0,zd.oT)(i)?r[o]=new zd.oW({...a,fields:u}):r[o]=new zd.sR({...a,fields:u})}return r}function Qy(e,t,n){let r;const o=[...function(e,t){const n=e.getType(t),r=[By.TYPE];return(0,zd.lp)(n)?(r.push(By.COMPOSITE_TYPE,By.OBJECT_TYPE),t===e.getQueryType()?.name?r.push(By.ROOT_OBJECT,By.QUERY):t===e.getMutationType()?.name?r.push(By.ROOT_OBJECT,By.MUTATION):t===e.getSubscriptionType()?.name&&r.push(By.ROOT_OBJECT,By.SUBSCRIPTION)):(0,zd.hL)(n)?r.push(By.INPUT_OBJECT_TYPE):(0,zd.oT)(n)?r.push(By.COMPOSITE_TYPE,By.ABSTRACT_TYPE,By.INTERFACE_TYPE):(0,zd.EN)(n)?r.push(By.COMPOSITE_TYPE,By.ABSTRACT_TYPE,By.UNION_TYPE):(0,zd.EM)(n)?r.push(By.ENUM_TYPE):(0,zd.KA)(n)&&r.push(By.SCALAR_TYPE),r}(e,n)];for(;!r&&o.length>0;){r=t[o.pop()]}return null!=r?r:null}function Yy(e,t,n){let r;const o=[...function(e,t){const n=e.getType(t),r=[By.FIELD];return(0,zd.lp)(n)?(r.push(By.COMPOSITE_FIELD,By.OBJECT_FIELD),t===e.getQueryType()?.name?r.push(By.ROOT_FIELD,By.QUERY_ROOT_FIELD):t===e.getMutationType()?.name?r.push(By.ROOT_FIELD,By.MUTATION_ROOT_FIELD):t===e.getSubscriptionType()?.name&&r.push(By.ROOT_FIELD,By.SUBSCRIPTION_ROOT_FIELD)):(0,zd.oT)(n)?r.push(By.COMPOSITE_FIELD,By.INTERFACE_FIELD):(0,zd.hL)(n)&&r.push(By.INPUT_OBJECT_FIELD),r}(e,n)];for(;!r&&o.length>0;){r=t[o.pop()]}return r??null}function Xy(e){const t=e[By.ARGUMENT];return null!=t?t:null}function Zy(e){if((0,zd.lp)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:Gd.h.OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:Gd.h.OBJECT_TYPE_EXTENSION,fields:void 0})))),new zd.h6(t)}if((0,zd.oT)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:Gd.h.INTERFACE_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:Gd.h.INTERFACE_TYPE_EXTENSION,fields:void 0})))),new zd.oW(t)}if((0,zd.hL)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:Gd.h.INPUT_OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:Gd.h.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0})))),new zd.sR(t)}if((0,zd.EM)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.values){const r=t.values[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,values:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,values:void 0})))),new zd.mR(t)}return e}function eg({schema:e,resolvers:t,defaultFieldResolver:n,resolverValidationOptions:r={},inheritResolversFromInterfaces:o=!1,updateResolversInPlace:i=!1}){const{requireResolversToMatchSchema:s="error",requireResolversForResolveType:a}=r,c=o?$y(e,t):t;for(const u in c){const t=c[u];if("object"!==typeof t)throw new Error(`"${u}" defined in resolvers, but has invalid value "${t}". The resolver's value must be of type object.`);const n=e.getType(u);if(null==n){if("ignore"===s)continue;throw new Error(`"${u}" defined in resolvers, but not in schema`)}if((0,qd.u1)(n))for(const e in t)e.startsWith("__")?n[e.substring(2)]=t[e]:n[e]=t[e];else if((0,zd.EM)(n)){const e=n.getValues();for(const r in t)if(!r.startsWith("__")&&!e.some((e=>e.name===r))&&s&&"ignore"!==s)throw new Error(`${n.name}.${r} was defined in resolvers, but not present within ${n.name}`)}else if((0,zd.EN)(n)){for(const e in t)if(!e.startsWith("__")&&s&&"ignore"!==s)throw new Error(`${n.name}.${e} was defined in resolvers, but ${n.name} is not an object or interface type`)}else if((0,zd.lp)(n)||(0,zd.oT)(n))for(const e in t)if(!e.startsWith("__")){if(null==n.getFields()[e]){if(s&&"ignore"!==s)throw new Error(`${u}.${e} defined in resolvers, but not in schema`)}else{const n=t[e];if("function"!==typeof n&&"object"!==typeof n)throw new Error(`Resolver ${u}.${e} must be object or function`)}}}return e=i?function(e,t,n){const r=e.getTypeMap();for(const o in t){const n=e.getType(o),i=t[o];if((0,zd.KA)(n))for(const e in i)e.startsWith("__")?n[e.substring(2)]=i[e]:"astNode"===e&&null!=n.astNode?n.astNode={...n.astNode,description:i?.astNode?.description??n.astNode.description,directives:(n.astNode.directives??[]).concat(i?.astNode?.directives??[])}:"extensionASTNodes"===e&&null!=n.extensionASTNodes?n.extensionASTNodes=n.extensionASTNodes.concat(i?.extensionASTNodes??[]):"extensions"===e&&null!=n.extensions&&null!=i.extensions?n.extensions=Object.assign(Object.create(null),n.extensions,i.extensions):n[e]=i[e];else if((0,zd.EM)(n)){const e=n.toConfig(),t=e.values;for(const r in i)r.startsWith("__")?e[r.substring(2)]=i[r]:"astNode"===r&&null!=e.astNode?e.astNode={...e.astNode,description:i?.astNode?.description??e.astNode.description,directives:(e.astNode.directives??[]).concat(i?.astNode?.directives??[])}:"extensionASTNodes"===r&&null!=e.extensionASTNodes?e.extensionASTNodes=e.extensionASTNodes.concat(i?.extensionASTNodes??[]):"extensions"===r&&null!=n.extensions&&null!=i.extensions?n.extensions=Object.assign(Object.create(null),n.extensions,i.extensions):t[r]&&(t[r].value=i[r]);r[o]=new zd.mR(e)}else if((0,zd.EN)(n))for(const e in i)e.startsWith("__")&&(n[e.substring(2)]=i[e]);else if((0,zd.lp)(n)||(0,zd.oT)(n))for(const e in i){if(e.startsWith("__")){n[e.substring(2)]=i[e];continue}const t=n.getFields()[e];if(null!=t){const n=i[e];"function"===typeof n?t.resolve=n.bind(i):tg(t,n)}}}Ry(e,Py),My(e),Ry(e,jy),null!=n&&Ly(e,(e=>{e.resolve||(e.resolve=n)}));return e}(e,c,n):function(e,t,n){e=zy(e,{[By.SCALAR_TYPE]:e=>{const n=e.toConfig(),r=t[e.name];if(!(0,qd.u1)(e)&&null!=r){for(const t in r)t.startsWith("__")?n[t.substring(2)]=r[t]:"astNode"===t&&null!=n.astNode?n.astNode={...n.astNode,description:r?.astNode?.description??n.astNode.description,directives:(n.astNode.directives??[]).concat(r?.astNode?.directives??[])}:"extensionASTNodes"===t&&null!=n.extensionASTNodes?n.extensionASTNodes=n.extensionASTNodes.concat(r?.extensionASTNodes??[]):"extensions"===t&&null!=n.extensions&&null!=r.extensions?n.extensions=Object.assign(Object.create(null),e.extensions,r.extensions):n[t]=r[t];return new zd.n2(n)}},[By.ENUM_TYPE]:e=>{const n=t[e.name],r=e.toConfig(),o=r.values;if(null!=n){for(const t in n)t.startsWith("__")?r[t.substring(2)]=n[t]:"astNode"===t&&null!=r.astNode?r.astNode={...r.astNode,description:n?.astNode?.description??r.astNode.description,directives:(r.astNode.directives??[]).concat(n?.astNode?.directives??[])}:"extensionASTNodes"===t&&null!=r.extensionASTNodes?r.extensionASTNodes=r.extensionASTNodes.concat(n?.extensionASTNodes??[]):"extensions"===t&&null!=r.extensions&&null!=n.extensions?r.extensions=Object.assign(Object.create(null),e.extensions,n.extensions):o[t]&&(o[t].value=n[t]);return new zd.mR(r)}},[By.UNION_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new zd.Gp(t)}},[By.OBJECT_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__isTypeOf&&(t.isTypeOf=n.__isTypeOf),new zd.h6(t)}},[By.INTERFACE_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new zd.oW(t)}},[By.COMPOSITE_FIELD]:(e,n,r)=>{const o=t[r];if(null!=o){const t=o[n];if(null!=t){const n={...e};return"function"===typeof t?n.resolve=t.bind(o):tg(n,t),n}}}}),null!=n&&(e=zy(e,{[By.OBJECT_FIELD]:e=>({...e,resolve:null!=e.resolve?e.resolve:n})}));return e}(e,c,n),a&&"ignore"!==a&&function(e,t){zy(e,{[By.ABSTRACT_TYPE]:e=>{if(!e.resolveType){const n=`Type "${e.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}})}(e,a),e}function tg(e,t){for(const n in t)e[n]=t[n]}function ng(e,t,n,r,o){if(n.resolve){if("function"!==typeof n.resolve)throw new Error(`Resolver "${r}.${o}" must be a function`)}else{const n=`Resolver missing for "${r}.${o}".\nTo disable this validator, use:\n  resolverValidationOptions: {\n    ${e}: 'ignore'\n  }`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}!function(e){e.TYPE="MapperKind.TYPE",e.SCALAR_TYPE="MapperKind.SCALAR_TYPE",e.ENUM_TYPE="MapperKind.ENUM_TYPE",e.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",e.OBJECT_TYPE="MapperKind.OBJECT_TYPE",e.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",e.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",e.UNION_TYPE="MapperKind.UNION_TYPE",e.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",e.ROOT_OBJECT="MapperKind.ROOT_OBJECT",e.QUERY="MapperKind.QUERY",e.MUTATION="MapperKind.MUTATION",e.SUBSCRIPTION="MapperKind.SUBSCRIPTION",e.DIRECTIVE="MapperKind.DIRECTIVE",e.FIELD="MapperKind.FIELD",e.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",e.OBJECT_FIELD="MapperKind.OBJECT_FIELD",e.ROOT_FIELD="MapperKind.ROOT_FIELD",e.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",e.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",e.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",e.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",e.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",e.ARGUMENT="MapperKind.ARGUMENT",e.ENUM_VALUE="MapperKind.ENUM_VALUE"}(By||(By={}));var rg=n(16918);function og(e,t){return(0,Vd.Qc)(e,t).definitions[0].selectionSet}function ig(e,t,n,r){const{selectionSets:o,fieldSelectionSets:i,uniqueFields:s,nonUniqueFields:a}=e,c=[],u=[];for(const d of n){const n=o.get(d),s=i.get(d);(null==n||ug(e,t,n))&&(null==s||r.every((n=>{const r=n.name.value,o=s[r];return null==o||ug(e,t,o)})))?c.push(d):u.push(d)}const l=[],f=new Map;for(const d of r){if("__typename"===d.name.value)continue;const e=s[d.name.value];if(null!=e){if(!c.includes(e)){l.push(d);continue}const t=f.get(e)?.selections;null!=t?t.push(d):f.set(e,{kind:Gd.h.SELECTION_SET,selections:[d]});continue}let t=a[d.name.value];if(null==t){l.push(d);continue}if(t=t.filter((e=>c.includes(e))),!t.length){l.push(d);continue}const n=t.find((e=>f.has(e)));null!=n?f.get(n).selections.push(d):f.set(t[0],{kind:Gd.h.SELECTION_SET,selections:[d]})}return{delegationMap:f,proxiableSubschemas:c,nonProxiableSubschemas:u,unproxiableFieldNodes:l}}function sg(e){return _m((function(t,n,r,o,i){const s=function(e){const t=e.extensions?.stitchingInfo;if(!t)throw new Error("Schema is not a stitched schema.");return t}(t),a=e?.targetSubschemas.get(n);if(!a||!a.length)return[];const c=e.typeName,u=function(e,t,n,r,o,i,s){const{fields:a}=sy(e,i,s,n,o),c=t?.fieldNodesByField,u=r.getFields(),l=new Set;for(const[,f]of a){const e=f[0].name.value;if(!u[e])for(const n of f)l.add(n);const t=c?.[n.name]?.[e];if(t)for(const n of t)u[n.name.value]||l.add(n)}return Array.from(l)}(t,s,t.getType(c),e.typeMaps.get(n)?.[c],i,o,r);if(!u.length)return[];const l=[];let f=ag(n),d=ig(e,f,a,u),{delegationMap:h}=d;for(;h.size;){l.push(h);const{proxiableSubschemas:t,nonProxiableSubschemas:n,unproxiableFieldNodes:r}=d;f=cg(f,t),d=ig(e,f,n,r),h=d.delegationMap}return l}))}const ag=bm((function(e){return[e]})),cg=wm((function(e,t){return e.concat(t)})),ug=Em((function(e,t,n){return lg(t.map((t=>t.transformedSchema.getType(e.typeName))),n)}));function lg(e,t){const n=e.map((e=>e.getFields()));for(const r of t.selections)if(r.kind===Gd.h.FIELD){const e=n.map((e=>e[r.name.value])).filter((e=>null!=e));if(!e.length)return!1;if(null!=r.selectionSet)return lg(e.map((e=>(0,zd.xC)(e.type))),r.selectionSet)}else if(r.kind===Gd.h.INLINE_FRAGMENT&&r.typeCondition?.name.value===e[0].name)return lg(e,r.selectionSet);return!0}const fg=function(e){const t=new WeakMap;return function(n,r,o,i){let s=t.get(n);if(!s){s=new WeakMap,t.set(n,s);const a=e(n,r,o,i);return s.set(r,a),a}const a=s.get(r);if(void 0===a){const t=e(n,r,o,i);return s.set(r,t),t}return a}}((function(e,t,n,r){return Lm(t,n,r)}));var dg=n(52433);function hg(e,t,n){const r=yg(e).get(t);if(null==r)throw jm(`Schema is not configured to execute ${t} operation.`,{nodes:n});return r}const pg=bm((function(e){const t=mg(e);return new Set([...t].map((e=>e.name)))})),mg=bm((function(e){const t=yg(e);return new Set(t.values())})),yg=bm((function(e){const t=new Map,n=e.getQueryType();n&&t.set("query",n);const r=e.getMutationType();r&&t.set("mutation",r);const o=e.getSubscriptionType();return o&&t.set("subscription",o),t}));function gg(e,t,n){return{prev:e,key:t,typename:n}}function vg(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}function bg(e){return e.map((e=>"number"===typeof e?"["+e.toString()+"]":"."+e)).join("")}var wg=n(58081);function Eg(e){return _g(e,[])}function _g(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(e instanceof Error)return"AggregateError"===e.name?Sg(e)+"\n"+Tg(e.errors,t):Sg(e);if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:_g(t,n)}else if(Array.isArray(e))return Tg(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>3)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";return"{ "+n.map((([e,n])=>e+": "+_g(n,t))).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function Sg(e){return e instanceof Kd.__?e.toString():`${e.name}: ${e.message};\n ${e.stack}`}function Tg(e,t){if(0===e.length)return"[]";if(t.length>3)return"[Array]";const n=e.length,r=[];for(let o=0;o<n;++o)r.push(_g(e[o],t));return"["+r.join(", ")+"]"}function Ig(e,t,n={}){const r={},o=(t.arguments??[]).reduce(((e,t)=>({...e,[t.name.value]:t})),{});for(const{name:i,type:s,defaultValue:a}of e.args){const e=o[i];if(!e){if(void 0!==a)r[i]=a;else if((0,zd.zM)(s))throw jm(`Argument "${i}" of required type "${Eg(s)}" was not provided.`,{nodes:[t]});continue}const c=e.value;let u=c.kind===Gd.h.NULL;if(c.kind===Gd.h.VARIABLE){const e=c.name.value;if(null==n||!Jm(n,e)){if(void 0!==a)r[i]=a;else if((0,zd.zM)(s))throw jm(`Argument "${i}" of required type "${Eg(s)}" was provided the variable "$${e}" which was not provided a runtime value.`,{nodes:[c]});continue}u=null==n[e]}if(u&&(0,zd.zM)(s))throw jm(`Argument "${i}" of non-null type "${Eg(s)}" must not be null.`,{nodes:[c]});const l=(0,wg.u)(c,s,n);if(void 0===l)throw jm(`Argument "${i}" has invalid value ${(0,rg.S)(c)}.`,{nodes:[c]});r[i]=l}return r}function Ng(e,t,n){let r,o,i;function s(e){return e.done?e:Og(e.value,t).then(kg,o)}if("function"===typeof e.return&&(r=e.return,o=t=>{const n=()=>Promise.reject(t);return r.call(e).then(n,n)}),n){const e=n;i=t=>Og(t,e).then(kg,o)}return{next:()=>e.next().then(s,i),return:()=>r?r.call(e).then(s,i):Promise.resolve({value:void 0,done:!0}),throw:t=>"function"===typeof e.throw?e.throw(t).then(s,i):Promise.reject(t).catch(o),[Symbol.asyncIterator](){return this}}}function Og(e,t){return new Promise((n=>n(t(e))))}function kg(e){return{value:e,done:!1}}function Ag(e,t){if(!e)throw new Error(null!=t?t:"Unexpected invariant triggered.")}async function xg(e,t){const n=Object.create(null);return await new Promise(((r,o)=>{t?.addEventListener("abort",(()=>{r()})),Promise.all(Object.entries(e).map((async([e,t])=>{n[e]=await t}))).then((()=>r()),o)})),n}var Cg=n(27816);function $g(e,t,n,r){const o=[],i=r?.maxErrors;try{const r=function(e,t,n,r){const o={};for(const i of t){const t=i.variable.name.value,s=(0,Qm._)(e,i.type);if(!(0,zd.j$)(s)){const e=(0,rg.S)(i.type);r(jm(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:i.type}));continue}if(!Jm(n,t)){if(i.defaultValue)o[t]=(0,wg.u)(i.defaultValue,s);else if((0,zd.zM)(s)){const e=Eg(s);r(jm(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:i}))}continue}const a=n[t];if(null===a&&(0,zd.zM)(s)){const e=Eg(s);r(jm(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:i}))}else o[t]=(0,Cg.K)(a,s,((e,n,o)=>{let s=`Variable "$${t}" got invalid value `+Eg(n);e.length>0&&(s+=` at "${t}${bg(e)}"`),r(jm(s+"; "+o.message,{nodes:i,originalError:o.originalError}))}))}return o}(e,t,n,(e=>{if(null!=i&&o.length>=i)throw jm("Too many errors processing variables, error limit reached. Execution aborted.");o.push(e)}));if(0===o.length)return{coerced:r}}catch(s){o.push(s)}return{errors:o}}const Rg=Em(((e,t,n)=>sy(e.schema,e.fragments,e.variableValues,t,n)));function Dg(e){const t=Lg(e);return"schema"in t?Pg(t):{errors:t.map((e=>(Object.defineProperty(e,"extensions",{value:{...e.extensions,http:{...e.extensions?.http,status:400}}}),e)))}}function Pg(e){return new gm((()=>function(e){const{operation:t,schema:n,fragments:r,variableValues:o,rootValue:i}=e,s=hg(n,t.operation,[t]);null==s&&jm(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const{fields:a,patches:c}=ny(n,r,o,s,t.selectionSet),u=void 0;let l;l="mutation"===t.operation?function(e,t,n,r,o){let i=!1;return function(e,t,n){let r=n;for(const o of e)r=Km(r)?r.then((e=>t(e,o))):t(r,o);return r}(o,((o,[s,a])=>{const c=gg(r,s,t.name);return e.signal?.aborted?(o[s]=null,o):new gm((()=>Bg(e,t,n,a,c))).then((t=>(void 0===t||(o[s]=t,e.signal?.aborted&&!i&&(e.errors.push(jm("Execution aborted",{nodes:a,path:vg(c),originalError:e.signal?.reason})),i=!0)),o)))}),Object.create(null)).resolve()}(e,s,i,u,a):Ug(e,s,i,u,a);for(const f of c){const{label:t,fields:n}=f;nv(e,s,i,n,t,u)}return l}(e))).then((t=>{const n=jg(t,e.errors);return e.subsequentPayloads.size>0?{initialResult:{...n,hasNext:!0},subsequentResults:av(e)}:n}),(t=>(e.errors.push(t),jg(null,e.errors)))).resolve()}function jg(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}const Mg=bm((function(e){const t=Object.create(null);for(const n of e.definitions)n.kind===Gd.h.FRAGMENT_DEFINITION&&(t[n.name.value]=n);return t}));function Lg(e){const{schema:t,document:n,rootValue:r,contextValue:o,variableValues:i,operationName:s,fieldResolver:a,typeResolver:c,subscribeFieldResolver:u,signal:l}=e;(0,Mp.J)(t);const f=Mg(n);let d;for(const p of n.definitions)switch(p.kind){case Gd.h.OPERATION_DEFINITION:if(null==s){if(void 0!==d)return[jm("Must provide operation name if query contains multiple operations.")];d=p}else p.name?.value===s&&(d=p)}if(null==d)return null!=s?[jm(`Unknown operation named "${s}".`)]:[jm("Must provide an operation.")];const h=$g(t,d.variableDefinitions??[],i??{},{maxErrors:50});return h.errors?h.errors:{schema:t,fragments:f,rootValue:r,contextValue:o,operation:d,variableValues:h.coerced,fieldResolver:a??Yg,typeResolver:c??Qg,subscribeFieldResolver:u??Yg,subsequentPayloads:new Set,errors:[],signal:l}}function Ug(e,t,n,r,o,i){const s=Object.create(null);let a=!1,c=!1;try{for(const[u,l]of o){if(e.signal?.aborted){s[u]=null;continue}const o=gg(r,u,t.name),f=Bg(e,t,n,l,o,i);void 0!==f&&(s[u]=f,Km(f)&&(a=!0)),e.signal?.aborted&&!c&&(e.errors.push(jm("Execution aborted",{nodes:l,path:vg(o),originalError:e.signal?.reason})),c=!0)}}catch(u){if(a)return xg(s,e.signal).finally((()=>{throw u}));throw u}return a?xg(s,e.signal):s}function Bg(e,t,n,r,o,i){const s=i?.errors??e.errors,a=fv(e.schema,t,r[0]);if(!a)return;const c=a.type,u=a.resolve??e.fieldResolver,l=Fg(e,a,r,t,o);try{const t=Ig(a,r[0],e.variableValues),f=u(n,t,e.contextValue,l);let d;return d=Km(f)?f.then((t=>qg(e,c,r,l,o,t,i))):qg(e,c,r,l,o,f,i),Km(d)?d.then(void 0,(t=>{const n=Vg((0,qm.y)(t,r,vg(o)),c,s);return sv(e,o,i),n})):d}catch(f){const t=Vg((0,qm.y)(f,r,vg(o)),c,s);return sv(e,o,i),t}}function Fg(e,t,n,r,o){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:o,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function Vg(e,t,n){if((0,zd.zM)(t))throw e;return n.push(e),null}function qg(e,t,n,r,o,i,s){if(i instanceof Error)throw i;if((0,zd.zM)(t)){const a=qg(e,t.ofType,n,r,o,i,s);if(null===a)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return a}return null==i?null:(0,zd.HG)(t)?function(e,t,n,r,o,i,s){const a=t.ofType,c=s?.errors??e.errors;if(Tm(i)){return async function(e,t,n,r,o,i,s){e.signal?.addEventListener("abort",(()=>{i.return?.(),e.errors.push(jm("Execution aborted",{nodes:n,path:vg(o),originalError:e.signal?.reason}))}));const a=s?.errors??e.errors,c=zg(e,n,o);let u=!1;const l=[];let f=0;for(;;){if(c&&"number"===typeof c.initialCount&&f>=c.initialCount){iv(f,i,e,n,r,t,o,c.label,s);break}const h=gg(o,f,void 0);let p;try{if(p=await i.next(),p.done)break}catch(d){const e=(0,qm.y)(d,n,vg(h));l.push(Vg(e,t,a));break}Gg(p.value,l,a,e,t,n,r,h,s)&&(u=!0),f+=1}return u?Promise.all(l):l}(e,a,n,r,o,i[Symbol.asyncIterator](),s)}if(!Gm(i))throw jm(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const u=zg(e,n,o);let l=!1,f=s;const d=[];let h=0;for(const p of i){const t=gg(o,h,void 0);u&&"number"===typeof u.initialCount&&h>=u.initialCount?(f=rv(o,t,p,e,n,r,a,u.label,f),h++):(Gg(p,d,c,e,a,n,r,t,s)&&(l=!0),h++)}return l?Promise.all(d):d}(e,t,n,r,o,i,s):(0,zd.UT)(t)?function(e,t){let n;try{n=e.serialize(t)}catch(r){if(r instanceof Kd.__)throw new Error(r.message);throw r}if(null==n)throw new Error(`Expected \`${Eg(e)}.serialize(${Eg(t)})\` to return non-nullable value, returned: ${Eg(n)}`);return n}(t,i):(0,zd.m0)(t)?function(e,t,n,r,o,i,s){const a=t.resolveType??e.typeResolver,c=e.contextValue,u=a(i,c,r,t);if(Km(u))return u.then((a=>Kg(e,Hg(a,e,t,n,r,i),n,r,o,i,s)));return Kg(e,Hg(u,e,t,n,r,i),n,r,o,i,s)}(e,t,n,r,o,i,s):(0,zd.lp)(t)?Kg(e,t,n,r,o,i,s):void console.assert(!1,"Cannot complete value of unexpected output type: "+Eg(t))}function zg(e,t,n){if("number"===typeof n.key)return;const r=(0,Wm.zu)(ey,t[0],e.variableValues);return r&&!1!==r.if?(Ag("number"===typeof r.initialCount,"initialCount must be a number"),Ag(r.initialCount>=0,"initialCount must be a positive integer"),{initialCount:r.initialCount,label:"string"===typeof r.label?r.label:void 0}):void 0}function Gg(e,t,n,r,o,i,s,a,c){try{let u;if(u=Km(e)?e.then((e=>qg(r,o,i,s,a,e,c))):qg(r,o,i,s,a,e,c),Km(u))return t.push(u.then(void 0,(e=>{const t=Vg((0,qm.y)(e,i,vg(a)),o,n);return sv(r,a,c),t}))),!0;t.push(u)}catch(u){const e=Vg((0,qm.y)(u,i,vg(a)),o,n);sv(r,a,c),t.push(e)}return!1}function Hg(e,t,n,r,o,i){if(null==e)throw jm(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,{nodes:r});if((0,zd.lp)(e))throw jm("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!==typeof e)throw jm(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}" with value ${Eg(i)}, received "${Eg(e)}".`);const s=t.schema.getType(e);if(null==s)throw jm(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!(0,zd.lp)(s))throw jm(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,s))throw jm(`Runtime Object type "${s.name}" is not a possible type for "${n.name}".`,{nodes:r});return s}function Kg(e,t,n,r,o,i,s){if(t.isTypeOf){const a=t.isTypeOf(i,e.contextValue,r);if(Km(a))return a.then((r=>{if(!r)throw Jg(t,i,n);return Wg(e,t,n,o,i,s)}));if(!a)throw Jg(t,i,n)}return Wg(e,t,n,o,i,s)}function Jg(e,t,n){return jm(`Expected value of type "${e.name}" but got: ${Eg(t)}.`,{nodes:n})}function Wg(e,t,n,r,o,i){const{fields:s,patches:a}=Rg(e,t,n),c=Ug(e,t,o,r,s,i);for(const u of a){const{label:n,fields:s}=u;nv(e,t,o,s,n,r,i)}return c}const Qg=function(e,t,n,r){if(Hm(e)&&"string"===typeof e.__typename)return e.__typename;const o=n.schema.getPossibleTypes(r),i=[];for(let s=0;s<o.length;s++){const r=o[s];if(r.isTypeOf){const o=r.isTypeOf(e,t,n);if(Km(o))i[s]=o;else if(o)return r.name}}return i.length?Promise.all(i).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return o[t].name})):void 0},Yg=function(e,t,n,r){if(Hm(e)||"function"===typeof e){const o=e[r.fieldName];return"function"===typeof o?e[r.fieldName](t,n,r):o}};function Xg(e){const t=Lg(e);if(!("schema"in t))return{errors:t.map((e=>(Object.defineProperty(e,"extensions",{value:{...e.extensions,http:{...e.extensions?.http,status:400}}}),e)))};const n=function(e){try{const t=function(e){const{schema:t,fragments:n,operation:r,variableValues:o,rootValue:i}=e,s=t.getSubscriptionType();if(null==s)throw jm("Schema is not configured to execute subscription operation.",{nodes:r});const{fields:a}=ny(t,n,o,s,r.selectionSet),[c,u]=[...a.entries()][0],l=u[0].name.value,f=fv(t,s,u[0]);if(!f)throw jm(`The subscription field "${l}" is not defined.`,{nodes:u});const d=gg(void 0,c,s.name),h=Fg(e,f,u,s,d);try{const t=Ig(f,u[0],o),n=e.contextValue,r=(f.subscribe??e.subscribeFieldResolver)(i,t,n,h);return Km(r)?r.then(tv).then(void 0,(e=>{throw(0,qm.y)(e,u,vg(d))})):tv(r,e.signal)}catch(p){throw(0,qm.y)(p,u,vg(d))}}(e);return Km(t)?t.then(void 0,(e=>({errors:[e]}))):t}catch(t){return{errors:[t]}}}(t);return Km(n)?n.then((e=>ev(t,e))):ev(t,n)}function Zg(e,t){const n=e.subsequentResults;let r=!1,o=!1;return t?.addEventListener("abort",(()=>{o=!0,n.throw?.(t?.reason)})),{[Symbol.asyncIterator](){return this},next:()=>o?Promise.resolve({value:void 0,done:o}):r?n.next():(r=!0,Promise.resolve({value:e.initialResult,done:o})),return:()=>(o=!0,n.return()),throw:e=>(o=!0,n.throw(e))}}function ev(e,t){return Tm(t)?function(e){const t=e[Symbol.asyncIterator]();let n,r,o=!1;return{next:async function e(){if(o)return{value:void 0,done:!0};try{if(!n){if(r)return await r,await e();let i;r=new Promise((e=>{i=e}));const s=await t.next();return s.done?(o=!0,await e()):(n=s.value[Symbol.asyncIterator](),r=void 0,i(),await e())}const i=n,s=await n.next();return s.done?(n===i&&(n=void 0),await e()):s}catch(i){throw o=!0,i}},return:async()=>(o=!0,await Promise.all([n?.return?.(),t.return?.()]),{value:void 0,done:!0}),async throw(e){throw o=!0,await Promise.all([n?.throw?.(e),t.throw?.(e)]),e},[Symbol.asyncIterator](){return this}}}(Ng(t[Symbol.asyncIterator](),(async t=>async function*(e,t){"initialResult"in e?yield*Zg(e,t):yield e}(await Pg(function(e,t){return{...e,rootValue:t,subsequentPayloads:new Set,errors:[]}}(e,t)),e.signal)),(async function*(t){const n=jm(t.message,{originalError:t,nodes:[e.operation]});yield{errors:[n]}}))):t}function tv(e,t){if(e instanceof Error)throw e;if(!Tm(e))throw jm(`Subscription field must return Async Iterable. Received: ${Eg(e)}.`);return{[Symbol.asyncIterator](){const n=e[Symbol.asyncIterator]();return t?.addEventListener("abort",(()=>{n.return?.()})),n}}}function nv(e,t,n,r,o,i,s){const a=new cv({label:o,path:i,parentContext:s,exeContext:e});let c;try{c=Ug(e,t,n,i,r,a),Km(c)&&(c=c.then(null,(e=>(a.errors.push(e),null))))}catch(u){a.errors.push(u),c=null}a.addData(c)}function rv(e,t,n,r,o,i,s,a,c){const u=new uv({label:a,path:t,parentContext:c,exeContext:r});let l,f;try{try{l=Km(n)?n.then((e=>qg(r,s,o,i,t,e,u))):qg(r,s,o,i,t,n,u),Km(l)&&(l=l.then(void 0,(e=>{const n=Vg((0,qm.y)(e,o,vg(t)),s,u.errors);return sv(r,t,u),n})))}catch(d){l=Vg((0,qm.y)(d,o,vg(t)),s,u.errors),sv(r,t,u)}}catch(h){return u.errors.push(h),sv(r,e,u),u.addItems(null),u}return f=Km(l)?l.then((e=>[e]),(t=>(u.errors.push(t),sv(r,e,u),null))):[l],u.addItems(f),u}async function ov(e,t,n,r,o,i,s){let a,c;try{const{value:t,done:n}=await e.next();if(n)return i.setIsCompletedIterator(),{done:n,value:void 0};a=t}catch(u){return{done:!0,value:Vg((0,qm.y)(u,n,vg(s)),o,i.errors)}}try{return c=qg(t,o,n,r,s,a,i),Km(c)&&(c=c.then(void 0,(e=>{const r=Vg((0,qm.y)(e,n,vg(s)),o,i.errors);return sv(t,s,i),r}))),{done:!1,value:c}}catch(u){const e=Vg((0,qm.y)(u,n,vg(s)),o,i.errors);return sv(t,s,i),{done:!1,value:e}}}async function iv(e,t,n,r,o,i,s,a,c){let u=e,l=c??void 0;for(;;){const e=gg(s,u,void 0),c=new uv({label:a,path:e,parentContext:l,iterator:t,exeContext:n});let d;try{d=await ov(t,n,r,o,i,c,e)}catch(f){return c.errors.push(f),sv(n,s,c),c.addItems(null),void(t?.return&&t.return().catch((()=>{})))}const{done:h,value:p}=d;let m;if(m=Km(p)?p.then((e=>[e]),(e=>(c.errors.push(e),sv(n,s,c),null))):[p],c.addItems(m),h)break;l=c,u++}}function sv(e,t,n){const r=vg(t);e.subsequentPayloads.forEach((t=>{if(t!==n){for(let e=0;e<r.length;e++)if(t.path[e]!==r[e])return;lv(t)&&t.iterator?.return&&t.iterator.return().catch((()=>{})),e.subsequentPayloads.delete(t)}}))}function av(e){let t=!1;function n(){const t=[];return e.subsequentPayloads.forEach((e=>{lv(e)&&e.iterator?.return&&t.push(e.iterator.return())})),Promise.all(t)}return{[Symbol.asyncIterator](){return this},next:async function n(){if(t)return{value:void 0,done:!0};if(await Promise.race(Array.from(e.subsequentPayloads).map((e=>e.promise))),t)return{value:void 0,done:!0};const r=function(e){const t=[];for(const n of e.subsequentPayloads){const r={};if(n.isCompleted){if(e.subsequentPayloads.delete(n),lv(n)){const e=n.items;if(n.isCompletedIterator)continue;r.items=e}else{const e=n.data;r.data=e??null}r.path=n.path,n.label&&(r.label=n.label),n.errors.length>0&&(r.errors=n.errors),t.push(r)}}return t}(e),o=e.subsequentPayloads.size>0;return!r.length&&o?n():(o||(t=!0),{value:r.length?{incremental:r,hasNext:o}:{hasNext:o},done:!1})},return:async()=>(await n(),t=!0,{value:void 0,done:!0}),throw:async e=>(await n(),t=!0,Promise.reject(e))}}class cv{constructor(e){this.type="defer",this.label=e.label,this.path=vg(e.path),this.parentContext=e.parentContext,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.data=null,this.promise=new Promise((e=>{this._resolve=t=>{e(t)}})).then((e=>{this.data=e,this.isCompleted=!0}))}addData(e){const t=this.parentContext?.promise;t?this._resolve?.(t.then((()=>e))):this._resolve?.(e)}}class uv{constructor(e){this.type="stream",this.items=null,this.label=e.label,this.path=vg(e.path),this.parentContext=e.parentContext,this.iterator=e.iterator,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.items=null,this.promise=new Promise((e=>{this._resolve=t=>{e(t)}})).then((e=>{this.items=e,this.isCompleted=!0}))}addItems(e){const t=this.parentContext?.promise;t?this._resolve?.(t.then((()=>e))):this._resolve?.(e)}setIsCompletedIterator(){this.isCompletedIterator=!0}}function lv(e){return"stream"===e.type}function fv(e,t,n){const r=n.name.value;return r===dg.Az.name&&e.getQueryType()===t?dg.Az:r===dg.tF.name&&e.getQueryType()===t?dg.tF:r===dg.hU.name?dg.hU:t.getFields()[r]}function dv(e){if((0,zd.zM)(e)){const t=dv(e.ofType);if(t.kind===Gd.h.NON_NULL_TYPE)throw new Error(`Invalid type node ${Eg(e)}. Inner type of non-null type cannot be a non-null type.`);return{kind:Gd.h.NON_NULL_TYPE,type:t}}return(0,zd.HG)(e)?{kind:Gd.h.LIST_TYPE,type:dv(e.ofType)}:{kind:Gd.h.NAMED_TYPE,name:{kind:Gd.h.NAME,value:e.name}}}function hv(e,t,n,r,o,i,s){e[r]={kind:Gd.h.ARGUMENT,name:{kind:Gd.h.NAME,value:r},value:{kind:Gd.h.VARIABLE,name:{kind:Gd.h.NAME,value:o}}},t[o]={kind:Gd.h.VARIABLE_DEFINITION,variable:{kind:Gd.h.VARIABLE,name:{kind:Gd.h.NAME,value:o}},type:dv(i)},void 0===s?o in n&&delete n[o]:n[o]=s}function pv(e){let t=0;return n=>{let r;do{r=`_v${(t++).toString()}_${n}`}while(r in e);return r}}function mv(e,t){return e===t.getMutationType()?"mutation":e===t.getSubscriptionType()?"subscription":"query"}function yv({sourceSchema:e,sourceParentType:t,sourceFieldName:n,fragments:r,variableDefinitions:o,variableValues:i,targetRootValue:s,targetOperationName:a,targetOperation:c,targetFieldName:u,selectionSet:l,fieldNodes:f,context:d,info:h}){let p;const m=Object.create(null);if(null!=l)p=l;else{const e=[];for(const n of f||[])if(n.selectionSet)for(const t of n.selectionSet.selections)e.push(t);p=e.length?{kind:Gd.h.SELECTION_SET,selections:e}:void 0;const t=f?.[0]?.arguments;if(t)for(const n of t)m[n.name.value]=n}const y=Object.create(null),g=Object.create(null);if(null!=e&&null!=o)for(const _ of o){const t=_.variable.name.value;g[t]=_;const n=Py((0,Qm._)(e,_.type),i?.[t]);void 0!==n&&(y[t]=n)}null!=t&&null!=n&&function(e,t,n,r,o){const i=pv(r),s=e.getFields()[t];if(!s)throw new Error(`Field "${t}" was not found in type "${e}".`);for(const a of s.args){const e=a.name,t=a.type;if(void 0===n[e]){const s=a.defaultValue;void 0!==s&&hv(n,r,o,e,i(e),t,Py(t,s))}}}(t,n,m,g,y);const v=u??f?.[0]?.name.value;if(void 0===v)throw new Error('Either "targetFieldName" or a non empty "fieldNodes" array must be provided.');const b={kind:Gd.h.FIELD,arguments:Object.values(m),name:{kind:Gd.h.NAME,value:v},selectionSet:p},w=a?{kind:Gd.h.NAME,value:a}:void 0,E=[{kind:Gd.h.OPERATION_DEFINITION,name:w,operation:c,variableDefinitions:Object.values(g),selectionSet:{kind:Gd.h.SELECTION_SET,selections:[b]}}];if(null!=r)for(const _ in r){const e=r[_];E.push(e)}return{document:{kind:Gd.h.DOCUMENT,definitions:E},variables:y,rootValue:s,operationName:a,context:d,info:h,operationType:c}}function gv(e={data:null,errors:[]},t){const{context:n,info:r,fieldName:o=bv(r),subschema:i,returnType:s=wv(r),skipTypeMerging:a,onLocatedError:c}=t,{data:u,unpathedErrors:l}=vv(null==e.data?void 0:e.data[o],null==e.errors?[]:e.errors,null!=r&&r.path?(0,zm.N)(r.path):void 0,c);return vy(u,l,i,n,r,s,a)}function vv(e,t,n,r,o=1){if(null==e){if(!t.length)return{data:null,unpathedErrors:[]};if(1===t.length){const e=r?r(t[0]):t[0],o=void 0===n?e.path:e.path?n.concat(e.path.slice(1)):n;return{data:Mm(t[0],o),unpathedErrors:[]}}const e=new AggregateError(t,t.map((e=>e.message)).join(", \n"));return{data:(0,qm.y)(e,void 0,n),unpathedErrors:[]}}if(!t.length)return{data:e,unpathedErrors:[]};const i=[],s=new Map;for(const a of t){const e=a.path?.[o];if(null!=e){let t=s.get(e);void 0===t?(t=[a],s.set(e,t)):t.push(a)}else i.push(a)}for(const[a,c]of s)if(void 0!==e[a]){const{data:t,unpathedErrors:s}=vv(e[a],c,n,r,o+1);e[a]=t,i.push(...s)}else i.push(...c);return{data:e,unpathedErrors:i}}function bv(e){if(null==e)throw new Error("Data cannot be extracted from result without an explicit key or source schema.");return Vm(e)}function wv(e){if(null==e)throw new Error("Return type cannot be inferred without a source schema.");return e.returnType}var Ev=n(22676),_v=n(90316);function Sv(e,t,n){return null!=n&&null!=t&&(t===n||!(!(0,zd.Gv)(t)||!(0,zd.Gv)(n))&&(0,_v.zR)(e,t,n))}function Tv(e){const t=[],n=[],r=new Set;for(let o=0;o<e.definitions.length;o++){const i=e.definitions[o];i.kind===Gd.h.FRAGMENT_DEFINITION?(n.push(i),r.add(i.name.value)):i.kind===Gd.h.OPERATION_DEFINITION&&t.push(i)}return{operations:t,fragments:n,fragmentNames:r}}function Iv(e,t){let{document:n,variables:r}=e,{operations:o,fragments:i}=Tv(n);const{targetSchema:s,args:a}=t;if(a){const e=function(e,t,n){const r=Object.create(null);return{newOperations:t.map((t=>{const o=(t.variableDefinitions??[]).reduce(((e,t)=>({...e,[t.variable.name.value]:t})),{}),i=hg(e,t.operation),s=[];for(const e of t.selectionSet.selections)if(e.kind===Gd.h.FIELD){const t=(e.arguments??[]).reduce(((e,t)=>({...e,[t.name.value]:t})),{}),a=i.getFields()[e.name.value];null!=a&&Nv(a,t,o,r,n),s.push({...e,arguments:Object.values(t)})}else s.push(e);const a={kind:Gd.h.SELECTION_SET,selections:s};return{...t,variableDefinitions:Object.values(o),selectionSet:a}})),newVariables:r}}(s,o,a);o=e.newOperations,r=Object.assign({},r??{},e.newVariables)}const{usedVariables:c,newDocument:u}=function(e,t,n){let r=[],o=[];const i=[];let s=[];const a=[],c=Object.create(null);for(const l of t){const t=l.typeCondition.name.value,n=e.getType(t);null!=n&&(a.push(l),c[l.name.value]=n)}let u=Object.create(null);for(const l of n){const t=hg(e,l.operation),{selectionSet:n,usedFragments:f,usedVariables:d}=xv(e,t,c,l.selectionSet);o=Cv(o,f);const{usedVariables:h,newFragments:p,fragmentSet:m}=Ov(e,u,a,c,o),y=Cv(d,h);r=Cv(r,y),s=p,u=m;const g=(l.variableDefinitions??[]).filter((e=>-1!==y.indexOf(e.variable.name.value)));"subscription"===l.operation&&(n.selections=n.selections.filter((e=>e.kind!==Gd.h.FIELD||"__typename"!==e.name.value))),i.push({kind:Gd.h.OPERATION_DEFINITION,operation:l.operation,name:l.name,directives:l.directives,variableDefinitions:g,selectionSet:n})}return{usedVariables:r,newDocument:{kind:Gd.h.DOCUMENT,definitions:[...i,...s]}}}(s,i,o),l={};if(null!=r)for(const f of c){const e=r[f];void 0!==e&&(l[f]=e)}return{...e,document:u,variables:l}}function Nv(e,t,n,r,o){const i=pv(n);for(const s of e.args){const e=s.name,a=s.type;e in o&&hv(t,n,r,e,i(e),a,Py(a,o[e]))}}function Ov(e,t,n,r,o){let i=o.slice(),s=[];const a=[];for(;0!==i.length;){const o=i.pop(),c=n.find((e=>e.name.value===o));if(null!=c){const n=o,u=c.typeCondition.name.value,l=e.getType(u);if(null==l)throw new Error(`Fragment reference type "${u}", but the type is not contained within the target schema.`);const{selectionSet:f,usedFragments:d,usedVariables:h}=xv(e,l,r,c.selectionSet);i=Cv(i,d),s=Cv(s,h),n&&!(n in t)&&(t[n]=!0,a.push({kind:Gd.h.FRAGMENT_DEFINITION,name:{kind:Gd.h.NAME,value:n},typeCondition:c.typeCondition,selectionSet:f}))}}return{usedVariables:s,newFragments:a,fragmentSet:t}}const kv={SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]},Av={SelectionSet:["selections"],Field:["arguments","directives","selectionSet"],Argument:["value"],InlineFragment:["directives","selectionSet"],FragmentSpread:["directives"],FragmentDefinition:["selectionSet"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["arguments"],ListValue:["values"]};function xv(e,t,n,r){const o=[],i=[],s=Hd.A.major<16?new Ev.a(e,void 0,t):new Ev.a(e,t),a=(0,Im.Vn)(r,(0,Ev.y)(s,{[Gd.h.FIELD]:{enter:e=>{const t=s.getParentType();if((0,zd.lp)(t)||(0,zd.oT)(t)){const n=t.getFields(),r="__typename"===e.name.value?dg.hU:n[e.name.value];if(!r)return null;const o=null!=r.args?r.args:[],i=Object.create(null);for(const e of o)i[e.name]=e;if(null!=e.arguments){const t=[];for(const n of e.arguments)n.name.value in i&&t.push(n);if(t.length!==e.arguments.length)return{...e,arguments:t}}}},leave:t=>{const n=s.getType();if(null==n)throw new Error(`No type was found for field node ${Eg(t)}.`);const r=(0,zd.xC)(n);if(null==!e.getType(r.name))return null;if((0,zd.lp)(r)||(0,zd.oT)(r)){const e=null!=t.selectionSet?t.selectionSet.selections:null;if(null==e||0===e.length)return null}}},[Gd.h.FRAGMENT_SPREAD]:{enter:t=>{if(!(t.name.value in n))return null;const r=s.getParentType(),i=n[t.name.value];if(!Sv(e,r,i))return null;o.push(t.name.value)}},[Gd.h.INLINE_FRAGMENT]:{enter:t=>{if(null!=t.typeCondition){const n=s.getParentType(),r=e.getType(t.typeCondition.name.value);if(!Sv(e,n,r))return null}}},[Gd.h.SELECTION_SET]:{leave:e=>{const t=s.getParentType();if(null!=t&&(0,zd.m0)(t)){const t=e.selections.concat([{kind:Gd.h.FIELD,name:{kind:Gd.h.NAME,value:"__typename"}}]);return{...e,selections:t}}}}}),kv);return(0,Im.Vn)(a,{[Gd.h.VARIABLE]:e=>{i.push(e.name.value)}},Av),{selectionSet:a,usedFragments:o,usedVariables:i}}function Cv(...e){const t=Object.create(null),n=[];for(const r of e)for(const e of r)e in t||(t[e]=!0,n.push(e));return n}function $v(e,t,n,r){const o=function(e,t,n){const r=(0,zd.xC)(e);if(!(0,zd.Gv)(r))return n;const o=pg(t),i=new Ev.a(t),s={Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]};return(0,Im.Vn)(n,(0,Ev.y)(i,{[Gd.h.FRAGMENT_DEFINITION]:e=>{const t=e.typeCondition.name.value;if(!o.has(t))return!1},[Gd.h.FIELD]:e=>{const t=i.getType();if(null!=t&&(0,zd.m0)((0,zd.xC)(t)))return{...e,selectionSet:{kind:Gd.h.SELECTION_SET,selections:[{kind:Gd.h.INLINE_FRAGMENT,typeCondition:{kind:Gd.h.NAMED_TYPE,name:{kind:Gd.h.NAME,value:r.name}},selectionSet:e.selectionSet}]}}}}),s)}(n,t,e);if(null==r)return o;const{possibleTypesMap:i,reversePossibleTypesMap:s,interfaceExtensionsMap:a,fieldNodesByType:c,fieldNodesByField:u,dynamicSelectionSetsByField:l}=Dv(r,t),{operations:f,fragments:d,fragmentNames:h}=Tv(o),{expandedFragments:p,fragmentReplacements:m}=function(e,t,n){let r=0;function o(e){let n;do{n=`_${e}_Fragment${r.toString()}`,r++}while(t.has(n));return n}const i=[],s=Object.create(null);for(const a of e){const e=n[a.typeCondition.name.value];if(null!=e){const n=a.name.value;s[n]=[];for(const r of e){const e=o(r);t.add(e),i.push({kind:Gd.h.FRAGMENT_DEFINITION,name:{kind:Gd.h.NAME,value:e},typeCondition:{kind:Gd.h.NAMED_TYPE,name:{kind:Gd.h.NAME,value:r}},selectionSet:a.selectionSet}),s[n].push({fragmentName:e,typeName:r})}}}return{expandedFragments:i,fragmentReplacements:s}}(d,h,i),y=new Ev.a(t),g={kind:Gd.h.DOCUMENT,definitions:[...f,...d,...p]};return(0,Im.Vn)(g,(0,Ev.y)(y,{[Gd.h.SELECTION_SET]:e=>function(e,t,n,r,o,i,s,a,c,u){const l=new Set,f=r.getParentType();if(null!=f){const r=(0,zd.xC)(f),d=r.name,h=a[d];if(h)for(const e of h)l.add(e);const p=s[r.name],m=[];for(const i of e.selections)if(i.kind===Gd.h.INLINE_FRAGMENT){if(null!=i.typeCondition){const e=o[i.typeCondition.name.value];if(null==e){l.add(i);continue}for(const t of e){const e=n.getType(t);null!=e&&Sv(n,r,e)&&l.add(Rv(t,i.selectionSet))}}}else if(i.kind===Gd.h.FRAGMENT_SPREAD){const e=i.name.value;if(!t[e]){l.add(i);continue}for(const o of t[e]){const e=o.typeName;null!=n.getType(e)&&Sv(n,r,f)&&l.add({kind:Gd.h.FRAGMENT_SPREAD,name:{kind:Gd.h.NAME,value:o.fragmentName}})}}else{const e=i.name.value,t=c[d]?.[e];if(null!=t)for(const r of t)l.add(r);const n=u[d]?.[e];if(null!=n)for(const r of n){const e=r(i);if(null!=e)for(const t of e.selections)l.add(t)}p?.[e]?m.push(i):l.add(i)}if(i[r.name]&&l.add({kind:Gd.h.FIELD,name:{kind:Gd.h.NAME,value:"__typename"}}),m.length){const e=o[r.name];if(null!=e)for(const t of e)l.add(Rv(t,{kind:Gd.h.SELECTION_SET,selections:m}))}return{...e,selections:Array.from(l)}}return e}(e,m,t,y,i,s,a,c,u,l)}),{Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]})}function Rv(e,t){return{kind:Gd.h.INLINE_FRAGMENT,typeCondition:{kind:Gd.h.NAMED_TYPE,name:{kind:Gd.h.NAME,value:e}},selectionSet:t}}const Dv=wm(((e,t)=>{const n=e.getTypeMap(),r=t.getTypeMap(),o=Object.create(null),i=Object.create(null);for(const a in n){const t=n[a];if((0,zd.m0)(t)){const n=r[a];if((0,zd.oT)(t)&&(0,zd.oT)(n)){const e=n.getFields(),r=t.getFields(),o=Object.create(null);let s=!0;for(const t in r)e[t]||(o[t]=!0,s=!1);s||(i[a]=o)}if(i[a]||!(0,zd.m0)(n)){const n=e.getPossibleTypes(t);o[a]=[];for(const e of n)r[e.name]&&o[a].push(e.name)}}}const s=e.extensions?.stitchingInfo;return{possibleTypesMap:o,reversePossibleTypesMap:Pv(o),interfaceExtensionsMap:i,fieldNodesByType:s?.fieldNodesByType??{},fieldNodesByField:s?.fieldNodesByField??{},dynamicSelectionSetsByField:s?.dynamicSelectionSetsByField??{}}}));function Pv(e){const t=Object.create(null);for(const n in e){const r=e[n];for(const e of r)t[e]||(t[e]=[]),t[e].push(n)}return t}class jv{constructor(e){this.transformations=[],this.delegationContext=e;const t=e.transforms.slice().reverse();for(const n of t)this.addTransform(n,{})}addTransform(e,t={}){this.transformations.push({transform:e,context:t})}transformRequest(e){let t={...e,document:$v(e.document,this.delegationContext.transformedSchema,this.delegationContext.returnType,this.delegationContext.info?.schema)};for(const n of this.transformations)n.transform.transformRequest&&(t=n.transform.transformRequest(t,this.delegationContext,n.context));return Iv(t,this.delegationContext)}transformResult(e){let t=e;for(let n=this.transformations.length-1;n>=0;n--){const e=this.transformations[n];e.transform.transformResult&&(t=e.transform.transformResult(t,this.delegationContext,e.context))}return gv(t,this.delegationContext)}}function Mv(e){const{info:t,schema:n,rootValue:r=n.rootValue??t.rootValue,operationName:o=t.operation.name?.value,operation:i=mv(t.parentType,t.schema),fieldName:s=t.fieldName,selectionSet:a,fieldNodes:c=t.fieldNodes,context:u}=e,l=yv({sourceSchema:t.schema,sourceParentType:t.parentType,sourceFieldName:t.fieldName,fragments:t.fragments,variableDefinitions:t.operation.variableDefinitions,variableValues:t.variableValues,targetRootValue:r,targetOperationName:o,targetOperation:i,targetFieldName:s,selectionSet:a,fieldNodes:c,context:u,info:t});return function(e){const t=function({request:e,schema:t,fieldName:n,returnType:r,args:o,info:i,transforms:s=[],transformedSchema:a,skipTypeMerging:c=!1}){const u=Sm(e);let l;l=null==n?u.selectionSet.selections[0].name.value:n;const f=i?.schema.extensions?.stitchingInfo,d=f?.subschemaMap.get(t)??t,h=u.operation;if(Ey(d)){const n=d.schema;return{subschema:t,subschemaConfig:d,targetSchema:n,operation:h,fieldName:l,args:o,context:e.context,info:i,returnType:r??i?.returnType??Lv(n,h,l),transforms:null!=d.transforms?d.transforms.concat(s):s,transformedSchema:a??(d instanceof Ty?d.transformedSchema:Sy(n,d)),skipTypeMerging:c}}return{subschema:t,subschemaConfig:void 0,targetSchema:d,operation:h,fieldName:l,args:o,context:e.context,info:i,returnType:r??i?.returnType??Lv(d,h,l),transforms:s,transformedSchema:a??d,skipTypeMerging:c}}(e),n=new jv(t),r=n.transformRequest(e.request);e.validateRequest&&function(e,t){const n=(0,Bd.Gu)(e.targetSchema,t);if(n.length>0){if(n.length>1){throw new AggregateError(n,n.map((e=>e.message)).join(", \n"))}const e=n[0];throw e.originalError||e}}(t,r.document);const o=function(e){const{subschemaConfig:t,targetSchema:n,context:r}=e;let o=t?.executor||Bv(n);if(t?.batch){const e=t?.batchingOptions;o=fg(r??Uv,o,e?.dataLoaderOptions,e?.extensionsReducer)}return o}(t)(r);function i(e){if(Tm(e)){return Ng(e[Symbol.asyncIterator](),(e=>n.transformResult(e)))}return n.transformResult(e)}if(Km(o))return o.then(i);return i(o)}({...e,request:l})}function Lv(e,t,n){const r=hg(e,t),o=r.getFields()[n];if(!o)throw new Error(`Unable to find field '${n}' in type '${r}'.`);return o.type}const Uv={};const Bv=bm((function(e){return function(t){return function(e){const t=(0,vm.S)(e.document,e.operationName);if(null==t)throw new Error("Must provide an operation.");return"subscription"===t.operation?Xg(e):new gm((()=>Dg(e))).then((t=>"initialResult"in t?Zg(t,e.signal):t)).resolve()}({schema:e,document:t.document,rootValue:t.rootValue,contextValue:t.context,variableValues:t.variables,operationName:t.operationName})}}));const Fv=wm((function(e,t){return new Map})),Vv={},qv=bm((function(e){return JSON.stringify(e)})),zv=bm(rg.S);function Gv(e){return"object"===typeof e?qv(e):e}function Hv(e){const{schema:t,context:n,info:r,fieldName:o=r.fieldName,dataLoaderOptions:i,fieldNodes:s=my(r.fieldNodes[0]),selectionSet:a=s[0].selectionSet}=e,c=Fv(n??Vv,t);let u=o;null!=a&&(u+=zv(a));let l=c.get(u);if(void 0===l){const t=function(e){const t=e.argsFromKeys??(e=>({ids:e})),n=e.fieldName??e.info.fieldName,{valuesFromResults:r,lazyOptionsFn:o}=e;return function(i){return new gm((()=>Mv({returnType:new zd.p2((0,zd.xC)(e.info.returnType)),onLocatedError:e=>{if(null==e.path)return e;const[t,r]=e.path;return t!==n||"number"!==typeof r?e:Mm(e,e.path.slice(0,0).concat(e.path.slice(2)))},args:t(i),...null==o?e:o(e,i)}))).then((e=>{if(e instanceof Error)return i.map((()=>e));const t=null==r?e:r(e,i);return Array.isArray(t)?t:i.map((()=>t))}))}}(e);l=new Ad(t,{cacheKeyFn:Gv,...i}),c.set(u,l)}return l}function Kv(e){const{fieldName:t,argsFromKeys:n,valuesFromResults:r,args:o}=e;return null!=n?function(o,i,s,a,c,u,l=(0,zd.xC)(s.returnType)){return function(e){const t=e.key;if(null==t)return null;if(Array.isArray(t)&&!t.length)return[];const n=Hv(e);return Array.isArray(t)?n.loadMany(t):n.load(t)}({schema:a,operation:"query",fieldName:t,returnType:new zd.p2(l),key:u,argsFromKeys:n,valuesFromResults:r,selectionSet:c,context:i,info:s,skipTypeMerging:!0,dataLoaderOptions:e.dataLoaderOptions})}:null!=o?function(e,n,r,i,s,a,c=(0,zd.xC)(r.returnType)){return Mv({schema:i,operation:"query",fieldName:t,returnType:c,args:o(e),selectionSet:s,context:n,info:r,skipTypeMerging:!0})}:void 0}function Jv(e,t,n){const r=function(e,t){const n=Object.create(null);for(const r in e)if(e[r].length>1&&((0,zd.lp)(e[r][0].type)||(0,zd.oT)(e[r][0].type))){const o=e[r].filter((e=>null!=e.transformedSubschema&&null!=e.transformedSubschema.merge&&r in e.transformedSubschema.merge));if(!0===t||"function"===typeof t&&t(e[r],r)||Array.isArray(t)&&t.includes(r)||o.length){const t=[],o=new Map,i=Object.create({}),s=new Map,a=new Map,c=new Map;for(const n of e[r]){const e=n.transformedSubschema;if(null==e)continue;o.set(e,e.transformedSchema.getTypeMap());const u=e?.merge?.[r];if(null==u)continue;if(u.selectionSet){const t=og(u.selectionSet,{noLocation:!0});s.set(e,t)}if(u.fields){const t=Object.create(null);for(const e in u.fields)if(u.fields[e].selectionSet){const n=u.fields[e].selectionSet;t[e]=n?og(n,{noLocation:!0}):void 0}a.set(e,t)}const l=u.resolve??Kv(u);if(null==l)continue;const f=u.key;c.set(e,f?function(e,t,n,r,o,i){return new gm((()=>f(e))).then((s=>l(e,t,n,r,o,s,i))).resolve()}:l),t.push(e);const d=e.transformedSchema.getType(r).getFields(),h=s.get(e);for(const t in d){const n=d[t],r=(0,zd.xC)(n.type);h&&(0,zd.UT)(r)&&Yv(h,t)||(t in i||(i[t]=[]),i[t].push(e))}}const u=e[r].map((e=>e?.transformedSubschema)).filter(Oy),l=new Map;for(const e of u){const n=t.filter((t=>t!==e));n.length&&l.set(e,n)}n[r]={typeName:r,targetSubschemas:l,typeMaps:o,selectionSets:s,fieldSelectionSets:a,uniqueFields:Object.create({}),nonUniqueFields:Object.create({}),resolvers:c},n[r].delegationPlanBuilder=sg(n[r]);for(const e in i)1===i[e].length?n[r].uniqueFields[e]=i[e][0]:n[r].nonUniqueFields[e]=i[e]}}return n}(t,n);return{subschemaMap:e,fieldNodesByType:Object.create(null),fieldNodesByField:Object.create(null),dynamicSelectionSetsByField:Object.create(null),mergedTypes:r}}function Wv(e,t,n,r,o){if(o){Qv(e,t,n,r,og("{ __typename }",{noLocation:!0}))}else Qv(e,t,n,r)}function Qv(e,t,n,r,o){if(null==e[t]){const i=void 0===o?[r]:[o,r];e[t]={[n]:i}}else if(null==e[t][n]){const i=void 0===o?[r]:[o,r];e[t][n]=i}else e[t][n].push(r)}function Yv(e,t){return e.selections.some((e=>e.kind===Gd.h.FIELD&&e.name.value===t))}function Xv(e,t){const n=t.getTypeMap(),r=[];for(const o in n){const t=n[o];if((0,zd.lp)(t)){t.getInterfaces().find((t=>t.name===e))&&r.push(t.name)}}return r}function Zv(e,t={}){const{skipEmptyCompositeTypePruning:n,skipEmptyUnionPruning:r,skipPruning:o,skipUnimplementedInterfacesPruning:i,skipUnusedTypesPruning:s}=t;let a=[],c=e;do{let e=eb(c);if(o){const t=[];for(const e in c.getTypeMap()){if(e.startsWith("__"))continue;const n=c.getType(e);n&&o(n)&&t.push(e)}e=tb(t,c,e)}a=[],c=zy(c,{[By.TYPE]:t=>{if(!e.has(t.name)&&!(0,qd.u1)(t)){if((0,zd.EN)(t)||(0,zd.hL)(t)||(0,zd.oT)(t)||(0,zd.lp)(t)||(0,zd.KA)(t)){if(s)return t;if((0,zd.EN)(t)&&r&&!Object.keys(t.getTypes()).length)return t;if(((0,zd.hL)(t)||(0,zd.oT)(t)||(0,zd.lp)(t))&&n&&!Object.keys(t.getFields()).length)return t;if((0,zd.oT)(t)&&i)return t}return a.push(t.name),e.delete(t.name),null}return t}})}while(a.length);return c}function eb(e){const t=[];for(const n of mg(e))t.push(n.name);return tb(t,e)}function tb(e,t,n=new Set){const r=new Map;for(;e.length;){const o=e.pop();if(n.has(o)&&!0!==r[o])continue;const i=t.getType(o);if(i){if((0,zd.EN)(i)&&e.push(...i.getTypes().map((e=>e.name))),(0,zd.oT)(i)&&!0===r[o]&&(e.push(...Xv(i.name,t)),r[o]=!1),(0,zd.EM)(i)&&e.push(...i.getValues().flatMap((e=>e.astNode?nb(t,e.astNode):[]))),"getInterfaces"in i&&e.push(...i.getInterfaces().map((e=>e.name))),"getFields"in i){const n=i.getFields(),o=Object.entries(n);if(!o.length)continue;for(const[,s]of o){(0,zd.lp)(i)&&e.push(...s.args.flatMap((e=>{const n=[(0,zd.xC)(e.type).name];return e.astNode&&n.push(...nb(t,e.astNode)),n})));const n=(0,zd.xC)(s.type);e.push(n.name),s.astNode&&e.push(...nb(t,s.astNode)),(0,zd.oT)(n)&&!(n.name in r)&&(r[n.name]=!0)}}i.astNode&&e.push(...nb(t,i.astNode)),n.add(o)}}return n}function nb(e,t){return(t.directives??[]).flatMap((t=>e.getDirective(t.name.value)?.args.map((e=>(0,zd.xC)(e.type).name))??[]))}function rb({schema:e,typeFilter:t=(()=>!0),fieldFilter:n,rootFieldFilter:r,objectFieldFilter:o,interfaceFieldFilter:i,inputObjectFieldFilter:s,argumentFilter:a}){return zy(e,{[By.QUERY]:e=>ob(e,"Query",r,a),[By.MUTATION]:e=>ob(e,"Mutation",r,a),[By.SUBSCRIPTION]:e=>ob(e,"Subscription",r,a),[By.OBJECT_TYPE]:e=>t(e.name,e)?ib(zd.h6,e,o||n,a):null,[By.INTERFACE_TYPE]:e=>t(e.name,e)?ib(zd.oW,e,i||n,a):null,[By.INPUT_OBJECT_TYPE]:e=>t(e.name,e)?ib(zd.sR,e,s||n):null,[By.UNION_TYPE]:e=>t(e.name,e)?void 0:null,[By.ENUM_TYPE]:e=>t(e.name,e)?void 0:null,[By.SCALAR_TYPE]:e=>t(e.name,e)?void 0:null})}function ob(e,t,n,r){if(n||r){const o=e.toConfig();for(const e in o.fields){const i=o.fields[e];if(n&&!n(t,e,o.fields[e]))delete o.fields[e];else if(r&&i.args)for(const n in i.args)r(t,e,n,i.args[n])||delete i.args[n]}return new zd.h6(o)}return e}function ib(e,t,n,r){if(n||r){const o=t.toConfig();for(const e in o.fields){const i=o.fields[e];if(n&&!n(t.name,e,o.fields[e]))delete o.fields[e];else if(r&&"args"in i)for(const n in i.args)r(t.name,e,n,i.args[n])||delete i.args[n]}return new e(o)}}function sb(e,t,n){if(Array.isArray(e))return e.map((e=>sb(e,t,n)));if("object"===typeof e){const r=null!=t?t(e):e;if(null!=r)for(const e in r){const o=r[e];Object.defineProperty(r,e,{value:sb(o,t,n)})}return null!=n?n(r):r}return e}class ab{constructor(e,t,n,r){this.fieldTransformer=e,this.fieldNodeTransformer=t,this.dataTransformer=n,this.errorsTransformer=r,this.mapping={}}_getTypeInfo(){const e=this.typeInfo;if(void 0===e)throw new Error('The TransformCompositeFields transform\'s  "transformRequest" and "transformResult" methods cannot be used without first calling "transformSchema".');return e}transformSchema(e,t){return this.transformedSchema=zy(e,{[By.COMPOSITE_FIELD]:(e,t,n)=>{const r=this.fieldTransformer(n,t,e);if(Array.isArray(r)){const e=r[0];e!==t&&(n in this.mapping||(this.mapping[n]={}),this.mapping[n][e]=t)}return r}}),this.typeInfo=new Ev.a(this.transformedSchema),this.subscriptionTypeName=e.getSubscriptionType()?.name,this.transformedSchema}transformRequest(e,t,n){const r=e.document;return{...e,document:this.transformDocument(r,n)}}transformResult(e,t,n){const r=this.dataTransformer;return null!=r&&(e.data=sb(e.data,(e=>r(e,n)))),null!=this.errorsTransformer&&Array.isArray(e.errors)&&(e.errors=this.errorsTransformer(e.errors,n)),e}transformDocument(e,t){const n=Object.create(null);for(const r of e.definitions)r.kind===Gd.h.FRAGMENT_DEFINITION&&(n[r.name.value]=r);return(0,Im.Vn)(e,(0,Ev.y)(this._getTypeInfo(),{[Gd.h.SELECTION_SET]:{leave:e=>this.transformSelectionSet(e,this._getTypeInfo(),n,t)}}))}transformSelectionSet(e,t,n,r){const o=t.getParentType();if(null==o)return;const i=o.name;let s=[],a=e.selections.some((e=>e.kind===Gd.h.FIELD&&"__typename"===e.name.value));for(const c of e.selections){if(c.kind!==Gd.h.FIELD||"__typename"===c.name.value){s.push(c);continue}const e=c.name.value;let t;if(a||null==this.dataTransformer&&null==this.errorsTransformer||null!=this.subscriptionTypeName&&i===this.subscriptionTypeName||(s.push({kind:Gd.h.FIELD,name:{kind:Gd.h.NAME,value:"__typename"}}),a=!0),null==this.fieldNodeTransformer?t=c:(t=this.fieldNodeTransformer(i,e,c,n,r),t=void 0===t?c:t),null==t)continue;if(Array.isArray(t)){s=s.concat(t);continue}if(t.kind!==Gd.h.FIELD){s.push(t);continue}if(null==this.mapping[i]){s.push(t);continue}const o=this.mapping[i][e];null!=o?s.push({...t,name:{kind:Gd.h.NAME,value:o},alias:{kind:Gd.h.NAME,value:t.alias?.value??e}}):s.push(t)}return{...e,selections:s}}}function cb(e,t){const n=e.schema,r={},o=Zv(rb({schema:n,objectFieldFilter:(e,n)=>!t[e]?.fields?.[n],interfaceFieldFilter:(e,o)=>(r[e]||(r[e]=Xv(e,n)),!r[e].some((e=>t[e]?.fields?.[o])))})),i={};for(const u in o.getTypeMap()){const e=o.getType(u);if((0,zd.lp)(e)||(0,zd.oT)(e)){i[u]={__typename:!0};const t=e.getFields();for(const e in t)i[u][e]=!0}}const s={...e,merge:e.merge?{...e.merge}:void 0,transforms:(e.transforms??[]).concat([new ab(((e,t)=>i[e]?.[t]?void 0:null),((e,t)=>i[e]?.[t]?void 0:null))])},a=o.getTypeMap(),c=s.merge;if(c){for(const e in c)a[e]||delete c[e];Object.keys(c).length||delete s.merge}return s}function ub(e){const t={};for(const i in e.merge){const n=e.merge[i],r=n.entryPoints??[n];for(const e of r)null!=e.fieldName&&(t[e.fieldName]=!0)}const n={};for(const i in e.merge){const t=e.schema.getType(i);if(!t||!("getInterfaces"in t))throw new Error(`${i} expected to have 'getInterfaces' method`);for(const r of t.getInterfaces()){const t=e.schema.getType(r.name);if(!t||!("getFields"in t))throw new Error(`${r.name} expected to have 'getFields' method`);for(const o in t.getFields())e.merge[i].fields?.[o]&&(n[r.name]=n[r.name]||{},n[r.name][o]=!0)}}const r=Zv(rb({schema:e.schema,rootFieldFilter:(e,n)=>"Query"===e&&null!=t[n],objectFieldFilter:(t,n)=>null==e.merge[t]||null!=e.merge[t].fields?.[n],interfaceFieldFilter:(e,t)=>null!=n[e]?.[t]})),o={};for(const i in r.getTypeMap()){const e=r.getType(i);if((0,zd.lp)(e)||(0,zd.oT)(e)){o[i]={__typename:!0};const t=e.getFields();for(const e in t)o[i][e]=!0}}return{...e,transforms:(e.transforms??[]).concat([new ab(((e,t)=>o[e]?.[t]?void 0:null),((e,t)=>o[e]?.[t]?void 0:null))])}}var lb,fb=n(75844),db=n(7926);function hb(e){let t=e;for(;t.kind===Gd.h.LIST_TYPE||"NonNullType"===t.kind;)t=t.type;return t}function pb(e){return e.kind!==Gd.h.NAMED_TYPE}function mb(e){return e.kind===Gd.h.LIST_TYPE}function yb(e){return e.kind===Gd.h.NON_NULL_TYPE}function gb(e){return mb(e)?`[${gb(e.type)}]`:yb(e)?`${gb(e.type)}!`:e.name.value}function vb(e,t){return null==e&&null==t?lb.A_EQUALS_B:null==e?lb.A_SMALLER_THAN_B:null==t?lb.A_GREATER_THAN_B:e<t?lb.A_SMALLER_THAN_B:e>t?lb.A_GREATER_THAN_B:lb.A_EQUALS_B}function bb(e,t){return!!e.find((e=>e.name.value===t.name.value))}function wb(e,t){return!!t?.[e.name.value]?.repeatable}function Eb(e,t){const n=[...t];for(const r of e){const e=n.findIndex((e=>e.name.value===r.name.value));if(e>-1){const t=n[e];if("ListValue"===t.value.kind){const e=t.value.values,n=r.value.values;t.value.values=Tb(e,n,((e,t)=>{const n=e.value;return!n||!t.some((e=>e.value===n))}))}else t.value=r.value}else n.push(r)}return n}function _b(e=[],t=[],n,r){const o=n&&n.reverseDirectives,i=o?t:e,s=function(e,t){return e.map(((e,n,r)=>{const o=r.findIndex((t=>t.name.value===e.name.value));if(o!==n&&!wb(e,t)){const t=r[o];return e.arguments=Eb(e.arguments,t.arguments),null}return e})).filter(Oy)}([...o?e:t],r);for(const a of i)if(bb(s,a)&&!wb(a,r)){const e=s.findIndex((e=>e.name.value===a.name.value)),t=s[e];s[e].arguments=Eb(a.arguments||[],t.arguments||[])}else s.push(a);return s}function Sb(e,t){return t?(function(e,t){const n=(0,rg.S)({...e,description:void 0}),r=(0,rg.S)({...t,description:void 0}),o=new RegExp("(directive @w*d*)|( on .*$)","g");if(n.replace(o,"")!==r.replace(o,""))throw new Error(`Unable to merge GraphQL directive "${e.name.value}". \nExisting directive:  \n\t${r} \nReceived directive: \n\t${n}`)}(e,t),{...e,locations:[...t.locations,...e.locations.filter((e=>!function(e,t){return t.some((({value:t})=>t===e.value))}(e,t.locations)))]}):e}function Tb(e,t,n){return e.concat(t.filter((t=>n(t,e))))}function Ib(e,t,n){const r=function(e,t){return e.reduce(((e,n)=>{const r=e.findIndex((e=>e.name.value===n.name.value));return-1===r?e.concat([n]):(t?.reverseArguments||(e[r]=n),e)}),[])}([...t,...e].filter(Oy),n);return n&&n.sort&&r.sort(Ny),r}function Nb(e,t){const n=e.findIndex((e=>e.name.value===t.name.value));return[n>-1?e[n]:null,n]}function Ob(e,t,n,r,o){const i=[];if(null!=n&&i.push(...n),null!=t)for(const s of t){const[t,n]=Nb(i,s);if(t&&!r?.ignoreFieldConflicts){const a=r?.onFieldTypeConflict&&r.onFieldTypeConflict(t,s,e,r?.throwOnConflict)||kb(e,t,s,r?.throwOnConflict);a.arguments=Ib(s.arguments||[],t.arguments||[],r),a.directives=_b(s.directives,t.directives,r,o),a.description=s.description||t.description,i[n]=a}else i.push(s)}if(r&&r.sort&&i.sort(Ny),r&&r.exclusions){const t=r.exclusions;return i.filter((n=>!t.includes(`${e.name.value}.${n.name.value}`)))}return i}function kb(e,t,n,r=!1){const o=gb(t.type),i=gb(n.type);if(o!==i){const s=hb(t.type),a=hb(n.type);if(s.name.value!==a.name.value)throw new Error(`Field "${n.name.value}" already defined with a different type. Declared as "${s.name.value}", but you tried to override with "${a.name.value}"`);if(!Ab(t.type,n.type,!r))throw new Error(`Field '${e.name.value}.${t.name.value}' changed type from '${o}' to '${i}'`)}return yb(n.type)&&!yb(t.type)&&(t.type=n.type),t}function Ab(e,t,n=!1){if(!pb(e)&&!pb(t))return e.toString()===t.toString();if(yb(t)){return Ab(yb(e)?e.type:e,t.type)}return yb(e)?Ab(t,e,n):!!mb(e)&&(mb(t)&&Ab(e.type,t.type)||yb(t)&&Ab(e,t.type))}function xb(e=[],t=[],n={}){const r=[...t,...e.filter((e=>{return n=e,!t.find((e=>e.name.value===n.name.value));var n}))];return n&&n.sort&&r.sort(Ny),r}function Cb(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"ObjectTypeDefinition"===e.kind||"ObjectTypeDefinition"===t.kind?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:Ob(e,e.fields,t.fields,n),directives:_b(e.directives,t.directives,n,r),interfaces:xb(e.interfaces,t.interfaces,n)}}catch(o){throw new Error(`Unable to merge GraphQL type "${e.name.value}": ${o.message}`)}return n?.convertExtensions?{...e,kind:Gd.h.OBJECT_TYPE_DEFINITION}:e}function $b(e,t,n,r){if(n?.consistentEnumMerge){const n=[];e&&n.push(...e),e=t,t=n}const o=new Map;if(e)for(const s of e)o.set(s.name.value,s);if(t)for(const s of t){const e=s.name.value;if(o.has(e)){const t=o.get(e);t.description=s.description||t.description,t.directives=_b(s.directives,t.directives,r)}else o.set(e,s)}const i=[...o.values()];return n&&n.sort&&i.sort(Ny),i}function Rb(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"EnumTypeDefinition"===e.kind||"EnumTypeDefinition"===t.kind?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:_b(e.directives,t.directives,n,r),values:$b(e.values,t.values,n)}:n?.convertExtensions?{...e,kind:Gd.h.ENUM_TYPE_DEFINITION}:e}function Db(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"ScalarTypeDefinition"===e.kind||"ScalarTypeDefinition"===t.kind?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:_b(e.directives,t.directives,n,r)}:n?.convertExtensions?{...e,kind:Gd.h.SCALAR_TYPE_DEFINITION}:e}function Pb(e,t,n,r){return t?{name:e.name,description:e.description||t.description,directives:_b(e.directives,t.directives,n,r),kind:n?.convertExtensions||"UnionTypeDefinition"===e.kind||"UnionTypeDefinition"===t.kind?Gd.h.UNION_TYPE_DEFINITION:Gd.h.UNION_TYPE_EXTENSION,loc:e.loc,types:xb(e.types,t.types,n)}:n?.convertExtensions?{...e,kind:Gd.h.UNION_TYPE_DEFINITION}:e}function jb(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"InputObjectTypeDefinition"===e.kind||"InputObjectTypeDefinition"===t.kind?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:Ob(e,e.fields,t.fields,n),directives:_b(e.directives,t.directives,n,r)}}catch(o){throw new Error(`Unable to merge GraphQL input type "${e.name.value}": ${o.message}`)}return n?.convertExtensions?{...e,kind:Gd.h.INPUT_OBJECT_TYPE_DEFINITION}:e}function Mb(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"InterfaceTypeDefinition"===e.kind||"InterfaceTypeDefinition"===t.kind?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:Ob(e,e.fields,t.fields,n),directives:_b(e.directives,t.directives,n,r),interfaces:e.interfaces?xb(e.interfaces,t.interfaces,n):void 0}}catch(o){throw new Error(`Unable to merge GraphQL interface "${e.name.value}": ${o.message}`)}return n?.convertExtensions?{...e,kind:Gd.h.INTERFACE_TYPE_DEFINITION}:e}!function(e){e[e.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",e[e.A_EQUALS_B=0]="A_EQUALS_B",e[e.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"}(lb||(lb={}));const Lb={query:"Query",mutation:"Mutation",subscription:"Subscription"};function Ub(e=[],t=[]){const n=[];for(const r in Lb){const o=e.find((e=>e.operation===r))||t.find((e=>e.operation===r));o&&n.push(o)}return n}function Bb(e,t,n,r){return t?{kind:e.kind===Gd.h.SCHEMA_DEFINITION||t.kind===Gd.h.SCHEMA_DEFINITION?Gd.h.SCHEMA_DEFINITION:Gd.h.SCHEMA_EXTENSION,description:e.description||t.description,directives:_b(e.directives,t.directives,n,r),operationTypes:Ub(e.operationTypes,t.operationTypes)}:n?.convertExtensions?{...e,kind:Gd.h.SCHEMA_DEFINITION}:e}var Fb=n(74635);let Vb={};function qb(){Vb={}}function zb(e){const t=e.name?.value;if(null!=t)switch(Gb(e,t),e.kind){case"EnumTypeDefinition":if(e.values)for(const n of e.values)Gb(n,t,n.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields)for(const n of e.fields)if(Gb(n,t,n.name.value),ew(n)&&n.arguments)for(const e of n.arguments)Gb(e,t,n.name.value,e.name.value)}}function Gb(e,t,n,r){const o=nw(e);if("string"!==typeof o||0===o.length)return;const i=[t];n&&(i.push(n),r&&i.push(r));const s=i.join(".");Vb[s]||(Vb[s]=[]),Vb[s].push(o)}function Hb(e){return"\n# "+e.replace(/\n/g,"\n# ")}function Kb(e,t){return e?e.filter((e=>e)).join(t||""):""}function Jb(e){return e?.some((e=>e.includes("\n")))??!1}function Wb(e){return e&&`  ${e.replace(/\n/g,"\n  ")}`}function Qb(e){return e&&0!==e.length?`{\n${Wb(Kb(e,"\n"))}\n}`:""}function Yb(e,t,n){return t?e+t+(n||""):""}const Xb={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Kb(e.definitions,"\n\n")},OperationDefinition:{leave:e=>{const t=Yb("(",Kb(e.variableDefinitions,", "),")");return Kb([e.operation,Kb([e.name,t]),Kb(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+Yb(" = ",n)+Yb(" ",Kb(r," "))},SelectionSet:{leave:({selections:e})=>Qb(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:o}){const i=Yb("",e,": ")+t;let s=i+Yb("(",Kb(n,", "),")");return s.length>80&&(s=i+Yb("(\n",Wb(Kb(n,"\n")),"\n)")),Kb([s,Kb(r," "),o]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Yb(" ",Kb(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Kb(["...",Yb("on ",e),Kb(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:o})=>`fragment ${e}${Yb("(",Kb(n,", "),")")} on ${t} ${Yb("",Kb(r," ")," ")}`+o},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t=!1){const n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?`"""\n${t?n:Wb(n)}\n"""`:`"""${n.replace(/"$/,'"\n')}"""`}(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Kb(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Kb(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Yb("(",Kb(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>Kb(["schema",Kb(e," "),Qb(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>Kb(["scalar",e,Kb(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Kb(["type",e,Yb("implements ",Kb(t," & ")),Kb(n," "),Qb(r)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:n,directives:r})=>e+(Jb(t)?Yb("(\n",Wb(Kb(t,"\n")),"\n)"):Yb("(",Kb(t,", "),")"))+": "+n+Yb(" ",Kb(r," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:n,directives:r})=>Kb([e+": "+t,Yb("= ",n),Kb(r," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Kb(["interface",e,Yb("implements ",Kb(t," & ")),Kb(n," "),Qb(r)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:n})=>Kb(["union",e,Kb(t," "),Yb("= ",Kb(n," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:n})=>Kb(["enum",e,Kb(t," "),Qb(n)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>Kb([e,Kb(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:n})=>Kb(["input",e,Kb(t," "),Qb(n)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:n,locations:r})=>"directive @"+e+(Jb(t)?Yb("(\n",Wb(Kb(t,"\n")),"\n)"):Yb("(",Kb(t,", "),")"))+(n?" repeatable":"")+" on "+Kb(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Kb(["extend schema",Kb(e," "),Qb(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Kb(["extend scalar",e,Kb(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Kb(["extend type",e,Yb("implements ",Kb(t," & ")),Kb(n," "),Qb(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Kb(["extend interface",e,Yb("implements ",Kb(t," & ")),Kb(n," "),Qb(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Kb(["extend union",e,Kb(t," "),Yb("= ",Kb(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Kb(["extend enum",e,Kb(t," "),Qb(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Kb(["extend input",e,Kb(t," "),Qb(n)]," ")}},Zb=Object.keys(Xb).reduce(((e,t)=>{return{...e,[t]:{leave:(n=Xb[t].leave,(e,t,r,o,i)=>{const s=[],a=o.reduce(((e,t)=>(["fields","arguments","values"].includes(t)&&e.name&&s.push(e.name.value),e[t])),i[0]),c=[...s,a?.name?.value].filter(Boolean).join("."),u=[];return e.kind.includes("Definition")&&Vb[c]&&u.push(...Vb[c]),Kb([...u.map(Hb),e.description,n(e,t,r,o,i)],"\n")})}};var n}),{});function ew(e){return"FieldDefinition"===e.kind}function tw(e,t){return null!=e.description?e.description.value:t?.commentDescriptions?nw(e):void 0}function nw(e){const t=function(e){const t=e.loc;if(!t)return;const n=[];let r=t.startToken.prev;for(;null!=r&&r.kind===Fb.T.COMMENT&&null!=r.next&&null!=r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){const e=String(r.value);n.push(e),r=r.prev}return n.length>0?n.reverse().join("\n"):void 0}(e);if(void 0!==t)return function(e){const t=e.split(/\r\n|[\n\r]/g),n=function(e){let t=null;for(let n=1;n<e.length;n++){const r=e[n],o=rw(r);if(o!==r.length&&((null===t||o<t)&&(t=o,0===t)))break}return null===t?0:t}(t);if(0!==n)for(let r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&ow(t[0]);)t.shift();for(;t.length>0&&ow(t[t.length-1]);)t.pop();return t.join("\n")}(`\n${t}`)}function rw(e){let t=0;for(;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function ow(e){return rw(e)===e.length}const iw="SCHEMA_DEF_SYMBOL";function sw(e,t,n={}){const r=n;for(const o of e)if("name"in o){const e=o.name?.value;if(t?.commentDescriptions&&zb(o),null==e)continue;if(t?.exclusions?.includes(e+".*")||t?.exclusions?.includes(e))delete r[e];else switch(o.kind){case Gd.h.OBJECT_TYPE_DEFINITION:case Gd.h.OBJECT_TYPE_EXTENSION:r[e]=Cb(o,r[e],t,n);break;case Gd.h.ENUM_TYPE_DEFINITION:case Gd.h.ENUM_TYPE_EXTENSION:r[e]=Rb(o,r[e],t,n);break;case Gd.h.UNION_TYPE_DEFINITION:case Gd.h.UNION_TYPE_EXTENSION:r[e]=Pb(o,r[e],t,n);break;case Gd.h.SCALAR_TYPE_DEFINITION:case Gd.h.SCALAR_TYPE_EXTENSION:r[e]=Db(o,r[e],t,n);break;case Gd.h.INPUT_OBJECT_TYPE_DEFINITION:case Gd.h.INPUT_OBJECT_TYPE_EXTENSION:r[e]=jb(o,r[e],t,n);break;case Gd.h.INTERFACE_TYPE_DEFINITION:case Gd.h.INTERFACE_TYPE_EXTENSION:r[e]=Mb(o,r[e],t,n);break;case Gd.h.DIRECTIVE_DEFINITION:r[e]=Sb(o,r[e])}}else o.kind!==Gd.h.SCHEMA_DEFINITION&&o.kind!==Gd.h.SCHEMA_EXTENSION||(r[iw]=Bb(o,r[iw],t));return r}function aw(e){if(null===e)return{kind:Gd.h.NULL};if(void 0===e)return null;if(Array.isArray(e)){const t=[];for(const n of e){const e=aw(n);null!=e&&t.push(e)}return{kind:Gd.h.LIST,values:t}}if("object"===typeof e){const t=[];for(const n in e){const r=aw(e[n]);r&&t.push({kind:Gd.h.OBJECT_FIELD,name:{kind:Gd.h.NAME,value:n},value:r})}return{kind:Gd.h.OBJECT,fields:t}}if("boolean"===typeof e)return{kind:Gd.h.BOOLEAN,value:e};if("bigint"===typeof e)return{kind:Gd.h.INT,value:String(e)};if("number"===typeof e&&isFinite(e)){const t=String(e);return cw.test(t)?{kind:Gd.h.INT,value:t}:{kind:Gd.h.FLOAT,value:t}}if("string"===typeof e)return{kind:Gd.h.STRING,value:e};throw new TypeError(`Cannot convert value to AST: ${e}.`)}const cw=/^-?(?:0|[1-9][0-9]*)$/;function uw(e,t){if((0,zd.zM)(t)){const n=uw(e,t.ofType);return n?.kind===Gd.h.NULL?null:n}if(null===e)return{kind:Gd.h.NULL};if(void 0===e)return null;if((0,zd.HG)(t)){const n=t.ofType;if(Gm(e)){const t=[];for(const r of e){const e=uw(r,n);null!=e&&t.push(e)}return{kind:Gd.h.LIST,values:t}}return uw(e,n)}if((0,zd.hL)(t)){if(!Hm(e))return null;const n=[];for(const r of Object.values(t.getFields())){const t=uw(e[r.name],r.type);t&&n.push({kind:Gd.h.OBJECT_FIELD,name:{kind:Gd.h.NAME,value:r.name},value:t})}return{kind:Gd.h.OBJECT,fields:n}}if((0,zd.UT)(t)){const n=t.serialize(e);return null==n?null:(0,zd.EM)(t)?{kind:Gd.h.ENUM,value:n}:"ID"===t.name&&"string"===typeof n&&lw.test(n)?{kind:Gd.h.INT,value:n}:aw(n)}console.assert(!1,"Unexpected input type: "+Eg(t))}const lw=/^-?(?:0|[1-9][0-9]*)$/;function fw(e,t=["directives"]){return t.reduce(((e,t)=>null==e?e:e[t]),e?.extensions)}function dw(e,t={}){const n=t.pathToDirectivesInExtensions,r=e.getTypeMap(),o=function(e,t){const n=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),r=[];null!=e.astNode&&r.push(e.astNode);if(null!=e.extensionASTNodes)for(const c of e.extensionASTNodes)r.push(c);for(const c of r)if(c.operationTypes)for(const e of c.operationTypes)n.set(e.operation,e);const o=yg(e);for(const[c,u]of n){const e=o.get(c);if(null!=e){const t=dv(e);null!=u?u.type=t:n.set(c,{kind:Gd.h.OPERATION_TYPE_DEFINITION,operation:c,type:t})}}const i=[...n.values()].filter(Oy),s=pw(e,e,t);if(!i.length&&!s.length)return null;const a={kind:null!=i?Gd.h.SCHEMA_DEFINITION:Gd.h.SCHEMA_EXTENSION,operationTypes:i,directives:s};return a.description=e.astNode?.description??null!=e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0,a}(e,n),i=null!=o?[o]:[],s=e.getDirectives();for(const a of s)(0,Bm.xg)(a)||i.push(hw(a,e,n));for(const a in r){const t=r[a],o=(0,qd.u1)(t),s=(0,dg.s9)(t);if(!o&&!s)if((0,zd.lp)(t))i.push(gw(t,e,n));else if((0,zd.oT)(t))i.push(vw(t,e,n));else if((0,zd.EN)(t))i.push(bw(t,e,n));else if((0,zd.hL)(t))i.push(ww(t,e,n));else if((0,zd.EM)(t))i.push(Ew(t,e,n));else{if(!(0,zd.KA)(t))throw new Error(`Unknown type ${t}.`);i.push(_w(t,e,n))}}return{kind:Gd.h.DOCUMENT,definitions:i}}function hw(e,t,n){return{kind:Gd.h.DIRECTIVE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description}:void 0),name:{kind:Gd.h.NAME,value:e.name},arguments:e.args?.map((e=>yw(e,t,n))),repeatable:e.isRepeatable,locations:e.locations?.map((e=>({kind:Gd.h.NAME,value:e})))||[]}}function pw(e,t,n){const r=fw(e,n);let o,i=[];if(null!=e.astNode&&i.push(e.astNode),"extensionASTNodes"in e&&null!=e.extensionASTNodes&&(i=i.concat(e.extensionASTNodes)),null!=r)o=Iw(t,r);else{o=[];for(const e of i)e.directives&&o.push(...e.directives)}return o}function mw(e,t,n){let r=[],o=null;const i=fw(e,n);let s;return s=null!=i?Iw(t,i):e.astNode?.directives,null!=s&&(r=s.filter((e=>"deprecated"!==e.name.value)),null!=e.deprecationReason&&(o=s.filter((e=>"deprecated"===e.name.value))?.[0])),null!=e.deprecationReason&&null==o&&(o=Tw("deprecated",{reason:e.deprecationReason},Bm.fg)),null==o?r:[o].concat(r)}function yw(e,t,n){return{kind:Gd.h.INPUT_VALUE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},type:dv(e.type),defaultValue:void 0!==e.defaultValue?uw(e.defaultValue,e.type)??void 0:void 0,directives:mw(e,t,n)}}function gw(e,t,n){return{kind:Gd.h.OBJECT_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>Sw(e,t,n))),interfaces:Object.values(e.getInterfaces()).map((e=>dv(e))),directives:pw(e,t,n)}}function vw(e,t,n){const r={kind:Gd.h.INTERFACE_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>Sw(e,t,n))),directives:pw(e,t,n)};return"getInterfaces"in e&&(r.interfaces=Object.values(e.getInterfaces()).map((e=>dv(e)))),r}function bw(e,t,n){return{kind:Gd.h.UNION_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},directives:pw(e,t,n),types:e.getTypes().map((e=>dv(e)))}}function ww(e,t,n){return{kind:Gd.h.INPUT_OBJECT_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>function(e,t,n){return{kind:Gd.h.INPUT_VALUE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},type:dv(e.type),directives:mw(e,t,n),defaultValue:uw(e.defaultValue,e.type)??void 0}}(e,t,n))),directives:pw(e,t,n)}}function Ew(e,t,n){return{kind:Gd.h.ENUM_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},values:Object.values(e.getValues()).map((e=>function(e,t,n){return{kind:Gd.h.ENUM_VALUE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},directives:mw(e,t,n)}}(e,t,n))),directives:pw(e,t,n)}}function _w(e,t,n){const r=fw(e,n),o=r?Iw(t,r):e.astNode?.directives||[],i=e.specifiedByUrl||e.specifiedByURL;if(i&&!o.some((e=>"specifiedBy"===e.name.value))){const e={url:i};o.push(Tw("specifiedBy",e))}return{kind:Gd.h.SCALAR_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},directives:o}}function Sw(e,t,n){return{kind:Gd.h.FIELD_DEFINITION,description:e.astNode?.description??(e.description?{kind:Gd.h.STRING,value:e.description,block:!0}:void 0),name:{kind:Gd.h.NAME,value:e.name},arguments:e.args.map((e=>yw(e,t,n))),type:dv(e.type),directives:mw(e,t,n)}}function Tw(e,t,n){const r=[];if(null!=n)for(const o of n.args){const e=o.name,n=t[e];if(void 0!==n){const t=uw(n,o.type);t&&r.push({kind:Gd.h.ARGUMENT,name:{kind:Gd.h.NAME,value:e},value:t})}}else for(const o in t){const e=aw(t[o]);e&&r.push({kind:Gd.h.ARGUMENT,name:{kind:Gd.h.NAME,value:o},value:e})}return{kind:Gd.h.DIRECTIVE,name:{kind:Gd.h.NAME,value:e},arguments:r}}function Iw(e,t){const n=[];for(const r in t){const o=t[r],i=e?.getDirective(r);if(Array.isArray(o))for(const e of o)n.push(Tw(r,e,i));else n.push(Tw(r,o,i))}return n}function Nw(e,t){qb();const n={kind:Gd.h.DOCUMENT,definitions:kw(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};let r;var o;return t?.commentDescriptions?(o=n,r=(0,Im.Vn)(o,Zb)):r=n,qb(),r}function Ow(e,t,n=[],r=[],o=new Set){if(e&&!o.has(e))if(o.add(e),"function"===typeof e)Ow(e(),t,n,r,o);else if(Array.isArray(e))for(const s of e)Ow(s,t,n,r,o);else if((0,Lp.nN)(e)){Ow(dw(e,t).definitions,t,n,r,o)}else if("string"===typeof e||function(e){return e instanceof db.H}(e)){Ow((0,Vd.Qc)(e,t).definitions,t,n,r,o)}else if("object"===typeof e&&(0,fb.Ir)(e))e.kind===Gd.h.DIRECTIVE_DEFINITION?n.push(e):r.push(e);else{if(!(i=e)||"object"!==typeof i||!("kind"in i)||i.kind!==Gd.h.DOCUMENT)throw new Error("typeDefs must contain only strings, documents, schemas, or functions, got "+typeof e);Ow(e.definitions,t,n,r,o)}var i;return{allDirectives:n,allNodes:r}}function kw(e,t){qb();const{allDirectives:n,allNodes:r}=Ow(e,t),o=sw(n,t),i=sw(r,t,o);if(t?.useSchemaDefinition){const e=i[iw]||{kind:Gd.h.SCHEMA_DEFINITION,operationTypes:[]},t=e.operationTypes;for(const n in Lb){if(!t.find((e=>e.operation===n))){const e=i[Lb[n]];null!=e&&null!=e.name&&t.push({kind:Gd.h.OPERATION_TYPE_DEFINITION,type:{kind:Gd.h.NAMED_TYPE,name:e.name},operation:n})}}null!=e?.operationTypes?.length&&e.operationTypes.length>0&&(i[iw]=e)}t?.forceSchemaDefinition&&!i[iw]?.operationTypes?.length&&(i[iw]={kind:Gd.h.SCHEMA_DEFINITION,operationTypes:[{kind:Gd.h.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:Gd.h.NAMED_TYPE,name:{kind:Gd.h.NAME,value:"Query"}}}]});const s=Object.values(i);if(t?.sort){const e="function"===typeof t.sort?t.sort:vb;s.sort(((t,n)=>e(t.name?.value,n.name?.value)))}return s}function Aw(e){return e}function xw(e,t){return function(n,r,o,i){if(null!=n){const t=Vm(i);if(ly(n)){const r=dy(n),s=fy(n,t);if(e===s&&void 0!==n[t])return vy(n[t],r,s,o,i)}}return t(n,r,o,i)}}function Cw({subschemaConfig:e,operation:t}){return function(n,r,o,i){return Mv({schema:e,operation:t,context:o,info:i})}}const $w=bm((function(e){const t=function(e,t){return zy(e,{[By.ROOT_FIELD]:(e,n,r)=>({...e,...t[r]?.[n]}),[By.OBJECT_FIELD]:e=>({...e,resolve:wy,subscribe:void 0}),[By.OBJECT_TYPE]:e=>{const t=e.toConfig();return new zd.h6({...t,isTypeOf:void 0})},[By.INTERFACE_TYPE]:e=>{const t=e.toConfig();return new zd.oW({...t,resolveType:void 0})},[By.UNION_TYPE]:e=>{const t=e.toConfig();return new zd.Gp({...t,resolveType:void 0})},[By.ENUM_VALUE]:e=>({...e,value:void 0})})}(e.schema,function(e){const t=e.schema,n=e.createProxyingResolver??Cw,r=yg(t),o={};for(const[i,s]of r.entries()){const t=s.name,r=s.getFields();o[t]={};for(const s in r){const r=xw(e,n({subschemaConfig:e,operation:i,fieldName:s}));o[t][s]="subscription"===i?{subscribe:r,resolve:Aw}:{resolve:r}}}return o}(e));return Sy(t,e)}));var Rw;function Dw(e,t,n){const r=`${t[0].type.name}.${t[0].fieldName}`,o=t.map((e=>e.inputFieldConfig)),i=(0,zd.xC)(e.type),s=(0,zd.zM)(e.type);Pw(e,o,"input field",r,n),Uw(r,n).strictNullComparison&&t.some((e=>s!==(0,zd.zM)(e.inputFieldConfig.type)))?Lw(`Nullability of input field "${r}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,r,n):!s&&t.some((e=>(0,zd.zM)(e.inputFieldConfig.type)))&&Lw(`Canonical definition of input field "${r}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,r,n),(0,zd.EM)(i)&&Mw(i,o,n)}function Pw(e,t,n,r,o){const i=(0,zd.xC)(e.type),s=(0,zd.KA)(i),a=jw(e.type);for(const c of t){if(a!==jw(c.type))throw new Error(`Definitions of ${n} "${r}" implement inconsistent list types across subschemas and cannot be merged.`);const e=(0,zd.xC)(c.type);if(i.toString()!==e.toString()){const t=!!o?.validationSettings?.proxiableScalars?.[i.toString()]?.includes(e.toString()),a=s&&(0,zd.KA)(e),c=t&&a;if(t&&!a)throw new Error(`Types ${i} and ${e} are not proxiable scalars.`);c||Lw(`Definitions of ${n} "${r}" implement inconsistent named types across subschemas. This will be an automatic error in future versions.`,r,o)}}}function jw(e){return(0,zd.HG)((0,zd.tf)(e))}function Mw(e,t,n){const r=Object.create(null);for(const o of t){const e=(0,zd.xC)(o.type);if((0,zd.EM)(e))for(const{value:t}of e.getValues())r[t]=r[t]||0,r[t]+=1}Object.values(r).some((e=>t.length!==e))&&Lw(`Enum "${e.name}" is used as an input with inconsistent values across subschemas. This will be an automatic error in future versions.`,e.name,n)}function Lw(e,t,n){const r=`typeMergingOptions.validationScopes['${t}'].validationLevel`;switch(Uw(t,n).validationLevel??Rw.Warn){case Rw.Off:return;case Rw.Error:throw new Error(`${e} If this is intentional, you may disable this error by setting ${r} = "warn|off"`);default:console.warn(`${e} To disable this warning or elevate it to an error, set ${r} = "error|off"`)}}function Uw(e,t){return{...t?.validationSettings??{},...t?.validationScopes?.[e]??{}}}function Bw(e,t,n){const r=t[0].type;if(t.some((e=>e.type.constructor!==r.constructor)))throw new Error(`Cannot merge different type categories into common type ${e}.`);if((0,zd.lp)(r))return function(e,t,n){const r=Gw(t=qw(t,n),n),o=Kw(t,n),i=t.map((e=>e.type.toConfig())).map((e=>e.interfaces)).reduce(((e,t)=>{if(null!=t)for(const n of t)e[n.name]=n;return e}),Object.create(null)),s=Object.values(i),a=Fw("astNode",t),c=Yw(t).map((e=>o[e]?.astNode)).filter((e=>null!=e));a.length>1&&c.length&&a.push({...a[a.length-1],fields:JSON.parse(JSON.stringify(c))});const u=a.slice(1).reduce(((e,t)=>Cb(t,e,{ignoreFieldConflicts:!0})),a[0]),l=Fw("extensionASTNodes",t),f=Object.assign({},...Fw("extensions",t)),d={name:e,description:r,fields:o,interfaces:s,astNode:u,extensionASTNodes:l,extensions:f};return new zd.h6(d)}(e,t,n);if((0,zd.hL)(r))return function(e,t,n){const r=Gw(t=qw(t,n),n),o=function(e,t){const n=Object.create(null),r=Object.create(null);for(const i of e){const e=i.type.toConfig().fields;for(const t in e){const o=e[t];r[t]=r[t]||0,r[t]+=1;const s={inputFieldConfig:o,fieldName:t,type:i.type,subschema:i.subschema,transformedSubschema:i.transformedSubschema};t in n?n[t].push(s):n[t]=[s]}}!function(e,t,n){for(const r in e){const o=e[r];if(t.length!==o){const e=`${t[0].type.name}.${r}`;Lw(`Definition of input field "${e}" is not implemented by all subschemas. Input may be filtered from some requests.`,e,n)}}}(r,e,t);const o=Object.create(null);for(const i in n){const e=t?.inputFieldConfigMerger??Qw;o[i]=e(n[i]),Dw(o[i],n[i],t)}return o}(t,n),i=Fw("astNode",t),s=Yw(t).map((e=>o[e]?.astNode)).filter((e=>null!=e));i.length>1&&s.length&&i.push({...i[i.length-1],fields:JSON.parse(JSON.stringify(s))});const a=i.slice(1).reduce(((e,t)=>jb(t,e,{ignoreFieldConflicts:!0})),i[0]),c=Fw("extensionASTNodes",t),u=Object.assign({},...Fw("extensions",t)),l={name:e,description:r,fields:o,astNode:a,extensionASTNodes:c,extensions:u};return new zd.sR(l)}(e,t,n);if((0,zd.oT)(r))return function(e,t,n){const r=Gw(t=qw(t,n),n),o=Kw(t,n),i=t.map((e=>e.type.toConfig())).map((e=>"interfaces"in e?e.interfaces:[])).reduce(((e,t)=>{if(null!=t)for(const n of t)e[n.name]=n;return e}),Object.create(null)),s=Object.values(i),a=Fw("astNode",t),c=Yw(t).map((e=>o[e]?.astNode)).filter((e=>null!=e));a.length>1&&c.length&&a.push({...a[a.length-1],fields:JSON.parse(JSON.stringify(c))});const u=a.slice(1).reduce(((e,t)=>Mb(t,e,{ignoreFieldConflicts:!0})),a[0]),l=Fw("extensionASTNodes",t),f=Object.assign({},...Fw("extensions",t)),d={name:e,description:r,fields:o,interfaces:s,astNode:u,extensionASTNodes:l,extensions:f};return new zd.oW(d)}(e,t,n);if((0,zd.EN)(r))return function(e,t,n){const r=Gw(t=qw(t,n),n),o=t.map((e=>{if(!(0,zd.EN)(e.type))throw new Error(`Expected ${e.type} to be a union type!`);return e.type.toConfig()})).reduce(((e,t)=>{for(const n of t.types)e[n.name]=n;return e}),Object.create(null)),i=Object.values(o),s=Fw("astNode",t),a=s.slice(1).reduce(((e,t)=>Pb(t,e)),s[0]),c=Fw("extensionASTNodes",t),u=Object.assign({},...Fw("extensions",t)),l={name:e,description:r,types:i,astNode:a,extensionASTNodes:c,extensions:u};return new zd.Gp(l)}(e,t,n);if((0,zd.EM)(r))return function(e,t,n){const r=Gw(t=qw(t,n),n),o=function(e,t){const n=Object.create(null);for(const o of e){const e=o.type.toConfig().values;for(const t in e){const r={enumValueConfig:e[t],enumValue:t,type:o.type,subschema:o.subschema,transformedSubschema:o.transformedSubschema};t in n?n[t].push(r):n[t]=[r]}}const r=Object.create(null);for(const o in n){const e=t?.enumValueConfigMerger??Vw;r[o]=e(n[o])}return r}(t,n),i=Fw("astNode",t),s=i.slice(1).reduce(((e,t)=>Rb(t,e,{consistentEnumMerge:!0})),i[0]),a=Fw("extensionASTNodes",t),c=Object.assign({},...Fw("extensions",t)),u={name:e,description:r,values:o,astNode:s,extensionASTNodes:a,extensions:c};return new zd.mR(u)}(e,t,n);if((0,zd.KA)(r))return function(e,t,n){const r=Gw(t=qw(t,n),n),o=Fw("serialize",t),i=o[o.length-1],s=Fw("parseValue",t),a=s[s.length-1],c=Fw("parseLiteral",t),u=c[c.length-1],l=Fw("astNode",t),f=l.slice(1).reduce(((e,t)=>Db(t,e)),l[0]),d=Fw("extensionASTNodes",t),h=Object.assign({},...Fw("extensions",t)),p={name:e,description:r,serialize:i,parseValue:a,parseLiteral:u,astNode:f,extensionASTNodes:d,extensions:h};return new zd.n2(p)}(e,t,n);throw new Error(`Type ${e} has unknown GraphQL type.`)}function Fw(e,t){return t.map((t=>t.type[e])).filter((e=>null!=e))}function Vw(e){return(e.find((({type:e,transformedSubschema:t})=>Ey(t)&&t.merge?.[e.name]?.canonical))||e[e.length-1]).enumValueConfig}function qw(e,t){const n=(t?.typeCandidateMerger??zw)(e);return e.filter((e=>e!==n)).concat([n])}function zw(e){const t=e.filter((({type:e,transformedSubschema:t})=>!!Ey(t)&&t.merge?.[e.name]?.canonical));if(t.length>1)throw new Error(`Multiple canonical definitions for "${t[0].type.name}"`);return t.length?t[0]:e[e.length-1]}function Gw(e,t){return(t?.typeDescriptionsMerger??Hw)(e)}function Hw(e){return e[e.length-1].type.description}function Kw(e,t){const n=Object.create(null);for(const o of e){const e=o.type.toConfig().fields;for(const t in e){const r={fieldConfig:e[t],fieldName:t,type:o.type,subschema:o.subschema,transformedSubschema:o.transformedSubschema};t in n?n[t].push(r):n[t]=[r]}}const r=Object.create(null);for(const o in n)r[o]=Jw(n[o],t);return r}function Jw(e,t){const n=(t?.fieldConfigMerger??Ww)(e);return function(e,t,n){const r=`${t[0].type.name}.${t[0].fieldName}`,o=(0,zd.zM)(e.type);Pw(e,t.map((e=>e.fieldConfig)),"field",r,n),Uw(r,n).strictNullComparison&&t.some((e=>o!==(0,zd.zM)(e.fieldConfig.type)))?Lw(`Nullability of field "${r}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,r,n):o&&t.some((e=>!(0,zd.zM)(e.fieldConfig.type)))&&Lw(`Canonical definition of field "${r}" is not-null while some subschemas permit null. This will be an automatic error in future versions.`,r,n);const i=Object.create(null);for(const{fieldConfig:s}of t)if(null!=s.args)for(const e in s.args){const t=s.args[e];i[e]=i[e]||[],i[e].push(t)}Object.values(i).some((e=>t.length!==e.length))&&Lw(`Canonical definition of field "${r}" implements inconsistent argument names across subschemas. Input may be filtered from some requests.`,r,n);for(const s in i){if(null==e.args)continue;const t=i[s],o=`${r}.${s}`,a=e.args[s]||t[t.length-1],c=(0,zd.xC)(a.type),u=(0,zd.zM)(a.type);Pw(a,t,"argument",o,n),Uw(o,n).strictNullComparison&&t.some((e=>u!==(0,zd.zM)(e.type)))?Lw(`Nullability of argument "${o}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,o,n):!u&&t.some((e=>(0,zd.zM)(e.type)))&&Lw(`Canonical definition of argument "${o}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,o,n),(0,zd.EM)(c)&&Mw(c,t,n)}}(n,e,t),n}function Ww(e){const t=[],n=[];for(const{type:r,fieldName:o,fieldConfig:i,transformedSubschema:s}of e)Ey(s)&&(s.merge?.[r.name]?.fields?.[o]?.canonical?t.push(i):s.merge?.[r.name]?.canonical&&n.push(i));if(t.length>1)throw new Error(`Multiple canonical definitions for "${e[0].type.name}.${e[0].fieldName}"`);return t.length?t[0]:n.length?n[0]:e[e.length-1].fieldConfig}function Qw(e){const t=[],n=[];for(const{type:r,fieldName:o,inputFieldConfig:i,transformedSubschema:s}of e)Ey(s)&&(s.merge?.[r.name]?.fields?.[o]?.canonical?t.push(i):s.merge?.[r.name]?.canonical&&n.push(i));if(t.length>1)throw new Error(`Multiple canonical definitions for "${e[0].type.name}.${e[0].fieldName}"`);return t.length?t[0]:n.length?n[0]:e[e.length-1].inputFieldConfig}function Yw(e){const t=Object.create(null);for(const{type:n,transformedSubschema:r}of e){if(!Ey(r))continue;const e=r.merge?.[n.name];if(null!=e&&null!=e.fields&&!e.canonical)for(const n in e.fields){e.fields[n].canonical&&(t[n]=!0)}}return Object.keys(t)}!function(e){e.Error="error",e.Warn="warn",e.Off="off"}(Rw||(Rw={}));var Xw=n(12319);const Zw={commentDescriptions:!0};var eE=function(e){switch(e.kind){case Gd.h.OBJECT_TYPE_DEFINITION:return function(e){const t={name:e.name.value,description:tw(e,Zw),interfaces:()=>e.interfaces?.map((e=>Fy(e.name.value,"interface")))||[],fields:()=>null!=e.fields?tE(e.fields):{},astNode:e};return new zd.h6(t)}(e);case Gd.h.INTERFACE_TYPE_DEFINITION:return function(e){const t={name:e.name.value,description:tw(e,Zw),interfaces:()=>e.interfaces?.map((e=>Fy(e.name.value,"interface"))),fields:()=>null!=e.fields?tE(e.fields):{},astNode:e};return new zd.oW(t)}(e);case Gd.h.ENUM_TYPE_DEFINITION:return function(e){const t=e.values?.reduce(((e,t)=>({...e,[t.name.value]:{description:tw(t,Zw),deprecationReason:oE(t),astNode:t}})),{})??{};return new zd.mR({name:e.name.value,description:tw(e,Zw),values:t,astNode:e})}(e);case Gd.h.UNION_TYPE_DEFINITION:return function(e){return new zd.Gp({name:e.name.value,description:tw(e,Zw),types:()=>e.types?.map((e=>Fy(e.name.value,"object")))??[],astNode:e})}(e);case Gd.h.SCALAR_TYPE_DEFINITION:return function(e){return new zd.n2({name:e.name.value,description:tw(e,Zw),astNode:e,serialize:e=>e})}(e);case Gd.h.INPUT_OBJECT_TYPE_DEFINITION:return function(e){return new zd.sR({name:e.name.value,description:tw(e,Zw),fields:()=>e.fields?nE(e.fields):{},astNode:e})}(e);case Gd.h.DIRECTIVE_DEFINITION:return function(e){const t=[];for(const n of e.locations){const e=n.value;rE(e)&&t.push(e)}return new Bm.NZ({name:e.name.value,description:null!=e.description?e.description.value:null,locations:t,isRepeatable:e.repeatable,args:nE(e.arguments??[]),astNode:e})}(e);default:return null}};function tE(e){return e.reduce(((e,t)=>({...e,[t.name.value]:{type:Vy(t.type,"output"),description:tw(t,Zw),args:nE(t.arguments??[]),deprecationReason:oE(t),astNode:t}})),{})}function nE(e){return e.reduce(((e,t)=>({...e,[t.name.value]:{type:Vy(t.type,"input"),defaultValue:void 0!==t.defaultValue?(0,Xw.M)(t.defaultValue):void 0,description:tw(t,Zw),astNode:t}})),{})}function rE(e){return e in Xm.B}function oE(e){return(0,Wm.zu)(Bm.fg,e)?.reason}function iE({subschemas:e,originalSubschemaMap:t,types:n,typeDefs:r,parseOptions:o,directiveMap:i,schemaDefs:s,mergeDirectives:a}){const c=[],u=Object.create(null);let l,f,d,h=[];(r&&!Array.isArray(r)||Array.isArray(r)&&r.length)&&(f=Nw(r,o),d=function(e){const t=[],n=[],r=[],o=[],i=[];for(const s of e.definitions)switch(s.kind){case Gd.h.OBJECT_TYPE_DEFINITION:case Gd.h.INTERFACE_TYPE_DEFINITION:case Gd.h.INPUT_OBJECT_TYPE_DEFINITION:case Gd.h.UNION_TYPE_DEFINITION:case Gd.h.ENUM_TYPE_DEFINITION:case Gd.h.SCALAR_TYPE_DEFINITION:t.push(s);break;case Gd.h.DIRECTIVE_DEFINITION:n.push(s);break;case Gd.h.SCHEMA_DEFINITION:r.push(s);break;case Gd.h.SCHEMA_EXTENSION:o.push(s);break;case Gd.h.OBJECT_TYPE_EXTENSION:case Gd.h.INTERFACE_TYPE_EXTENSION:case Gd.h.INPUT_OBJECT_TYPE_EXTENSION:case Gd.h.UNION_TYPE_EXTENSION:case Gd.h.ENUM_TYPE_EXTENSION:case Gd.h.SCALAR_TYPE_EXTENSION:i.push(s)}return{typeDefinitions:t,directiveDefs:n,schemaDefs:r,schemaExtensions:o,extensionDefs:i}}(f),l=d.schemaDefs[0],h=h.concat(d.schemaExtensions)),s.schemaDef=l??s.schemaDef,s.schemaExtensions=h;const p=function({schemaDef:e,schemaExtensions:t}){const n={query:"Query",mutation:"Mutation",subscription:"Subscription"},r=t.slice();null!=e&&r.unshift(e);for(const o of r)if(null!=o.operationTypes)for(const e of o.operationTypes)n[e.operation]=e.type.name.value;return n}(s);for(const m of e){const e=m.transformedSchema=$w(m),n=yg(e),r=mg(e);for(const[i,s]of n.entries())sE(u,p[i],{type:s,subschema:t.get(m),transformedSubschema:m});if(!0===a)for(const t of e.getDirectives())i[t.name]=t;const o=e.getTypeMap();for(const i in o){const e=o[i];(0,zd.Zs)(e)&&"__"!==(0,zd.xC)(e).name.slice(0,2)&&!r.has(e)&&sE(u,e.name,{type:e,subschema:t.get(m),transformedSubschema:m})}}if(null!=f&&null!=d){for(const e of d.typeDefinitions){const t=eE(e);if(!(0,zd.Zs)(t))throw new Error(`Expected to get named typed but got ${Eg(e)}`);null!=t&&sE(u,t.name,{type:t})}for(const e of d.directiveDefs){const t=eE(e);if(!(0,Bm.wX)(t))throw new Error(`Expected to get directive type but got ${Eg(e)}`);i[t.name]=t}d.extensionDefs.length>0&&c.push({...f,definitions:d.extensionDefs})}for(const m of n)sE(u,m.name,{type:m});return[u,p,c]}function sE(e,t,n){t in e||(e[t]=[]),e[t].push(n)}function aE(e){return t=>t.reduce(((t,n)=>{const r=e(t.type,n.type,{left:{subschema:t.subschema,transformedSubschema:t.transformedSubschema},right:{subschema:n.subschema,transformedSubschema:n.transformedSubschema}});return t.type===r?t:n.type===r?n:{schemaName:"unknown",type:r}}))}function cE({subschemas:e=[],types:t=[],typeDefs:n=[],onTypeConflict:r,mergeDirectives:o,mergeTypes:i=!0,typeMergingOptions:s,subschemaConfigTransforms:a=[],resolvers:c={},inheritResolversFromInterfaces:u=!1,resolverValidationOptions:l={},updateResolversInPlace:f=!0,schemaExtensions:d,...h}){const p=[],m=new Map,y=new Map;for(const A of e)for(const e of lE(a,A,m,y))p.push(e);const g=Object.create(null);for(const A of Bm.V4)g[A.name]=A;const v=Object.create(null),[b,w,E]=iE({subschemas:p,originalSubschemaMap:y,types:t,typeDefs:n||[],parseOptions:h,directiveMap:g,schemaDefs:v,mergeDirectives:o});let _=Jv(m,b,i);const{typeMap:S,directives:T}=function({typeCandidates:e,directives:t,stitchingInfo:n,rootTypeNames:r,onTypeConflict:o,mergeTypes:i,typeMergingOptions:s}){const a=Object.create(null);for(const c in e)if(r.includes(c)||!0===i&&!e[c].some((e=>(0,qd.u1)(e.type)))||"function"===typeof i&&i(e[c],c)||Array.isArray(i)&&i.includes(c)||null!=n&&c in n.mergedTypes)a[c]=Bw(c,e[c],s);else{const t=null!=o?aE(o):e=>e[e.length-1];a[c]=t(e[c]).type}return qy(a,t)}({typeCandidates:b,directives:Object.values(g),stitchingInfo:_,rootTypeNames:Object.values(w),onTypeConflict:r,mergeTypes:i,typeMergingOptions:s});let I=new Lp.XO({query:S[w.query],mutation:S[w.mutation],subscription:S[w.subscription],types:Object.values(S),directives:T,astNode:v.schemaDef,extensionASTNodes:v.schemaExtensions,extensions:null});for(const A of E)I=(0,Fm.a)(I,A,{commentDescriptions:!0});const N=xy(c),O=u?$y(I,N):N;_=function(e,t,n){const{fieldNodesByType:r,fieldNodesByField:o,dynamicSelectionSetsByField:i,mergedTypes:s}=e,a=[n.getQueryType(),n.getMutationType()];for(const d of a)d&&(r[d.name]=[og("{ __typename }",{noLocation:!0}).selections[0]]);const c=Object.create(null);for(const d in s){const e=s[d];if(null!=e.selectionSets||null!=e.fieldSelectionSets){for(const[t,n]of e.selectionSets){const e=t.transformedSchema.getType(d).getFields();for(const t in e){const r=e[t],o=(0,zd.xC)(r.type);n&&(0,zd.UT)(o)&&Yv(n,t)||Wv(c,d,t,n,!0)}}for(const[,t]of e.fieldSelectionSets)for(const e in t)Wv(c,d,e,t[e],!0)}}for(const d in t){const e=n.getType(d);if(void 0===e||(0,zd.UT)(e)||(0,zd.hL)(e)||(0,zd.EN)(e))continue;const r=t[d];for(const t in r){const e=r[t];"function"===typeof e.selectionSet?(d in i||(i[d]=Object.create(null)),t in i[d]||(i[d][t]=[]),i[d][t].push(e.selectionSet)):e.selectionSet&&Wv(c,d,t,og(e.selectionSet,{noLocation:!0}))}}const u=Object.create(null),l=Object.create(null),f=Object.create(null);for(const d in c){const e=n.getType(d);for(const t in c[d])for(const r of c[d][t]){const{fields:i}=ny(n,l,u,e,r);for(const[,e]of i)for(const n of e){const e=(0,rg.S)(n);null==f[e]?(f[e]=n,Qv(o,d,t,n)):Qv(o,d,t,f[e])}}}return e}(_,O,I),I=eg({schema:I,defaultFieldResolver:wy,resolvers:O,resolverValidationOptions:l,inheritResolversFromInterfaces:!1,updateResolversInPlace:f});const k=Object.entries(l);return k.length>0&&k.some((([,e])=>"ignore"!==e))&&function(e,t={}){const{requireResolversForArgs:n,requireResolversForNonScalar:r,requireResolversForAllFields:o}=t;if(o&&(n||r))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");Ly(e,((e,t,i)=>{o&&ng("requireResolversForAllFields",o,e,t,i),n&&e.args.length>0&&ng("requireResolversForArgs",n,e,t,i),"ignore"===r||(0,zd.KA)((0,zd.xC)(e.type))||ng("requireResolversForNonScalar",r,e,t,i)}))}(I,l),function(e,t){e.extensions={...e.extensions,stitchingInfo:t}}(I,_),d&&(Array.isArray(d)&&(d=function(e){return ky(e)}(d)),function(e,t){Cy(e,t.schemaExtensions);for(const[n,r]of Object.entries(t.types||{})){const t=e.getType(n);if(t)if(Cy(t,r.extensions),"object"===r.type||"interface"===r.type)for(const[e,n]of Object.entries(r.fields)){const r=t.getFields()[e];if(r){Cy(r,n.extensions);for(const[e,t]of Object.entries(n.arguments))Cy(r.args.find((t=>t.name===e)),t)}}else if("input"===r.type)for(const[e,n]of Object.entries(r.fields))Cy(t.getFields()[e],n.extensions);else if("enum"===r.type)for(const[e,n]of Object.entries(r.values))Cy(t.getValue(e),n)}}(I,d)),I}const uE=[function(e){if(null==e.merge)return[e];const t=Object.create(null),n=Object.create(null);for(const r in e.merge){const o=e.merge[r];if(t[r]=o,o.fields){const i=Object.create(null),s=Object.create(null);for(const e in o.fields){const t=o.fields[e];if(t.computed&&t.selectionSet)s[e]=t;else{if(t.computed)throw new Error(`A selectionSet is required for computed field "${r}.${e}"`);i[e]=t}}const a=Object.keys(s).length,c=e.schema.getType(r);a&&a!==Object.keys(c.getFields()).length&&(t[r]={...o,fields:i},n[r]={...o,fields:s,canonical:void 0})}}return Object.keys(n).length?[cb({...e,merge:t},n),ub({...e,merge:n})]:[e]},function(e){if(!e.merge)return[e];const t=Object.values(e.merge).reduce(((e,t)=>Math.max(e,t?.entryPoints?.length??0)),0);if(0===t)return[e];const n=[];for(let r=0;r<t;r+=1){const t=_y(e),o=t.merge??Object.create(null);let i=o;r>0&&(t.merge=i=Object.create(null));for(const e in o){const t=o[e],n=t?.entryPoints?.[r];if(n){if(t.selectionSet??t.fieldName??t.resolve)throw new Error(`Merged type ${e} may not define entryPoints in addition to selectionSet, fieldName, or resolve`);if(Object.assign(t,n),delete t.entryPoints,r>0&&(delete t.canonical,null!=t.fields))for(const e in t.fields){delete t.fields[e].canonical}i[e]=t}}n.push(t)}return n}];function lE(e,t,n,r){let o;if(Ey(t))o=t;else{if(!(t instanceof Lp.XO))throw new TypeError("Received invalid input.");o={schema:t}}const i=e.concat(uE).reduce(((e,t)=>e.flatMap((e=>t(e)))),[o]).map((e=>new Ty(e))),s=i[0];n.set(t,s);for(const a of i)r.set(a,t);return i}function fE(e){const{definition:t,getViewerID:n,remoteExecutor:r,serverURL:o}=e;let i;if("function"===typeof r)i=r;else{if("function"!==typeof n||"string"!==typeof o)throw new Error("Invalid parameters to create hybrid schema: missing `remoteExecutor` or `getViewerID` and `serverURL` parameters");i=function(e,t){return Lm((async({document:n,variables:r})=>{const o=t(),i=o?{"ComposeDB-ViewerID":o}:{};return await Jr(e,{method:"POST",headers:i,body:{query:(0,rg.S)(n),variables:r}})}))}(o,n)}const s={executor:i,schema:cm({definition:t,readonly:!0})};return cE({subschemas:[cm({definition:t}),s],mergeTypes:!1,onTypeConflict:(e,t,n)=>n?.left.subschema===s?e:t})}function dE(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function hE(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,dE(e,t,"get"))}function pE(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function mE(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,dE(e,t,"set"),n),n}var yE=new WeakMap,gE=new WeakMap,vE=new WeakMap;var bE=new _d("http://localhost:7007"),wE=new class{get context(){return hE(this,yE)}get did(){return hE(this,yE).ceramic.did}get id(){return hE(this,yE).getViewerID()}get resources(){return hE(this,gE)}setDID(e){hE(this,yE).ceramic.did=e}async execute(e,t){return await hE(this,vE).execute(e,t)}async executeQuery(e,t){return await hE(this,vE).executeQuery(e,t)}constructor(e){pE(this,yE,{writable:!0,value:void 0}),pE(this,gE,{writable:!0,value:void 0}),pE(this,vE,{writable:!0,value:void 0});const{ceramic:t,definition:n,remoteExecutor:r,serverURL:o,...i}=e,s="string"===typeof t?new _d(t):t;mE(this,yE,Ud({...i,ceramic:s})),mE(this,gE,Object.values(n.models).map((e=>`ceramic://*?model=${e.id}`)));const a={ceramic:s,context:hE(this,yE),definition:n};null==r&&null==o||(a.schema=fE({definition:n,getViewerID:()=>this.id,remoteExecutor:r,serverURL:o})),mE(this,vE,new mm(a))}}({ceramic:"http://localhost:7007",definition:{models:{IcarusResource:{id:"kjzl6hvfrbw6c8grga35wz1aq9yg52lnuap4pimcmtrkvpz94rqubcqwy7i7239",accountRelation:{type:"list"}},AccountResources:{id:"kjzl6hvfrbw6c9ra7nw6wvjdlu89gmqzz8x2ra4h9yttjsf30o24f89ov1ngcql",accountRelation:{type:"list"}},Card:{id:"kjzl6hvfrbw6c6cdsofc19nczvmyofzx5ileatfgaqcbr68cvpguzy76iqkteed",accountRelation:{type:"list"}},IcarusProfile:{id:"kjzl6hvfrbw6c6q83f1r39rb7nl2zyqsoatu7th8dogluiq0rlaoii3py535q86",accountRelation:{type:"single"}}},objects:{IcarusResource:{cid:{type:"string",required:!1},doi:{type:"string",required:!1},url:{type:"string",required:!1,indexed:!0},isbn:{type:"string",required:!1},title:{type:"string",required:!1,indexed:!0},author:{type:"string",required:!1},createdAt:{type:"datetime",required:!1},mediaType:{type:"string",required:!1},updatedAt:{type:"datetime",required:!1},description:{type:"string",required:!1},publishedAt:{type:"date",required:!1},clientMutationId:{type:"string",required:!1},cards:{type:"view",viewType:"relation",relation:{source:"queryConnection",model:"kjzl6hvfrbw6c6cdsofc19nczvmyofzx5ileatfgaqcbr68cvpguzy76iqkteed",property:"cardId"}}},AccountResources:{url:{type:"string",required:!1,indexed:!0},createdAt:{type:"datetime",required:!1},recipient:{type:"did",required:!0,indexed:!0},updatedAt:{type:"datetime",required:!1},resourceId:{type:"streamid",required:!1},resource:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6c8grga35wz1aq9yg52lnuap4pimcmtrkvpz94rqubcqwy7i7239",property:"resourceId"}}},Card:{cid:{type:"string",required:!1},url:{type:"string",required:!1,indexed:!0},quote:{type:"string",required:!1},altText:{type:"string",required:!1},deleted:{type:"boolean",required:!1,indexed:!0},pinSize:{type:"integer",required:!1},mimeType:{type:"string",required:!1},createdAt:{type:"datetime",required:!1},updatedAt:{type:"datetime",required:!1},videoTime:{type:"string",required:!1},annotation:{type:"string",required:!1},resourceId:{type:"streamid",required:!1},pageYOffset:{type:"float",required:!1},scrollHeight:{type:"float",required:!1},account:{type:"view",viewType:"documentAccount"},resource:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6c8grga35wz1aq9yg52lnuap4pimcmtrkvpz94rqubcqwy7i7239",property:"resourceId"}}},IcarusProfile:{bio:{type:"string",required:!0},createdAt:{type:"datetime",required:!0},updatedAt:{type:"datetime",required:!0},pictureUrl:{type:"string",required:!1},displayName:{type:"string",required:!0}}},enums:{},accountData:{icarusResourceList:{type:"connection",name:"IcarusResource"},accountResourcesList:{type:"connection",name:"AccountResources"},cardList:{type:"connection",name:"Card"},icarusProfile:{type:"node",name:"IcarusProfile"}}}}),EE=(0,a.createContext)({ceramic:bE,composeClient:wE}),_E=function(e){var t=e.children;return(0,s.jsx)(EE.Provider,{value:{ceramic:bE,composeClient:wE},children:t})},SE=function(){return(0,a.useContext)(EE)}},23354:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Gr}});var r=n(34051),o=n.n(r),i=n(85893),s=(n(40906),n(26885)),a=n(67294),c=n(37291),u=n(70473);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=function(){return"function"===typeof Symbol},m=function(e){return p()&&Boolean(Symbol[e])},y=function(e){return m(e)?Symbol[e]:"@@"+e};p()&&!m("observable")&&(Symbol.observable=Symbol("observable"));var g=y("iterator"),v=y("observable"),b=y("species");function w(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function E(e){var t=e.constructor;return void 0!==t&&null===(t=t[b])&&(t=void 0),void 0!==t?t:C}function _(e){return e instanceof C}function S(e){S.log?S.log(e):setTimeout((function(){throw e}))}function T(e){Promise.resolve().then((function(){try{e()}catch(t){S(t)}}))}function I(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=w(t,"unsubscribe");n&&n.call(t)}}catch(r){S(r)}}function N(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function O(e,t,n){e._state="running";var r=e._observer;try{var o=w(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(N(e),!o)throw n;o.call(r,n);break;case"complete":N(e),o&&o.call(r)}}catch(i){S(i)}"closed"===e._state?I(e):"running"===e._state&&(e._state="ready")}function k(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void T((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(O(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void O(e,t,n);e._queue.push({type:t,value:n})}}var A=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new x(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(N(this),I(this))},h(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),x=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){k(this._subscription,"next",e)},t.error=function(e){k(this._subscription,"error",e)},t.complete=function(){k(this._subscription,"complete")},h(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),C=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new A(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(n){r(n),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(E(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(E(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=E(this),r=arguments.length>1,o=!1,i=arguments[1],s=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{s=e(s,t)}catch(a){return n.error(a)}else s=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=E(this);return new o((function(t){var r,i=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=E(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),s()}});o.push(i)},error:function(e){r.error(e)},complete:function(){s()}});function s(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))},t[v]=function(){return this},e.from=function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=w(t,v);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return _(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(m("iterator")&&(r=w(t,g)))return new n((function(e){T((function(){if(!e.closed){for(var n,o=l(r.call(t));!(n=o()).done;){var i=n.value;if(e.next(i),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){T((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"===typeof this?this:e;return new o((function(e){T((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},h(e,null,[{key:b,get:function(){return this}}]),e}();p()&&Object.defineProperty(C,Symbol("extensions"),{value:{symbol:v,hostReportError:S},configurable:!0});var $=n(54708);var R=n(13154);function D(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw(0,u._K)(68,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&((0,u.kG)(1===r.length,69,r.length),n=r[0].name.value),(0,$.pi)((0,$.pi)({},e),{definitions:(0,$.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function P(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function j(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"===typeof t)return t(n);var r=t&&t[n];return(0,u.kG)(r,70,n),r||null;default:return null}}function M(e){return{__ref:String(e)}}function L(e){return Boolean(e&&"object"===typeof e&&"string"===typeof e.__ref)}function U(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return U(o,e.name,e.value,r)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return U(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw(0,u._K)(79,t.value,n.kind);e[t.value]=null}}var B=["connection","include","skip","client","rest","export","nonreactive"],F=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o={};return r.forEach((function(e){o[e]=t[e]})),"".concat(n.connection.key,"(").concat(V(o),")")}return n.connection.key}var i=e;if(t){var s=V(t);i+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===B.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?i+="@".concat(e,"(").concat(V(n[e]),")"):i+="@".concat(e))})),i}),{setStringify:function(e){var t=V;return V=e,t}}),V=function(e){return JSON.stringify(e,q)};function q(e,t){return(0,R.s)(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function z(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,o=e.value;return U(n,r,o,t)})),n}return null}function G(e){return e.alias?e.alias.value:e.name.value}function H(e,t,n){for(var r,o=0,i=t.selections;o<i.length;o++){if(K(c=i[o])){if("__typename"===c.name.value)return e[G(c)]}else r?r.push(c):r=[c]}if("string"===typeof e.__typename)return e.__typename;if(r)for(var s=0,a=r;s<a.length;s++){var c,u=H(e,j(c=a[s],n).selectionSet,n);if("string"===typeof u)return u}}function K(e){return"Field"===e.kind}function J(e){(0,u.kG)(e&&"Document"===e.kind,71);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw(0,u._K)(72,e.kind);return e}));return(0,u.kG)(t.length<=1,73,t.length),e}function W(e){return J(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function Q(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function Y(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function X(e){var t=W(e);return(0,u.kG)(t&&"query"===t.operation,74),t}function Z(e){var t;J(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var i=o.operation;if("query"===i||"mutation"===i||"subscription"===i)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw(0,u._K)(78)}function ee(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&U(t,e.variable.name,e.defaultValue)})),t}function te(e,t){return t?t(e):C.of()}function ne(e){return"function"===typeof e?new oe(e):e}function re(e){return e.request.length<=1}var oe=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return C.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(ne).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var o=ne(n),i=ne(r||new e(te));return re(o)&&re(i)?new e((function(e){return t(e)?o.request(e)||C.of():i.request(e)||C.of()})):new e((function(e,n){return t(e)?o.request(e,n)||C.of():i.request(e,n)||C.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=(0,$.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"===typeof e?(0,$.pi)((0,$.pi)({},n),e(n)):(0,$.pi)((0,$.pi)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,$.pi)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?Q(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw(0,u._K)(41,o)}return e}(t))))||C.of()},e.concat=function(t,n){var r=ne(t);if(re(r))return!1!==globalThis.__DEV__&&u.kG.warn(33,r),r;var o=ne(n);return re(o)?new e((function(e){return r.request(e,(function(e){return o.request(e)||C.of()}))||C.of()})):new e((function(e,t){return r.request(e,(function(e){return o.request(e,t)||C.of()}))||C.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(te)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw(0,u._K)(34)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),ie=oe.execute,se=n(49379),ae=n(77304);function ce(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;(0,u.kG)(n&&1===n.length,65,r);var o=n[0];(0,u.kG)(o.name&&"if"===o.name.value,66,r);var i=o.value;(0,u.kG)(i&&("Variable"===i.kind||"BooleanValue"===i.kind),67,r),t.push({directive:e,ifArgument:o})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t&&t[r.value.name.value],(0,u.kG)(void 0!==o,64,n.name.value)):o=r.value.value,"skip"===n.name.value?!o:o}))}function ue(e,t,n){var r=new Set(e),o=r.size;return(0,ae.Vn)(t,{Directive:function(e){if(r.delete(e.name.value)&&(!n||!r.size))return ae.$_}}),n?!r.size:r.size<o}function le(e){return e&&ue(["client","export"],e,!0)}var fe=function(e,t){var n;try{n=JSON.stringify(e)}catch(o){var r=(0,u._K)(37,t,o.message);throw r.parseError=o,r}return n},de=n(30320);function he(e){var t=null,n=null,r=!1,o=[],i=[];function s(e){if(!n){if(i.length){var t=i.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}o.push(e)}}function a(e){n=e,i.slice().forEach((function(t){t[1](e)})),!t||t()}function c(){r=!0,i.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",c),e.removeListener("finish",c),e.removeListener("close",c)},e.on("data",s),e.on("error",a),e.on("end",c),e.on("finish",c),e.on("close",c);var u={next:function(){return new Promise((function(e,t){return n?t(n):o.length?e({value:o.shift(),done:!1}):r?e({value:void 0,done:!0}):void i.push([e,t])}))}};return de.DN&&(u[Symbol.asyncIterator]=function(){return this}),u}function pe(e){var t={next:function(){return e.read()}};return de.DN&&(t[Symbol.asyncIterator]=function(){return this}),t}function me(e){var t=e;if(e.body&&(t=e.body),function(e){return!(!de.DN||!e[Symbol.asyncIterator])}(t))return function(e){var t,n=e[Symbol.asyncIterator]();return(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t}(t);if(function(e){return!!e.getReader}(t))return pe(t.getReader());if(function(e){return!!e.stream}(t))return pe(t.stream().getReader());if(function(e){return!!e.arrayBuffer}(t))return function(e){var t=!1,n={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise((function(t,n){e.then((function(e){t({value:e,done:!1})})).catch(n)})))}};return de.DN&&(n[Symbol.asyncIterator]=function(){return this}),n}(t.arrayBuffer());if(function(e){return!!e.pipe}(t))return he(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var ye=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},ge=n(30990),ve=n(21436),be=Object.prototype.hasOwnProperty;function we(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ee(e)}function Ee(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Se,o=1;o<n;++o)t=r.merge(t,e[o]);return t}var _e=function(e,t,n){return this.merge(e[n],t[n])},Se=function(){function e(e){void 0===e&&(e=_e),this.reconciler=e,this.isObject=R.s,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return(0,R.s)(t)&&(0,R.s)(e)?(Object.keys(t).forEach((function(o){if(be.call(e,o)){var i=e[o];if(t[o]!==i){var s=n.reconciler.apply(n,(0,$.ev)([e,t,o],r,!1));s!==i&&((e=n.shallowCopyForMerge(e))[o]=s)}}else(e=n.shallowCopyForMerge(e))[o]=t[o]})),e):t},e.prototype.shallowCopyForMerge=function(e){return(0,R.s)(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):(0,$.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function Te(e){return"incremental"in e}function Ie(e){return(0,R.s)(e)&&"payload"in e}function Ne(e,t){var n=e,r=new Se;return Te(t)&&(0,ve.O)(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,o=e.path,i=o.length-1;i>=0;--i){var s=o[i],a=!isNaN(+s)?[]:{};a[s]=t,t=a}n=r.merge(n,t)})),n}var Oe=Object.prototype.hasOwnProperty;function ke(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var r=e.slice(0,n).trim().toLowerCase(),o=e.slice(n+1).trim();t[r]=o}})),t}function Ae(e,t){if(e.status>=300){ye(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}var xe=n(16918),Ce=de.mr?new WeakMap:void 0,$e=function(e){var t;return(t=null===Ce||void 0===Ce?void 0:Ce.get(e))||(t=(0,xe.S)(e),null===Ce||void 0===Ce||Ce.set(e,t)),t},Re={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},De=function(e,t){return t(e)};function Pe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={},i={};n.forEach((function(e){o=(0,$.pi)((0,$.pi)((0,$.pi)({},o),e.options),{headers:(0,$.pi)((0,$.pi)({},o.headers),e.headers)}),e.credentials&&(o.credentials=e.credentials),i=(0,$.pi)((0,$.pi)({},i),e.http)})),o.headers&&(o.headers=je(o.headers,i.preserveHeaderCase));var s=e.operationName,a=e.extensions,c=e.variables,u=e.query,l={operationName:s,variables:c};return i.includeExtensions&&(l.extensions=a),i.includeQuery&&(l.query=t(u,$e)),{options:o,body:l}}function je(e,t){if(!t){var n=Object.create(null);return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var r=Object.create(null);Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]={originalName:t,value:e[t]}}));var o=Object.create(null);return Object.keys(r).forEach((function(e){o[r[e].originalName]=r[e].value})),o}function Me(e){return new C((function(t){t.error(e)}))}var Le=n(97359),Ue={kind:Le.h.FIELD,name:{kind:Le.h.NAME,value:"__typename"}};function Be(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===Le.h.FRAGMENT_SPREAD&&Be(t[e.name.value],t)}))}function Fe(e){return Be(W(e)||function(e){(0,u.kG)("Document"===e.kind,75),(0,u.kG)(e.definitions.length<=1,76);var t=e.definitions[0];return(0,u.kG)("FragmentDefinition"===t.kind,77),t}(e),P(Y(e)))?null:e}function Ve(e){var t=new Map,n=new Map;return e.forEach((function(e){e&&(e.name?t.set(e.name,e):e.test&&n.set(e.test,e))})),function(e){var r=t.get(e.name.value);return!r&&n.size&&n.forEach((function(t,n){n(e)&&(r=t)})),r}}function qe(e){var t=new Map;return function(n){void 0===n&&(n=e);var r=t.get(n);return r||t.set(n,r={variables:new Set,fragmentSpreads:new Set}),r}}function ze(e,t){J(t);for(var n=qe(""),r=qe(""),o=function(e){for(var t=0,o=void 0;t<e.length&&(o=e[t]);++t)if(!(0,ve.k)(o)){if(o.kind===Le.h.OPERATION_DEFINITION)return n(o.name&&o.name.value);if(o.kind===Le.h.FRAGMENT_DEFINITION)return r(o.name.value)}return!1!==globalThis.__DEV__&&u.kG.error(80),null},i=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===Le.h.OPERATION_DEFINITION&&++i;var a=Ve(e),c=function(e){return(0,ve.O)(e)&&e.map(a).some((function(e){return e&&e.remove}))},l=new Map,f=!1,d={enter:function(e){if(c(e.directives))return f=!0,null}},h=(0,ae.Vn)(t,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,n,r,i){var s=o(i);s&&s.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,n,r,i){if(c(e.directives))return f=!0,null;var s=o(i);s&&s.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,n,r){l.set(JSON.stringify(r),e)},leave:function(e,t,n,o){return e===l.get(JSON.stringify(o))?e:i>0&&e.selectionSet.selections.every((function(e){return e.kind===Le.h.FIELD&&"__typename"===e.name.value}))?(r(e.name.value).removed=!0,f=!0,null):void 0}},Directive:{leave:function(e){if(a(e))return f=!0,null}}});if(!f)return t;var p=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){p(r(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},m=new Set;h.definitions.forEach((function(e){e.kind===Le.h.OPERATION_DEFINITION?p(n(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){m.add(e)})):e.kind!==Le.h.FRAGMENT_DEFINITION||0!==i||r(e.name.value).removed||m.add(e.name.value)})),m.forEach((function(e){p(r(e)).fragmentSpreads.forEach((function(e){m.add(e)}))}));var y={enter:function(e){if(t=e.name.value,!m.has(t)||r(t).removed)return null;var t}};return Fe((0,ae.Vn)(h,{FragmentSpread:y,FragmentDefinition:y,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=p(n(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return(0,$.pi)((0,$.pi)({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var Ge=Object.assign((function(e){return(0,ae.Vn)(e,{SelectionSet:{enter:function(e,t,n){if(!n||n.kind!==Le.h.OPERATION_DEFINITION){var r=e.selections;if(r)if(!r.some((function(e){return K(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var o=n;if(!(K(o)&&o.directives&&o.directives.some((function(e){return"export"===e.name.value}))))return(0,$.pi)((0,$.pi)({},e),{selections:(0,$.ev)((0,$.ev)([],r,!0),[Ue],!1)})}}}}})}),{added:function(e){return e===Ue}});function He(e){return"query"===Z(e).operation?e:(0,ae.Vn)(e,{OperationDefinition:{enter:function(e){return(0,$.pi)((0,$.pi)({},e),{operation:"query"})}}})}function Ke(e){return J(e),ze([{test:function(e){return"client"===e.name.value},remove:!0}],e)}var Je=(0,u.wY)((function(){return fetch})),We=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,o=e.print,i=void 0===o?De:o,s=e.includeExtensions,a=e.preserveHeaderCase,c=e.useGETForQueries,l=e.includeUnusedVariables,f=void 0!==l&&l,d=(0,$._T)(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw(0,u._K)(35)}(r||Je);var h={http:{includeExtensions:s,preserveHeaderCase:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new oe((function(e){var t=function(e,t){return e.getContext().uri||("function"===typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),s={};if(o.clientAwareness){var a=o.clientAwareness,l=a.name,d=a.version;l&&(s["apollographql-client-name"]=l),d&&(s["apollographql-client-version"]=d)}var p=(0,$.pi)((0,$.pi)({},s),o.headers),m={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:p};if(ue(["client"],e.query)){var y=Ke(e.query);if(!y)return Me(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=y}var g,v=Pe(e,i,Re,h,m),b=v.options,w=v.body;w.variables&&!f&&(w.variables=function(e,t){var n=(0,$.pi)({},e),r=new Set(Object.keys(e));return(0,ae.Vn)(t,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&r.delete(e.name.value)}}),r.forEach((function(e){delete n[e]})),n}(w.variables,e.query)),b.signal||"undefined"===typeof AbortController||(g=new AbortController,b.signal=g.signal);var E,_="OperationDefinition"===(E=Z(e.query)).kind&&"subscription"===E.operation,S=ue(["defer"],e.query);if(c&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(b.method="GET"),S||_){b.headers=b.headers||{};var T="multipart/mixed;";_&&S&&!1!==globalThis.__DEV__&&u.kG.warn(36),_?T+="boundary=graphql;subscriptionSpec=1.0,application/json":S&&(T+="deferSpec=20220824,application/json"),b.headers.accept=T}if("GET"===b.method){var I=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var o=void 0;try{o=fe(t.variables,"Variables map")}catch(O){return{parseError:O}}r("variables",o)}if(t.extensions){var i=void 0;try{i=fe(t.extensions,"Extensions map")}catch(O){return{parseError:O}}r("extensions",i)}var s="",a=e,c=e.indexOf("#");-1!==c&&(s=e.substr(c),a=e.substr(0,c));var u=-1===a.indexOf("?")?"?":"&";return{newURI:a+u+n.join("&")+s}}(t,w),N=I.newURI,O=I.parseError;if(O)return Me(O);t=N}else try{b.body=fe(w,"Payload")}catch(O){return Me(O)}return new C((function(n){var o=r||(0,u.wY)((function(){return fetch}))||Je,i=n.next.bind(n);return o(t,b).then((function(t){var n;e.setContext({response:t});var r,o=null===(n=t.headers)||void 0===n?void 0:n.get("content-type");return null!==o&&/^multipart\/mixed/i.test(o)?function(e,t){var n;return(0,$.mG)(this,void 0,void 0,(function(){var r,o,i,s,a,c,u,l,f,d,h,p,m,y,g,v,b,w,E,_,S,T,I;return(0,$.Jh)(this,(function(N){switch(N.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),o=null===(n=e.headers)||void 0===n?void 0:n.get("content-type"),i="boundary=",s=(null===o||void 0===o?void 0:o.includes(i))?null===o||void 0===o?void 0:o.substring((null===o||void 0===o?void 0:o.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",a="\r\n--".concat(s),c="",u=me(e),l=!0,N.label=1;case 1:return l?[4,u.next()]:[3,3];case 2:for(f=N.sent(),d=f.value,h=f.done,p="string"===typeof d?d:r.decode(d),m=c.length-a.length+1,l=!h,y=(c+=p).indexOf(a,m);y>-1;){if(g=void 0,T=[c.slice(0,y),c.slice(y+a.length)],c=T[1],v=(g=T[0]).indexOf("\r\n\r\n"),b=ke(g.slice(0,v)),(w=b["content-type"])&&-1===w.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(E=g.slice(v))if(_=Ae(e,E),Object.keys(_).length>1||"data"in _||"incremental"in _||"errors"in _||"payload"in _)Ie(_)?(S={},"payload"in _&&(S=(0,$.pi)({},_.payload)),"errors"in _&&(S=(0,$.pi)((0,$.pi)({},S),{extensions:(0,$.pi)((0,$.pi)({},"extensions"in S?S.extensions:null),(I={},I[ge.YG]=_.errors,I))})),t(S)):t(_);else if(1===Object.keys(_).length&&"hasNext"in _&&!_.hasNext)return[2];y=c.indexOf(a)}return[3,1];case 3:return[2]}}))}))}(t,i):(r=e,function(e){return e.text().then((function(t){return Ae(e,t)})).then((function(t){return e.status>=300&&ye(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||Oe.call(t,"data")||Oe.call(t,"errors")||ye(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName,"'.")),t}))})(t).then(i)})).then((function(){g=void 0,n.complete()})).catch((function(e){g=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,n)})),function(){g&&g.abort()}}))}))},Qe=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,We(t).request)||this;return n.options=t,n}return(0,$.ZT)(t,e),t}(oe),Ye=n(30020);const Xe=()=>Object.create(null),{forEach:Ze,slice:et}=Array.prototype,{hasOwnProperty:tt}=Object.prototype;class nt{constructor(e=!0,t=Xe){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return Ze.call(e,(e=>t=t.getChildTrie(e))),tt.call(t,"data")?t.data:t.data=this.makeData(et.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=this.weakness&&rt(e[n])?t.weak:t.strong;t=r&&r.get(e[n])}return t&&t.data}getChildTrie(e){const t=this.weakness&&rt(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=t.get(e);return n||t.set(e,n=new nt(this.weakness,this.makeData)),n}}function rt(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}var ot,it,st=function(){function e(){this.known=new(de.sy?WeakSet:Set),this.pool=new nt(de.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return(0,R.s)(e)&&this.known.has(e)},e.prototype.pass=function(e){if((0,R.s)(e)){var t=function(e){return(0,R.s)(e)?(0,ve.k)(e)?e.slice(0):(0,$.pi)({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if((0,R.s)(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(a=this.pool.lookupArray(r)).array||(this.known.add(a.array=r),!1!==globalThis.__DEV__&&Object.freeze(r)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var o=Object.getPrototypeOf(e),i=[o],s=this.sortedKeys(e);i.push(s.json);var a,c=i.length;if(s.sorted.forEach((function(n){i.push(t.admit(e[n]))})),!(a=this.pool.lookupArray(i)).object){var u=a.object=Object.create(o);this.known.add(u),s.sorted.forEach((function(e,t){u[e]=i[c+t]})),!1!==globalThis.__DEV__&&Object.freeze(u)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),at=Object.assign((function(e){if((0,R.s)(e)){void 0===ot&&ct();var t=ot.admit(e),n=it.get(t);return void 0===n&&it.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:ct});function ct(){ot=new st,it=new(de.mr?WeakMap:Map)}function ut(e){return e}var lt=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=de.sy?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),!1!==t.cache&&(this.stableCacheKeys=new nt(de.mr,(function(e){return{key:e}})))}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(ut,{cache:!1})},e.split=function(t,n,r){return void 0===r&&(r=e.identity()),new e((function(e){return(t(e)?n:r).transformDocument(e)}),{cache:!1})},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.getStableCacheEntry(e);if(t&&t.value)return t.value;J(e);var n=this.transform(e);return this.resultCache.add(n),t&&(t.value=n),n},e.prototype.concat=function(t){var n=this;return new e((function(e){return t.transformDocument(n.transformDocument(e))}),{cache:!1})},e.prototype.getStableCacheEntry=function(e){if(this.stableCacheKeys){var t=this.getCacheKey(e);return t?((0,u.kG)(Array.isArray(t),63),this.stableCacheKeys.lookupArray(t)):void 0}},e}();function ft(e,t,n){return new C((function(r){var o=r.next,i=r.error,s=r.complete,a=0,c=!1,u={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++a;var n=function(){return e(t)};u=u.then(n,n).then((function(e){--a,o&&o.call(r,e),c&&f.complete()}),(function(e){throw--a,e})).catch((function(e){i&&i.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var f={next:l(t,o),error:l(n,i),complete:function(){c=!0,a||s&&s.call(r)}},d=e.subscribe(f);return function(){return d.unsubscribe()}}))}function dt(e){var t=ht(e);return(0,ve.O)(t)}function ht(e){var t=(0,ve.O)(e.errors)?e.errors.slice(0):[];return Te(e)&&(0,ve.O)(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}var pt=n(60897);function mt(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function yt(e){function t(t){Object.defineProperty(e,t,{value:C})}return de.aS&&Symbol.species&&t(Symbol.species),t("@@species"),e}function gt(e){return e&&"function"===typeof e.then}var vt=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),mt(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),mt(n.observers,"error",e))},complete:function(){var e=n,t=e.sub,r=e.sources;if(null!==t){var o=(void 0===r?[]:r).shift();o?gt(o)?o.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=o.subscribe(n.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),mt(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new C(t)]),gt(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,$.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,r){t||(t=!0,e(n,r))}))},t}(C);yt(vt);var bt=n(1644),wt=n(53712),Et=Object.prototype.toString;function _t(e){return St(e)}function St(e,t){switch(Et.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=St(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=St(e[n],t)})),r;default:return e}}function Tt(e,t,n,r){var o=t.data,i=(0,$._T)(t,["data"]),s=n.data,a=(0,$._T)(n,["data"]);return(0,Ye.Z)(i,a)&&It(Z(e).selectionSet,o,s,{fragmentMap:P(Y(e)),variables:r})}function It(e,t,n,r){if(t===n)return!0;var o=new Set;return e.selections.every((function(e){if(o.has(e))return!0;if(o.add(e),!ce(e,r.variables))return!0;if(Nt(e))return!0;if(K(e)){var i=G(e),s=t&&t[i],a=n&&n[i],c=e.selectionSet;if(!c)return(0,Ye.Z)(s,a);var u=Array.isArray(s),l=Array.isArray(a);if(u!==l)return!1;if(u&&l){var f=s.length;if(a.length!==f)return!1;for(var d=0;d<f;++d)if(!It(c,s[d],a[d],r))return!1;return!0}return It(c,s,a,r)}var h=j(e,r.fragmentMap);return h?!!Nt(h)||It(h.selectionSet,t,n,r):void 0}))}function Nt(e){return!!e.directives&&e.directives.some(Ot)}function Ot(e){return"nonreactive"===e.name.value}var kt=Object.assign,At=Object.hasOwnProperty,xt=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,o=t.options,i=e.call(this,(function(e){try{var n=e._subscription._observer;n&&!n.error&&(n.error=$t)}catch(t){}var r=!i.observers.size;i.observers.add(e);var o=i.last;return o&&o.error?e.error&&e.error(o.error):o&&o.result&&e.next&&e.next(o.result),r&&i.reobserve().catch((function(){})),function(){i.observers.delete(e)&&!i.observers.size&&i.tearDownQuery()}}))||this;i.observers=new Set,i.subscriptions=new Set,i.queryInfo=r,i.queryManager=n,i.waitForOwnResult=Dt(o.fetchPolicy),i.isTornDown=!1;var s=n.defaultOptions.watchQuery,a=(void 0===s?{}:s).fetchPolicy,c=void 0===a?"cache-first":a,u=o.fetchPolicy,l=void 0===u?c:u,f=o.initialFetchPolicy,d=void 0===f?"standby"===l?c:l:f;i.options=(0,$.pi)((0,$.pi)({},o),{initialFetchPolicy:d,fetchPolicy:l}),i.queryId=r.queryId||n.generateQueryId();var h=W(i.query);return i.queryName=h&&h.name&&h.name.value,i}return(0,$.ZT)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:n},o=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||bt.Ie.ready,r=(0,$.pi)((0,$.pi)({},t),{loading:(0,bt.Oj)(n),networkStatus:n}),o=this.options.fetchPolicy,i=void 0===o?"cache-first":o;if(Dt(i)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(r.data=s.result),(0,Ye.D)(r.data,{})&&(r.data=void 0),s.complete?(delete r.partial,!s.complete||r.networkStatus!==bt.Ie.loading||"cache-first"!==i&&"cache-only"!==i||(r.networkStatus=bt.Ie.ready,r.loading=!1)):r.partial=!0,!1===globalThis.__DEV__||s.complete||this.options.partialRefetch||r.loading||r.data||r.error||Rt(s.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||((this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!Tt(this.query,this.last.result,e,this.variables):!(0,Ye.D)(this.last.result,e))||t&&!(0,Ye.D)(this.last.variables,t))},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||(0,Ye.D)(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&At.call(e,"variables")){var o=X(this.query),i=o.variableDefinitions;i&&i.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&u.kG.warn(18,e,(null===(t=o.name)||void 0===t?void 0:t.value)||o)}return e&&!(0,Ye.D)(this.options.variables,e)&&(n.variables=this.options.variables=(0,$.pi)((0,$.pi)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,bt.Ie.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,$.pi)((0,$.pi)({},e.query?e:(0,$.pi)((0,$.pi)((0,$.pi)((0,$.pi)({},this.options),{query:this.options.query}),e),{variables:(0,$.pi)((0,$.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});n.query=this.transformDocument(n.query);var r=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):n.query;var o=this.queryInfo,i=o.networkStatus;o.networkStatus=bt.Ie.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var s=new Set;return this.queryManager.fetchQuery(r,n,bt.Ie.fetchMore).then((function(a){return t.queryManager.removeQuery(r),o.networkStatus===bt.Ie.fetchMore&&(o.networkStatus=i),t.queryManager.cache.batch({update:function(r){var o=e.updateQuery;o?r.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return o(e,{fetchMoreResult:a.data,variables:n.variables})})):r.writeQuery({query:n.query,variables:n.variables,data:a.data})},onWatchUpdated:function(e){s.add(e.query)}}),a})).finally((function(){s.has(t.query)||Ct(t)}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var o=t.variables;return r(e,{subscriptionData:n,variables:o})}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&u.kG.error(19,t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=(0,wt.o)(this.options,e||{});kt(this.options,t)},t.prototype.setVariables=function(e){return(0,Ye.D)(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},bt.Ie.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,o=t.initialFetchPolicy,i=void 0===o?r:o;"standby"===r||("function"===typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:i}):t.fetchPolicy="variables-changed"===e?i:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){(0,u.kG)(n,20),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&((0,bt.Oj)(e.queryInfo.networkStatus)?o():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},bt.Ie.poll).then(o,o))},o=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};o()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var n=this.getLastError();return n&&this.last&&!(0,Ye.D)(t,this.last.variables)&&(n=void 0),this.last=(0,$.pi)({result:this.queryManager.assumeImmutableResults?e:_t(e),variables:t},n?{error:n}:null)},t.prototype.reobserveAsConcast=function(e,t){var n=this;this.isTornDown=!1;var r=t===bt.Ie.refetch||t===bt.Ie.fetchMore||t===bt.Ie.poll,o=this.options.variables,i=this.options.fetchPolicy,s=(0,wt.o)(this.options,e||{}),a=r?s:kt(this.options,s),c=this.transformDocument(a.query);this.lastQuery=c,r||(this.updatePolling(),e&&e.variables&&!(0,Ye.D)(e.variables,o)&&"standby"!==a.fetchPolicy&&a.fetchPolicy===i&&(this.applyNextFetchPolicy("variables-changed",a),void 0===t&&(t=bt.Ie.setVariables)));var u=c===a.query?a:(0,$.pi)((0,$.pi)({},a),{query:c});this.waitForOwnResult&&(this.waitForOwnResult=Dt(u.fetchPolicy));var l=function(){n.concast===h&&(n.waitForOwnResult=!1)},f=u.variables&&(0,$.pi)({},u.variables),d=this.fetch(u,t),h=d.concast,p=d.fromLink,m={next:function(e){l(),n.reportResult(e,f)},error:function(e){l(),n.reportError(e,f)}};return r||!p&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=m),h.addObserver(m),h},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.last;this.resetLastResults();var r=this.subscribe.apply(this,e);return this.last=n,r},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError(),r=this.isDifferentFromLastResult(e,t);(n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(n||r)&&mt(this.observers,"next",e)},t.prototype.reportError=function(e,t){var n=(0,$.pi)((0,$.pi)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:bt.Ie.error,loading:!1});this.updateLastResult(n,t),mt(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}(C);function Ct(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return"cache-and-network"===n||"network-only"===n?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,"function"===typeof r?r.apply(this,arguments):n}}):e.reobserve()}function $t(e){!1!==globalThis.__DEV__&&u.kG.error(21,e.message,e.stack)}function Rt(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&u.kG.debug(22,e)}function Dt(e){return"network-only"===e||"no-cache"===e||"standby"===e}yt(xt);var Pt=n(75844);function jt(){}class Mt{constructor(e=1/0,t=jt){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}let Lt=null;const Ut={};let Bt=1;function Ft(e){try{return e()}catch(t){}}const Vt="@wry/context:Slot",qt=Ft((()=>globalThis))||Ft((()=>global))||Object.create(null),zt=qt[Vt]||Array[Vt]||function(e){try{Object.defineProperty(qt,Vt,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",Bt++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Lt;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===Ut)break;return e!==Lt&&(Lt.slots[this.id]=t),!0}return Lt&&(Lt.slots[this.id]=Ut),!1}getValue(){if(this.hasValue())return Lt.slots[this.id]}withValue(e,t,n,r){const o={__proto__:null,[this.id]:e},i=Lt;Lt={parent:i,slots:o};try{return t.apply(r,n)}finally{Lt=i}}static bind(e){const t=Lt;return function(){const n=Lt;try{return Lt=t,e.apply(this,arguments)}finally{Lt=n}}}static noContext(e,t,n){if(!Lt)return e.apply(n,t);{const r=Lt;try{return Lt=null,e.apply(n,t)}finally{Lt=r}}}}),{bind:Gt,noContext:Ht}=zt;const Kt=new zt;const{hasOwnProperty:Jt}=Object.prototype,Wt=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function Qt(e){const{unsubscribe:t}=e;"function"===typeof t&&(e.unsubscribe=void 0,t())}const Yt=[];function Xt(e,t){if(!e)throw new Error(t||"assertion failure")}function Zt(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class en{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++en.count}peek(){if(1===this.value.length&&!rn(this))return tn(this),this.value[0]}recompute(e){return Xt(!this.recomputing,"already recomputing"),tn(this),rn(this)?function(e,t){fn(e),Kt.withValue(e,nn,[e,t]),function(e,t){if("function"===typeof e.subscribe)try{Qt(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,rn(e))return;sn(e)}(e);return Zt(e.value)}(this,e):Zt(this.value)}setDirty(){this.dirty||(this.dirty=!0,this.value.length=0,on(this),Qt(this))}dispose(){this.setDirty(),fn(this),an(this,((e,t)=>{e.setDirty(),dn(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Yt.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Wt(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),Yt.push(this.deps),this.deps=null)}}function tn(e){const t=Kt.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),rn(e)?cn(t,e):un(t,e),t}function nn(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(n){e.value[1]=n}e.recomputing=!1}function rn(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function on(e){an(e,cn)}function sn(e){an(e,un)}function an(e,t){const n=e.parents.size;if(n){const r=Wt(e.parents);for(let o=0;o<n;++o)t(r[o],e)}}function cn(e,t){Xt(e.childValues.has(t)),Xt(rn(t));const n=!rn(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=Yt.pop()||new Set;e.dirtyChildren.add(t),n&&on(e)}function un(e,t){Xt(e.childValues.has(t)),Xt(!rn(t));const n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),ln(e,t),rn(e)||sn(e)}function ln(e,t){const n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(Yt.length<100&&Yt.push(n),e.dirtyChildren=null))}function fn(e){e.childValues.size>0&&e.childValues.forEach(((t,n)=>{dn(e,n)})),e.forgetDeps(),Xt(null===e.dirtyChildren)}function dn(e,t){t.parents.delete(e),e.childValues.delete(t),ln(e,t)}en.count=0;const hn={setDirty:!0,dispose:!0,forget:!0};function pn(e){const t=new Map,n=e&&e.subscribe;function r(e){const r=Kt.getValue();if(r){let o=t.get(e);o||t.set(e,o=new Set),r.dependOn(o),"function"===typeof n&&(Qt(o),o.unsubscribe=n(e))}}return r.dirty=function(e,n){const r=t.get(e);if(r){const o=n&&Jt.call(hn,n)?n:"setDirty";Wt(r).forEach((e=>e[o]())),t.delete(e),Qt(r)}},r}let mn;function yn(...e){return(mn||(mn=new nt("function"===typeof WeakMap))).lookupArray(e)}const gn=new Set;function vn(e,{max:t=Math.pow(2,16),makeCacheKey:n=yn,keyArgs:r,subscribe:o}=Object.create(null)){const i=new Mt(t,(e=>e.dispose())),s=function(){const t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let s=i.get(t);s||(i.set(t,s=new en(e)),s.subscribe=o,s.forget=()=>i.delete(t));const a=s.recompute(Array.prototype.slice.call(arguments));return i.set(t,s),gn.add(i),Kt.hasValue()||(gn.forEach((e=>e.clean())),gn.clear()),a};function a(e){const t=i.get(e);t&&t.setDirty()}function c(e){const t=i.get(e);if(t)return t.peek()}function u(e){return i.delete(e)}return Object.defineProperty(s,"size",{get:()=>i.map.size,configurable:!1,enumerable:!1}),Object.freeze(s.options={max:t,makeCacheKey:n,keyArgs:r,subscribe:o}),s.dirtyKey=a,s.dirty=function(){a(n.apply(null,arguments))},s.peekKey=c,s.peek=function(){return c(n.apply(null,arguments))},s.forgetKey=u,s.forget=function(){return u(n.apply(null,arguments))},s.makeCacheKey=n,s.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(s)}var bn=new zt,wn=new WeakMap;function En(e){var t=wn.get(e);return t||wn.set(e,t={vars:new Set,dep:pn()}),t}function _n(e){En(e).vars.forEach((function(t){return t.forgetCache(e)}))}function Sn(e){var t=new Set,n=new Set,r=function(i){if(arguments.length>0){if(e!==i){e=i,t.forEach((function(e){En(e).dep.dirty(r),Tn(e)}));var s=Array.from(n);n.clear(),s.forEach((function(t){return t(e)}))}}else{var a=bn.getValue();a&&(o(a),En(a).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var o=r.attachCache=function(e){return t.add(e),En(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function Tn(e){e.broadcastWatches&&e.broadcastWatches()}var In=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=we(t.resolvers,e)})):this.resolvers=we(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,i=e.onlyRunForcedResolvers,s=void 0!==i&&i;return(0,$.mG)(this,void 0,void 0,(function(){return(0,$.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,s).then((function(e){return(0,$.pi)((0,$.pi)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return ue(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return Ke(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,$.pi)((0,$.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,$.mG)(this,void 0,void 0,(function(){return(0,$.Jh)(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,$.pi)((0,$.pi)({},t),e.exportedVariables)}))]:[2,(0,$.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,ae.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return ae.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:He(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,o,i){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===i&&(i=!1),(0,$.mG)(this,void 0,void 0,(function(){var s,a,c,u,l,f,d,h,p,m;return(0,$.Jh)(this,(function(y){return s=Z(e),a=Y(e),c=P(a),u=this.collectSelectionsToResolve(s,c),l=s.operation,f=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",h=(d=this).cache,p=d.client,m={fragmentMap:c,context:(0,$.pi)((0,$.pi)({},n),{cache:h,client:p}),variables:r,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:i},!1,[2,this.resolveSelectionSet(s.selectionSet,false,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n,r){return(0,$.mG)(this,void 0,void 0,(function(){var o,i,s,a,c,l=this;return(0,$.Jh)(this,(function(f){return o=r.fragmentMap,i=r.context,s=r.variables,a=[n],c=function(e){return(0,$.mG)(l,void 0,void 0,(function(){var c,l;return(0,$.Jh)(this,(function(f){return(t||r.selectionsToResolve.has(e))&&ce(e,s)?K(e)?[2,this.resolveField(e,t,n,r).then((function(t){var n;"undefined"!==typeof t&&a.push(((n={})[G(e)]=t,n))}))]:(!function(e){return"InlineFragment"===e.kind}(e)?(c=o[e.name.value],(0,u.kG)(c,16,e.name.value)):c=e,c&&c.typeCondition&&(l=c.typeCondition.name.value,r.fragmentMatcher(n,l,i))?[2,this.resolveSelectionSet(c.selectionSet,t,n,r).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(c)).then((function(){return Ee(a)}))]}))}))},e.prototype.resolveField=function(e,t,n,r){return(0,$.mG)(this,void 0,void 0,(function(){var o,i,s,a,c,u,l,f,d,h=this;return(0,$.Jh)(this,(function(p){return n?(o=r.variables,i=e.name.value,s=G(e),a=i!==s,c=n[s]||n[i],u=Promise.resolve(c),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=n.__typename||r.defaultOperationType,(f=this.resolvers&&this.resolvers[l])&&(d=f[a?i:s])&&(u=Promise.resolve(bn.withValue(this.cache,d,[n,z(e,o),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,u.then((function(n){var o,i;if(void 0===n&&(n=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=n)}))})),!e.selectionSet)return n;if(null==n)return n;var s=null!==(i=null===(o=e.directives)||void 0===o?void 0:o.some((function(e){return"client"===e.name.value})))&&void 0!==i&&i;return Array.isArray(n)?h.resolveSubSelectedArray(e,t||s,n,r):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t||s,n,r):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n,r){var o=this;return Promise.all(n.map((function(n){return null===n?null:Array.isArray(n)?o.resolveSubSelectedArray(e,t,n,r):e.selectionSet?o.resolveSelectionSet(e.selectionSet,t,n,r):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var n=function(e){return!Array.isArray(e)},r=this.selectionsToResolveCache;return function e(o){if(!r.has(o)){var i=new Set;r.set(o,i),(0,ae.Vn)(o,{Directive:function(e,t,r,o,s){"client"===e.name.value&&s.forEach((function(e){n(e)&&(0,Pt.pO)(e)&&i.add(e)}))},FragmentSpread:function(r,o,s,a,c){var l=t[r.name.value];(0,u.kG)(l,17,r.name.value);var f=e(l);f.size>0&&(c.forEach((function(e){n(e)&&(0,Pt.pO)(e)&&i.add(e)})),i.add(r),f.forEach((function(e){i.add(e)})))}})}return r.get(o)}(e)},e}(),Nn=new(de.mr?WeakMap:Map);function On(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return Nn.set(e,(Nn.get(e)+1)%1e15),n.apply(this,arguments)})}function kn(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var An=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Nn.has(n)||(Nn.set(n,0),On(n,"evict"),On(n,"modify"),On(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||bt.Ie.loading;return this.variables&&this.networkStatus!==bt.Ie.loading&&!(0,Ye.D)(this.variables,e.variables)&&(t=bt.Ie.setVariables),(0,Ye.D)(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){kn(this),this.dirty=!1},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&(0,Ye.D)(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var n=this.cache.diff(e);return this.updateLastDiff(n,e),n},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||(0,Ye.D)(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():Ct(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;kn(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,bt.Oj)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=(0,$.pi)((0,$.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,Ye.D)(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Nn.get(this.cache)&&(0,Ye.D)(t,n.variables)&&(0,Ye.D)(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,r){var o=this,i=new Se,s=(0,ve.O)(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&(0,ve.O)(e.incremental)){var a=Ne(this.getDiff().result,e);e.data=a}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=i.merge(c.result,e.data)}this.graphQLErrors=s,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(xn(e,n.errorPolicy)?this.cache.performTransaction((function(i){if(o.shouldWrite(e,n.variables))i.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===r}),o.lastWrite={result:e,variables:n.variables,dmCount:Nn.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete)return void(e.data=o.lastDiff.diff.result);var s=o.getDiffOptions(n.variables),a=i.diff(s);!o.stopped&&(0,Ye.D)(o.variables,n.variables)&&o.updateWatch(n.variables),o.updateLastDiff(a,s),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=bt.Ie.ready},e.prototype.markError=function(e){return this.networkStatus=bt.Ie.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function xn(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!dt(e);return!r&&n&&e.data&&(r=!0),r}var Cn=Object.prototype.hasOwnProperty,$n=function(){function e(e){var t=this,n=e.cache,r=e.link,o=e.defaultOptions,i=e.documentTransform,s=e.queryDeduplication,a=void 0!==s&&s,c=e.onBroadcast,u=e.ssrMode,l=void 0!==u&&u,f=e.clientAwareness,d=void 0===f?{}:f,h=e.localState,p=e.assumeImmutableResults,m=void 0===p?!!n.assumeImmutableResults:p;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(de.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map;var y=new lt((function(e){return t.cache.transformDocument(e)}),{cache:!1});this.cache=n,this.link=r,this.defaultOptions=o||Object.create(null),this.queryDeduplication=a,this.clientAwareness=d,this.localState=h||new In({cache:n}),this.ssrMode=l,this.assumeImmutableResults=m,this.documentTransform=i?y.concat(i).concat(y):y,(this.onBroadcast=c)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches((0,u._K)(23))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,n,r=e.mutation,o=e.variables,i=e.optimisticResponse,s=e.updateQueries,a=e.refetchQueries,c=void 0===a?[]:a,l=e.awaitRefetchQueries,f=void 0!==l&&l,d=e.update,h=e.onQueryUpdated,p=e.fetchPolicy,m=void 0===p?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":p,y=e.errorPolicy,g=void 0===y?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":y,v=e.keepRootFields,b=e.context;return(0,$.mG)(this,void 0,void 0,(function(){var e,t,n,a;return(0,$.Jh)(this,(function(l){switch(l.label){case 0:return(0,u.kG)(r,24),(0,u.kG)("network-only"===m||"no-cache"===m,25),e=this.generateMutationId(),r=this.cache.transformForLink(this.transform(r)),t=this.getDocumentInfo(r).hasClientExports,o=this.getVariables(r,o),t?[4,this.localState.addExportedVariables(r,o,b)]:[3,2];case 1:o=l.sent(),l.label=2;case 2:return n=this.mutationStore&&(this.mutationStore[e]={mutation:r,variables:o,loading:!0,error:null}),i&&this.markMutationOptimistic(i,{mutationId:e,document:r,variables:o,fetchPolicy:m,errorPolicy:g,context:b,updateQueries:s,update:d,keepRootFields:v}),this.broadcastQueries(),a=this,[2,new Promise((function(t,u){return ft(a.getObservableFromLink(r,(0,$.pi)((0,$.pi)({},b),{optimisticResponse:i}),o,!1),(function(t){if(dt(t)&&"none"===g)throw new ge.cA({graphQLErrors:ht(t)});n&&(n.loading=!1,n.error=null);var u=(0,$.pi)({},t);return"function"===typeof c&&(c=c(u)),"ignore"===g&&dt(u)&&delete u.errors,a.markMutationResult({mutationId:e,result:u,document:r,variables:o,fetchPolicy:m,errorPolicy:g,context:b,update:d,updateQueries:s,awaitRefetchQueries:f,refetchQueries:c,removeOptimistic:i?e:void 0,onQueryUpdated:h,keepRootFields:v})})).subscribe({next:function(e){a.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){n&&(n.loading=!1,n.error=t),i&&a.cache.removeOptimistic(e),a.broadcastQueries(),u(t instanceof ge.cA?t:new ge.cA({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,o=[],i="no-cache"===e.fetchPolicy;if(!i&&xn(r,e.errorPolicy)){if(Te(r)||o.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Te(r)&&(0,ve.O)(r.incremental)){var s=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),a=void 0;s.result&&(a=Ne(s.result,r)),"undefined"!==typeof a&&(r.data=a,o.push({result:a,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach((function(e,i){var s=e.observableQuery,a=s&&s.queryName;if(a&&Cn.call(c,a)){var u=c[a],l=n.queries.get(i),f=l.document,d=l.variables,h=t.diff({query:f,variables:d,returnPartialData:!0,optimistic:!1}),p=h.result;if(h.complete&&p){var m=u(p,{mutationResult:r,queryName:f&&Q(f)||void 0,queryVariables:d});m&&o.push({result:m,dataId:"ROOT_QUERY",query:f,variables:d})}}}))}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(t){i||o.forEach((function(e){return t.write(e)}));var s,a=e.update,c=!(Te(s=r)||function(e){return"hasNext"in e&&"data"in e}(s))||Te(r)&&!r.hasNext;if(a){if(!i){var u=t.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});u.complete&&("incremental"in(r=(0,$.pi)((0,$.pi)({},r),{data:u.result}))&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}c&&a(t,r,{context:e.context,variables:e.variables})}i||e.keepRootFields||!c||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return u.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(u).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,$.pi)((0,$.pi)({},t),{result:{data:r}}),e)}catch(o){!1!==globalThis.__DEV__&&u.kG.error(o)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchConcastWithInfo(e,t,n).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var n={hasClientExports:le(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:ue(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:ze([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:ee(W(e)),asQuery:(0,$.pi)((0,$.pi)({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,$.pi)((0,$.pi)({},e),{operation:"query"}):e}))})};t.set(e,n)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,$.pi)((0,$.pi)({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);"undefined"===typeof(e=(0,$.pi)((0,$.pi)({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new An(this),r=new xt({queryManager:this,queryInfo:n,options:e});return r.lastQuery=t,this.queries.set(r.queryId,n),n.init({document:t,observableQuery:r,variables:r.variables}),r},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),(0,u.kG)(e.query,26),(0,u.kG)("Document"===e.query.kind,27),(0,u.kG)(!e.returnPartialData,28),(0,u.kG)(!e.pollInterval,29),this.fetchQuery(t,(0,$.pi)((0,$.pi)({},e),{query:this.transform(e.query)})).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches((0,u._K)(30)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=bt.Ie.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,o=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"===typeof e?r.set(e,!1):(n=e,(0,R.s)(n)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e),!1):(0,R.s)(e)&&e.query&&o.add(e))})),this.queries.forEach((function(t,o){var i=t.observableQuery,s=t.document;if(i){if("all"===e)return void n.set(o,i);var a=i.queryName;if("standby"===i.options.fetchPolicy||"active"===e&&!i.hasObservers())return;("active"===e||a&&r.has(a)||s&&r.has(s))&&(n.set(o,i),a&&r.set(a,!0),s&&r.set(s,!0))}})),o.size&&o.forEach((function(e){var r=(0,pt.X)("legacyOneTimeQuery"),o=t.getQuery(r).init({document:e.query,variables:e.variables}),i=new xt({queryManager:t,queryInfo:o,options:(0,$.pi)((0,$.pi)({},e),{fetchPolicy:"network-only"})});(0,u.kG)(i.queryId===r),o.setObservableQuery(i),n.set(r,i)})),!1!==globalThis.__DEV__&&r.size&&r.forEach((function(e,t){e||!1!==globalThis.__DEV__&&u.kG.warn("string"===typeof t?31:32,t)})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,o){var i=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==i&&"cache-only"!==i)&&n.push(r.refetch()),t.getQuery(o).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.errorPolicy,i=void 0===o?"none":o,s=e.variables,a=e.context,c=void 0===a?{}:a;n=this.transform(n),s=this.getVariables(n,s);var u=function(e){return t.getObservableFromLink(n,c,e).map((function(o){"no-cache"!==r&&(xn(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var s=dt(o),a=(0,ge.ls)(o);if(s||a){var c={};if(s&&(c.graphQLErrors=o.errors),a&&(c.protocolErrors=o.extensions[ge.YG]),"none"===i||a)throw new ge.cA(c)}return"ignore"===i&&delete o.errors,o}))};if(this.getDocumentInfo(n).hasClientExports){var l=this.localState.addExportedVariables(n,s,c).then(u);return new C((function(e){var t=null;return l.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(s)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var o,i,s=this;void 0===r&&(r=null!==(o=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var a=this.getDocumentInfo(e),c=a.serverQuery,u=a.clientQuery;if(c){var l=this.inFlightLinkObservables,f=this.link,d={query:c,variables:n,operationName:Q(c)||void 0,context:this.prepareContext((0,$.pi)((0,$.pi)({},t),{forceFetch:!r}))};if(t=d.context,r){var h=$e(c),p=l.get(h)||new Map;l.set(h,p);var m=at(n);if(!(i=p.get(m))){var y=new vt([ie(f,d)]);p.set(m,i=y),y.beforeNext((function(){p.delete(m)&&p.size<1&&l.delete(h)}))}}else i=new vt([ie(f,d)])}else i=new vt([C.of({data:{}})]),t=this.prepareContext(t);return u&&(i=ft(i,(function(e){return s.localState.runResolvers({document:u,remoteResult:e,context:t,variables:n})}))),i},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(n.query);return ft(this.getObservableFromLink(o,n.context,n.variables),(function(i){var s=ht(i),a=s.length>0;if(r>=e.lastRequestId){if(a&&"none"===n.errorPolicy)throw e.markError(new ge.cA({graphQLErrors:s}));e.markResult(i,o,n,t),e.markReady()}var c={data:i.data,loading:!1,networkStatus:bt.Ie.ready};return a&&"ignore"!==n.errorPolicy&&(c.errors=s,c.networkStatus=bt.Ie.error),c}),(function(t){var n=(0,ge.MS)(t)?t:new ge.cA({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchConcastWithInfo=function(e,t,n){var r=this;void 0===n&&(n=bt.Ie.loading);var o,i,s=t.query,a=this.getVariables(s,t.variables),c=this.getQuery(e),u=this.defaultOptions.watchQuery,l=t.fetchPolicy,f=void 0===l?u&&u.fetchPolicy||"cache-first":l,d=t.errorPolicy,h=void 0===d?u&&u.errorPolicy||"none":d,p=t.returnPartialData,m=void 0!==p&&p,y=t.notifyOnNetworkStatusChange,g=void 0!==y&&y,v=t.context,b=void 0===v?{}:v,w=Object.assign({},t,{query:s,variables:a,fetchPolicy:f,errorPolicy:h,returnPartialData:m,notifyOnNetworkStatusChange:g,context:b}),E=function(e){w.variables=e;var o=r.fetchQueryByPolicy(c,w,n);return"standby"!==w.fetchPolicy&&o.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),o},_=function(){return r.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,(function(e){_(),setTimeout((function(){return o.cancel(e)}))})),this.getDocumentInfo(w.query).hasClientExports)o=new vt(this.localState.addExportedVariables(w.query,w.variables,w.context).then(E).then((function(e){return e.sources}))),i=!0;else{var S=E(w.variables);i=S.fromLink,o=new vt(S.sources)}return o.promise.then(_,_),{concast:o,fromLink:i}},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,o=e.optimistic,i=void 0!==o&&o,s=e.removeOptimistic,a=void 0===s?i?(0,pt.X)("refetchQueries"):void 0:s,c=e.onQueryUpdated,u=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){u.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:i&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof An&&e.watcher.observableQuery;if(r){if(c){u.delete(r.queryId);var o=c(r,t,n);return!0===o&&(o=r.refetch()),!1!==o&&l.set(r,o),o}null!==c&&u.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),u.size&&u.forEach((function(e,n){var r,o=e.oq,i=e.lastDiff,s=e.diff;if(c){if(!s){var a=o.queryInfo;a.reset(),s=a.getDiff()}r=c(o,s,i)}c&&!0!==r||(r=o.refetch()),!1!==r&&l.set(o,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,o=t.query,i=t.variables,s=t.fetchPolicy,a=t.refetchWritePolicy,c=t.errorPolicy,u=t.returnPartialData,l=t.context,f=t.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:o,variables:i,networkStatus:n});var h=function(){return e.getDiff()},p=function(t,n){void 0===n&&(n=e.networkStatus||bt.Ie.loading);var s=t.result;!1===globalThis.__DEV__||u||(0,Ye.D)(s,{})||Rt(t.missing);var a=function(e){return C.of((0,$.pi)({data:e,loading:(0,bt.Oj)(n),networkStatus:n},t.complete?null:{partial:!0}))};return s&&r.getDocumentInfo(o).hasForcedResolvers?r.localState.runResolvers({document:o,remoteResult:{data:s},context:l,variables:i,onlyRunForcedResolvers:!0}).then((function(e){return a(e.data||void 0)})):"none"===c&&n===bt.Ie.refetch&&Array.isArray(t.missing)?a(void 0):a(s)},m="no-cache"===s?0:n===bt.Ie.refetch&&"merge"!==a?1:2,y=function(){return r.getResultsFromLink(e,m,{query:o,variables:i,context:l,fetchPolicy:s,errorPolicy:c})},g=f&&"number"===typeof d&&d!==n&&(0,bt.Oj)(n);switch(s){default:case"cache-first":return(v=h()).complete?{fromLink:!1,sources:[p(v,e.markReady())]}:u||g?{fromLink:!0,sources:[p(v),y()]}:{fromLink:!0,sources:[y()]};case"cache-and-network":var v;return(v=h()).complete||u||g?{fromLink:!0,sources:[p(v),y()]}:{fromLink:!0,sources:[y()]};case"cache-only":return{fromLink:!1,sources:[p(h(),e.markReady())]};case"network-only":return g?{fromLink:!0,sources:[p(h()),y()]}:{fromLink:!0,sources:[y()]};case"no-cache":return g?{fromLink:!0,sources:[p(e.getDiff()),y()]}:{fromLink:!0,sources:[y()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new An(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,$.pi)((0,$.pi)({},t),{clientAwareness:this.clientAwareness})},e}(),Rn=n(14012),Dn=!1,Pn=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw(0,u._K)(13);var n=e.uri,r=e.credentials,o=e.headers,i=e.cache,s=e.documentTransform,a=e.ssrMode,c=void 0!==a&&a,l=e.ssrForceFetchDelay,f=void 0===l?0:l,d=e.connectToDevTools,h=void 0===d?"object"===typeof window&&!window.__APOLLO_CLIENT__&&!1!==globalThis.__DEV__:d,p=e.queryDeduplication,m=void 0===p||p,y=e.defaultOptions,g=e.assumeImmutableResults,v=void 0===g?i.assumeImmutableResults:g,b=e.resolvers,w=e.typeDefs,E=e.fragmentMatcher,_=e.name,S=e.version,T=e.link;T||(T=n?new Qe({uri:n,credentials:r,headers:o}):oe.empty()),this.link=T,this.cache=i,this.disableNetworkFetches=c||f>0,this.queryDeduplication=m,this.defaultOptions=y||Object.create(null),this.typeDefs=w,f&&setTimeout((function(){return t.disableNetworkFetches=!1}),f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=se.i,this.localState=new In({cache:i,client:this,resolvers:b,fragmentMatcher:E}),this.queryManager=new $n({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,documentTransform:s,queryDeduplication:m,ssrMode:c,clientAwareness:{name:_,version:S},localState:this.localState,assumeImmutableResults:v,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),h&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("object"===typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}Dn||!1===globalThis.__DEV__||(Dn=!0,setTimeout((function(){if("undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,n=void 0;"string"===typeof t&&(t.indexOf("Chrome/")>-1?n="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(n="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),n&&!1!==globalThis.__DEV__&&u.kG.log("Download the Apollo DevTools for a better development experience: %s",n)}}),1e4))},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=(0,Rn.J)(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,$.pi)((0,$.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=(0,Rn.J)(this.defaultOptions.query,e)),(0,u.kG)("cache-and-network"!==e.fetchPolicy,14),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,$.pi)((0,$.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=(0,Rn.J)(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return ie(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var o=Promise.all(r);return o.queries=n,o.results=r,o.catch((function(e){!1!==globalThis.__DEV__&&u.kG.debug(15,e)})),o},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),jn=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=vn(D)}return e.prototype.batch=function(e){var t,n=this,r="string"===typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,$.pi)((0,$.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,$.pi)((0,$.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=(0,$._T)(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,o=e.fragmentName,i=(0,$._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(i,{query:this.getFragmentDoc(r,o),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),o=t(r);return void 0===o||null===o?r:(n.writeQuery((0,$.pi)((0,$.pi)({},e),{data:o})),o)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),o=t(r);return void 0===o||null===o?r:(n.writeFragment((0,$.pi)((0,$.pi)({},e),{data:o})),o)}})},e}(),Mn=function(e){function t(n,r,o,i){var s,a=e.call(this,n)||this;if(a.message=n,a.path=r,a.query=o,a.variables=i,Array.isArray(a.path)){a.missing=a.message;for(var c=a.path.length-1;c>=0;--c)a.missing=((s={})[a.path[c]]=a.missing,s)}else a.missing=a.path;return a.__proto__=t.prototype,a}return(0,$.ZT)(t,e),t}(Error),Ln=n(48702),Un=Object.prototype.hasOwnProperty;function Bn(e){return null===e||void 0===e}function Fn(e,t){var n=e.__typename,r=e.id,o=e._id;if("string"===typeof n&&(t&&(t.keyObject=Bn(r)?Bn(o)?void 0:{_id:o}:{id:r}),Bn(r)&&!Bn(o)&&(r=o),!Bn(r)))return"".concat(n,":").concat("number"===typeof r||"string"===typeof r?r:JSON.stringify(r))}var Vn={dataIdFromObject:Fn,addTypename:!0,resultCaching:!0,canonizeResults:!1};function qn(e){var t=e.canonizeResults;return void 0===t?Vn.canonizeResults:t}var zn=/^[_a-z][_0-9a-z]*/i;function Gn(e){var t=e.match(zn);return t?t[0]:e}function Hn(e,t,n){return!!(0,R.s)(t)&&((0,ve.k)(t)?t.every((function(t){return Hn(e,t,n)})):e.selections.every((function(e){if(K(e)&&ce(e,n)){var r=G(e);return Un.call(t,r)&&(!e.selectionSet||Hn(e.selectionSet,t[r],n))}return!0})))}function Kn(e){return(0,R.s)(e)&&!L(e)&&!(0,ve.k)(e)}function Jn(e,t){var n=P(Y(e));return{fragmentMap:n,lookupFragment:function(e){var r=n[e];return!r&&t&&(r=t.lookup(e)),r||null}}}var Wn=Object.create(null),Qn=function(){return Wn},Yn=Object.create(null),Xn=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,Ln.J)(L(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return L(e)?n.has(e.__ref):"object"===typeof e},this.toReference=function(e,t){if("string"===typeof e)return M(e);if(L(e))return e;var r=n.policies.identify(e)[0];if(r){var o=M(r);return t&&n.merge(r,e),o}}}return e.prototype.toObject=function(){return(0,$.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),Un.call(this.data,e)){var n=this.data[e];if(n&&Un.call(n,t))return n[t]}return"__typename"===t&&Un.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof nr?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Un.call(this.data,e)?this.data[e]:this instanceof nr?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;L(e)&&(e=e.__ref),L(t)&&(t=t.__ref);var o="string"===typeof e?this.lookup(n=e):e,i="string"===typeof t?this.lookup(n=t):t;if(i){(0,u.kG)("string"===typeof n,1);var s=new Se(or).merge(o,i);if(this.data[n]=s,s!==o&&(delete this.refs[n],this.group.caching)){var a=Object.create(null);o||(a.__exists=1),Object.keys(i).forEach((function(e){if(!o||o[e]!==s[e]){a[e]=1;var t=Gn(e);t===e||r.policies.hasKeyArgs(s.__typename,t)||(a[t]=1),void 0!==s[e]||r instanceof nr||delete s[e]}})),!a.__typename||o&&o.__typename||this.policies.rootTypenamesById[n]!==s.__typename||delete a.__typename,Object.keys(a).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var o=Object.create(null),i=!1,s=!0,a={DELETE:Wn,INVALIDATE:Yn,isReference:L,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"===typeof t?{fieldName:t,from:r||M(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(c){var u=Gn(c),l=r[c];if(void 0!==l){var f="function"===typeof t?t:t[c]||t[u];if(f){var d=f===Qn?Wn:f((0,Ln.J)(l),(0,$.pi)((0,$.pi)({},a),{fieldName:u,storeFieldName:c,storage:n.getStorage(e,c)}));d===Yn?n.group.dirty(e,c):(d===Wn&&(d=void 0),d!==l&&(o[c]=d,i=!0,l=d))}void 0!==l&&(s=!1)}})),i)return this.merge(e,o),s&&(this instanceof nr?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,o=this.lookup(e);if(o){var i=this.getFieldValue(o,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:i,fieldName:t,args:n}):t;return this.modify(e,s?((r={})[s]=Qn,r):Qn)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(Un.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof nr&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){Un.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&Un.call(e,n)||t.delete(n)})),e){var n=e.__META,r=(0,$._T)(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof nr?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){Un.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var o=this;o instanceof nr;)o=o.parent;r.forEach((function(e){return o.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!Un.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){L(e)&&(t[e.__ref]=!0),(0,R.s)(e)&&Object.keys(e).forEach((function(t){var n=e[t];(0,R.s)(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),Zn=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?pn():null,this.keyMaker=new nt(de.mr)},e.prototype.depend=function(e,t){if(this.d){this.d(er(e,t));var n=Gn(t);n!==t&&this.d(er(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(er(e,t),"__exists"===t?"forget":"setDirty")},e}();function er(e,t){return t+"#"+e}function tr(e,t){ir(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,o=void 0===r||r,i=t.seed,s=e.call(this,n,new Zn(o))||this;return s.stump=new rr(s),s.storageTrie=new nt(de.mr),i&&s.replace(i),s}return(0,$.ZT)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(Xn||(Xn={}));var nr=function(e){function t(t,n,r,o){var i=e.call(this,n.policies,o)||this;return i.id=t,i.parent=n,i.replay=r,i.group=o,r(i),i}return(0,$.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],o=n.lookup(e);o?r?r!==o&&Object.keys(r).forEach((function(n){(0,Ye.D)(r[n],o[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(o).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,$.pi)((0,$.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return Un.call(this.data,t)?(0,$.pi)((0,$.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(Xn),rr=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new Zn(t.group.caching,t.group))||this}return(0,$.ZT)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(nr);function or(e,t,n){var r=e[n],o=t[n];return(0,Ye.D)(r,o)?r:o}function ir(e){return!!(e instanceof Xn&&e.group.caching)}function sr(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var ar=function(){function e(e){var t=this;this.knownResults=new(de.mr?WeakMap:Map),this.config=(0,wt.o)(e,{addTypename:!1!==e.addTypename,canonizeResults:qn(e)}),this.canon=e.canon||new st,this.executeSelectionSet=vn((function(e){var n,r=e.context.canonizeResults,o=sr(e);o[3]=!r;var i=(n=t.executeSelectionSet).peek.apply(n,o);return i?r?(0,$.pi)((0,$.pi)({},i),{result:t.canon.admit(i.result)}):i:(tr(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:sr,makeCacheKey:function(e,t,n,r){if(ir(n.store))return n.store.makeCacheKey(e,L(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=vn((function(e){return tr(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(ir(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new st},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,o=void 0===r?"ROOT_QUERY":r,i=e.variables,s=e.returnPartialData,a=void 0===s||s,c=e.canonizeResults,u=void 0===c?this.config.canonizeResults:c,l=this.config.cache.policies;i=(0,$.pi)((0,$.pi)({},ee(X(n))),i);var f,d=M(o),h=this.executeSelectionSet({selectionSet:Z(n).selectionSet,objectOrReference:d,enclosingRef:d,context:(0,$.pi)({store:t,query:n,policies:l,variables:i,varString:at(i),canonizeResults:u},Jn(n,this.config.fragments))});if(h.missing&&(f=[new Mn(cr(h.missing),h.missing,n,i)],!a))throw f[0];return{result:h.result,complete:!f,missing:f}},e.prototype.isFresh=function(e,t,n,r){if(ir(r.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,o=e.enclosingRef,i=e.context;if(L(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var s,a=i.variables,c=i.policies,l=i.store.getFieldValue(r,"__typename"),f=[],d=new Se;function h(e,t){var n;return e.missing&&(s=d.merge(s,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"===typeof l&&!c.rootIdsByTypename[l]&&f.push({__typename:l});var p=new Set(n.selections);p.forEach((function(e){var n,m;if(ce(e,a))if(K(e)){var y=c.readField({fieldName:e.name.value,field:e,variables:i.variables,from:r},i),g=G(e);void 0===y?Ge.added(e)||(s=d.merge(s,((n={})[g]="Can't find field '".concat(e.name.value,"' on ").concat(L(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):(0,ve.k)(y)?y=h(t.executeSubSelectedArray({field:e,array:y,enclosingRef:o,context:i}),g):e.selectionSet?null!=y&&(y=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:y,enclosingRef:L(y)?y:o,context:i}),g)):i.canonizeResults&&(y=t.canon.pass(y)),void 0!==y&&f.push(((m={})[g]=y,m))}else{var v=j(e,i.lookupFragment);if(!v&&e.kind===Le.h.FRAGMENT_SPREAD)throw(0,u._K)(7,e.name.value);v&&c.fragmentMatches(v,l)&&v.selectionSet.selections.forEach(p.add,p)}}));var m={result:Ee(f),missing:s},y=i.canonizeResults?this.canon.admit(m):(0,Ln.J)(m);return y.result&&this.knownResults.set(y.result,n),y},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,o=e.array,i=e.enclosingRef,s=e.context,a=new Se;function c(e,n){var r;return e.missing&&(t=a.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(o=o.filter(s.store.canRead)),o=o.map((function(e,t){return null===e?null:(0,ve.k)(e)?c(n.executeSubSelectedArray({field:r,array:e,enclosingRef:i,context:s}),t):r.selectionSet?c(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:L(e)?e:i,context:s}),t):(!1!==globalThis.__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){(0,R.s)(n)&&((0,u.kG)(!L(n),8,function(e,t){return L(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n),t.name.value),Object.values(n).forEach(r.add,r))}))}}(s.store,r,e),e)})),{result:s.canonizeResults?this.canon.admit(o):o,missing:t}},e}();function cr(e){try{JSON.stringify(e,(function(e,t){if("string"===typeof t)throw t;return t}))}catch(t){return t}}var ur=n(13887),lr=Object.create(null);function fr(e){var t=JSON.stringify(e);return lr[t]||(lr[t]=Object.create(null))}function dr(e){var t=fr(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},o=n.keyObject=pr(e,(function(e){var o=gr(n.storeObject,e,r);return void 0===o&&t!==n.storeObject&&Un.call(t,e[0])&&(o=gr(t,e,yr)),(0,u.kG)(void 0!==o,2,e.join("."),t),o}));return"".concat(n.typename,":").concat(JSON.stringify(o))})}function hr(e){var t=fr(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,o=n.variables,i=n.fieldName,s=pr(e,(function(e){var n=e[0],i=n.charAt(0);if("@"!==i)if("$"!==i){if(t)return gr(t,e)}else{var s=n.slice(1);if(o&&Un.call(o,s)){var a=e.slice(0);return a[0]=s,gr(o,a)}}else if(r&&(0,ve.O)(r.directives)){var c=n.slice(1),u=r.directives.find((function(e){return e.name.value===c})),l=u&&z(u,o);return l&&gr(l,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(i+=":"+a),i})}function pr(e,t){var n=new Se;return mr(e).reduce((function(e,r){var o,i=t(r);if(void 0!==i){for(var s=r.length-1;s>=0;--s)(o={})[r[s]]=i,i=o;e=n.merge(e,i)}return e}),Object.create(null))}function mr(e){var t=fr(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,o){(0,ve.k)(t)?(mr(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),(0,ve.k)(e[o+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function yr(e,t){return e[t]}function gr(e,t,n){return n=n||yr,vr(t.reduce((function e(t,r){return(0,ve.k)(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function vr(e){return(0,R.s)(e)?(0,ve.k)(e)?e.map(vr):pr(Object.keys(e).sort(),(function(t){return gr(e,t)})):e}function br(e){return void 0!==e.args?e.args:e.field?z(e.field,e.variables):null}F.setStringify(at);var wr=function(){},Er=function(e,t){return t.fieldName},_r=function(e,t,n){return(0,n.mergeObjects)(e,t)},Sr=function(e,t){return t},Tr=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,$.pi)({dataIdFromObject:Fn},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,o=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var i,s=t&&t.storeObject||e,a=(0,$.pi)((0,$.pi)({},t),{typename:o,storeObject:s,readField:t&&t.readField||function(){var e=Nr(arguments,s);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),c=o&&this.getTypePolicy(o),u=c&&c.keyFn||this.config.dataIdFromObject;u;){var l=u((0,$.pi)((0,$.pi)({},e),s),a);if(!(0,ve.k)(l)){i=l;break}u=dr(l)}return i=i?String(i):void 0,a.keyObject?[i,a.keyObject]:[i]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],o=r.queryType,i=r.mutationType,s=r.subscriptionType,a=(0,$._T)(r,["queryType","mutationType","subscriptionType"]);o&&t.setRootTypename("Query",n),i&&t.setRootTypename("Mutation",n),s&&t.setRootTypename("Subscription",n),Un.call(t.toBeAdded,n)?t.toBeAdded[n].push(a):t.toBeAdded[n]=[a]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),o=t.keyFields,i=t.fields;function s(e,t){e.merge="function"===typeof t?t:!0===t?_r:!1===t?Sr:e.merge}s(r,t.merge),r.keyFn=!1===o?wr:(0,ve.k)(o)?dr(o):"function"===typeof o?o:r.keyFn,i&&Object.keys(i).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),o=i[t];if("function"===typeof o)r.read=o;else{var a=o.keyArgs,c=o.read,u=o.merge;r.keyFn=!1===a?Er:(0,ve.k)(a)?hr(a):"function"===typeof a?a:r.keyFn,"function"===typeof c&&(r.read=c),s(r,u)}r.read&&r.merge&&(r.keyFn=r.keyFn||Er)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&((0,u.kG)(!r||r===e,3,e),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(zn);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!Un.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);!r&&this.fuzzySubtypes.size&&(r=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((function(n,o){if(n.test(e)){var i=t.supertypeMap.get(o);i&&i.forEach((function(e){return r.add(e)}))}}))),r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),o=r.fields,i=(0,$._T)(r,["fields"]);Object.assign(n,i),Object.assign(n.fields,o)}))}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var o=this;if(!e.typeCondition)return!0;if(!t)return!1;var i=e.typeCondition.name.value;if(t===i)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(i))for(var s=this.getSupertypeSet(t,!0),a=[s],c=function(e){var t=o.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},l=!(!n||!this.fuzzySubtypes.size),f=!1,d=0;d<a.length;++d){var h=a[d];if(h.has(i))return s.has(i)||(f&&!1!==globalThis.__DEV__&&u.kG.warn(4,t,i),s.add(i)),!0;h.forEach(c),l&&d===a.length-1&&Hn(e.selectionSet,n,r)&&(l=!1,f=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&c(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,o=this.getFieldPolicy(n,r,!1),i=o&&o.keyFn;if(i&&n)for(var s={typename:n,fieldName:r,field:e.field||null,variables:e.variables},a=br(e);i;){var c=i(a,s);if(!(0,ve.k)(c)){t=c||r;break}i=hr(c)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var o=r.name,i=r.value;return U(n[e.name.value],o,i,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,o=e.value;return U(r,n,o,t)}))),F(e.name.value,r,n)}(e.field,e.variables):F(r,br(e))),!1===t?r:r===Gn(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var o=this.getStoreFieldName(e),i=Gn(o),s=t.store.getFieldValue(n,o),a=this.getFieldPolicy(e.typename,i,!1),c=a&&a.read;if(c){var u=Ir(this,n,e,t,t.store.getStorage(L(n)?n.__ref:n,o));return bn.withValue(this.cache,c,[s,u])}return s}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),o=r&&r.merge;return!o&&n&&(o=(r=this.getTypePolicy(n))&&r.merge),o},e.prototype.runMergeFunction=function(e,t,n,r,o){var i=n.field,s=n.typename,a=n.merge;return a===_r?Or(r.store)(e,t):a===Sr?t:(r.overwrite&&(e=void 0),a(e,t,Ir(this,void 0,{typename:s,fieldName:i.name.value,field:i,variables:r.variables},r,o||Object.create(null))))},e}();function Ir(e,t,n,r,o){var i=e.getStoreFieldName(n),s=Gn(i),a=n.variables||r.variables,c=r.store,u=c.toReference,l=c.canRead;return{args:br(n),field:n.field||null,fieldName:s,storeFieldName:i,variables:a,isReference:L,toReference:u,storage:o,cache:e.cache,canRead:l,readField:function(){return e.readField(Nr(arguments,t,a),r)},mergeObjects:Or(r.store)}}function Nr(e,t,n){var r,o=e[0],i=e[1],s=e.length;return"string"===typeof o?r={fieldName:o,from:s>1?i:t}:(r=(0,$.pi)({},o),Un.call(r,"from")||(r.from=t)),!1!==globalThis.__DEV__&&void 0===r.from&&!1!==globalThis.__DEV__&&u.kG.warn(5,(0,ur.v)(Array.from(e))),void 0===r.variables&&(r.variables=n),r}function Or(e){return function(t,n){if((0,ve.k)(t)||(0,ve.k)(n))throw(0,u._K)(6);if((0,R.s)(t)&&(0,R.s)(n)){var r=e.getFieldValue(t,"__typename"),o=e.getFieldValue(n,"__typename");if(r&&o&&r!==o)return n;if(L(t)&&Kn(n))return e.merge(t.__ref,n),t;if(Kn(t)&&L(n))return e.merge(t,n.__ref),n;if(Kn(t)&&Kn(n))return(0,$.pi)((0,$.pi)({},t),n)}return n}}function kr(e,t,n){var r="".concat(t).concat(n),o=e.flavors.get(r);return o||e.flavors.set(r,o=e.clientOnly===t&&e.deferred===n?e:(0,$.pi)((0,$.pi)({},e),{clientOnly:t,deferred:n})),o}var Ar=function(){function e(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,o=t.result,i=t.dataId,s=t.variables,a=t.overwrite,c=W(r),l=new Se;s=(0,$.pi)((0,$.pi)({},ee(c)),s);var f=(0,$.pi)((0,$.pi)({store:e,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:s,varString:at(s)},Jn(r,this.fragments)),{overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:o||Object.create(null),dataId:i,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:f});if(!L(d))throw(0,u._K)(9,o);return f.incomingById.forEach((function(t,r){var o=t.storeObject,i=t.mergeTree,s=t.fieldNodeSet,a=M(r);if(i&&i.map.size){var c=n.applyMerges(i,a,o,f);if(L(c))return;o=c}if(!1!==globalThis.__DEV__&&!f.overwrite){var l=Object.create(null);s.forEach((function(e){e.selectionSet&&(l[e.name.value]=!0)}));Object.keys(o).forEach((function(e){(function(e){return!0===l[Gn(e)]})(e)&&!function(e){var t=i&&i.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var o=function(e){var t=r.getFieldValue(e,n);return"object"===typeof t&&t},i=o(e);if(!i)return;var s=o(t);if(!s)return;if(L(i))return;if((0,Ye.D)(i,s))return;if(Object.keys(i).every((function(e){return void 0!==r.getFieldValue(s,e)})))return;var a=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),c=Gn(n),l="".concat(a,".").concat(c);if(Pr.has(l))return;Pr.add(l);var f=[];(0,ve.k)(i)||(0,ve.k)(s)||[i,s].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!==typeof t||f.includes(t)||f.push(t)}));!1!==globalThis.__DEV__&&u.kG.warn(12,c,a,f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"",l,i,s)}(a,o,e,f.store)}))}e.merge(r,o)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,o=e.selectionSet,i=e.context,s=e.mergeTree,a=this.cache.policies,c=Object.create(null),l=n&&a.rootTypenamesById[n]||H(r,o,i.fragmentMap)||n&&i.store.get(n,"__typename");"string"===typeof l&&(c.__typename=l);var f=function(){var e=Nr(arguments,c,i.variables);if(L(e.from)){var t=i.incomingById.get(e.from.__ref);if(t){var n=a.readField((0,$.pi)((0,$.pi)({},e),{from:t.storeObject}),i);if(void 0!==n)return n}}return a.readField(e,i)},d=new Set;this.flattenFields(o,r,i,l).forEach((function(e,n){var o,i=G(n),h=r[i];if(d.add(n),void 0!==h){var p=a.getStoreFieldName({typename:l,fieldName:n.name.value,field:n,variables:e.variables}),m=Cr(s,p),y=t.processFieldValue(h,n,n.selectionSet?kr(e,!1,!1):e,m),g=void 0;n.selectionSet&&(L(y)||Kn(y))&&(g=f("__typename",y));var v=a.getMergeFunction(l,n.name.value,g);v?m.info={field:n,typename:l,merge:v}:Dr(s,p),c=e.merge(c,((o={})[p]=y,o))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||Ge.added(n)||a.getReadFunction(l,n.name.value)||!1!==globalThis.__DEV__&&u.kG.error(10,G(n),r)}));try{var h=a.identify(r,{typename:l,selectionSet:o,fragmentMap:i.fragmentMap,storeObject:c,readField:f}),p=h[0],m=h[1];n=n||p,m&&(c=i.merge(c,m))}catch(b){if(!n)throw b}if("string"===typeof n){var y=M(n),g=i.written[n]||(i.written[n]=[]);if(g.indexOf(o)>=0)return y;if(g.push(o),this.reader&&this.reader.isFresh(r,y,o,i))return y;var v=i.incomingById.get(n);return v?(v.storeObject=i.merge(v.storeObject,c),v.mergeTree=$r(v.mergeTree,s),d.forEach((function(e){return v.fieldNodeSet.add(e)}))):i.incomingById.set(n,{storeObject:c,mergeTree:Rr(s)?void 0:s,fieldNodeSet:d}),y}return c},e.prototype.processFieldValue=function(e,t,n,r){var o=this;return t.selectionSet&&null!==e?(0,ve.k)(e)?e.map((function(e,i){var s=o.processFieldValue(e,t,n,Cr(r,i));return Dr(r,i),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):!1!==globalThis.__DEV__?_t(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=H(t,e,n.fragmentMap));var o=new Map,i=this.cache.policies,s=new nt(!1);return function e(a,c){var l=s.lookup(a,c.clientOnly,c.deferred);l.visited||(l.visited=!0,a.selections.forEach((function(s){if(ce(s,n.variables)){var a=c.clientOnly,l=c.deferred;if(a&&l||!(0,ve.O)(s.directives)||s.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(a=!0),"defer"===t){var r=z(e,n.variables);r&&!1===r.if||(l=!0)}})),K(s)){var f=o.get(s);f&&(a=a&&f.clientOnly,l=l&&f.deferred),o.set(s,kr(n,a,l))}else{var d=j(s,n.lookupFragment);if(!d&&s.kind===Le.h.FRAGMENT_SPREAD)throw(0,u._K)(11,s.name.value);d&&i.fragmentMatches(d,r,t,n.variables)&&e(d.selectionSet,kr(n,a,l))}}})))}(e,n),o},e.prototype.applyMerges=function(e,t,n,r,o){var i,s=this;if(e.map.size&&!L(n)){var a,c=(0,ve.k)(n)||!L(t)&&!Kn(t)?void 0:t,l=n;c&&!o&&(o=[L(c)?c.__ref:c]);var f=function(e,t){return(0,ve.k)(e)?"number"===typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=f(c,t),i=f(l,t);if(void 0!==i){o&&o.push(t);var d=s.applyMerges(e,n,i,r,o);d!==i&&(a=a||new Map).set(t,d),o&&(0,u.kG)(o.pop()===t)}})),a&&(n=(0,ve.k)(l)?l.slice(0):(0,$.pi)({},l),a.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,o&&(i=r.store).getStorage.apply(i,o)):n},e}(),xr=[];function Cr(e,t){var n=e.map;return n.has(t)||n.set(t,xr.pop()||{map:new Map}),n.get(t)}function $r(e,t){if(e===t||!t||Rr(t))return e;if(!e||Rr(e))return t;var n=e.info&&t.info?(0,$.pi)((0,$.pi)({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,o={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var i=new Set(t.map.keys());e.map.forEach((function(e,n){o.map.set(n,$r(e,t.map.get(n))),i.delete(n)})),i.forEach((function(n){o.map.set(n,$r(t.map.get(n),e.map.get(n)))}))}return o}function Rr(e){return!e||!(e.info||e.map.size)}function Dr(e,t){var n=e.map,r=n.get(t);r&&Rr(r)&&(xr.push(r),n.delete(t))}var Pr=new Set;var jr=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new lt(Ge),n.assumeImmutableResults=!0,n.makeVar=Sn,n.txCount=0,n.config=function(e){return(0,wt.o)(Vn,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new Tr({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,$.ZT)(t,e),t.prototype.init=function(){var e=this.data=new Xn.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new Ar(this,this.storeReader=new ar({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:qn(this.config),canon:e?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=vn((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(ir(n)){var r=e.optimistic,o=e.id,i=e.variables;return n.makeCacheKey(e.query,e.callback,at({optimistic:r,id:o,variables:i}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore((0,$.pi)((0,$.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof Mn)return null;throw r}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(Un.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,$.pi)((0,$.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,n=this;return this.watches.size||En(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&_n(n),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){at.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(L(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(t){!1!==globalThis.__DEV__&&u.kG.warn(t)}},t.prototype.evict=function(e){if(!e.id){if(Un.call(e,"id"))return!1;e=(0,$.pi)((0,$.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),at.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),_n(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,o=e.optimistic,i=void 0===o||o,s=e.removeOptimistic,a=e.onWatchUpdated,c=function(e){var o=n,i=o.data,s=o.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=i,n.optimisticData=s}},u=new Set;return a&&!this.txCount&&this.broadcastWatches((0,$.pi)((0,$.pi)({},e),{onWatchUpdated:function(e){return u.add(e),!1}})),"string"===typeof i?this.optimisticData=this.optimisticData.addLayer(i,c):!1===i?c(this.data):c(),"string"===typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),a&&u.size?(this.broadcastWatches((0,$.pi)((0,$.pi)({},e),{onWatchUpdated:function(e,t){var n=a.call(this,e,t);return!1!==n&&u.delete(e),n}})),u.size&&u.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"===typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&(0,Ye.D)(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(jn),Mr=n(85317),Lr=function(e){var t=e.client,n=e.children,r=(0,Mr.K)(),o=a.useContext(r),i=a.useMemo((function(){return(0,$.pi)((0,$.pi)({},o),{client:t||o.client})}),[o,t]);return(0,u.kG)(i.client,44),a.createElement(r.Provider,{value:i},n)};var Ur=function(e){return(0,$._T)(e,Br)},Br=["edges","pageInfo"];function Fr(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function Vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Fr(i,r,o,s,a,"next",e)}function a(e){Fr(i,r,o,s,a,"throw",e)}s(void 0)}))}}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qr(e,t,n[t])}))}return e}var Gr=function(e){var t,n=e.Component,r=e.pageProps,u=(0,s.c)(),l=u.ceramic,f=u.composeClient,d=(0,a.useState)(!0),h=d[0],p=d[1],m=new oe((function(e){return new C((function(t){f.execute(e.query,e.variables).then((function(e){t.next(e),t.complete()}),(function(e){t.error(e)}))}))})),y=new Pn({cache:new jr({typePolicies:{Query:{fields:{icarusResourceIndex:{fields:{cards:(void 0===t&&(t=!1),{keyArgs:t,read:function(e,t){var n=t.canRead,r=t.readField;if(!e)return e;var o=[],i="",s="";e.edges.forEach((function(e){n(r("node",e))&&(o.push(e),e.cursor&&(i=i||e.cursor||"",s=e.cursor||s))})),o.length>1&&i===s&&(i="");var a=e.pageInfo||{},c=a.startCursor,u=a.endCursor;return(0,$.pi)((0,$.pi)({},Ur(e)),{edges:o,pageInfo:(0,$.pi)((0,$.pi)({},e.pageInfo),{startCursor:c||i,endCursor:u||s})})},merge:function(e,t,n){var r=n.args,o=n.isReference,i=n.readField;if(e||(e={edges:[],pageInfo:{hasPreviousPage:!1,hasNextPage:!0,startCursor:"",endCursor:""}}),!t)return e;var s=t.edges?t.edges.map((function(e){return o(e=(0,$.pi)({},e))&&(e.cursor=i("cursor",e)),e})):[];if(t.pageInfo){var a=t.pageInfo,c=a.startCursor,u=a.endCursor,l=s[0],f=s[s.length-1];l&&c&&(l.cursor=c),f&&u&&(f.cursor=u);var d=l&&l.cursor;d&&!c&&(t=we(t,{pageInfo:{startCursor:d}}));var h=f&&f.cursor;h&&!u&&(t=we(t,{pageInfo:{endCursor:h}}))}var p=e.edges,m=[];if(r&&r.after)(y=p.findIndex((function(e){return e.cursor===r.after})))>=0&&(p=p.slice(0,y+1));else if(r&&r.before){var y;m=(y=p.findIndex((function(e){return e.cursor===r.before})))<0?p:p.slice(y),p=[]}else t.edges&&(p=[]);var g=(0,$.ev)((0,$.ev)((0,$.ev)([],p,!0),s,!0),m,!0),v=(0,$.pi)((0,$.pi)({},t.pageInfo),e.pageInfo);if(t.pageInfo){var b=t.pageInfo,w=b.hasPreviousPage,E=b.hasNextPage,_=(c=b.startCursor,u=b.endCursor,(0,$._T)(b,["hasPreviousPage","hasNextPage","startCursor","endCursor"]));Object.assign(v,_),p.length||(void 0!==w&&(v.hasPreviousPage=w),void 0!==c&&(v.startCursor=c)),m.length||(void 0!==E&&(v.hasNextPage=E),void 0!==u&&(v.endCursor=u))}return(0,$.pi)((0,$.pi)((0,$.pi)({},Ur(e)),Ur(t)),{edges:g,pageInfo:v})}})}}}}}}),link:m}),g=function(){var e=Vr(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.M)(l,f);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){localStorage.getItem("logged_in")?(g(),function(){var e=function(){var e=function(e){var t=document.createElement("span");return t.style.backgroundColor="#EEEE00",t.style.color="#111111",t.classList.add("sdwh-highlight"),t.setAttribute("sdwh-highlight-id",e),t.style.fontSize="1.1em",t},t=function(e){if(e.nextSibling)return n(e.nextSibling);for(;e.parentNode&&!e.parentNode.nextSibling;)e=e.parentNode;return e.parentNode?n(e.parentNode.nextSibling):null},n=function(e){for(;e&&e.firstChild;)e=e.firstChild;return e},r=function(e,t){var n=document.createRange();n.selectNode(e);var r=t.compareBoundaryPoints(Range.END_TO_START,n)<=0,o=t.compareBoundaryPoints(Range.START_TO_END,n)>=0;return r&&o},o=window.getSelection(),i=Date.now().toString(36)+Math.random().toString(36).substring(2,10);if(o){var s=o.getRangeAt(0),a=s.getBoundingClientRect(),c=-(document.body.parentNode.getBoundingClientRect().top-a.top),u=document.body.scrollHeight;if(s.startContainer===s.endContainer){var l=e(i);return s.surroundContents(l),{scrollY:c,scrollHeight:u}}for(var f,d=s.startContainer,h=[];d&&r(d,s);)d.nodeType===Node.TEXT_NODE&&""!==d.textContent.trim()&&(f=d,"none"!==window.getComputedStyle(f.parentNode,null).display)&&h.push(d),d=d===s.endContainer?null:t(d);return h.forEach((function(t){var n=document.createRange();t===s.startContainer?(n.setStart(t,s.startOffset),n.setEnd(t,t.length)):t===s.endContainer?(n.setStart(t,0),n.setEnd(t,s.endOffset)):n.selectNodeContents(t);var r=e(i);n.surroundContents(r)})),{scrollY:c,scrollHeight:u}}},t=function(){var t=Vr(o().mark((function t(n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.scripting.executeScript({target:{tabId:n.id},func:e});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var e=Vr(o().mark((function e(t,n){var r,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("http://localhost:3000/api/createNewResource",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientMutationId:n,url:t.url,title:t.title,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})});case 3:if((i=e.sent).ok){e.next=6;break}throw new Error("Server responded with an error: "+i.status);case 6:return e.next=8,i.json();case 8:return s=e.sent,console.log(s),e.abrupt("return",null===(r=s.newResourceId.data)||void 0===r?void 0:r.createIcarusResource.document.id);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=Vr(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/saveImgUrl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imgUrl:t})});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Server responded with an error: "+n.status);case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.rootCid);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();chrome.contextMenus.create({id:"save-to-wakeful",title:"Save to Wakeful",contexts:["image","selection"]}),chrome.contextMenus.onClicked.addListener(function(){var e=Vr(o().mark((function e(i,s){var a,c,u,d,h,p,m,y,g,v,b,w,E,_,S,T,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==l.did){e.next=2;break}return e.abrupt("return");case 2:return a=f.id,e.next=5,f.executeQuery('\n        query {\n          icarusResourceIndex(first: 2, filters:{ where: { url: { equalTo: "'.concat(s.url,'" }}}) {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n        }\n      '));case 5:if(0!==(null===(c=e.sent)||void 0===c?void 0:c.data.icarusResourceIndex.edges.length)){e.next=14;break}return e.next=10,n(s,a);case 10:m=e.sent,u=m,e.next=15;break;case 14:u=c.data.icarusResourceIndex.edges[0].node.id;case 15:if(y=i.srcUrl,g=i.selectionText,v=i.pageUrl,b=(new Date).toISOString(),!y){e.next=23;break}return e.next=20,r(y);case 20:d=e.sent,e.next=29;break;case 23:return e.next=25,t(s);case 25:w=e.sent,E=w[0].result,h=parseInt(E.scrollY),p=parseInt(E.scrollHeight);case 29:for(S in _={createdAt:b,updatedAt:b,resourceId:u,quote:g,pageYOffset:h,scrollHeight:p,cid:d,deleted:!1,url:v})void 0!==_[S]&&null!==_[S]||delete _[S];return T={i:{content:_}},e.next=34,f.executeQuery("\n      mutation CreateNewCard ($i: CreateCardInput!) {\n        createCard(\n          input: $i\n        ) {\n          document {\n            id\n          }\n        }\n      }\n      ",T);case 34:(I=e.sent).errors?console.log("Error creating card",I.errors):I.data&&console.log("successfully created a card");case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}()):(p(!1),chrome.contextMenus.remove("save-to-wakeful"))}),[]),(0,i.jsx)("div",{children:(0,i.jsx)(Lr,{client:y,children:(0,i.jsx)("div",{children:(0,i.jsx)(s.B,{children:(0,i.jsx)("div",{children:(0,i.jsx)(n,zr({},r,{loggedIn:h,setLoggedIn:p}))})})})})})}},37291:function(e,t,n){"use strict";n.d(t,{M:function(){return Vd}});var r={};n.r(r),n.d(r,{identity:function(){return U}});var o={};n.r(o),n.d(o,{base2:function(){return B}});var i={};n.r(i),n.d(i,{base8:function(){return F}});var s={};n.r(s),n.d(s,{base10:function(){return V}});var a={};n.r(a),n.d(a,{base16:function(){return q},base16upper:function(){return z}});var c={};n.r(c),n.d(c,{base32:function(){return G},base32hex:function(){return W},base32hexpad:function(){return Y},base32hexpadupper:function(){return X},base32hexupper:function(){return Q},base32pad:function(){return K},base32padupper:function(){return J},base32upper:function(){return H},base32z:function(){return Z}});var u={};n.r(u),n.d(u,{base36:function(){return ee},base36upper:function(){return te}});var l={};n.r(l),n.d(l,{base58btc:function(){return ne},base58flickr:function(){return re}});var f={};n.r(f),n.d(f,{base64:function(){return oe},base64pad:function(){return ie},base64url:function(){return se},base64urlpad:function(){return ae}});var d={};n.r(d),n.d(d,{base256emoji:function(){return fe}});var h={};n.r(h),n.d(h,{sha256:function(){return $e},sha512:function(){return Re}});var p={};n.r(p),n.d(p,{identity:function(){return Pe}});var m={};n.r(m),n.d(m,{code:function(){return Me},decode:function(){return Ue},encode:function(){return Le},name:function(){return je}});var y={};n.r(y),n.d(y,{code:function(){return qe},decode:function(){return Ge},encode:function(){return ze},name:function(){return Ve}});var g={};n.r(g),n.d(g,{bitGet:function(){return Ft},bitLen:function(){return Bt},bitMask:function(){return qt},bitSet:function(){return Vt},bytesToHex:function(){return Ot},bytesToNumberBE:function(){return Ct},bytesToNumberLE:function(){return $t},concatBytes:function(){return Mt},createHmacDrbg:function(){return Ht},ensureBytes:function(){return jt},equalBytes:function(){return Lt},hexToBytes:function(){return xt},hexToNumber:function(){return At},numberToBytesBE:function(){return Rt},numberToBytesLE:function(){return Dt},numberToHexUnpadded:function(){return kt},numberToVarBytesBE:function(){return Pt},utf8ToBytes:function(){return Ut},validateObject:function(){return Jt}});var v={};n.r(v),n.d(v,{keyToDidDoc:function(){return Ai}});var b={};n.r(b),n.d(b,{keyToDidDoc:function(){return xi}});var w={};n.r(w),n.d(w,{keyToDidDoc:function(){return qi},pubKeyBytesToXY:function(){return zi}});var E={};n.r(E),n.d(E,{keyToDidDoc:function(){return Gi},pubKeyBytesToXY:function(){return Hi}});var _={};n.r(_),n.d(_,{keyToDidDoc:function(){return Ki},pubKeyBytesToXY:function(){return Ji}});var S={};n.r(S),n.d(S,{code:function(){return yc},decode:function(){return vc},encode:function(){return gc},name:function(){return mc}});var T={};n.r(T),n.d(T,{code:function(){return Ml},decode:function(){return Ul},encode:function(){return Ll},name:function(){return jl}});var I=n(34051),N=n.n(I),O=n(31050),k=n(738);var A=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const x=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class C{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ${constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return D(this,e)}}class R{constructor(e){this.decoders=e}or(e){return D(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const D=(e,t)=>new R({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class P{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new C(e,t,n),this.decoder=new $(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const j=({name:e,prefix:t,encode:n,decode:r})=>new P(e,t,n,r),M=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=A(n,t);return j({prefix:e,name:t,encode:r,decode:e=>x(o(e))})},L=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>j({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),U=j({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),B=L({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),F=L({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),V=M({prefix:"9",name:"base10",alphabet:"0123456789"}),q=L({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),z=L({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),G=L({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),H=L({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),K=L({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),J=L({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),W=L({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Q=L({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Y=L({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),X=L({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Z=L({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ee=M({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),te=M({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ne=M({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),re=M({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),oe=L({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ie=L({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),se=L({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ae=L({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ce=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ue=ce.reduce(((e,t,n)=>(e[n]=t,e)),[]),le=ce.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const fe=j({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=ue[t]),"")},decode:function(e){const t=[];for(const n of e){const e=le[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var de=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=he;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},he=Math.pow(2,31);var pe=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var me=Math.pow(2,7),ye=Math.pow(2,14),ge=Math.pow(2,21),ve=Math.pow(2,28),be=Math.pow(2,35),we=Math.pow(2,42),Ee=Math.pow(2,49),_e=Math.pow(2,56),Se=Math.pow(2,63),Te={encode:de,decode:pe,encodingLength:function(e){return e<me?1:e<ye?2:e<ge?3:e<ve?4:e<be?5:e<we?6:e<Ee?7:e<_e?8:e<Se?9:10}};const Ie=(e,t,n=0)=>(Te.encode(e,t,n),t),Ne=e=>Te.encodingLength(e),Oe=(e,t)=>{const n=t.byteLength,r=Ne(e),o=r+Ne(n),i=new Uint8Array(o+n);return Ie(e,i,0),Ie(n,i,r),i.set(t,o),new ke(e,n,t,i)};class ke{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ae=({name:e,code:t,encode:n})=>new xe(e,t,n);class xe{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Oe(this.code,t):t.then((e=>Oe(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Ce=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),$e=Ae({name:"sha2-256",code:18,encode:Ce("SHA-256")}),Re=Ae({name:"sha2-512",code:19,encode:Ce("SHA-512")}),De=x,Pe={code:0,name:"identity",encode:De,digest:e=>Oe(0,De(e))},je="raw",Me=85,Le=e=>x(e),Ue=e=>x(e),Be=new TextEncoder,Fe=new TextDecoder,Ve="json",qe=512,ze=e=>Be.encode(JSON.stringify(e)),Ge=e=>JSON.parse(Fe.decode(e));new WeakMap;Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const He={...r,...o,...i,...s,...a,...c,...u,...l,...f,...d};function Ke(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Je(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}var We={number:Ke,bool:function(e){if("boolean"!==typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Je,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ke(e.outputLen),Ke(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Je(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}};const Qe="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ye=e=>e instanceof Uint8Array,Xe=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ze=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const et=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function tt(e){if(!Ye(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=et[e[n]];return t}function nt(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function rt(e){if("string"===typeof e&&(e=nt(e)),!Ye(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function ot(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Ye(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class it{clone(){return this._cloneInto()}}function st(e){const t=t=>e().update(rt(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function at(e=32){if(Qe&&"function"===typeof Qe.getRandomValues)return Qe.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class ct extends it{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Xe(this.buffer)}update(e){We.exists(this);const{view:t,buffer:n,blockLen:r}=this,o=(e=rt(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Xe(e);for(;r<=o-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){We.exists(this),We.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let l=i;l<r;l++)t[l]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=Xe(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)s.setUint32(4*l,u[l],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}const ut=BigInt(2**32-1),lt=BigInt(32);function ft(e,t=!1){return t?{h:Number(e&ut),l:Number(e>>lt&ut)}:{h:0|Number(e>>lt&ut),l:0|Number(e&ut)}}var dt={fromBig:ft,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=ft(e[o],t);[n[o],r[o]]=[i,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<lt|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};const[ht,pt]=dt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),mt=new Uint32Array(80),yt=new Uint32Array(80);class gt extends ct{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:f,Gh:d,Gl:h,Hh:p,Hl:m}=this;return[e,t,n,r,o,i,s,a,c,u,l,f,d,h,p,m]}set(e,t,n,r,o,i,s,a,c,u,l,f,d,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let v=0;v<16;v++,t+=4)mt[v]=e.getUint32(t),yt[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|mt[v-15],t=0|yt[v-15],n=dt.rotrSH(e,t,1)^dt.rotrSH(e,t,8)^dt.shrSH(e,t,7),r=dt.rotrSL(e,t,1)^dt.rotrSL(e,t,8)^dt.shrSL(e,t,7),o=0|mt[v-2],i=0|yt[v-2],s=dt.rotrSH(o,i,19)^dt.rotrBH(o,i,61)^dt.shrSH(o,i,6),a=dt.rotrSL(o,i,19)^dt.rotrBL(o,i,61)^dt.shrSL(o,i,6),c=dt.add4L(r,a,yt[v-7],yt[v-16]),u=dt.add4H(c,n,s,mt[v-7],mt[v-16]);mt[v]=0|u,yt[v]=0|c}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:l,El:f,Fh:d,Fl:h,Gh:p,Gl:m,Hh:y,Hl:g}=this;for(let v=0;v<80;v++){const e=dt.rotrSH(l,f,14)^dt.rotrSH(l,f,18)^dt.rotrBH(l,f,41),t=dt.rotrSL(l,f,14)^dt.rotrSL(l,f,18)^dt.rotrBL(l,f,41),b=l&d^~l&p,w=f&h^~f&m,E=dt.add5L(g,t,w,pt[v],yt[v]),_=dt.add5H(E,y,e,b,ht[v],mt[v]),S=0|E,T=dt.rotrSH(n,r,28)^dt.rotrBH(n,r,34)^dt.rotrBH(n,r,39),I=dt.rotrSL(n,r,28)^dt.rotrBL(n,r,34)^dt.rotrBL(n,r,39),N=n&o^n&s^o&s,O=r&i^r&a^i&a;y=0|p,g=0|m,p=0|d,m=0|h,d=0|l,h=0|f,({h:l,l:f}=dt.add(0|c,0|u,0|_,0|S)),c=0|s,u=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const k=dt.add3L(S,I,O);n=dt.add3H(k,_,T,N),r=0|k}({h:n,l:r}=dt.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=dt.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=dt.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=dt.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:f}=dt.add(0|this.Eh,0|this.El,0|l,0|f)),({h:d,l:h}=dt.add(0|this.Fh,0|this.Fl,0|d,0|h)),({h:p,l:m}=dt.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:y,l:g}=dt.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,o,i,s,a,c,u,l,f,d,h,p,m,y,g)}roundClean(){mt.fill(0),yt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class vt extends gt{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class bt extends gt{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class wt extends gt{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Et=st((()=>new gt)),_t=(st((()=>new vt)),st((()=>new bt)),st((()=>new wt)),BigInt(0)),St=BigInt(1),Tt=BigInt(2),It=e=>e instanceof Uint8Array,Nt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ot(e){if(!It(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Nt[e[n]];return t}function kt(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function At(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function xt(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,o=e.slice(t,t+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function Ct(e){return At(Ot(e))}function $t(e){if(!It(e))throw new Error("Uint8Array expected");return At(Ot(Uint8Array.from(e).reverse()))}function Rt(e,t){return xt(e.toString(16).padStart(2*t,"0"))}function Dt(e,t){return Rt(e,t).reverse()}function Pt(e){return xt(kt(e))}function jt(e,t,n){let r;if("string"===typeof t)try{r=xt(t)}catch(Ui){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${Ui}`)}else{if(!It(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const o=r.length;if("number"===typeof n&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function Mt(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!It(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}function Lt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ut(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Bt(e){let t;for(t=0;e>_t;e>>=St,t+=1);return t}function Ft(e,t){return e>>BigInt(t)&St}const Vt=(e,t,n)=>e|(n?St:_t)<<BigInt(t),qt=e=>(Tt<<BigInt(e-1))-St,zt=e=>new Uint8Array(e),Gt=e=>Uint8Array.from(e);function Ht(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=zt(e),o=zt(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...e)=>n(o,r,...e),c=(e=zt())=>{o=a(Gt([0]),e),r=a(),0!==e.length&&(o=a(Gt([1]),e),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Mt(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(u()));)c();return s(),n}}const Kt={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Jt(e,t,n={}){const r=(t,n,r)=>{const o=Kt[n];if("function"!==typeof o)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if((!r||void 0!==i)&&!o(i,e))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return e}const Wt=BigInt(0),Qt=BigInt(1),Yt=BigInt(2),Xt=BigInt(3),Zt=BigInt(4),en=BigInt(5),tn=BigInt(8);BigInt(9),BigInt(16);function nn(e,t){const n=e%t;return n>=Wt?n:t+n}function rn(e,t,n){if(n<=Wt||t<Wt)throw new Error("Expected power/modulo > 0");if(n===Qt)return Wt;let r=Qt;for(;t>Wt;)t&Qt&&(r=r*e%n),e=e*e%n,t>>=Qt;return r}function on(e,t,n){let r=e;for(;t-- >Wt;)r*=r,r%=n;return r}function sn(e,t){if(e===Wt||t<=Wt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=nn(e,t),r=t,o=Wt,i=Qt,s=Qt,a=Wt;for(;n!==Wt;){const e=r/n,t=r%n,c=o-s*e,u=i-a*e;r=n,n=t,o=s,i=a,s=c,a=u}if(r!==Qt)throw new Error("invert: does not exist");return nn(o,t)}function an(e){if(e%Zt===Xt){const t=(e+Qt)/Zt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%tn===en){const t=(e-en)/tn;return function(e,n){const r=e.mul(n,Yt),o=e.pow(r,t),i=e.mul(n,o),s=e.mul(e.mul(i,Yt),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Qt)/Yt;let n,r,o;for(n=e-Qt,r=0;n%Yt===Wt;n/=Yt,r++);for(o=Yt;o<e&&rn(o,t,e)!==e-Qt;o++);if(1===r){const t=(e+Qt)/Zt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+Qt)/Yt;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,o),n),u=e.pow(s,i),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Qt<<BigInt(a-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),a=t}return u}}(e)}const cn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function un(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ln(e,t,n=!1,r={}){if(e<=Wt)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=un(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=an(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:qt(o),ZERO:Wt,ONE:Qt,create:t=>nn(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Wt<=t&&t<e},is0:e=>e===Wt,isOdd:e=>(e&Qt)===Qt,neg:t=>nn(-t,e),eql:(e,t)=>e===t,sqr:t=>nn(t*t,e),add:(t,n)=>nn(t+n,e),sub:(t,n)=>nn(t-n,e),mul:(t,n)=>nn(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Wt)throw new Error("Expected power > 0");if(n===Wt)return e.ONE;if(n===Qt)return t;let r=e.ONE,o=t;for(;n>Wt;)n&Qt&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Qt;return r}(a,e,t),div:(t,n)=>nn(t*sn(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>sn(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r))),e.ONE),o=e.inv(r);return t.reduceRight(((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r))),o),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Dt(e,i):Rt(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?$t(e):Ct(e)}});return Object.freeze(a)}const fn=BigInt(0),dn=BigInt(1);function hn(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,o=t;for(;n>fn;)n&dn&&(r=r.add(o)),o=o.double(),n>>=dn;return r},precomputeWindow(e,t){const{windows:n,windowSize:o}=r(t),i=[];let s=e,a=s;for(let r=0;r<n;r++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(t,o,i){const{windows:s,windowSize:a}=r(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),f=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(i&l);i>>=d,r>a&&(r-=f,i+=dn);const s=t,h=t+Math.abs(r)-1,p=e%2!==0,m=r<0;0===r?u=u.add(n(p,o[s])):c=c.add(n(m,o[h]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,r(i))),this.wNAF(o,i,n)}}}function pn(e){return Jt(e.Fp,cn.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Jt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...un(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const mn=BigInt(0),yn=BigInt(1),gn=BigInt(2),vn=BigInt(8),bn={zip215:!0};function wn(e){const t=function(e){const t=pn(e);return Jt(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:c}=t,u=gn<<BigInt(8*a)-yn,l=n.create,f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(Ui){return{isValid:!1,value:mn}}}),d=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,n)=>{if(t.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"===typeof e&&mn<e,m=(e,t)=>p(e)&&p(t)&&e<t,y=e=>e===mn||m(e,u);function g(e,t){if(m(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function v(e){return e===mn?e:g(e,r)}const b=new Map;function w(e){if(!(e instanceof E))throw new Error("ExtendedPoint expected")}class E{constructor(e,t,n,r){if(this.ex=e,this.ey=t,this.ez=n,this.et=r,!y(e))throw new Error("x required");if(!y(t))throw new Error("y required");if(!y(n))throw new Error("z required");if(!y(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};if(!y(t)||!y(n))throw new Error("invalid affine point");return new E(t,n,yn,l(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(E.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,b.delete(this)}assertValidity(){const{a:e,d:n}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:o,ez:i,et:s}=this,a=l(r*r),c=l(o*o),u=l(i*i),f=l(u*u),d=l(a*e);if(l(u*l(d+c))!==l(f+l(n*l(a*c))))throw new Error("bad point: equation left != right (1)");if(l(r*o)!==l(i*s))throw new Error("bad point: equation left != right (2)")}equals(e){w(e);const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:s}=e,a=l(t*s),c=l(o*r),u=l(n*s),f=l(i*r);return a===c&&u===f}is0(){return this.equals(E.ZERO)}negate(){return new E(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:o}=this,i=l(n*n),s=l(r*r),a=l(gn*l(o*o)),c=l(e*i),u=n+r,f=l(l(u*u)-i-s),d=c+s,h=d-a,p=c-s,m=l(f*h),y=l(d*p),g=l(f*p),v=l(h*d);return new E(m,y,v,g)}add(e){w(e);const{a:n,d:r}=t,{ex:o,ey:i,ez:s,et:a}=this,{ex:c,ey:u,ez:f,et:d}=e;if(n===BigInt(-1)){const e=l((i-o)*(u+c)),t=l((i+o)*(u-c)),n=l(t-e);if(n===mn)return this.double();const r=l(s*gn*d),h=l(a*gn*f),p=h+r,m=t+e,y=h-r,g=l(p*n),v=l(m*y),b=l(p*y),w=l(n*m);return new E(g,v,w,b)}const h=l(o*c),p=l(i*u),m=l(a*r*d),y=l(s*f),g=l((o+i)*(c+u)-h-p),v=y-m,b=y+m,_=l(p-n*h),S=l(g*v),T=l(b*_),I=l(g*_),N=l(v*b);return new E(S,T,N,I)}subtract(e){return this.add(e.negate())}wNAF(e){return T.wNAFCached(this,b,e,E.normalizeZ)}multiply(e){const{p:t,f:n}=this.wNAF(g(e,r));return E.normalizeZ([t,n])[0]}multiplyUnsafe(e){let t=v(e);return t===mn?S:this.equals(S)||t===yn?this:this.equals(_)?this.wNAF(t).p:T.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(e){const{ex:t,ey:r,ez:o}=this,i=this.is0();null==e&&(e=i?vn:n.inv(o));const s=l(t*e),a=l(r*e),c=l(o*e);if(i)return{x:mn,y:yn};if(c!==yn)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===yn?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:o,a:i}=t,s=n.BYTES,a=(e=jt("pointHex",e,s)).slice(),c=e[s-1];a[s-1]=-129&c;const d=$t(a);d===mn||g(d,r?u:n.ORDER);const h=l(d*d),p=l(h-yn),m=l(o*h-i);let{isValid:y,value:v}=f(p,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const b=(v&yn)===yn,w=0!==(128&c);if(!r&&v===mn&&w)throw new Error("Point.fromHex: x=0 and x_0=1");return w!==b&&(v=l(-v)),E.fromAffine({x:v,y:d})}static fromPrivateKey(e){return O(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=Dt(t,n.BYTES);return r[r.length-1]|=e&yn?128:0,r}toHex(){return Ot(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,yn,l(t.Gx*t.Gy)),E.ZERO=new E(mn,yn,yn,mn);const{BASE:_,ZERO:S}=E,T=hn(E,8*a);function I(e){return nn(e,r)}function N(e){return I($t(e))}function O(e){const t=a;e=jt("private key",e,t);const n=jt("hashed private key",i(e),2*t),r=d(n.slice(0,t)),o=n.slice(t,2*t),s=N(r),c=_.multiply(s),u=c.toRawBytes();return{head:r,prefix:o,scalar:s,point:c,pointBytes:u}}function k(e=new Uint8Array,...t){const n=Mt(...t);return N(i(h(n,jt("context",e),!!o)))}const A=bn;_._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return O(e).pointBytes},sign:function(e,t,r={}){e=jt("message",e),o&&(e=o(e));const{prefix:i,scalar:s,pointBytes:c}=O(t),u=k(r.context,i,e),l=_.multiply(u).toRawBytes(),f=I(u+k(r.context,l,c,e)*s);return v(f),jt("result",Mt(l,Dt(f,n.BYTES)),2*a)},verify:function(e,t,r,i=A){const{context:s,zip215:a}=i,c=n.BYTES;e=jt("signature",e,2*c),t=jt("message",t),o&&(t=o(t));const u=$t(e.slice(c,2*c));let l,f,d;try{l=E.fromHex(r,a),f=E.fromHex(e.slice(0,c),a),d=_.multiplyUnsafe(u)}catch(p){return!1}if(!a&&l.isSmallOrder())return!1;const h=k(s,f.toRawBytes(),l.toRawBytes(),t);return f.add(l.multiplyUnsafe(h)).subtract(d).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const En=BigInt(0),_n=BigInt(1);function Sn(e){const t=(Jt(n=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n}));var n;const{P:r}=t,o=e=>nn(e,r),i=t.montgomeryBits,s=Math.ceil(i/8),a=t.nByteLength,c=t.adjustScalarBytes||(e=>e),u=t.powPminus2||(e=>rn(e,r-BigInt(2),r));function l(e,t,n){const r=o(e*(t-n));return[t=o(t-r),n=o(n+r)]}function f(e){if("bigint"===typeof e&&En<=e&&e<r)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const d=(t.a-BigInt(2))/BigInt(4);function h(e){return Dt(o(e),s)}function p(e,t){const n=function(e,t){const n=f(e),r=f(t),s=n;let a,c=_n,h=En,p=n,m=_n,y=En;for(let u=BigInt(i-1);u>=En;u--){const e=r>>u&_n;y^=e,a=l(y,c,p),c=a[0],p=a[1],a=l(y,h,m),h=a[0],m=a[1],y=e;const t=c+h,n=o(t*t),i=c-h,f=o(i*i),g=n-f,v=p+m,b=o((p-m)*t),w=o(v*i),E=b+w,_=b-w;p=o(E*E),m=o(s*o(_*_)),c=o(n*f),h=o(g*(n+o(d*g)))}a=l(y,c,p),c=a[0],p=a[1],a=l(y,h,m),h=a[0],m=a[1];const g=u(h);return o(c*g)}(function(e){const t=jt("u coordinate",e,s);return a===s&&(t[a-1]&=127),$t(t)}(t),function(e){const t=jt("scalar",e);if(t.length!==s&&t.length!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${t.length}`);return $t(c(t))}(e));if(n===En)throw new Error("Invalid private or public key received");return h(n)}const m=h(t.Gu);function y(e){return p(e,m)}return{scalarMult:p,scalarMultBase:y,getSharedSecret:(e,t)=>p(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}}const Tn=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),In=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Nn=(BigInt(0),BigInt(1)),On=BigInt(2),kn=BigInt(5),An=BigInt(10),xn=BigInt(20),Cn=BigInt(40),$n=BigInt(80);function Rn(e){const t=Tn,n=e*e%t*e%t,r=on(n,On,t)*n%t,o=on(r,Nn,t)*e%t,i=on(o,kn,t)*o%t,s=on(i,An,t)*i%t,a=on(s,xn,t)*s%t,c=on(a,Cn,t)*a%t,u=on(c,$n,t)*c%t,l=on(u,$n,t)*c%t,f=on(l,An,t)*i%t;return{pow_p_5_8:on(f,On,t)*e%t,b2:n}}function Dn(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Pn(e,t){const n=Tn,r=nn(t*t*t,n),o=nn(r*r*t,n);let i=nn(e*r*Rn(e*o).pow_p_5_8,n);const s=nn(t*i*i,n),a=i,c=nn(i*In,n),u=s===e,l=s===nn(-e,n),f=s===nn(-e*In,n);return u&&(i=a),(l||f)&&(i=c),(nn(i,n)&Qt)===Qt&&(i=nn(-i,n)),{isValid:u||l,value:i}}const jn=ln(Tn,void 0,!0),Mn={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:jn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Et,randomBytes:at,adjustScalarBytes:Dn,uvRatio:Pn},Ln=wn(Mn);function Un(e,t,n){if(t.length>255)throw new Error("Context is too big");return ot(nt("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}wn({...Mn,domain:Un}),wn({...Mn,domain:Un,prehash:Et});const Bn=(()=>Sn({P:Tn,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Tn,{pow_p_5_8:n,b2:r}=Rn(e);return nn(on(n,BigInt(3),t)*r,t)},adjustScalarBytes:Dn,randomBytes:at}))();const Fn=(jn.ORDER+BigInt(3))/BigInt(8);jn.pow(On,Fn),jn.sqrt(jn.neg(jn.ONE)),jn.ORDER,BigInt(5),BigInt(8),BigInt(486662);!function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);e.isOdd(n)&&e.neg(n)}(jn,jn.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Vn=(e,t,n)=>e&t^~e&n,qn=(e,t,n)=>e&t^e&n^t&n,zn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hn=new Uint32Array(64);class Kn extends ct{constructor(){super(64,32,8,!1),this.A=0|Gn[0],this.B=0|Gn[1],this.C=0|Gn[2],this.D=0|Gn[3],this.E=0|Gn[4],this.F=0|Gn[5],this.G=0|Gn[6],this.H=0|Gn[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let l=0;l<16;l++,t+=4)Hn[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const e=Hn[l-15],t=Hn[l-2],n=Ze(e,7)^Ze(e,18)^e>>>3,r=Ze(t,17)^Ze(t,19)^t>>>10;Hn[l]=r+Hn[l-7]+n+Hn[l-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;for(let l=0;l<64;l++){const e=u+(Ze(s,6)^Ze(s,11)^Ze(s,25))+Vn(s,a,c)+zn[l]+Hn[l]|0,t=(Ze(n,2)^Ze(n,13)^Ze(n,22))+qn(n,r,o)|0;u=c,c=a,a=s,s=i+e|0,i=o,o=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,o,i,s,a,c,u)}roundClean(){Hn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Jn extends Kn{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Wn=st((()=>new Kn)),Qn=(st((()=>new Jn)),new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8])),Yn=Uint8Array.from({length:16},((e,t)=>t)),Xn=Yn.map((e=>(9*e+5)%16));let Zn=[Yn],er=[Xn];for(let Gd=0;Gd<4;Gd++)for(let e of[Zn,er])e.push(e[Gd].map((e=>Qn[e])));const tr=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),nr=Zn.map(((e,t)=>e.map((e=>tr[t][e])))),rr=er.map(((e,t)=>e.map((e=>tr[t][e])))),or=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),ir=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),sr=(e,t)=>e<<t|e>>>32-t;function ar(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const cr=new Uint32Array(16);class ur extends ct{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(e,t){for(let d=0;d<16;d++,t+=4)cr[d]=e.getUint32(t,!0);let n=0|this.h0,r=n,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,u=c,l=0|this.h4,f=l;for(let d=0;d<5;d++){const e=4-d,t=or[d],h=ir[d],p=Zn[d],m=er[d],y=nr[d],g=rr[d];for(let r=0;r<16;r++){const e=sr(n+ar(d,o,s,c)+cr[p[r]]+t,y[r])+l|0;n=l,l=c,c=0|sr(s,10),s=o,o=e}for(let n=0;n<16;n++){const t=sr(r+ar(e,i,a,u)+cr[m[n]]+h,g[n])+f|0;r=f,f=u,u=0|sr(a,10),a=i,i=t}}this.set(this.h1+s+u|0,this.h2+c+f|0,this.h3+l+r|0,this.h4+n+i|0,this.h0+o+a|0)}roundClean(){cr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const lr=st((()=>new ur)),[fr,dr,hr]=[[],[],[]],pr=BigInt(0),mr=BigInt(1),yr=BigInt(2),gr=BigInt(7),vr=BigInt(256),br=BigInt(113);for(let Gd=0,Hd=mr,Kd=1,Jd=0;Gd<24;Gd++){[Kd,Jd]=[Jd,(2*Kd+3*Jd)%5],fr.push(2*(5*Jd+Kd)),dr.push((Gd+1)*(Gd+2)/2%64);let e=pr;for(let t=0;t<7;t++)Hd=(Hd<<mr^(Hd>>gr)*br)%vr,Hd&yr&&(e^=mr<<(mr<<BigInt(t))-mr);hr.push(e)}const[wr,Er]=dt.split(hr,!0),_r=(e,t,n)=>n>32?dt.rotlBH(e,t,n):dt.rotlSH(e,t,n),Sr=(e,t,n)=>n>32?dt.rotlBL(e,t,n):dt.rotlSL(e,t,n);class Tr extends it{constructor(e,t,n,r=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,We.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,o=(r+2)%10,i=n[o],s=n[o+1],a=_r(i,s,1)^n[t],c=Sr(i,s,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],o=e[3];for(let n=0;n<24;n++){const r=dr[n],i=_r(t,o,r),s=Sr(t,o,r),a=fr[n];t=e[a],o=e[a+1],e[a]=i,e[a+1]=s}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=wr[r],e[1]^=Er[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){We.exists(this);const{blockLen:t,state:n}=this,r=(e=rt(e)).length;for(let o=0;o<r;){const i=Math.min(t-this.pos,r-o);for(let t=0;t<i;t++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){We.exists(this,!1),We.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,o=e.length;r<o;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,o-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return We.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(We.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:o,enableXOF:i}=this;return e||(e=new Tr(t,n,r,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Ir=(e,t,n)=>st((()=>new Tr(t,e,n))),Nr=(Ir(6,144,28),Ir(6,136,32),Ir(6,104,48),Ir(6,72,64),Ir(1,144,28),Ir(1,136,32)),Or=(Ir(1,104,48),Ir(1,72,64),(e,t,n)=>function(e){const t=(t,n)=>e(n).update(rt(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(((r={})=>new Tr(t,e,void 0===r.dkLen?n:r.dkLen,!0))));Or(31,168,16),Or(31,136,32);var kr=n(77408),Ar=n(49784),xr=n(41690);const{bytesToNumberBE:Cr,hexToBytes:$r}=g,Rr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Rr;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Cr(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Rr,n="string"===typeof e?$r(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=Rr._parseInt(n.subarray(2)),{d:s,l:a}=Rr._parseInt(i);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,s=o.length/2,a=n(i),c=n(s);return`30${n(s+i+4)}02${c}${o}02${a}${r}`}},Dr=BigInt(0),Pr=BigInt(1),jr=(BigInt(2),BigInt(3));BigInt(4);function Mr(e){const t=function(e){const t=pn(e);Jt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const o=t.toAffine();return Mt(Uint8Array.from([4]),n.toBytes(o.x),n.toBytes(o.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:o}=t,i=n.sqr(e),s=n.mul(i,e);return n.add(n.add(s,n.mul(e,r)),o)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"===typeof e&&Dr<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:o,n:i}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Ot(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"===typeof e?e:Ct(jt("private key",e,r))}catch(c){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return o&&(s=nn(s,i)),a(s),s}const u=new Map;function l(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const o=e=>n.eql(e,n.ZERO);return o(t)&&o(r)?f.ZERO:new f(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(o(jt("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const o=n.sqr(r),s=i(e);if(!n.eql(o,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:o}=this,{px:i,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(i,o)),u=n.eql(n.mul(r,a),n.mul(s,o));return c&&u}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,o=n.mul(r,jr),{px:i,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(i,i),h=n.mul(s,s),p=n.mul(a,a),m=n.mul(i,s);return m=n.add(m,m),l=n.mul(i,a),l=n.add(l,l),c=n.mul(e,l),u=n.mul(o,p),u=n.add(c,u),c=n.sub(h,u),u=n.add(h,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(o,l),p=n.mul(e,p),m=n.sub(d,p),m=n.mul(e,m),m=n.add(m,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,p),d=n.mul(d,m),u=n.add(u,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,m),c=n.sub(c,d),l=n.mul(p,h),l=n.add(l,l),l=n.add(l,l),new f(c,u,l)}add(e){l(e);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:c}=e;let u=n.ZERO,d=n.ZERO,h=n.ZERO;const p=t.a,m=n.mul(t.b,jr);let y=n.mul(r,s),g=n.mul(o,a),v=n.mul(i,c),b=n.add(r,o),w=n.add(s,a);b=n.mul(b,w),w=n.add(y,g),b=n.sub(b,w),w=n.add(r,i);let E=n.add(s,c);return w=n.mul(w,E),E=n.add(y,v),w=n.sub(w,E),E=n.add(o,i),u=n.add(a,c),E=n.mul(E,u),u=n.add(g,v),E=n.sub(E,u),h=n.mul(p,w),u=n.mul(m,v),h=n.add(u,h),u=n.sub(g,h),h=n.add(g,h),d=n.mul(u,h),g=n.add(y,y),g=n.add(g,y),v=n.mul(p,v),w=n.mul(m,w),g=n.add(g,v),v=n.sub(y,v),v=n.mul(p,v),w=n.add(w,v),y=n.mul(g,w),d=n.add(d,y),y=n.mul(E,w),u=n.mul(b,u),u=n.sub(u,y),y=n.mul(b,g),h=n.mul(E,h),h=n.add(h,y),new f(u,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}))}multiplyUnsafe(e){const r=f.ZERO;if(e===Dr)return r;if(a(e),e===Pr)return this;const{endo:o}=t;if(!o)return h.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:c,k2:u}=o.splitScalar(e),l=r,d=r,p=this;for(;s>Dr||u>Dr;)s&Pr&&(l=l.add(p)),u&Pr&&(d=d.add(p)),p=p.double(),s>>=Pr,u>>=Pr;return i&&(l=l.negate()),c&&(d=d.negate()),d=new f(n.mul(d.px,o.beta),d.py,d.pz),l.add(d)}multiply(e){a(e);let r,o,i=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(i);let{p:u,f:l}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);u=h.constTimeNegate(e,u),d=h.constTimeNegate(a,d),d=new f(n.mul(d.px,s.beta),d.py,d.pz),r=u.add(d),o=l.add(p)}else{const{p:e,f:t}=this.wNAF(i);r=e,o=t}return f.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=f.BASE,o=(e,t)=>t!==Dr&&t!==Pr&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:o}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(o));const s=n.mul(t,e),a=n.mul(r,e),c=n.mul(o,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Pr)return!0;if(n)return n(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Pr?this:n?n(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(f,this,e)}toHex(e=!0){return Ot(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=hn(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function Lr(e){const t=function(e){const t=pn(e);return Jt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function s(e){return nn(e,r)}function a(e){return sn(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Mr({...t,toBytes(e,t,r){const o=t.toAffine(),i=n.toBytes(o.x),s=Mt;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(o.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}{const e=Ct(s);if(!(Dr<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let o=n.sqrt(t);return 1===(1&r)!==((o&Pr)===Pr)&&(o=n.neg(o)),{x:e,y:o}}var a}}),d=e=>Ot(Rt(e,t.nByteLength));function h(e){return e>r>>Pr}const p=(e,t,n)=>Ct(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=jt("compactSignature",e,2*n),new m(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Rr.toSig(jt("DER",e));return new m(t,n)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:o,recovery:i}=this,u=b(jt("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0===(1&i)?"02":"03",h=c.fromHex(f+d(l)),p=a(l),m=s(-u*p),y=s(o*p),g=c.BASE.multiplyAndAddUnsafe(h,m,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return xt(this.toDERHex())}toDERHex(){return Rr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xt(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>Rt(function(e,t,n=!1){const r=(e=jt("privateHash",e)).length,o=un(t).nByteLength+8;if(o<24||r<o||r>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${r}`);return nn(n?$t(e):Ct(e),t-Qt)+Qt}(t.randomBytes(n.BYTES+8),r),t.nByteLength),precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===o||r===i:n?r===2*o||r===2*i:e instanceof c}const v=t.bits2int||function(e){const n=Ct(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return s(v(e))},w=qt(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Dr<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Rt(e,t.nByteLength)}function _(e,r,o=S){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:l}=t;let{lowS:d,prehash:p,extraEntropy:y}=o;null==d&&(d=!0),e=jt("msgHash",e),p&&(e=jt("prehashed msgHash",i(e)));const g=b(e),w=u(r),_=[E(w),E(g)];if(null!=y){const e=!0===y?l(n.BYTES):y;_.push(jt("extraEntropy",e,n.BYTES))}const T=Mt(..._),I=g;return{seed:T,k2sig:function(e){const t=v(e);if(!f(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),o=s(r.x);if(o===Dr)return;const i=s(n*s(I+o*w));if(i===Dr)return;let u=(r.x===o?0:2)|Number(r.y&Pr),l=i;return d&&h(i)&&(l=function(e){return h(e)?s(-e):e}(i),u^=1),new m(o,l,u)}}}const S={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n,r=S){const{seed:o,k2sig:i}=_(e,n,r),s=t;return Ht(s.hash.outputLen,s.nByteLength,s.hmac)(o,i)},verify:function(e,n,r,o=T){const i=e;if(n=jt("msgHash",n),r=jt("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=o;let f,d;try{if("string"===typeof i||i instanceof Uint8Array)try{f=m.fromDER(i)}catch(_){if(!(_ instanceof Rr.Err))throw _;f=m.fromCompact(i)}else{if("object"!==typeof i||"bigint"!==typeof i.r||"bigint"!==typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;f=new m(e,t)}}d=c.fromHex(r)}catch(S){if("PARSE"===S.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(n=t.hash(n));const{r:h,s:p}=f,y=b(n),g=a(p),v=s(y*g),w=s(h*g),E=c.BASE.multiplyAndAddUnsafe(d,v,w)?.toAffine();return!!E&&s(E.x)===h},ProjectivePoint:c,Signature:m,utils:y}}class Ur extends it{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,We.hash(e);const n=rt(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?e.create().update(n).digest():n);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=e.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(e){return We.exists(this),this.iHash.update(e),this}digestInto(e){We.exists(this),We.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return(e=e).finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Br=(e,t,n)=>new Ur(e,t).update(n).digest();function Fr(e){return{hash:e,hmac:(t,...n)=>Br(e,t,ot(...n)),randomBytes:at}}function Vr(e,t){const n=t=>Lr({...e,...Fr(t)});return Object.freeze({...n(t),create:n})}Br.create=(e,t)=>new Ur(e,t);const qr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gr=BigInt(1),Hr=BigInt(2),Kr=(e,t)=>(e+t/Hr)/t;function Jr(e){const t=qr,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=on(l,n,t)*l%t,d=on(f,n,t)*l%t,h=on(d,Hr,t)*u%t,p=on(h,o,t)*h%t,m=on(p,i,t)*p%t,y=on(m,a,t)*m%t,g=on(y,c,t)*y%t,v=on(g,a,t)*m%t,b=on(v,n,t)*l%t,w=on(b,s,t)*p%t,E=on(w,r,t)*u%t,_=on(E,Hr,t);if(!Wr.eql(Wr.sqr(_),e))throw new Error("Cannot find square root");return _}const Wr=ln(qr,void 0,void 0,{sqrt:Jr}),Qr=Vr({a:BigInt(0),b:BigInt(7),Fp:Wr,n:zr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=zr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=Kr(i*e,t),c=Kr(-r*e,t);let u=nn(e-a*n-c*o,t),l=nn(-a*r-c*i,t);const f=u>s,d=l>s;if(f&&(u=t-u),d&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},Wn);BigInt(0);Qr.ProjectivePoint;const Yr=ln(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Xr=Yr.create(BigInt("-3")),Zr=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),eo=Vr({a:Xr,b:Zr,Fp:Yr,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Wn);var to=n(95456),no=n(27715),ro=n(49375);const oo={toString:k.BB,fromString:k.mL,concat:k.zo};function io(e){return oo.toString(e,"base64url")}function so(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return oo.fromString(t,"base64url")}function ao(e){return oo.fromString(e,"base58btc")}function co(e,t){let n=e.startsWith("0x")?e.substring(2):e;if(n.length%2!==0&&(n=`0${n}`),t){const e=Math.max(n.length,2*t);n=n.padStart(e,"00")}return oo.fromString(n.toLowerCase(),"base16")}function uo(e){return io(oo.fromString(e))}function lo(e){return oo.toString(so(e))}function fo(e){return oo.toString(e,"base16")}function ho(e){return BigInt("0x"+oo.toString(e,"base16"))}function po(e){return oo.fromString(e)}function mo({r:e,s:t,recoveryParam:n},r){const o=new Uint8Array(r?65:64);if(o.set(oo.fromString(e,"base16"),0),o.set(oo.fromString(t,"base16"),32),r){if("undefined"===typeof n)throw new Error("Signer did not return a recoveryParam");o[64]=n}return io(o)}function yo(e){const t=so(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:fo(t.slice(0,32)),s:fo(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}function go(e,t){return oo.concat([so(e),t?so(t):new Uint8Array(0)])}function vo(){const e=Bn.utils.randomPrivateKey();return{secretKey:e,publicKey:Bn.getPublicKey(e)}}function bo(e){if(32!==e.length)throw new Error("x25519: seed must be 32 bytes");return{publicKey:Bn.getPublicKey(e),secretKey:e}}function wo(){const e=vo();return{publicKeyJWK:{kty:"OKP",crv:"X25519",x:io(e.publicKey)},secretKey:e.secretKey}}function Eo(e){const t="string"===typeof e?(0,kr.m)(e):e;return Wn(t)}const _o=Nr;function So(e){const t=(0,kr.m)(e.slice(2),"base16");return`0x${(0,Ar.B)(_o(t).slice(-20),"base16")}`}function To(e,t=new Uint8Array(4)){const n=(0,kr.m)(e.toString(),"base10");return t.set(n,4-n.length),t}const Io=e=>(0,xr.z)([To(e.length),e]);function No(e,t,n,r,o){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const i=(0,xr.z)([Io((0,kr.m)(n)),Io("undefined"===typeof r?new Uint8Array(0):r),Io("undefined"===typeof o?new Uint8Array(0):o),To(t)]);return Eo((0,xr.z)([To(1),e,i]))}function Oo(e){const t=e;if(64!==t.length)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${t.length}`);return function(e){try{const n="string"===typeof e?po(e):e,r=Ln.sign(n,t.slice(0,32));return Promise.resolve(io(r))}catch(Ui){return Promise.reject(Ui)}}}function ko(e){return"object"===typeof e&&"r"in e&&"s"in e}function Ao(e){return function(t,n){try{return Promise.resolve(n(t)).then((function(t){if(ko(t))return mo(t,e);if(e&&"undefined"===typeof yo(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(Ui){return Promise.reject(Ui)}}}function xo(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(ko(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(Ui){return Promise.reject(Ui)}}}const Co={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return ko(e)?mo(e):e}))}catch(Ui){return Promise.reject(Ui)}},ES256K:Ao(),"ES256K-R":Ao(!0),Ed25519:xo(),EdDSA:xo()};function $o(e,t){const n=fo(ao(t).slice(0,1)),r=co(e),o=n+fo(lr(Eo(r))),i=Eo(co(o)),s=fo(Eo(i)).substring(0,8);return a=co(o+s),oo.toString(a,"base58btc");var a}function Ro(e,t){if(t){const n=t.split(":");switch(n[0]){case"bip122":n[n.length-1]=$o(e,n[n.length-1]);break;case"cosmos":n[n.length-1]=function(e,t){const n=Qr.ProjectivePoint.fromHex(e).toRawBytes(),r=lr(Eo(n)),o=no.gW.toWords(r);return no.gW.encode(t,o).replace(t,"")}(e,n[1]);break;case"eip155":n[n.length-1]=So(e);break;default:return!1}return n.join(":").toLowerCase()===t.toLowerCase()}return!1}function Do(e,t=!1){const n=so(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");return{compact:n.slice(0,64),recovery:n[64]}}function Po(e){if(e.publicKeyBase58)return ao(e.publicKeyBase58);if(e.publicKeyBase64)return so(e.publicKeyBase64);if(e.publicKeyHex)return co(e.publicKeyHex);if(e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return Qr.ProjectivePoint.fromAffine({x:ho(so(e.publicKeyJwk.x)),y:ho(so(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return eo.ProjectivePoint.fromAffine({x:ho(so(e.publicKeyJwk.x)),y:ho(so(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&["Ed25519","X25519"].includes(e.publicKeyJwk.crv??"")&&e.publicKeyJwk.x)return so(e.publicKeyJwk.x);if(e.publicKeyMultibase){const{base16:t,base58btc:n,base64:r,base64url:o}=He;return t.decoder.or(n.decoder.or(r.decoder.or(o.decoder))).decode(e.publicKeyMultibase)}return new Uint8Array}function jo(e,t,n){const r=[];if(t.length>86)r.push(Do(t,!0));else{const e=Do(t,!1);r.push({...e,recovery:0}),r.push({...e,recovery:1})}const o=Eo(e),i=e=>{const t=Qr.Signature.fromCompact(e.compact).addRecoveryBit(e.recovery||0).recoverPublicKey(o),r=So(t.toHex(!1)).toLowerCase(),i=t.toHex(!1),s=t.toHex(!0);return n.find((e=>{const t=fo(Po(e));return t===i||t===s||e.ethereumAddress?.toLowerCase()===r||e.blockchainAccountId?.split("@eip155")?.[0].toLowerCase()===r||Ro(i,e.blockchainAccountId)}))};for(const s of r){const e=i(s);if(e)return e}throw new Error("invalid_signature: Signature invalid for JWT")}function Mo(e,t,n){const r=po(e),o=so(t),i=n.find((e=>Ln.verify(o,r,Po(e))));if(!i)throw new Error("invalid_signature: Signature invalid for JWT");return i}const Lo={ES256:function(e,t,n){const r=Eo(e),o=eo.Signature.fromCompact(Do(t).compact),i=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)).find((e=>{try{const t=Po(e);return eo.verify(o,r,t)}catch(t){return!1}}));if(!i)throw new Error("invalid_signature: Signature invalid for JWT");return i},ES256K:function(e,t,n){const r=Eo(e),o=Qr.Signature.fromCompact(so(t)).normalizeS(),i=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)),s=n.filter((e=>e.ethereumAddress||e.blockchainAccountId));let a=i.find((e=>{try{const t=Po(e);return Qr.verify(o,r,t)}catch(t){return!1}}));if(!a&&s.length>0&&(a=jo(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":jo,Ed25519:Mo,EdDSA:Mo};function Uo(e){const t=Lo[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}Uo.toSignatureObject=function(e,t=!1){const n=so(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");const r={r:fo(n.slice(0,32)),s:fo(n.slice(32,64))};return t&&(r.recoveryParam=n[64]),r};"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const Bo=function(e,t,n={},r={}){try{n.alg||(n.alg=Fo);const o="string"===typeof e?e:Vo(e,r.canonicalize),i=[Vo(n,r.canonicalize),o].join("."),s=function(e){const t=Co[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(n.alg);return Promise.resolve(s(i,t)).then((function(e){return[i,e].join(".")}))}catch(Ui){return Promise.reject(Ui)}},Fo="ES256K";function Vo(e,t=!1){return uo(t?to(e):JSON.stringify(e))}function qo(e){const t=e.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(t)return{header:JSON.parse(lo(t[1])),payload:t[2],signature:t[3],data:`${t[1]}.${t[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function zo(e,t){return function({header:e,data:t,signature:n},r){return Array.isArray(r)||(r=[r]),Uo(e.alg)(t,n,r)}(qo(e),t)}const Go="undefined"!==typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ho(e,t,n){if(!e.s){if(n instanceof Ko){if(!n.s)return void(n.o=Ho.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Ho.bind(null,e,t),Ho.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const Ko=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,o=this.s;if(o){const e=1&o?t:n;if(e){try{Ho(r,1,e(this.v))}catch(Ui){Ho(r,2,Ui)}return r}return this}return this.o=function(e){try{const o=e.v;1&e.s?Ho(r,1,t?t(o):o):n?Ho(r,1,n(o)):Ho(r,2,o)}catch(Ui){Ho(r,2,Ui)}},r},e}();function Jo(e){return e instanceof Ko&&1&e.s}function Wo(e,t,n){if("function"===typeof e[Go]){var r,o,i,s=e[Go]();function c(e){try{for(;!(r=s.next()).done&&(!n||!n());)if((e=t(r.value))&&e.then){if(!Jo(e))return void e.then(c,i||(i=Ho.bind(null,o=new Ko,2)));e=e.v}o?Ho(o,1,e):o=e}catch(Ui){Ho(o||(o=new Ko),2,Ui)}}if(c(),s.return){var a=function(e){try{r.done||s.return()}catch(Ui){}return e};if(o&&o.then)return o.then(a,(function(e){throw a(e)}));a()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var c=[],u=0;u<e.length;u++)c.push(e[u]);return function(e,t,n){var r,o,i=-1;return function s(a){try{for(;++i<e.length&&(!n||!n());)if((a=t(i))&&a.then){if(!Jo(a))return void a.then(s,o||(o=Ho.bind(null,r=new Ko,2)));a=a.v}r?Ho(r,1,a):r=a}catch(Ui){Ho(r||(r=new Ko),2,Ui)}}(),r}(c,(function(e){return t(c[e])}),n)}function Qo({ciphertext:e,tag:t,iv:n,protectedHeader:r,recipient:o},i){const s={protected:r,iv:io(n??new Uint8Array(0)),ciphertext:io(e),tag:io(t??new Uint8Array(0))};return i&&(s.aad=io(i)),o&&(s.recipients=[o]),s}const Yo=function(e,t){try{function n(e){if(null===s)throw new Error("failure: Failed to decrypt");return s}!function(e){if(!(e.protected&&e.iv&&e.ciphertext&&e.tag))throw new Error("bad_jwe: missing properties");e.recipients&&e.recipients.map((e=>{if(!e.header||!e.encrypted_key)throw new Error("bad_jwe: malformed recipients")}))}(e);const r=JSON.parse(lo(e.protected));if(r.enc!==t.enc)throw new Error(`not_supported: Decrypter does not supported: '${r.enc}'`);const o=go(e.ciphertext,e.tag),i=(0,kr.m)(e.aad?`${e.protected}.${e.aad}`:e.protected,"utf-8");let s=null;const a="dir"===r.alg&&"dir"===t.alg?Promise.resolve(t.decrypt(o,so(e.iv),i)).then((function(e){s=e})):function(){if(e.recipients&&0!==e.recipients.length){let n=0;return function(e,t,n){for(var r;;){var o=e();if(Jo(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!Jo(i)){r=1;break}i=i.s}if(t){var s=t();if(s&&s.then&&!Jo(s)){r=2;break}}}var a=new Ko,c=Ho.bind(null,a,2);return(0===r?o.then(l):1===r?i.then(u):s.then(f)).then(void 0,c),a;function u(r){i=r;do{if(t&&(s=t())&&s.then&&!Jo(s))return void s.then(f).then(void 0,c);if(!(o=e())||Jo(o)&&!o.v)return void Ho(a,1,i);if(o.then)return void o.then(l).then(void 0,c);Jo(i=n())&&(i=i.v)}while(!i||!i.then);i.then(u).then(void 0,c)}function l(e){e?(i=n())&&i.then?i.then(u).then(void 0,c):u(i):Ho(a,1,i)}function f(){(o=e())?o.then?o.then(l).then(void 0,c):l(o):Ho(a,1,i)}}((function(){return!s&&n<e.recipients.length}),(function(){return n++}),(function(){const a=e.recipients[n];Object.assign(a.header,r);const c=function(){if(a.header.alg===t.alg)return Promise.resolve(t.decrypt(o,so(e.iv),i,a)).then((function(e){s=e}))}();if(c&&c.then)return c.then((function(){}))}))}throw new Error("bad_jwe: missing recipients")}();return Promise.resolve(a&&a.then?a.then(n):n())}catch(Ui){return Promise.reject(Ui)}};function Xo(e){const t=new ro.NV(e);return(e,n)=>{const r=at(t.nonceLength),o=t.seal(r,e,n);return{ciphertext:o.subarray(0,o.length-t.tagLength),tag:o.subarray(o.length-t.tagLength),iv:r}}}function Zo(e){const t=Xo(e),n="XC20P",r="dir";return{alg:r,enc:n,encrypt:function(e,o={},i){try{const s=uo(JSON.stringify(Object.assign({alg:r},o,{enc:n}))),a=(0,kr.m)(i?`${s}.${io(i)}`:s,"utf-8");return Promise.resolve({...t(e,a),protectedHeader:s})}catch(Ui){return Promise.reject(Ui)}}}}function ei(e){const t=new ro.NV(e);return{alg:"dir",enc:"XC20P",decrypt:function(e,n,r){try{return Promise.resolve(t.open(n,e,r))}catch(Ui){return Promise.reject(Ui)}}}}const ti=function(e,t,n,r,o,i){try{const t="X25519",r=256,s=i?bo(i.secretKey):vo(),a={kty:"OKP",crv:t,x:io(s.publicKey)},c=Bn.getSharedSecret(s.secretKey,e),u=No(c,r,n,void 0,so(o??""));return Promise.resolve({epk:a,kek:u})}catch(Ui){return Promise.reject(Ui)}};function ni(e,t,n={},r,o,i){const s=function(i,s){try{return Promise.resolve(r.createKek(e,t,`${r.alg}+${o.alg}`,n.apu,n.apv,s)).then((function({epk:e,kek:t}){return Promise.resolve(o.from(t).wrap(i)).then((function(t){const i={encrypted_key:io(t.ciphertext),header:{}};return t.iv&&(i.header.iv=io(t.iv)),t.tag&&(i.header.tag=io(t.tag)),n.kid&&(i.header.kid=n.kid),n.apu&&(i.header.apu=n.apu),n.apv&&(i.header.apv=n.apv),s||(i.header.alg=`${r.alg}+${o.alg}`,i.header.epk=e),i}))}))}catch(Ui){return Promise.reject(Ui)}};return{alg:o.alg,enc:i.enc,encrypt:function(e,t={},n,a){try{Object.assign(t,{alg:void 0});const c=at(32);return Promise.resolve(s(c,a)).then((function(s){return a&&(t.alg=`${r.alg}+${o.alg}`,t.epk=a.publicKeyJWK),Promise.resolve(i.from(c).encrypt(e,t,n)).then((function(e){return{...e,recipient:s,cek:c}}))}))}catch(Ui){return Promise.reject(Ui)}},encryptCek:s,genEpk:wo}}const ri=function(e,t){try{const n=function(e,r=[]){try{return Promise.resolve(t.resolve(e)).then((function({didResolutionMetadata:t,didDocument:o}){function i(){const t=o.keyAgreement?.map((e=>"string"===typeof e?[...o.publicKey||[],...o.verificationMethod||[]].find((t=>t.id===e)):e))?.filter((e=>"undefined"!==typeof e)),n=t?.filter((e=>"X25519KeyAgreementKey2019"===e.type||"X25519KeyAgreementKey2020"===e.type))||[];if(!n.length&&!s.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);return n.map((e=>{return t=Po(e),n=e.id,si(t,{kid:n,apv:r});var t,n,r})).concat(...s)}if(r.push(e),t?.error||null==o)throw new Error(`resolver_error: Could not resolve ${e}: ${t.error}, ${t.message}`);let s=[];if(!o.controller&&!o.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);const a=function(){if(o.controller){let e=Array.isArray(o.controller)?o.controller:[o.controller];e=e.filter((e=>!r.includes(e)));const t=e.map((e=>n(e,r).catch((()=>[]))));return Promise.resolve(Promise.all(t)).then((function(e){s=[].concat(...e)}))}}();return a&&a.then?a.then(i):i()}))}catch(Ui){return Promise.reject(Ui)}},r=e.map((e=>n(e)));return Promise.resolve(Promise.all(r)).then((function(e){return[].concat(...e)}))}catch(Ui){return Promise.reject(Ui)}};function oi(e){if(!(e&&e.epk&&e.iv&&e.tag))throw new Error("bad_jwe: malformed header");return e}const ii={from:e=>({wrap:function(t){try{return Promise.resolve(Xo(e)(t))}catch(Ui){return Promise.reject(Ui)}}}),alg:"XC20PKW"};function si(e,t={}){return ni(e,void 0,t,{createKek:ti,alg:"ECDH-ES"},ii,{from:e=>Zo(e),enc:"XC20P"})}function ai(e){const t="ECDH-ES+XC20PKW";return{alg:t,enc:"XC20P",decrypt:function(n,r,o,i){try{const s=oi((i=i).header);return Promise.resolve(function(e,t,n){try{function r(){let t,r;return e.header.apu&&(t=so(e.header.apu)),e.header.apv&&(r=so(e.header.apv)),No(c,i,n,t,r)}const o="X25519",i=256,s=e.header;if(s.epk?.crv!==o||"undefined"==typeof s.epk.x)return Promise.resolve(null);const a=so(s.epk.x);let c;const u=function(){if(!(t instanceof Uint8Array))return Promise.resolve(t(a)).then((function(e){c=e}));c=Bn.getSharedSecret(t,a)}();return Promise.resolve(u&&u.then?u.then(r):r())}catch(Ui){return Promise.reject(Ui)}}(i,e,t)).then((function(e){if(!e)return null;const t=go(i.encrypted_key,s.tag);return Promise.resolve(ei(e).decrypt(t,so(s.iv))).then((function(e){return null===e?null:ei(e).decrypt(n,r,o)}))}))}catch(Ui){return Promise.reject(Ui)}}}}var ci,ui=n(35035);!function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(ci||(ci={}));const li={[ci.PARSE_ERROR]:"Parse error",[ci.INVALID_REQUEST]:"Invalid request",[ci.METHOD_NOT_FOUND]:"Method not found",[ci.INVALID_PARAMS]:"Invalid params",[ci.INTERNAL_ERROR]:"Internal error"};function fi(e){return li[e.toString()]??(function(e){return-32e3>=e&&e>=-32099}(e)?"Server error":"Application error")}class di extends Error{static fromObject(e){return new di(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,n){super(),Object.setPrototypeOf(this,di.prototype),this.code=e,this.data=n,this.message=t??fi(e)}}function hi(e){const t=li[e];return function(n){return new di(e,t,n)}}hi(ci.PARSE_ERROR),hi(ci.INVALID_REQUEST),hi(ci.METHOD_NOT_FOUND),hi(ci.INVALID_PARAMS),hi(ci.INTERNAL_ERROR);const pi=Symbol("abortable"),mi=Symbol("aborted");const yi="utils_abort_request";function gi(e,t){return{jsonrpc:"2.0",id:e,error:{code:t,message:fi(t)}}}function vi(e,t,n){console.warn("Unhandled handler error",t,n)}function bi(e,t){console.warn("Unhandled invalid message",t)}function wi(e,t){console.warn("Unhandled notification",t)}function Ei(e,t={}){const n=t.onHandlerError??vi,r=t.onInvalidMessage??bi,o=t.onNotification??wi,i={};return async function(t,s){const a=s.id;if("2.0"!==s.jsonrpc||null==s.method)return null==a?(r(t,s),null):gi(a,ci.INVALID_REQUEST);const c=e[s.method];if(null==c)return null==a?(function(e,t){if(t.method===yi){const e=t.params?.id;null!=e&&i[e]?.abort()}else o(e,t)}(t,s),null):gi(a,ci.METHOD_NOT_FOUND);try{let e;if(null!=a&&c[pi]){const n=new AbortController;i[a]=n,e=c(t,s.params,{signal:n.signal})}else e=c(t,s.params,{});const n=null==e?e:"function"===typeof e.then?await e:e;return null==a||i[a]?.signal.aborted?null:{jsonrpc:"2.0",id:a,result:n}}catch(u){if(null==a||i[a]?.signal.aborted)return n(t,s,u),null;let e;if(u instanceof di)e=u.toObject();else{n(t,s,u);const r=u.code??-32e3;e={code:r,message:u.message||fi(r)}}return{jsonrpc:"2.0",id:a,error:e}}finally{null!=a&&delete i[a]}}}function _i(e){return JSON.parse(ui(e))}function Si(e){const[t,n,r]=e.split(".");return{payload:n,signatures:[{protected:t,signature:r}]}}const Ti=async(e,t,n,r={})=>{const o=`${t}#${t.split(":")[2]}`,i=Oo(n),s=_i(Object.assign(r,{kid:o,alg:"EdDSA"}));return Bo("string"===typeof e?e:_i(e),i,s)},Ii={did_authenticate:async({did:e,secretKey:t},n)=>Si(await Ti({did:e,aud:n.aud,nonce:n.nonce,paths:n.paths,exp:Math.floor(Date.now()/1e3)+600},e,t)),did_createJWS:async({did:e,secretKey:t},n)=>{if(n.did.split("#")[0]!==e)throw new di(4100,`Unknown DID: ${e}`);return{jws:Si(await Ti(n.payload,e,t,n.protected))}},did_decryptJWE:async({secretKey:e},t)=>{const n=ai((0,O.zh)(e));try{const e=await Yo(t.jwe,n);return{cleartext:k.BB(e,"base64pad")}}catch(Ui){throw new di(-32e3,Ui.message)}}};class Ni{get isDidProvider(){return!0}async send(e){return await this._handle(e)}constructor(e){const{secretKey:t,publicKey:n}=(0,O._w)(e),r=function(e){const t=new Uint8Array(e.length+2);return t[0]=237,t[1]=1,t.set(e,2),`did:key:z${k.BB(t,"base58btc")}`}(n),o=Ei(Ii);this._handle=async e=>await o({did:r,secretKey:t},e)}}var Oi=n(94676),ki=n(81653);function Ai(e,t){const n=`did:key:${t}`,r=`${n}#${t}`;return{id:n,verificationMethod:[{id:r,type:"Secp256k1VerificationKey2018",controller:n,publicKeyBase58:k.BB(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function xi(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=(0,O.SH)(e),i=`${n}#${function(e){const t=new Uint8Array(e.length+2);return t[0]=236,t[1]=1,t.set(e,2),`z${(0,Ar.B)(t,"base58btc")}`}(o)}`;return{id:n,verificationMethod:[{id:r,type:"Ed25519VerificationKey2018",controller:n,publicKeyBase58:(0,Ar.B)(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r],keyAgreement:[{id:i,type:"X25519KeyAgreementKey2019",controller:n,publicKeyBase58:(0,Ar.B)(o,"base58btc")}]}}var Ci=n(39808),$i=n(18237);function Ri(e){if(!ji(e))throw new TypeError("input must be a Uint8Array");return Ci.toString(e,"base16")}function Di(e){if(!Pi(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=function(e){if(!Pi(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=e.slice(0,e.length/2),n=e.slice(e.length/2,e.length),r=Ci.fromString(t,"base16"),o=Ci.fromString(n,"base16");return{xOctet:r,yOctet:o}}(e);return{xm:$i.base64url.encode(t.xOctet).slice(1),ym:$i.base64url.encode(t.yOctet).slice(1)}}function Pi(e){const t=/^[A-Fa-f0-9]+$/i;return!(null===t.exec(e)||!t.test(e)||"string"!=typeof e)}function ji(e){return null!=e&&e.constructor===Uint8Array}function Mi(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=function(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=e.x.toString(),n=e.y.toString(),r=Ci.fromString(t,"base10"),o=Ci.fromString(n,"base10");return{xOctet:r,yOctet:o}}(e);return{xm:$i.base64url.encode(t.xOctet).slice(1),ym:$i.base64url.encode(t.yOctet).slice(1)}}function Li(e){return e>=0?e:-e}function Ui(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),t<=0n)throw new RangeError("n must be > 0");const n=e%t;return n<0n?n+t:n}function Bi(e,t){const n=function(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),e<=0n||t<=0n)throw new RangeError("a and b MUST be > 0");let n=0n,r=1n,o=1n,i=0n;for(;0n!==e;){const s=t/e,a=t%e,c=n-o*s,u=r-i*s;t=e,e=a,n=o,r=i,o=c,i=u}return{g:t,x:n,y:r}}(Ui(e,t),t);if(1n!==n.g)throw new RangeError(`${e.toString()} does not have inverse modulo ${t.toString()}`);return Ui(n.x,t)}function Fi(e,t,n){if(e.length!==t.length)throw new RangeError("The remainders and modulos arrays should have the same length");const r=n??t.reduce(((e,t)=>e*t),1n);return t.reduce(((t,n,o)=>{const i=r/n;return Ui(t+i*Bi(i,n)%r*e[o]%r,r)}),0n)}function Vi(e,t,n,r){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),"number"==typeof n&&(n=BigInt(n)),n<=0n)throw new RangeError("n must be > 0");if(1n===n)return 0n;if(e=Ui(e,n),t<0n)return Bi(Vi(e,Li(t),n,r),n);if(void 0!==r)return function(e,t,n,r){const o=r.map((e=>e[0]**e[1]));return Fi(r.map((e=>function(e){return e.map((e=>e[0]**(e[1]-1n)*(e[0]-1n))).reduce(((e,t)=>t*e),1n)}([e]))).map(((n,r)=>Vi(e,t%n,o[r]))),o,n)}(e,t,n,function(e){const t={};return e.forEach((e=>{if("bigint"==typeof e||"number"==typeof e){const n=String(e);void 0===t[n]?t[n]={p:BigInt(e),k:1n}:t[n].k+=1n}else{const n=String(e[0]);void 0===t[n]?t[n]={p:BigInt(e[0]),k:BigInt(e[1])}:t[n].k+=BigInt(e[1])}})),Object.values(t).map((e=>[e.p,e.k]))}(r));let o=1n;for(;t>0;)t%2n===1n&&(o=o*e%n),t/=2n,e=e**2n%n;return o}function qi(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=zi(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-256",x:o.xm,y:o.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function zi(e){if(!ji(e))throw new TypeError("input must be a Uint8Array");const t=Ri(e),n=t.length/2;if(64==n)return Di(t);if(65==n&&"04"==t.slice(0,2)){return Di(t.slice(2))}if(33==n&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return Mi(function(e){if(!ji(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),n=t**256n-t**224n+t**192n+t**96n-1n,r=(n+1n)/4n,o=BigInt(e[0]-2),i=e.subarray(1),s=BigInt(Ci.toString(i,"base10"));let a=Vi(s**3n-3n*s+41058363725152142129326129780047268409114441015993725554835256314039467401291n,r,n);return a%2n!==o&&(a=n-a),{x:s,y:a}}(k.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function Gi(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=Hi(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-384",x:o.xm,y:o.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function Hi(e){if(!ji(e))throw new TypeError("input must be a Uint8Array");const t=Ri(e),n=t.length/2;if(96==n)return Di(t);if(97==n&&"04"==t.slice(0,2)){return Di(t.slice(2))}if(49==n&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return Mi(function(e){if(!ji(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),n=t**384n-t**128n-t**96n+t**32n-1n,r=(n+1n)/4n,o=BigInt(e[0]-2),i=e.subarray(1),s=BigInt(Ci.toString(i,"base10"));let a=Vi(s**3n-3n*s+27580193559959705877849011840389048093056905856361568521428707301988689241309860865136260764883745107765439761230575n,r,n);return a%2n!==o&&(a=n-a),{x:s,y:a}}(k.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function Ki(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=Ji(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-521",x:o.xm,y:o.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function Ji(e){if(!ji(e))throw new TypeError("input must be a Uint8Array");const t=Ri(e);if(132<=t.length&&t.length<=134&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return Mi(function(e){if(!ji(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2)**521n-1n,n=(t+1n)/4n,r=BigInt(e[0]-2),o=e.subarray(1),i=BigInt(Ci.toString(o,"base10"));let s=Vi(i**3n-3n*i+1093849038073734274511112390766805569936207598951683748994586394495953116150735016013708737573759623248592132296706313309438452531591012912142327488478985984n,n,t);return s%2n!==r&&(s=t-s),{x:i,y:s}}(k.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}const Wi="application/did+json",Qi={231:v,237:b,4608:w,4609:E,4610:_};function Yi(){return{key:async(e,t,n,r)=>{const o=r.accept||Wi,i={didResolutionMetadata:{contentType:o},didDocument:null,didDocumentMetadata:{}};try{const e=ki.i.decode(t.id),n=Oi.decode(e),r=e.slice(Oi.decode.bytes),s=await Qi[n].keyToDidDoc(r,t.id);"application/did+ld+json"===o?(s["@context"]="https://w3id.org/did/v1",i.didDocument=s):o===Wi?i.didDocument=s:(delete i.didResolutionMetadata.contentType,i.didResolutionMetadata.error="representationNotSupported")}catch(Ui){i.didResolutionMetadata.error="invalidDid",i.didResolutionMetadata.message=Ui.toString()}return i}}}var Xi={getResolver:Yi},Zi=n(74747),es=n(95891),ts=n(9613),ns=n(27353),rs=n(38566),os=n(67189);(0,os.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,os.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),(0,os.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),(0,os.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const is=["string","number","bigint","symbol"],ss=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function as(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(is.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(ss.includes(t))return t;return}(e);return n||"Object"}class cs{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}cs.uint=new cs(0,"uint",!0),cs.negint=new cs(1,"negint",!0),cs.bytes=new cs(2,"bytes",!0),cs.string=new cs(3,"string",!0),cs.array=new cs(4,"array",!1),cs.map=new cs(5,"map",!1),cs.tag=new cs(6,"tag",!1),cs.float=new cs(7,"float",!0),cs.false=new cs(7,"false",!0),cs.true=new cs(7,"true",!0),cs.null=new cs(7,"null",!0),cs.undefined=new cs(7,"undefined",!0),cs.break=new cs(7,"break",!0);class us{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const ls=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,fs=new TextDecoder,ds=new TextEncoder;function hs(e){return ls&&globalThis.Buffer.isBuffer(e)}function ps(e){return e instanceof Uint8Array?hs(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const ms=ls?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):_s(e,t,n):(e,t,n)=>n-t>64?fs.decode(e.subarray(t,n)):_s(e,t,n),ys=ls?e=>e.length>64?globalThis.Buffer.from(e):Es(e):e=>e.length>64?ds.encode(e):Es(e),gs=e=>Uint8Array.from(e),vs=ls?(e,t,n)=>hs(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),bs=ls?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),ps(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},ws=ls?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Es(e,t=1/0){let n;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function _s(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=Ss)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Ss));return n}(r)}const Ss=4096;class Ts{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=ws(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=vs(n,0,this.cursor)}else t=bs(this.chunks,this.cursor);return e&&this.reset(),t}}const Is=[];function Ns(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}Is[23]=1,Is[24]=2,Is[25]=3,Is[26]=5,Is[27]=9;const Os=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ks(e,t,n){Ns(e,t,1);const r=e[t];if(!0===n.strict&&r<Os[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function As(e,t,n){Ns(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<Os[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function xs(e,t,n){Ns(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<Os[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Cs(e,t,n){Ns(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<Os[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function $s(e,t){return Rs(e,0,t.value)}function Rs(e,t,n){if(n<Os[0]){const r=Number(n);e.push([t|r])}else if(n<Os[1]){const r=Number(n);e.push([24|t,r])}else if(n<Os[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<Os[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<Os[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}$s.encodedSize=function(e){return Rs.encodedSize(e.value)},Rs.encodedSize=function(e){return e<Os[0]?1:e<Os[1]?2:e<Os[2]?3:e<Os[3]?5:9},$s.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Ds=BigInt(-1),Ps=BigInt(1);function js(e,t){const n=t.value,r="bigint"===typeof n?n*Ds-Ps:-1*n-1;Rs(e,t.type.majorEncoded,r)}function Ms(e,t,n,r){Ns(e,t,n+r);const o=vs(e,t+n,t+n+r);return new us(cs.bytes,o,n+r)}function Ls(e,t,n,r){return Ms(e,t,1,n)}function Us(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===cs.string?ys(e.value):e.value),e.encodedBytes}function Bs(e,t){const n=Us(t);Rs(e,t.type.majorEncoded,n.length),e.push(n)}function Fs(e,t,n,r,o){const i=n+r;Ns(e,t,i);const s=new us(cs.string,ms(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=vs(e,t+n,t+i)),s}function Vs(e,t,n,r){return Fs(e,t,1,n,r)}js.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*Ds-Ps:-1*t-1;return n<Os[0]?1:n<Os[1]?2:n<Os[2]?3:n<Os[3]?5:9},js.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},Bs.encodedSize=function(e){const t=Us(e);return Rs.encodedSize(t.length)+t.length},Bs.compareTokens=function(e,t){return n=Us(e),r=Us(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(hs(e)&&hs(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const qs=Bs;function zs(e,t,n,r){return new us(cs.array,r,n)}function Gs(e,t,n,r){return zs(0,0,1,n)}function Hs(e,t){Rs(e,cs.array.majorEncoded,t.value)}function Ks(e,t,n,r){return new us(cs.map,r,n)}function Js(e,t,n,r){return Ks(0,0,1,n)}function Ws(e,t){Rs(e,cs.map.majorEncoded,t.value)}function Qs(e,t,n,r){return new us(cs.tag,n,1)}function Ys(e,t){Rs(e,cs.tag.majorEncoded,t.value)}Hs.compareTokens=$s.compareTokens,Hs.encodedSize=function(e){return Rs.encodedSize(e.value)},Ws.compareTokens=$s.compareTokens,Ws.encodedSize=function(e){return Rs.encodedSize(e.value)},Ys.compareTokens=$s.compareTokens,Ys.encodedSize=function(e){return Rs.encodedSize(e.value)};function Xs(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new us(cs.float,e,t)}function Zs(e,t,n){const r=t.value;if(!1===r)e.push([20|cs.float.majorEncoded]);else if(!0===r)e.push([21|cs.float.majorEncoded]);else if(null===r)e.push([22|cs.float.majorEncoded]);else if(void 0===r)e.push([23|cs.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(ra(r),t=oa(na,1),r===t||Number.isNaN(r)?(na[0]=249,e.push(na.slice(0,3)),i=!0):(ia(r),t=sa(na,1),r===t&&(na[0]=250,e.push(na.slice(0,5)),i=!0))),i||(o=r,ta.setFloat64(0,o,!1),t=aa(na,1),na[0]=251,e.push(na.slice(0,9)))}var o}Zs.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){ra(n);let e=oa(na,1);if(n===e||Number.isNaN(n))return 3;if(ia(n),e=sa(na,1),n===e)return 5}return 9};const ea=new ArrayBuffer(9),ta=new DataView(ea,1),na=new Uint8Array(ea,0);function ra(e){if(e===1/0)ta.setUint16(0,31744,!1);else if(e===-1/0)ta.setUint16(0,64512,!1);else if(Number.isNaN(e))ta.setUint16(0,32256,!1);else{ta.setFloat32(0,e);const t=ta.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)ta.setUint16(0,31744,!1);else if(0===n)ta.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?ta.setUint16(0,0):e<-14?ta.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):ta.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function oa(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function ia(e){ta.setFloat32(0,e,!1)}function sa(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function aa(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function ca(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function ua(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Zs.compareTokens=$s.compareTokens;const la=[];for(let Gd=0;Gd<=23;Gd++)la[Gd]=ca;la[24]=function(e,t,n,r){return new us(cs.uint,ks(e,t+1,r),2)},la[25]=function(e,t,n,r){return new us(cs.uint,As(e,t+1,r),3)},la[26]=function(e,t,n,r){return new us(cs.uint,xs(e,t+1,r),5)},la[27]=function(e,t,n,r){return new us(cs.uint,Cs(e,t+1,r),9)},la[28]=ca,la[29]=ca,la[30]=ca,la[31]=ca;for(let Gd=32;Gd<=55;Gd++)la[Gd]=ca;la[56]=function(e,t,n,r){return new us(cs.negint,-1-ks(e,t+1,r),2)},la[57]=function(e,t,n,r){return new us(cs.negint,-1-As(e,t+1,r),3)},la[58]=function(e,t,n,r){return new us(cs.negint,-1-xs(e,t+1,r),5)},la[59]=function(e,t,n,r){const o=Cs(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new us(cs.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new us(cs.negint,Ds-BigInt(o),9)},la[60]=ca,la[61]=ca,la[62]=ca,la[63]=ca;for(let Gd=64;Gd<=87;Gd++)la[Gd]=Ls;la[88]=function(e,t,n,r){return Ms(e,t,2,ks(e,t+1,r))},la[89]=function(e,t,n,r){return Ms(e,t,3,As(e,t+1,r))},la[90]=function(e,t,n,r){return Ms(e,t,5,xs(e,t+1,r))},la[91]=function(e,t,n,r){const o=Cs(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return Ms(e,t,9,o)},la[92]=ca,la[93]=ca,la[94]=ca,la[95]=ua("indefinite length bytes/strings are not supported");for(let Gd=96;Gd<=119;Gd++)la[Gd]=Vs;la[120]=function(e,t,n,r){return Fs(e,t,2,ks(e,t+1,r),r)},la[121]=function(e,t,n,r){return Fs(e,t,3,As(e,t+1,r),r)},la[122]=function(e,t,n,r){return Fs(e,t,5,xs(e,t+1,r),r)},la[123]=function(e,t,n,r){const o=Cs(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Fs(e,t,9,o,r)},la[124]=ca,la[125]=ca,la[126]=ca,la[127]=ua("indefinite length bytes/strings are not supported");for(let Gd=128;Gd<=151;Gd++)la[Gd]=Gs;la[152]=function(e,t,n,r){return zs(0,0,2,ks(e,t+1,r))},la[153]=function(e,t,n,r){return zs(0,0,3,As(e,t+1,r))},la[154]=function(e,t,n,r){return zs(0,0,5,xs(e,t+1,r))},la[155]=function(e,t,n,r){const o=Cs(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return zs(0,0,9,o)},la[156]=ca,la[157]=ca,la[158]=ca,la[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return zs(0,0,1,1/0)};for(let Gd=160;Gd<=183;Gd++)la[Gd]=Js;la[184]=function(e,t,n,r){return Ks(0,0,2,ks(e,t+1,r))},la[185]=function(e,t,n,r){return Ks(0,0,3,As(e,t+1,r))},la[186]=function(e,t,n,r){return Ks(0,0,5,xs(e,t+1,r))},la[187]=function(e,t,n,r){const o=Cs(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return Ks(0,0,9,o)},la[188]=ca,la[189]=ca,la[190]=ca,la[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Ks(0,0,1,1/0)};for(let Gd=192;Gd<=215;Gd++)la[Gd]=Qs;la[216]=function(e,t,n,r){return new us(cs.tag,ks(e,t+1,r),2)},la[217]=function(e,t,n,r){return new us(cs.tag,As(e,t+1,r),3)},la[218]=function(e,t,n,r){return new us(cs.tag,xs(e,t+1,r),5)},la[219]=function(e,t,n,r){return new us(cs.tag,Cs(e,t+1,r),9)},la[220]=ca,la[221]=ca,la[222]=ca,la[223]=ca;for(let Gd=224;Gd<=243;Gd++)la[Gd]=ua("simple values are not supported");la[244]=ca,la[245]=ca,la[246]=ca,la[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new us(cs.null,null,1):new us(cs.undefined,void 0,1)},la[248]=ua("simple values are not supported"),la[249]=function(e,t,n,r){return Xs(oa(e,t+1),3,r)},la[250]=function(e,t,n,r){return Xs(sa(e,t+1),5,r)},la[251]=function(e,t,n,r){return Xs(aa(e,t+1),9,r)},la[252]=ca,la[253]=ca,la[254]=ca,la[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new us(cs.break,void 0,1)};const fa=[];for(let Gd=0;Gd<24;Gd++)fa[Gd]=new us(cs.uint,Gd,1);for(let Gd=-1;Gd>=-24;Gd--)fa[31-Gd]=new us(cs.negint,Gd,1);fa[64]=new us(cs.bytes,new Uint8Array(0),1),fa[96]=new us(cs.string,"",1),fa[128]=new us(cs.array,0,1),fa[160]=new us(cs.map,0,1),fa[244]=new us(cs.false,!1,1),fa[245]=new us(cs.true,!0,1),fa[246]=new us(cs.null,null,1);const da={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=ha[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case cs.false:return gs([244]);case cs.true:return gs([245]);case cs.null:return gs([246]);case cs.bytes:return e.value.length?void 0:gs([64]);case cs.string:return""===e.value?gs([96]):void 0;case cs.array:return 0===e.value?gs([128]):void 0;case cs.map:return 0===e.value?gs([160]):void 0;case cs.uint:return e.value<24?gs([Number(e.value)]):void 0;case cs.negint:if(e.value>=-24)return gs([31-Number(e.value)])}}};const ha=function(){const e=[];return e[cs.uint.major]=$s,e[cs.negint.major]=js,e[cs.bytes.major]=Bs,e[cs.string.major]=qs,e[cs.array.major]=Hs,e[cs.map.major]=Ws,e[cs.tag.major]=Ys,e[cs.float.major]=Zs,e}(),pa=new Ts;class ma{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new ma(t,e)}}const ya={null:new us(cs.null,null),undefined:new us(cs.undefined,void 0),true:new us(cs.true,!0),false:new us(cs.false,!1),emptyArray:new us(cs.array,0),emptyMap:new us(cs.map,0)},ga={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new us(e>=0?cs.uint:cs.negint,e):new us(cs.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new us(cs.uint,e):new us(cs.negint,e),Uint8Array:(e,t,n,r)=>new us(cs.bytes,e),string:(e,t,n,r)=>new us(cs.string,e),boolean:(e,t,n,r)=>e?ya.true:ya.false,null:(e,t,n,r)=>ya.null,undefined:(e,t,n,r)=>ya.undefined,ArrayBuffer:(e,t,n,r)=>new us(cs.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new us(cs.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[ya.emptyArray,new us(cs.break)]:ya.emptyArray;r=ma.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=va(s,n,r);return n.addBreakTokens?[new us(cs.array,e.length),o,new us(cs.break)]:[new us(cs.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[ya.emptyMap,new us(cs.break)]:ya.emptyMap;r=ma.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[va(u,n,r),va(o?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new us(cs.map,s),a,new us(cs.break)]:[new us(cs.map,s),a]}};ga.Map=ga.Object,ga.Buffer=ga.Uint8Array;for(const Gd of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ga[`${Gd}Array`]=ga.DataView;function va(e,t={},n){const r=as(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||ga[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=ga[r];if(!i)throw new Error(`CBOR encode error: unsupported type: ${r}`);return i(e,r,t,n)}function ba(e,t,n,r){if(Array.isArray(t))for(const o of t)ba(e,o,n,r);else n[t.type.major](e,t,r)}function wa(e,t,n){const r=va(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new Ts(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return ps(t.chunks[0])}}return pa.reset(),ba(pa,r,t,n),pa.toBytes(!0)}const Ea={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class _a{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=fa[e];if(void 0===t){const n=la[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this.pos,r,this.options)}return this.pos+=t.encodedLength,t}}const Sa=Symbol.for("DONE"),Ta=Symbol.for("BREAK");function Ia(e,t){if(e.done())return Sa;const n=e.next();if(n.type===cs.break)return Ta;if(n.type.terminal)return n.value;if(n.type===cs.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=Ia(t,n);if(i===Ta){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(i===Sa)throw new Error(`CBOR decode error: found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===cs.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=Ia(t,n);if(a===Ta){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Sa)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=Ia(t,n);if(c===Sa)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,c):o[a]=c}return r?i:o}(n,e,t);if(n.type===cs.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=Ia(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}var Na=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=Oa;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},Oa=Math.pow(2,31);var ka=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var Aa=Math.pow(2,7),xa=Math.pow(2,14),Ca=Math.pow(2,21),$a=Math.pow(2,28),Ra=Math.pow(2,35),Da=Math.pow(2,42),Pa=Math.pow(2,49),ja=Math.pow(2,56),Ma=Math.pow(2,63),La={encode:Na,decode:ka,encodingLength:function(e){return e<Aa?1:e<xa?2:e<Ca?3:e<$a?4:e<Ra?5:e<Da?6:e<Pa?7:e<ja?8:e<Ma?9:10}};const Ua=(e,t=0)=>[La.decode(e,t),La.decode.bytes],Ba=(e,t,n=0)=>(La.encode(e,t,n),t),Fa=e=>La.encodingLength(e),Va=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class qa{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var za=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class Ga{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ha{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ja(this,e)}}class Ka{constructor(e){this.decoders=e}or(e){return Ja(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ja=(e,t)=>new Ka({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Wa{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Ga(e,t,n),this.decoder=new Ha(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Qa=({name:e,prefix:t,encode:n,decode:r})=>new Wa(e,t,n,r),Ya=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=za(n,t);return Qa({prefix:e,name:t,encode:r,decode:e=>Va(o(e))})},Xa=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Qa({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Za=Ya({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ec=(Ya({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Xa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));Xa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Xa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Xa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Xa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class tc{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:lc,byteLength:lc,code:uc,version:uc,multihash:uc,bytes:uc,_baseCache:lc,asCID:lc})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==ic)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==sc)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return tc.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Fa(e),o=r+Fa(n),i=new Uint8Array(o+n);return Ba(e,i,0),Ba(n,i,r),i.set(t,o),new qa(e,n,t,i)})(e,t);return tc.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&((e,t)=>e===t||e.code===t.code&&e.size===t.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(e.bytes,t.bytes))(this.multihash,e.multihash)}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return rc(t,r,e||Za.encoder);default:return oc(t,r,e||ec.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return fc(/^0\.0/,dc),!(!e||!e[cc]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof tc)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new tc(t,n,r,o||ac(t,n,r.bytes))}if(null!=e&&!0===e[cc]){const{version:t,multihash:n,code:r}=e,o=(e=>{const t=Va(e),[n,r]=Ua(t),[o,i]=Ua(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new qa(n,o,s,t)})(n);return tc.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==ic)throw new Error(`Version 0 CID must use dag-pb (code: ${ic}) block encoding`);return new tc(e,t,n,n.bytes);case 1:{const r=ac(e,t,n.bytes);return new tc(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return tc.create(0,ic,e)}static createV1(e,t){return tc.create(1,e,t)}static decode(e){const[t,n]=tc.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=tc.inspectBytes(e),n=t.size-t.multihashSize,r=Va(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new qa(t.multihashCode,t.digestSize,o,r);return[0===t.version?tc.createV0(i):tc.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Ua(e.subarray(t));return t+=r,n};let r=n(),o=ic;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=nc(e,t),o=tc.decode(r);return o._baseCache.set(n,e),o}}const nc=(e,t)=>{switch(e[0]){case"Q":{const n=t||Za;return[Za.prefix,n.decode(`${Za.prefix}${e}`)]}case Za.prefix:{const n=t||Za;return[Za.prefix,n.decode(e)]}case ec.prefix:{const n=t||ec;return[ec.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},rc=(e,t,n)=>{const{prefix:r}=n;if(r!==Za.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},oc=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},ic=112,sc=18,ac=(e,t,n)=>{const r=Fa(e),o=r+Fa(t),i=new Uint8Array(o+n.byteLength);return Ba(e,i,0),Ba(t,i,r),i.set(n,o),i},cc=Symbol.for("@ipld/js-cid/CID"),uc={writable:!1,configurable:!1,enumerable:!0},lc={writable:!1,enumerable:!1,configurable:!1},fc=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},dc="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const hc={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=tc.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new us(cs.tag,42),new us(cs.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const pc={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};pc.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return tc.decode(e.subarray(1))};const mc="dag-cbor",yc=113,gc=e=>{return t=e,n=hc,n=Object.assign({},da,n),wa(t,ha,n);var t,n},vc=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},Ea,t)).tokenizer||new _a(e,t),r=Ia(n,t);if(r===Sa)throw new Error("CBOR decode error: did not find any content to decode");if(r===Ta)throw new Error("CBOR decode error: got unexpected break");if(!n.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return r}(e,pc);async function bc(e,t){return function(e,t=24){const n=(t-e.length%t)%t,r=new Uint8Array(e.length+n);return r.set(e,0),r}((await async function(e){return(await es.cv({value:e,codec:S,hasher:rs.y})).cid}(e)).bytes,t)}function wc(e){return function(e){const t=ts.k0.asCID(e);if(!t)throw new Error("CID could not be parsed");if(t.code!==yc)throw new Error("CID codec must be dag-cbor");if(t.multihash.code!==rs.y.code)throw new Error("CID must use identity multihash");return vc(t.multihash.digest)}(ts.k0.decodeFirst(e)[0])}function Ec(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function _c(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ec(e,t,"get"))}function Sc(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Tc(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ec(e,t,"set"),n),n}var Ic=new WeakMap;class Nc{get connection(){return _c(this,Ic)}createID(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))()}request(e,t,n={}){const{signal:r}=n;if(r?.aborted)return Promise.reject(mi);const o=this.createID(),i=_c(this,Ic).send({jsonrpc:"2.0",id:o,method:e,params:t}).then((e=>{if(null==e)throw new Error("Missing response");if(null!=e.error)throw di.fromObject(e.error);return e.result}));return null==r?i:(r.addEventListener("abort",(()=>{this.notify(yi,{id:o})})),function(e,t){if(t.aborted)return Promise.reject(mi);let n;const r=new Promise(((e,t)=>{n=t}));return t.addEventListener("abort",(()=>{n(mi)})),Promise.race([e,r])}(i,r))}async notify(e,t){await _c(this,Ic).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){Sc(this,Ic,{writable:!0,value:void 0}),Tc(this,Ic,e)}}const Oc=["string","number","bigint","symbol"],kc=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Ac(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Oc.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(kc.includes(t))return t;return}(e);return n||"Object"}class xc{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}xc.uint=new xc(0,"uint",!0),xc.negint=new xc(1,"negint",!0),xc.bytes=new xc(2,"bytes",!0),xc.string=new xc(3,"string",!0),xc.array=new xc(4,"array",!1),xc.map=new xc(5,"map",!1),xc.tag=new xc(6,"tag",!1),xc.float=new xc(7,"float",!0),xc.false=new xc(7,"false",!0),xc.true=new xc(7,"true",!0),xc.null=new xc(7,"null",!0),xc.undefined=new xc(7,"undefined",!0),xc.break=new xc(7,"break",!0);class Cc{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const $c=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,Rc=new TextDecoder,Dc=new TextEncoder;function Pc(e){return $c&&globalThis.Buffer.isBuffer(e)}function jc(e){return e instanceof Uint8Array?Pc(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Mc=$c?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):zc(e,t,n):(e,t,n)=>n-t>64?Rc.decode(e.subarray(t,n)):zc(e,t,n),Lc=$c?e=>e.length>64?globalThis.Buffer.from(e):qc(e):e=>e.length>64?Dc.encode(e):qc(e),Uc=e=>Uint8Array.from(e),Bc=$c?(e,t,n)=>Pc(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),Fc=$c?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),jc(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},Vc=$c?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function qc(e,t=1/0){let n;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function zc(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=Gc)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Gc));return n}(r)}const Gc=4096;class Hc{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Vc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Bc(n,0,this.cursor)}else t=Fc(this.chunks,this.cursor);return e&&this.reset(),t}}const Kc=[];function Jc(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}Kc[23]=1,Kc[24]=2,Kc[25]=3,Kc[26]=5,Kc[27]=9;const Wc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Qc(e,t,n){Jc(e,t,1);const r=e[t];if(!0===n.strict&&r<Wc[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Yc(e,t,n){Jc(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<Wc[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Xc(e,t,n){Jc(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<Wc[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function Zc(e,t,n){Jc(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<Wc[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function eu(e,t){return tu(e,0,t.value)}function tu(e,t,n){if(n<Wc[0]){const r=Number(n);e.push([t|r])}else if(n<Wc[1]){const r=Number(n);e.push([24|t,r])}else if(n<Wc[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<Wc[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<Wc[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}eu.encodedSize=function(e){return tu.encodedSize(e.value)},tu.encodedSize=function(e){return e<Wc[0]?1:e<Wc[1]?2:e<Wc[2]?3:e<Wc[3]?5:9},eu.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const nu=BigInt(-1),ru=BigInt(1);function ou(e,t){const n=t.value,r="bigint"===typeof n?n*nu-ru:-1*n-1;tu(e,t.type.majorEncoded,r)}function iu(e,t,n,r){Jc(e,t,n+r);const o=Bc(e,t+n,t+n+r);return new Cc(xc.bytes,o,n+r)}function su(e,t,n,r){return iu(e,t,1,n)}function au(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===xc.string?Lc(e.value):e.value),e.encodedBytes}function cu(e,t){const n=au(t);tu(e,t.type.majorEncoded,n.length),e.push(n)}function uu(e,t,n,r,o){const i=n+r;Jc(e,t,i);const s=new Cc(xc.string,Mc(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=Bc(e,t+n,t+i)),s}function lu(e,t,n,r){return uu(e,t,1,n,r)}ou.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*nu-ru:-1*t-1;return n<Wc[0]?1:n<Wc[1]?2:n<Wc[2]?3:n<Wc[3]?5:9},ou.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},cu.encodedSize=function(e){const t=au(e);return tu.encodedSize(t.length)+t.length},cu.compareTokens=function(e,t){return n=au(e),r=au(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(Pc(e)&&Pc(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const fu=cu;function du(e,t,n,r){return new Cc(xc.array,r,n)}function hu(e,t,n,r){return du(0,0,1,n)}function pu(e,t){tu(e,xc.array.majorEncoded,t.value)}function mu(e,t,n,r){return new Cc(xc.map,r,n)}function yu(e,t,n,r){return mu(0,0,1,n)}function gu(e,t){tu(e,xc.map.majorEncoded,t.value)}function vu(e,t,n,r){return new Cc(xc.tag,n,1)}function bu(e,t){tu(e,xc.tag.majorEncoded,t.value)}pu.compareTokens=eu.compareTokens,pu.encodedSize=function(e){return tu.encodedSize(e.value)},gu.compareTokens=eu.compareTokens,gu.encodedSize=function(e){return tu.encodedSize(e.value)},bu.compareTokens=eu.compareTokens,bu.encodedSize=function(e){return tu.encodedSize(e.value)};function wu(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new Cc(xc.float,e,t)}function Eu(e,t,n){const r=t.value;if(!1===r)e.push([20|xc.float.majorEncoded]);else if(!0===r)e.push([21|xc.float.majorEncoded]);else if(null===r)e.push([22|xc.float.majorEncoded]);else if(void 0===r)e.push([23|xc.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(Iu(r),t=Nu(Tu,1),r===t||Number.isNaN(r)?(Tu[0]=249,e.push(Tu.slice(0,3)),i=!0):(Ou(r),t=ku(Tu,1),r===t&&(Tu[0]=250,e.push(Tu.slice(0,5)),i=!0))),i||(o=r,Su.setFloat64(0,o,!1),t=Au(Tu,1),Tu[0]=251,e.push(Tu.slice(0,9)))}var o}Eu.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){Iu(n);let e=Nu(Tu,1);if(n===e||Number.isNaN(n))return 3;if(Ou(n),e=ku(Tu,1),n===e)return 5}return 9};const _u=new ArrayBuffer(9),Su=new DataView(_u,1),Tu=new Uint8Array(_u,0);function Iu(e){if(e===1/0)Su.setUint16(0,31744,!1);else if(e===-1/0)Su.setUint16(0,64512,!1);else if(Number.isNaN(e))Su.setUint16(0,32256,!1);else{Su.setFloat32(0,e);const t=Su.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)Su.setUint16(0,31744,!1);else if(0===n)Su.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?Su.setUint16(0,0):e<-14?Su.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Su.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function Nu(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function Ou(e){Su.setFloat32(0,e,!1)}function ku(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function Au(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function xu(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function Cu(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Eu.compareTokens=eu.compareTokens;const $u=[];for(let Gd=0;Gd<=23;Gd++)$u[Gd]=xu;$u[24]=function(e,t,n,r){return new Cc(xc.uint,Qc(e,t+1,r),2)},$u[25]=function(e,t,n,r){return new Cc(xc.uint,Yc(e,t+1,r),3)},$u[26]=function(e,t,n,r){return new Cc(xc.uint,Xc(e,t+1,r),5)},$u[27]=function(e,t,n,r){return new Cc(xc.uint,Zc(e,t+1,r),9)},$u[28]=xu,$u[29]=xu,$u[30]=xu,$u[31]=xu;for(let Gd=32;Gd<=55;Gd++)$u[Gd]=xu;$u[56]=function(e,t,n,r){return new Cc(xc.negint,-1-Qc(e,t+1,r),2)},$u[57]=function(e,t,n,r){return new Cc(xc.negint,-1-Yc(e,t+1,r),3)},$u[58]=function(e,t,n,r){return new Cc(xc.negint,-1-Xc(e,t+1,r),5)},$u[59]=function(e,t,n,r){const o=Zc(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new Cc(xc.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new Cc(xc.negint,nu-BigInt(o),9)},$u[60]=xu,$u[61]=xu,$u[62]=xu,$u[63]=xu;for(let Gd=64;Gd<=87;Gd++)$u[Gd]=su;$u[88]=function(e,t,n,r){return iu(e,t,2,Qc(e,t+1,r))},$u[89]=function(e,t,n,r){return iu(e,t,3,Yc(e,t+1,r))},$u[90]=function(e,t,n,r){return iu(e,t,5,Xc(e,t+1,r))},$u[91]=function(e,t,n,r){const o=Zc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return iu(e,t,9,o)},$u[92]=xu,$u[93]=xu,$u[94]=xu,$u[95]=Cu("indefinite length bytes/strings are not supported");for(let Gd=96;Gd<=119;Gd++)$u[Gd]=lu;$u[120]=function(e,t,n,r){return uu(e,t,2,Qc(e,t+1,r),r)},$u[121]=function(e,t,n,r){return uu(e,t,3,Yc(e,t+1,r),r)},$u[122]=function(e,t,n,r){return uu(e,t,5,Xc(e,t+1,r),r)},$u[123]=function(e,t,n,r){const o=Zc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return uu(e,t,9,o,r)},$u[124]=xu,$u[125]=xu,$u[126]=xu,$u[127]=Cu("indefinite length bytes/strings are not supported");for(let Gd=128;Gd<=151;Gd++)$u[Gd]=hu;$u[152]=function(e,t,n,r){return du(0,0,2,Qc(e,t+1,r))},$u[153]=function(e,t,n,r){return du(0,0,3,Yc(e,t+1,r))},$u[154]=function(e,t,n,r){return du(0,0,5,Xc(e,t+1,r))},$u[155]=function(e,t,n,r){const o=Zc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return du(0,0,9,o)},$u[156]=xu,$u[157]=xu,$u[158]=xu,$u[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return du(0,0,1,1/0)};for(let Gd=160;Gd<=183;Gd++)$u[Gd]=yu;$u[184]=function(e,t,n,r){return mu(0,0,2,Qc(e,t+1,r))},$u[185]=function(e,t,n,r){return mu(0,0,3,Yc(e,t+1,r))},$u[186]=function(e,t,n,r){return mu(0,0,5,Xc(e,t+1,r))},$u[187]=function(e,t,n,r){const o=Zc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return mu(0,0,9,o)},$u[188]=xu,$u[189]=xu,$u[190]=xu,$u[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return mu(0,0,1,1/0)};for(let Gd=192;Gd<=215;Gd++)$u[Gd]=vu;$u[216]=function(e,t,n,r){return new Cc(xc.tag,Qc(e,t+1,r),2)},$u[217]=function(e,t,n,r){return new Cc(xc.tag,Yc(e,t+1,r),3)},$u[218]=function(e,t,n,r){return new Cc(xc.tag,Xc(e,t+1,r),5)},$u[219]=function(e,t,n,r){return new Cc(xc.tag,Zc(e,t+1,r),9)},$u[220]=xu,$u[221]=xu,$u[222]=xu,$u[223]=xu;for(let Gd=224;Gd<=243;Gd++)$u[Gd]=Cu("simple values are not supported");$u[244]=xu,$u[245]=xu,$u[246]=xu,$u[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new Cc(xc.null,null,1):new Cc(xc.undefined,void 0,1)},$u[248]=Cu("simple values are not supported"),$u[249]=function(e,t,n,r){return wu(Nu(e,t+1),3,r)},$u[250]=function(e,t,n,r){return wu(ku(e,t+1),5,r)},$u[251]=function(e,t,n,r){return wu(Au(e,t+1),9,r)},$u[252]=xu,$u[253]=xu,$u[254]=xu,$u[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new Cc(xc.break,void 0,1)};const Ru=[];for(let Gd=0;Gd<24;Gd++)Ru[Gd]=new Cc(xc.uint,Gd,1);for(let Gd=-1;Gd>=-24;Gd--)Ru[31-Gd]=new Cc(xc.negint,Gd,1);Ru[64]=new Cc(xc.bytes,new Uint8Array(0),1),Ru[96]=new Cc(xc.string,"",1),Ru[128]=new Cc(xc.array,0,1),Ru[160]=new Cc(xc.map,0,1),Ru[244]=new Cc(xc.false,!1,1),Ru[245]=new Cc(xc.true,!0,1),Ru[246]=new Cc(xc.null,null,1);const Du={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=Pu[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case xc.false:return Uc([244]);case xc.true:return Uc([245]);case xc.null:return Uc([246]);case xc.bytes:return e.value.length?void 0:Uc([64]);case xc.string:return""===e.value?Uc([96]):void 0;case xc.array:return 0===e.value?Uc([128]):void 0;case xc.map:return 0===e.value?Uc([160]):void 0;case xc.uint:return e.value<24?Uc([Number(e.value)]):void 0;case xc.negint:if(e.value>=-24)return Uc([31-Number(e.value)])}}};const Pu=function(){const e=[];return e[xc.uint.major]=eu,e[xc.negint.major]=ou,e[xc.bytes.major]=cu,e[xc.string.major]=fu,e[xc.array.major]=pu,e[xc.map.major]=gu,e[xc.tag.major]=bu,e[xc.float.major]=Eu,e}(),ju=new Hc;class Mu{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new Mu(t,e)}}const Lu={null:new Cc(xc.null,null),undefined:new Cc(xc.undefined,void 0),true:new Cc(xc.true,!0),false:new Cc(xc.false,!1),emptyArray:new Cc(xc.array,0),emptyMap:new Cc(xc.map,0)},Uu={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Cc(e>=0?xc.uint:xc.negint,e):new Cc(xc.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new Cc(xc.uint,e):new Cc(xc.negint,e),Uint8Array:(e,t,n,r)=>new Cc(xc.bytes,e),string:(e,t,n,r)=>new Cc(xc.string,e),boolean:(e,t,n,r)=>e?Lu.true:Lu.false,null:(e,t,n,r)=>Lu.null,undefined:(e,t,n,r)=>Lu.undefined,ArrayBuffer:(e,t,n,r)=>new Cc(xc.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new Cc(xc.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[Lu.emptyArray,new Cc(xc.break)]:Lu.emptyArray;r=Mu.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=Bu(s,n,r);return n.addBreakTokens?[new Cc(xc.array,e.length),o,new Cc(xc.break)]:[new Cc(xc.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[Lu.emptyMap,new Cc(xc.break)]:Lu.emptyMap;r=Mu.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[Bu(u,n,r),Bu(o?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new Cc(xc.map,s),a,new Cc(xc.break)]:[new Cc(xc.map,s),a]}};Uu.Map=Uu.Object,Uu.Buffer=Uu.Uint8Array;for(const Gd of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Uu[`${Gd}Array`]=Uu.DataView;function Bu(e,t={},n){const r=Ac(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||Uu[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=Uu[r];if(!i)throw new Error(`CBOR encode error: unsupported type: ${r}`);return i(e,r,t,n)}function Fu(e,t,n,r){if(Array.isArray(t))for(const o of t)Fu(e,o,n,r);else n[t.type.major](e,t,r)}function Vu(e,t,n){const r=Bu(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new Hc(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return jc(t.chunks[0])}}return ju.reset(),Fu(ju,r,t,n),ju.toBytes(!0)}const qu={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class zu{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=Ru[e];if(void 0===t){const n=$u[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this.pos,r,this.options)}return this.pos+=t.encodedLength,t}}const Gu=Symbol.for("DONE"),Hu=Symbol.for("BREAK");function Ku(e,t){if(e.done())return Gu;const n=e.next();if(n.type===xc.break)return Hu;if(n.type.terminal)return n.value;if(n.type===xc.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=Ku(t,n);if(i===Hu){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(i===Gu)throw new Error(`CBOR decode error: found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===xc.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=Ku(t,n);if(a===Hu){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Gu)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=Ku(t,n);if(c===Gu)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,c):o[a]=c}return r?i:o}(n,e,t);if(n.type===xc.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=Ku(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}var Ju=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=Wu;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},Wu=Math.pow(2,31);var Qu=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var Yu=Math.pow(2,7),Xu=Math.pow(2,14),Zu=Math.pow(2,21),el=Math.pow(2,28),tl=Math.pow(2,35),nl=Math.pow(2,42),rl=Math.pow(2,49),ol=Math.pow(2,56),il=Math.pow(2,63),sl={encode:Ju,decode:Qu,encodingLength:function(e){return e<Yu?1:e<Xu?2:e<Zu?3:e<el?4:e<tl?5:e<nl?6:e<rl?7:e<ol?8:e<il?9:10}};const al=(e,t=0)=>[sl.decode(e,t),sl.decode.bytes],cl=(e,t,n=0)=>(sl.encode(e,t,n),t),ul=e=>sl.encodingLength(e),ll=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class fl{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var dl=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class hl{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class pl{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return yl(this,e)}}class ml{constructor(e){this.decoders=e}or(e){return yl(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yl=(e,t)=>new ml({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class gl{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new hl(e,t,n),this.decoder=new pl(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vl=({name:e,prefix:t,encode:n,decode:r})=>new gl(e,t,n,r),bl=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=dl(n,t);return vl({prefix:e,name:t,encode:r,decode:e=>ll(o(e))})},wl=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>vl({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),El=bl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_l=(bl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),wl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),Sl=(wl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return kl(n,Il(e),t||El.encoder);default:return Al(n,Il(e),t||_l.encoder)}}),Tl=new WeakMap,Il=e=>{const t=Tl.get(e);if(null==t){const t=new Map;return Tl.set(e,t),t}return t};class Nl{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==xl)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Cl)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Nl.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=ul(e),o=r+ul(n),i=new Uint8Array(o+n);return cl(e,i,0),cl(n,i,r),i.set(t,o),new fl(e,n,t,i)})(e,t);return Nl.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Nl.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&((e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(e.bytes,n.bytes)}})(e.multihash,n.multihash)}toString(e){return Sl(this,e)}toJSON(){return{"/":Sl(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof Nl)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new Nl(e,n,r,o||$l(e,n,r.bytes))}if(!0===t[Rl]){const{version:e,multihash:n,code:r}=t,o=(e=>{const t=ll(e),[n,r]=al(t),[o,i]=al(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new fl(n,o,s,t)})(n);return Nl.create(e,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==xl)throw new Error(`Version 0 CID must use dag-pb (code: ${xl}) block encoding`);return new Nl(e,t,n,n.bytes);case 1:{const r=$l(e,t,n.bytes);return new Nl(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Nl.create(0,xl,e)}static createV1(e,t){return Nl.create(1,e,t)}static decode(e){const[t,n]=Nl.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Nl.inspectBytes(e),n=t.size-t.multihashSize,r=ll(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new fl(t.multihashCode,t.digestSize,o,r);return[0===t.version?Nl.createV0(i):Nl.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=al(e.subarray(t));return t+=r,n};let r=n(),o=xl;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=Ol(e,t),o=Nl.decode(r);if(0===o.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return Il(o).set(n,e),o}}const Ol=(e,t)=>{switch(e[0]){case"Q":{const n=t||El;return[El.prefix,n.decode(`${El.prefix}${e}`)]}case El.prefix:{const n=t||El;return[El.prefix,n.decode(e)]}case _l.prefix:{const n=t||_l;return[_l.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},kl=(e,t,n)=>{const{prefix:r}=n;if(r!==El.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},Al=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},xl=112,Cl=18,$l=(e,t,n)=>{const r=ul(e),o=r+ul(t),i=new Uint8Array(o+n.byteLength);return cl(e,i,0),cl(t,i,r),i.set(n,o),i},Rl=Symbol.for("@ipld/js-cid/CID");const Dl={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=Nl.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Cc(xc.tag,42),new Cc(xc.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const Pl={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Pl.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Nl.decode(e.subarray(1))};const jl="dag-cbor",Ml=113,Ll=e=>{return t=e,n=Dl,n=Object.assign({},Du,n),Vu(t,Pu,n);var t,n},Ul=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},qu,t)).tokenizer||new zu(e,t),r=Ku(n,t);if(r===Gu)throw new Error("CBOR decode error: did not find any content to decode");if(r===Hu)throw new Error("CBOR decode error: got unexpected break");if(!n.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return r}(e,Pl);new Date("2022-09-20").valueOf();var Bl,Fl;function Vl(e){if(null===e.s||void 0===e.s)throw new Error("CACAO does not have a signature")}!function(e){e.fromSiweMessage=function(e){const t={h:{t:"eip4361"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:eip155:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"eip191",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwsMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:solana:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"solana:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwTezosMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:tezos:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"tezos:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwStacksMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:stacks:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"stacks:secp256k1",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromBlockBytes=async function(e){return(await es.Jx({bytes:e,codec:T,hasher:ns.J})).value},e.verify=async function(e,t={}){Vl(e);const n=t.verifiers[e.s.t];if(!n)throw new Error("Unsupported CACAO signature type, register the needed verifier");return n(e,t)}}(Bl||(Bl={})),function(e){e.fromCacao=function(e){return es.cv({value:e,codec:T,hasher:ns.J})}}(Fl||(Fl={}));var ql=n(67118),zl=n(98401);class Gl{input;position=0;constructor(e){this.input=e}get isEOF(){return this.position>=this.input.length}}function Hl(e,t,n){return n.position=t,Kl(e)}function Kl(e){return(0,zl.t$)(e)}function Jl(e){return function(t){return t.input.slice(t.position,t.position+e.length)===e?(t.position+=e.length,(0,zl.F2)(e)):Kl(new Error(`Can not match literal "${e}"`))}}function Wl(e,t){return function(n){const r=n.position,o=e(n);if((0,zl.nM)(o))return n.position=r,o;const i=t(o.right);return(0,zl.nM)(i)?Hl(i.left,r,n):i}}function Ql(e,t){return function(n){const r=n.position,o=e(n);return(0,zl.nM)(o)?(n.position=r,o):(0,zl.F2)(t(o.right))}}function Yl(e){return function(t){const n=t.input.slice(t.position).match(e);return n?(t.position+=n[0].length,(0,zl.F2)(n[0])):Kl(new Error(`Can not match ${e}`))}}function Xl(...e){return Zl(tf(e))}function Zl(e,t=""){return function(n){const r=n.position,o=e(n);return(0,zl.nM)(o)?(n.position=r,o):(0,zl.F2)(o.right.join(t))}}function ef(...e){return tf(e)}function tf(e){return function(t){const n=t.position,r=[];for(const o of e){const e=o(t);if((0,zl.nM)(e))return Hl(e.left,n,t);r.push(e.right)}return(0,zl.F2)(r)}}function nf(e,t){return function(n){const r=e(n);return(0,zl.nM)(r)?(0,zl.F2)(t):r}}function rf(...e){return function(t){for(const n of e){const e=t.position,r=n(t);if(!(0,zl.nM)(r))return r;t.position=e}return Kl(new Error(`Can not find any of ${e.map((e=>e.name)).join(", ")}`))}}function of(e,t,n=1,r=1/0){return function(o){const i=o.position,s=[],a=e(o);if((0,zl.nM)(a))return Hl(a.left,i,o);s.push(a.right);let c=o.position;const u=e=>s.length<n?Hl(e.left,c,o):(o.position=c,(0,zl.F2)(s));for(;!o.isEOF&&s.length<r;){c=o.position;const n=t(o);if((0,zl.nM)(n))return u(n);const r=e(o);if((0,zl.nM)(r))return u(r);s.push(r.right)}return s.length<n?Hl(new Error(`Got ${s}/${n} instances of ${e.name}`),i,o):(0,zl.F2)(s)}}function sf(e){return function(t){const n=t.position,r=e(t);return(0,zl.nM)(r)||t.isEOF?r:Hl(new Error(`Consumed only ${t.position} of ${t.input.length} input length`),n,t)}}var af=n(44415);const cf=Jl("."),uf=Jl(":"),lf=Jl("::"),ff=Yl(/^([0-9a-fA-F]{2}){1,4}/),df=Yl(/^(25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|(\d)/),hf=Xl(df,cf,df,cf,df,cf,df),pf=rf(Xl(ff,uf,ff),hf);const mf=function(){const e=e=>Zl(function(e,t=1,n=1/0){return function(r){const o=r.position,i=[];for(;!r.isEOF&&i.length<n;){const n=e(r);if((0,zl.nM)(n))return i.length<t?Hl(n.left,o,r):(0,zl.F2)(i);i.push(n.right)}return(0,zl.F2)(i)}}(Xl(ff,uf),e,e)),t=e=>nf(Zl(of(ff,uf,1,e),":"),"");return Zl(rf(ef(e(6),pf),ef(lf,e(5),pf),ef(t(1),lf,e(4),pf),ef(t(2),lf,e(3),pf),ef(t(3),lf,e(2),pf),ef(t(4),lf,e(1),pf),ef(t(5),lf,pf),ef(t(6),lf,ff),ef(t(7),lf)))}(),yf=Xl(Jl("["),mf,Jl("]")),gf=Wl(Yl(/^\d+/),(e=>String(parseInt(e,10))===e?(0,af.F2)(e):(0,af.t$)(new Error(`Invalid port ${e}`)))),vf=rf(yf,hf,Yl(/^([a-zA-Z0-9\-._~!$&'()*+,;=]|(%[a-fA-F0-9]{2}))*/)),bf=Xl(Jl(":"),gf),wf=Wl(Xl(vf,nf(bf,"")),(e=>e?(0,af.F2)(e):(0,af.t$)(new Error("domain can not be empty")))),Ef=Wl(Yl(/^\S+/),(e=>{try{return new URL(e),(0,af.F2)(e)}catch(Ui){return(0,af.t$)(new Error(`Invalid URI ${e}`))}})),_f=Jl("\n"),Sf=Yl(/^\d+/),Tf=Yl(/^\w+/),If=Ql(ef(wf,Jl(" wants you to sign in with your "),Tf,Jl(" account:")),(e=>({domain:e[0],network:e[2]}))),Nf=Yl(/^\w+/),Of=Ql(nf(ef(Yl(/^[^\n]+/),_f),void 0),(e=>{if(e)return e[0]})),kf=Ql(ef(Jl("URI: "),Ef,_f),(e=>e[1])),Af=Ql(ef(Jl("Version: 1"),_f),(()=>"1")),xf=Ql(ef(Jl("Chain ID: "),Sf,_f),(e=>e[1])),Cf=Yl(/^[a-zA-Z0-9]{8,}/),$f=Ql(ef(Jl("Nonce: "),Cf,_f),(e=>e[1])),Rf=Wl(Yl(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|([+-](\d\d):(\d\d)))/),(e=>Number.isFinite(Date.parse(e))?(0,af.F2)(e):(0,af.t$)(new Error(`Invalid date-time ${e}`)))),Df=e=>Ql(ef(Jl(e),Rf),(e=>e[1])),Pf=Df("Issued At: "),jf=Df("Expiration Time: "),Mf=Df("Not Before: "),Lf=Yl(/^([a-zA-Z0-9-._~!$&'():@]|(%[a-fA-F0-9]{2}))*/),Uf=Ql(ef(Jl("Request ID: "),Lf,_f),(e=>e[1])),Bf=Ef,Ff=Ql(ef(Jl("- "),Bf),(e=>e[1])),Vf=Ql(ef(Jl("Resources:"),_f,nf(of(Ff,_f),[])),(e=>e[2])),qf=Ql(ef(If,_f,Nf,_f),(e=>({domain:e[0].domain,network:e[0].network,address:e[2]}))),zf=Ql(ef(kf,Af,xf,$f,Pf),(e=>({uri:e[0],version:e[1],chainId:e[2],nonce:e[3],issuedAt:e[4]}))),Gf=nf(ef(_f,jf),void 0),Hf=nf(ef(_f,Mf),void 0),Kf=nf(ef(_f,Uf),void 0),Jf=Ql(nf(ef(_f,Vf),void 0),(e=>e?e[1]:void 0)),Wf=Ql(ef(Gf,Hf,Kf,Jf),(e=>({expirationTime:e[0],notBefore:e[1],requestId:e[2],resources:e[3]}))),Qf=Ql(ef(qf,_f,Of,_f,zf,Wf),(e=>{const t=e[0],n=e[2],r=e[4],o=e[5];return{domain:t.domain,network:t.network,address:t.address,statement:n,uri:r.uri,version:r.version,chainId:r.chainId,nonce:r.nonce,issuedAt:r.issuedAt,resources:o.resources}}));function Yf(e){const t=sf(e);return function(e){return(0,af.Gg)(t(new Gl(e)))}}const Xf=Yf(wf),Zf=Yf(Rf),ed=Yf(Ef);function td(e,t){if(e)return e;throw new Error(`Expect non-empty string for "${t}" field`)}function nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rd{toString(){return function(e){const t=`${e.domain} wants you to sign in with your ${e.network} account:`,n=e.address,r=e.statement,o=`URI: ${e.uri}`,i=`Version: ${e.version}`,s=`Chain ID: ${e.chainId}`,a=`Nonce: ${e.nonce}`,c=`Issued At: ${e.issuedAt}`,u=e.expirationTime?`Expiration Time: ${e.expirationTime}`:void 0,l=e.notBefore?`Not Before: ${e.notBefore}`:void 0,f=e.requestId?`Request ID: ${e.requestId}`:void 0,d=e.resources?`Resources:\n${function(e){return e.map((e=>`- ${e}`)).join("\n")}(e.resources)}`:void 0;let h=`${t}\n${n}\n\n`;r&&(h+=`${r}\n`);return[h,o,i,s,a,c,u,l,f,d].filter(Boolean).join("\n")}(this)}constructor(e){var t;nd(this,"domain",void 0),nd(this,"network",void 0),nd(this,"address",void 0),nd(this,"statement",void 0),nd(this,"uri",void 0),nd(this,"version",void 0),nd(this,"chainId",void 0),nd(this,"nonce",void 0),nd(this,"issuedAt",void 0),nd(this,"expirationTime",void 0),nd(this,"notBefore",void 0),nd(this,"requestId",void 0),nd(this,"resources",void 0),this.domain=Xf(e.domain),this.network=td(e.network,"network"),this.address=td(e.address,"address"),this.statement=sd(e.statement,(e=>td(e,"statement"))),this.uri=ed(e.uri),this.version=function(e){if("1"!==String(e))throw new Error(`Invalid version string: ${e}`);return"1"}(e.version||"1"),this.chainId=(t=e.chainId,String(t)),this.nonce=function(e){return Yf(Cf)(String(e))}(e.nonce),this.issuedAt=Zf(e.issuedAt),this.expirationTime=sd(e.expirationTime,Zf),this.notBefore=sd(e.notBefore,Zf),this.requestId=sd(e.requestId,(e=>td(e,"requestId"))),this.resources=sd(e.resources,(e=>e.map(ed)))}}function od(e){const t=sf(Qf)(new Gl(e));return(0,af.nM)(t)?t:(0,af.F2)(new rd(t.right))}function id(e){return(0,af.Gg)(od(e))}function sd(e,t){return void 0!==e?t(e):void 0}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cd,ud;nd(rd,"fromString",id),nd(rd,"fromStringSafe",od),function(e){e.INVALID_SIGNATURE="Invalid signature.",e.EXPIRED_MESSAGE="Expired message.",e.MALFORMED_SESSION="Malformed session."}(cd||(cd={})),function(e){e.PERSONAL_SIGNATURE="Personal signature"}(ud||(ud={}));class ld extends class{static fromCacao(e){const t=ql.hX.parse(e.p.iss.replace("did:pkh:","")),n=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new ql.a_(t.chainId).reference});return e.p.statement&&(n.statement=e.p.statement),e.p.nonce&&(n.nonce=e.p.nonce),e.p.iat&&(n.issuedAt=e.p.iat),e.p.exp&&(n.expirationTime=e.p.exp),e.p.nbf&&(n.notBefore=e.p.nbf),e.p.requestId&&(n.requestId=e.p.requestId),e.p.resources&&(n.resources=e.p.resources),e.s&&(e.s.s&&(n.signature=e.s.s),"eip191"===e.s.t&&(n.type=ud.PERSONAL_SIGNATURE)),n}toMessage(e){return function(e,t){const n=`${e.domain} wants you to sign in with your ${t} account:`,r=`URI: ${e.uri}`;let o=[n,e.address].join("\n");const i=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=`Nonce: ${e.nonce}`,a=`Chain ID: ${e.chainId}`,c=[r,i,a,s];e.issuedAt&&Date.parse(e.issuedAt);if(e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),c.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;c.push(t)}e.notBefore&&c.push(`Not Before: ${e.notBefore}`);e.requestId&&c.push(`Request ID: ${e.requestId}`);e.resources&&e.resources.length>=1&&c.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const u=c.join("\n");e.statement&&(o=[o,e.statement].join("\n\n"));return[o,u].join("\n\n")}(this,e)}constructor(e){if(ad(this,"domain",void 0),ad(this,"address",void 0),ad(this,"statement",void 0),ad(this,"uri",void 0),ad(this,"version",void 0),ad(this,"nonce",void 0),ad(this,"issuedAt",void 0),ad(this,"expirationTime",void 0),ad(this,"notBefore",void 0),ad(this,"requestId",void 0),ad(this,"chainId",void 0),ad(this,"resources",void 0),ad(this,"signature",void 0),ad(this,"type",void 0),"string"===typeof e){const t=id(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}}{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;switch(this.type){case ud.PERSONAL_SIGNATURE:default:e=this.toMessage()}return e}}const fd=new Date("2022-09-20").valueOf();function dd(e,t){const n="string"===typeof e?nt(e):e,r=Nr(ot(nt("\x19Ethereum Signed Message:\n"),nt(String(e.length)),n)),o=function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,o=e.slice(t,t+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}(t.replace(/^0x/,""));let i=o[64];0!==i&&1!==i||(i+=27);const s=Qr.Signature.fromCompact(o.slice(0,64)).addRecoveryBit(i-27).recoverPublicKey(r).toRawBytes(!1);return`0x${tt(Nr(s.subarray(1)).subarray(-20))}`}function hd(e){return e instanceof Uint8Array}new af.Cs("Uint8Array",hd);function pd(e){return new af.Dy(`Uint8Array-as-${String(e)}`,hd,((t,n)=>{try{return n.success((0,k.mL)(t,e))}catch{return n.failure()}}),(t=>(0,k.BB)(t,e)))}pd("base64");const md=pd("base64pad"),yd=pd("base64url");function gd(e){return md.encode(e)}function vd(e){const t=(0,af.Jx)(yd,e);return JSON.parse((0,Ar.B)(t))}var bd=n(31416);function wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ed={eip191:async(e,t)=>{!function(e,t){Vl(e),function(e,t){const n=t.atTime?t.atTime.getTime():Date.now(),r=1e3*(t.clockSkewSecs??300);if(Date.parse(e.p.iat)>n+r||Date.parse(e.p.nbf)>n+r)throw new Error("CACAO is not valid yet");const o=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0;if(!t.disableExpirationCheck&&Date.parse(e.p.exp)+o+r<n)throw new Error("CACAO has expired")}(e,t);const n=[dd(ld.fromCacao(e).toMessage(),e.s.s)];if(Date.parse(e.p.iat)<=fd){const t=dd(function(e,t){const n=`${e.domain} wants you to sign in with your ${t} account:`,r=`URI: ${e.uri}`;let o=[n,e.address].join("\n");const i=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=[r,i,`Nonce: ${e.nonce}`];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),s.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;s.push(t)}e.notBefore&&s.push(`Not Before: ${e.notBefore}`),e.requestId&&s.push(`Request ID: ${e.requestId}`),e.chainId&&s.push(`Chain ID: ${e.chainId}`),e.resources&&s.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const a=s.join("\n");return e.statement&&(o=[o,e.statement].join("\n\n")),[o,a].join("\n\n")}(ld.fromCacao(e),"Ethereum"),e.s.s);n.push(t)}const r=ql.hX.parse(e.p.iss.replace("did:pkh:","")).address.toLowerCase();if(!n.includes(r))throw new Error("Signature does not belong to issuer")}(e,t)}};class _d{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return null!=this._capability}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return null!=this._parentId}get id(){if(null==this._id)throw new Error("DID is not authenticated");return this._id}get authenticated(){return null!=this._id}withCapability(e){return new _d({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(null==this._client)this._client=new Nc(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=function(e){return"registry"in e&&"cache"in e}(e)?e:new Zi.H2(e,t)}async authenticate({provider:e,paths:t=[],aud:n}={}){if(null!=e&&this.setProvider(e),null==this._client)throw new Error("No provider available");const r=(0,Ar.B)((0,bd.randomBytes)(16),"base64"),o=await this._client.request("did_authenticate",{nonce:r,aud:n,paths:t}),{kid:i}=await this.verifyJWS(o),s=vd(o.payload);if(!i.includes(s.did))throw new Error("Invalid authencation response, kid mismatch");if(s.nonce!==r)throw new Error("Invalid authencation response, wrong nonce");if(s.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(s.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=s.did,this._id}async createJWS(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");if(this._capability){const e=this._capability.p.exp;if(e&&Date.parse(e)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");const n=await Fl.fromCacao(this._capability),r=ts.k0.asCID(n.cid);if(!r)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${r?.toString()}`}const{jws:n}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return n}async createDagJWS(e,t={}){const{cid:n,linkedBlock:r}=await async function(e){const t=await es.cv({value:e,codec:S,hasher:ns.J});return{cid:t.cid,linkedBlock:t.bytes}}(e),o=function(e){return yd.encode(e)}(n.bytes);Object.assign(t,{linkedBlock:gd(r)});const i=await this.createJWS(o,t),s=ts.k0.asCID(n);if(!s)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");if(i.link=s,this._capability){return{jws:i,linkedBlock:r,cacaoBlock:(await Fl.fromCacao(this._capability)).bytes}}return{jws:i,linkedBlock:r}}async verifyJWS(e,t={}){t=Object.assign({verifiers:Ed},t),"string"!==typeof e&&(e=function(e){if(e.signatures.length>1)throw new Error("Cant convert to compact jws");return`${e.signatures[0].protected}.${e.payload}.${e.signatures[0].signature}`}(e));const n=vd(e.split(".")[0]).kid;if(!n)throw new Error('No "kid" found in jws');const r=await this.resolve(n);if(!t.disableTimecheck){const e=r.didDocumentMetadata?.nextUpdate;if(e){const r=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0,o=new Date(e).valueOf()+r;if(!(t.atTime&&t.atTime.getTime()<o))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${n}`)}const o=r.didDocumentMetadata?.updated;if(o&&t.atTime&&t.atTime.getTime()<new Date(o).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${n}`)}const o=r.didDocument?.id;if(t.issuer&&t.issuer===t.capability?.p.iss&&o===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await Bl.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==o){const e=function(e,t){if(t)return`${e}?versionTime=${t.toISOString().split(".")[0]+"Z"}`;return e}(t.issuer,t.atTime),r=(await this.resolve(e)).didDocument?.controller,i=function(e){return e?Array.isArray(e)?e:[e]:[]}(r);if(t.capability?.s&&t.capability.p.aud===o&&i.includes(t.capability.p.iss))await Bl.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else{if(!(!!o&&i.includes(o)))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${n}`)}}let i;zo(e,r.didDocument?.verificationMethod||[]);try{i=vd(e.split(".")[1])}catch(Ui){}return{kid:n,payload:i,didResolutionResult:r}}async createJWE(e,t,n={}){return function(e,t,n={},r,o=!1){try{if("dir"===t[0].alg){if(t.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(t[0].encrypt(e,n,r)).then((function(e){return Qo(e,r)}))}{const i=t[0].enc;if(!t.reduce(((e,t)=>e&&t.enc===i),!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,c;if(o){c=t[0].genEpk?.();const e=t[0].alg;n={...n,alg:e,epk:c?.publicKeyJWK}}const u=Wo(t,(function(t){const o=s?Promise.resolve(t.encryptCek?.(s,c)).then((function(e){e&&a?.recipients?.push(e)})):Promise.resolve(t.encrypt(e,n,r,c)).then((function(e){s=e.cek,a=Qo(e,r)}));if(o&&o.then)return o.then((function(){}))}));return Promise.resolve(u&&u.then?u.then((function(){return a})):a)}}catch(Ui){return Promise.reject(Ui)}}(e,await ri(t,this._resolver),n.protectedHeader,n.aad)}async createDagJWE(e,t,n={}){const r=await bc(e);return this.createJWE(r,t,n)}async decryptJWE(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");const{cleartext:n}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return function(e){return(0,af.Jx)(md,e)}(n)}async decryptDagJWE(e){return wc(await this.decryptJWE(e))}async resolve(e){const t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){const{error:n,message:r}=t.didResolutionMetadata;throw new Error(`Failed to resolve ${e}: ${n}${r?`, ${r}`:""}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:n,capability:r,parent:o}={}){if(wd(this,"_client",void 0),wd(this,"_id",void 0),wd(this,"_resolver",void 0),wd(this,"_capability",void 0),wd(this,"_parentId",void 0),null!=e&&(this._client=new Nc(e)),r){if(this._capability=r,this._parentId=this._capability.p.iss,o&&this._parentId!==o)throw new Error("Capability issuer and parent not equal")}else o&&(this._parentId=o);this.setResolver(t,n)}}function Sd(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Td(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Sd(e,t,"get"))}function Id(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Nd(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Sd(e,t,"set"),n),n}async function Od(e){const t=new Ni(e||(0,bd.randomBytes)(32)),n=new _d({provider:t,resolver:Xi.getResolver()});return await n.authenticate(),n}var kd=new WeakMap,Ad=new WeakMap,xd=new WeakMap;class Cd{static async authorize(e,t={}){if(!t.resources||0===t.resources.length)throw new Error("Required: resource argument option when authorizing");const n=t,r=(0,bd.randomBytes)(32),o=await Od(r);if(n.uri=o.id,t.expiresInSecs){const e=new Date(Date.now()+1e3*t.expiresInSecs);n.expirationTime=e.toISOString()}const i=await e(t),s=await async function(e,t){const n=e.withCapability(t);return await n.authenticate(),n}(o,i);return new Cd({cacao:i,keySeed:r,did:s})}static async initDID(e,t){const n=e.withCapability(t);return await n.authenticate(),n}get did(){return Td(this,kd)}serialize(){const e={sessionKeySeed:(t=Td(this,Ad),k.BB(t,"base64pad")),cacao:Td(this,xd)};var t,n;return n=e,k.BB(k.mL(JSON.stringify(n)),"base64url")}static async fromSession(e){const{sessionKeySeed:t,cacao:n}=function(e){return JSON.parse(k.BB(k.mL(e,"base64url")))}(e),r=function(e){return k.mL(e,"base64pad")}(t),o=await Od(r),i=await Cd.initDID(o,n);return new Cd({cacao:n,keySeed:r,did:i})}get hasSession(){return!!Td(this,xd)&&!!Td(this,kd)}get isExpired(){const e=Td(this,xd).p.exp;return!!e&&Date.parse(e)<Date.now()}get expireInSecs(){const e=Td(this,xd).p.exp;if(!e)throw new Error("Session does not expire");const t=Date.parse(e)-Date.now();return t<0?0:t/1e3}get authorizations(){return Td(this,xd)?.p.resources??[]}get cacao(){return Td(this,xd)}isAuthorized(e){return!(!this.hasSession||this.isExpired)&&(!e||e.every((e=>this.authorizations.includes(e))))}get id(){return Td(this,kd).parent}constructor(e){Id(this,kd,{writable:!0,value:void 0}),Id(this,Ad,{writable:!0,value:void 0}),Id(this,xd,{writable:!0,value:void 0}),Nd(this,Ad,e.keySeed),Nd(this,xd,e.cacao),Nd(this,kd,e.did)}}function $d(e,t,n){if(null==n&&(n=[]),e.request)return e.request({method:t,params:n}).then((e=>e),(e=>{throw e}));if(e.sendAsync||e.send){const r=(e.sendAsync?e.sendAsync:e.send).bind(e),o=function(e,t){return{jsonrpc:"2.0",id:1,method:e,params:t}}(t,n);return new Promise(((e,t)=>{r(o,((n,r)=>{if(n&&t(n),r.error){const e=new Error(r.error.message);e.code=r.error.code,e.data=r.error.data,t(e)}e(r.result)}))}))}throw new Error("Unsupported provider; provider must implement one of the following methods: send, sendAsync, request")}var Rd,Dd;async function Pd(e,t,n){const r=new Date,o=new Date(r.getTime()+6048e5),i=(s=n,new ql.hX({address:s.address.toLowerCase(),chainId:s.chainId}));var s;const a=new ld({domain:e.domain,address:i.address,statement:e.statement??"Give this application access to some of your data on Ceramic",uri:e.uri,version:"1",nonce:e.nonce??(0,bd.randomString)(10),issuedAt:r.toISOString(),expirationTime:e.expirationTime??o.toISOString(),chainId:i.chainId.reference,resources:e.resources}),c=await $d(t,"personal_sign",[(u=a.signMessage(),`0x${tt(nt(u))}`),i.address]);var u;return a.signature=c,Bl.fromSiweMessage(a)}async function jd(e,t){const n=`eip155:${await async function(e){const t=await $d(e,"eth_chainId",[]);return parseInt(t,16)}(e)}`;return new ql.hX({address:t.toLowerCase(),chainId:n})}!function(e){e.getAuthMethod=async function(e,t){if("undefined"===typeof window)throw new Error("Web Auth method requires browser environment");const n=window.location.hostname;return async r=>(r.domain=n,Pd(r,e,t))}}(Rd||(Rd={})),function(e){e.getAuthMethod=async function(e,t,n){if(!n)throw new Error("Node Auth method requires an application name gethAuthMethod(ethProvider, account, appName)");return async r=>(r.domain=n,Pd(r,e,t))}}(Dd||(Dd={}));n(26885);var Md=n(7212);function Ld(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ud(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ld(i,r,o,s,a,"next",e)}function a(e){Ld(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Bd(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var Fd="ceramic:did_seed",Vd=function(){var e=Ud(N().mark((function e(t,n){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("key"!=(r=localStorage.getItem("ceramic:auth_type"))){e.next=4;break}return e.next=4,qd(t,n);case 4:if("eth"!=r){e.next=7;break}return e.next=7,zd(t,n);case 7:return localStorage.setItem("logged_in","true"),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qd=function(){var e=Ud(N().mark((function e(t,n){var r,o,i,s,a,c,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===localStorage.getItem(Fd)?(console.log("Generating seed..."),o=crypto.getRandomValues(new Uint8Array(32)),i=JSON.stringify(o,(function(e,t){return Bd(t,Uint8Array)?Array.from(t):t})),localStorage.setItem(Fd,i),r=o,console.log("Generated new seed: "+o)):(s=localStorage.getItem(Fd),a=JSON.parse(s),r=a,console.log("Found seed: "+r)),c=new Ni(r),u=new _d({provider:c,resolver:Yi()}),e.next=6,u.authenticate();case 6:return t.did=u,n.setDID(u),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zd=function(){var e=Ud(N().mark((function e(t,n){var r,o,i,s,a,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=localStorage.getItem("ceramic:eth_did"))){e.next=6;break}return e.next=5,Cd.fromSession(r);case 5:o=e.sent;case 6:if(!(!o||o.hasSession&&o.isExpired)){e.next=25;break}if(i=(0,Md.yj)()){e.next=11;break}throw console.error("MetaMask provider not detected."),new Error("MetaMask provider not detected.");case 11:return e.next=13,i.request({method:"eth_requestAccounts"});case 13:return s=e.sent,e.next=16,jd(i,s[0]);case 16:return a=e.sent,e.next=19,Rd.getAuthMethod(i,a);case 19:return c=e.sent,604800,e.next=23,Cd.authorize(c,{resources:n.resources,expiresInSecs:604800});case 23:o=e.sent,localStorage.setItem("ceramic:eth_did",o.serialize());case 25:return n.setDID(o.did),t.did=o.did,e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},25293:function(e){!function(){"use strict";var t={182:function(e){var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"===typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,function(e){console&&console.warn&&console.warn(e)}(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},s=!0;try{t[e](i,i.exports,r),s=!1}finally{s&&delete n[e]}return i.exports}r.ab="//";var o=r(182);e.exports=o}()},40906:function(){},77663:function(e){!function(){var t={162:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},s=!0;try{t[e](i,i.exports,r),s=!1}finally{s&&delete n[e]}return i.exports}r.ab="//";var o=r(162);e.exports=o}()},16830:function(e){"use strict";e.exports=function(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},66526:function(e){"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}},22099:function(e){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},58546:function(e,t,n){"use strict";const r=n(15698);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},39808:function(e,t,n){"use strict";const r=n(16830),o=n(66526),i=n(22099),s=n(58546),a=n(64535),c=n(22249);e.exports={compare:r,concat:o,equals:i,fromString:s,toString:a,xor:c}},64535:function(e,t,n){"use strict";const r=n(15698);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}},15698:function(e,t,n){"use strict";const{bases:r}=n(67527);function o(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const i=o("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),s=o("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),a={utf8:i,"utf-8":i,hex:r.base16,latin1:s,ascii:s,binary:s,...r};e.exports=a},22249:function(e){"use strict";e.exports=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}},22831:function(e){e.exports={STRING:2,BOOLEAN:4,BYTES:4,NUMBER:8,Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}},64225:function(e,t,n){"use strict";const r=n(22831),o=n(48764).Buffer;e.exports=function(e){let t=0;return t=null!==e&&"object"===typeof e?function(e){let t=0;try{let r=e;if(e instanceof Map?r=Object.fromEntries(e):e instanceof Set&&(r=Array.from(e)),ArrayBuffer.isView(e))return(n=e).BYTES_PER_ELEMENT?n.length*n.BYTES_PER_ELEMENT:-1;const i=JSON.stringify(r,((e,t)=>"bigint"===typeof t||"function"===typeof t?t.toString():"undefined"===typeof t?"undefined":"symbol"===typeof t||t instanceof RegExp?t.toString():t));t=o.byteLength(i,"utf8")}catch(r){return console.error("Error detected, returning -1",r),-1}var n;return t}(e):function(e){const t=[],n=[e];let i=0;for(;n.length;){const a=n.pop();if("boolean"===typeof a)i+=r.BYTES;else if("string"===typeof a)"undefined"===typeof window||"undefined"===typeof document?i+=(s=a,12+4*Math.ceil(s.length/4)):i+=a.length*r.STRING;else if("number"===typeof a)i+=r.NUMBER;else if("symbol"===typeof a)i+=Symbol.keyFor&&Symbol.keyFor(e)?Symbol.keyFor(e).length*r.STRING:(e.toString().length-8)*r.STRING;else if("bigint"===typeof a)i+=o.from(a.toString()).byteLength;else if("function"===typeof a)i+=a.toString().length;else if("object"===typeof a&&-1===t.indexOf(a)){t.push(a);for(const e in a)n.push(a[e])}}var s;return i}(e),t}},30778:function(e,t,n){var r=n(52479);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},88212:function(e,t,n){"use strict";var r=n(83454);"undefined"===typeof r||!r.version||0===r.version.indexOf("v0.")||0===r.version.indexOf("v1.")&&0!==r.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,o){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var i,s,a=arguments.length;switch(a){case 0:case 1:return r.nextTick(e);case 2:return r.nextTick((function(){e.call(null,t)}));case 3:return r.nextTick((function(){e.call(null,t,n)}));case 4:return r.nextTick((function(){e.call(null,t,n,o)}));default:for(i=new Array(a-1),s=0;s<i.length;)i[s++]=arguments[s];return r.nextTick((function(){e.apply(null,i)}))}}}:e.exports=r},74286:function(e,t,n){var r=n(83454),o=n(30778),i=n(12840),s=n(71156),a=function(){},c=/^v?\.0/.test(r.version),u=function(e){return"function"===typeof e},l=function(e,t,n,r){r=o(r);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return r(e);l=!0,r()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!c&&!!s&&(e instanceof(s.ReadStream||a)||e instanceof(s.WriteStream||a))&&u(e.close)}(e)?e.close(a):function(e){return e.setHeader&&u(e.abort)}(e)?e.abort():u(e.destroy)?e.destroy():void r(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=u(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(o,i){var s=i<t.length-1;return l(o,s,i>0,(function(t){e||(e=t),t&&r.forEach(f),s||(r.forEach(f),n(e))}))}));return t.reduce(d)}},94281:function(e){"use strict";var t={};function n(e,n,r){r||(r=Error);var o=function(e){var t,r;function o(t,r,o){return e.call(this,function(e,t,r){return"string"===typeof n?n:n(e,t,r)}(t,r,o))||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o}(r);o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,i,s,a;if("string"===typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(o," ").concat(r(t,"type"));else{var c=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(o," ").concat(r(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56753:function(e,t,n){"use strict";var r=n(83454),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(79481),s=n(64229);n(35717)(l,i);for(var a=o(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:function(e,t,n){"use strict";e.exports=o;var r=n(74605);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n(35717)(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},79481:function(e,t,n){"use strict";var r,o=n(83454);e.exports=I,I.ReadableState=T;n(25293).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=n(22503),a=n(48764).Buffer,c=n.g.Uint8Array||function(){};var u,l=n(94616);u=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=n(57327),m=n(61195),y=n(82457).getHighWaterMark,g=n(94281).q,v=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(35717)(I,s);var _=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(e,t,o){r=r||n(56753),e=e||{},"boolean"!==typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",o),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(32553).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function I(e){if(r=r||n(56753),!(this instanceof I))return new I(e);var t=this instanceof r;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function N(e,t,n,r,o){u("readableAddChunk",t);var i,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,s);else if(o||(i=function(e,t){var n;r=t,a.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(s,t)),i)_(e,i);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)s.endEmitted?_(e,new E):O(e,s,t,!0);else if(s.ended)_(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?O(e,s,t,!1):$(e,s)):O(e,s,t,!1)}else r||(s.reading=!1,$(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),$(e,t)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),N(this,e,t,!1,n)},I.prototype.unshift=function(e){return N(this,e,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){f||(f=n(32553).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";null!==r;)o+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var k=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(C,e))}function C(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function $(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function P(e){u("readable nexttick read 0"),e.read(0)}function j(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(B,t,e))}function B(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}I.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):x(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,o=t.needReadable;return u("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",o=!0),t.ended||t.reading?u("reading or ended",o=!1):o&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(e){_(this,new w("_read()"))},I.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,u("pipe count=%d opts=%j",r.pipesCount,t);var s=(!t||!1!==t.end)&&e!==o.stdout&&e!==o.stderr?c:y;function a(t,o){u("onunpipe"),t===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",d),f=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}r.endEmitted?o.nextTick(s):n.once("end",s),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",l);var f=!1;function d(t){u("ondata");var o=e.write(t);u("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==F(r.pipes,e))&&!f&&(u("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function h(t){u("onerror",t),y(),e.removeListener("error",h),0===i(e,"error")&&_(e,t)}function p(){e.removeListener("finish",m),y()}function m(){u("onfinish"),e.removeListener("close",p),y()}function y(){u("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),r.flowing||(u("pipe resume"),n.resume()),e},I.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},I.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,u("on readable",r.length,r.reading),r.length?x(this):r.reading||o.nextTick(P,this))),n},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(D,this),n},I.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(D,this),t},I.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(j,e,t))}(this,e)),e.paused=!1,this},I.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(u("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))})),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<S.length;i++)e.on(S[i],this.emit.bind(this,S[i]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(45850)),d(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=L,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(I.from=function(e,t){return void 0===h&&(h=n(15167)),h(I,e,t)})},74605:function(e,t,n){"use strict";e.exports=l;var r=n(94281).q,o=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(56753);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(35717)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new o("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},64229:function(e,t,n){"use strict";var r,o=n(83454);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=I,I.WritableState=T;var s={deprecate:n(94927)},a=n(22503),c=n(48764).Buffer,u=n.g.Uint8Array||function(){};var l,f=n(61195),d=n(82457).getHighWaterMark,h=n(94281).q,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,_=f.errorOrDestroy;function S(){}function T(e,t,s){r=r||n(56753),e=e||{},"boolean"!==typeof s&&(s=t instanceof r),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!==typeof i)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(C,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),C(e,t))}(e,n,r,t,i);else{var s=A(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?o.nextTick(O,e,n,s,i):O(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(e){var t=this instanceof(r=r||n(56753));if(!t&&!l.call(I,this))return new I(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function N(e,t,n,r,o,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function O(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),C(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,N(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(N(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(35717)(I,a),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===I&&(e&&e._writableState instanceof T)}})):l=function(e){return e instanceof this},I.prototype.pipe=function(){_(this,new g)},I.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=S),i.ending?function(e,t){var n=new w;_(e,n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i;return null===n?i=new b:"string"===typeof n||t.objectMode||(i=new p("chunk",["string","Buffer"],n)),!i||(_(e,i),o.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,o,i){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n));return t}(t,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else N(e,t,!1,a,r,o,i);return u}(this,i,a,e,t,n)),s},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,n){n(new m("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=f.destroy,I.prototype._undestroy=f.undestroy,I.prototype._destroy=function(e,t){t(e)}},45850:function(e,t,n){"use strict";var r,o=n(83454);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(8610),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[a]=null,e[c]=null,t(p(n,!1)))}}function y(e){o.nextTick(m,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){o.nextTick((function(){e[u]?n(e[u]):t(p(void 0,!0))}))}));var n,r=this[f];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(p(i,!1));n=new Promise(this[d])}return this[f]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[f]=null,n[a]=null,n[c]=null,e(p(r,!1))):(n[a]=e,n[c]=t)},writable:!0}),t));return n[f]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[c];return null!==t&&(n[f]=null,n[a]=null,n[c]=null,t(e)),void(n[u]=e)}var r=n[a];null!==r&&(n[f]=null,n[a]=null,n[c]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",y.bind(null,n)),n}},57327:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(48764).Buffer,a=n(52361).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,o=s.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,n=o,r=a,s.prototype.copy.call(t,n,r),a+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?r+=o:r+=o.slice(0,e),0===(e-=i)){i===o.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0===(e-=i)){i===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(i));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&i(t.prototype,n),u&&i(t,u),e}()},61195:function(e,t,n){"use strict";var r=n(83454);function o(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,e)):r.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(i,n):(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t?(r.nextTick(i,n),t(e)):r.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:function(e,t,n){"use strict";var r=n(94281).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,n,i){if("function"===typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}}(i||o);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||i.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,f=!0,a||i.call(t)},h=function(e){i.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},15167:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},59946:function(e,t,n){"use strict";var r;var o=n(94281).q,i=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(8610)),r(e,{readable:t,writable:o},(function(e){if(e)return i(e);a=!0,i()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var s=t.map((function(e,n){var i=n<t.length-1;return c(e,i,n>0,(function(e){r||(r=e),e&&s.forEach(u),i||(s.forEach(u),o(r))}))}));return t.reduce(l)}},82457:function(e,t,n){"use strict";var r=n(94281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,o){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,o,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(o?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},22503:function(e,t,n){e.exports=n(25293).EventEmitter},89509:function(e,t,n){var r=n(48764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},42830:function(e,t,n){e.exports=o;var r=n(25293).EventEmitter;function o(){r.call(this)}n(35717)(o,r),o.Readable=n(79481),o.Writable=n(64229),o.Duplex=n(56753),o.Transform=n(74605),o.PassThrough=n(82725),o.finished=n(8610),o.pipeline=n(59946),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},32553:function(e,t,n){"use strict";var r=n(89509).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=s(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},60540:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,o=1;o<r;++o)t[o]=t[o].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function a(e){var r="[A-Za-z]",o="[0-9]",i=t(o,"[A-Fa-f]"),s=n(n("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+n("%[89A-Fa-f]"+i+"%"+i+i)+"|"+n("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(r,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=n(r+t(r,o,"[\\+\\-\\.]")+"*"),d=n(n(s+"|"+t(l,a,"[\\:]"))+"*"),h=(n(n("25[0-5]")+"|"+n("2[0-4]"+o)+"|"+n("1"+o+o)+"|"+n("[1-9]"+o)+"|"+o),n(n("25[0-5]")+"|"+n("2[0-4]"+o)+"|"+n("1"+o+o)+"|"+n("0?[1-9]"+o)+"|0?0?"+o)),p=n(h+"\\."+h+"\\."+h+"\\."+h),m=n(i+"{1,4}"),y=n(n(m+"\\:"+m)+"|"+p),g=n(n(m+"\\:")+"{6}"+y),v=n("\\:\\:"+n(m+"\\:")+"{5}"+y),b=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+y),w=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+y),E=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+y),_=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+y),S=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+y),T=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),I=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),N=n([g,v,b,w,E,_,S,T,I].join("|")),O=n(n(l+"|"+s)+"+"),k=(n(N+"\\%25"+O),n(N+n("\\%25|\\%(?!"+i+"{2})")+O)),A=n("[vV]"+i+"+\\."+t(l,a,"[\\:]")+"+"),x=n("\\["+n(k+"|"+N+"|"+A)+"\\]"),C=n(n(s+"|"+t(l,a))+"*"),$=n(x+"|"+p+"(?!"+C+")|"+C),R=n(o+"*"),D=n(n(d+"@")+"?"+$+n("\\:"+R)+"?"),P=n(s+"|"+t(l,a,"[\\:\\@]")),j=n(P+"*"),M=n(P+"+"),L=n(n(s+"|"+t(l,a,"[\\@]"))+"+"),U=n(n("\\/"+j)+"*"),B=n("\\/"+n(M+U)+"?"),F=n(L+U),V=n(M+U),q="(?!"+P+")",z=(n(U+"|"+B+"|"+F+"|"+V+"|"+q),n(n(P+"|"+t("[\\/\\?]",u))+"*")),G=n(n(P+"|[\\/\\?]")+"*"),H=n(n("\\/\\/"+D+U)+"|"+B+"|"+V+"|"+q),K=n(f+"\\:"+H+n("\\?"+z)+"?"+n("\\#"+G)+"?"),J=n(n("\\/\\/"+D+U)+"|"+B+"|"+F+"|"+q),W=n(J+n("\\?"+z)+"?"+n("\\#"+G)+"?");return n(K+"|"+W),n(f+"\\:"+H+n("\\?"+z)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+$+")"+n("\\:("+R+")")+"?)")+"?("+U+"|"+B+"|"+V+"|"+q+")"),n("\\?("+z+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+$+")"+n("\\:("+R+")")+"?)")+"?("+U+"|"+B+"|"+F+"|"+q+")"),n("\\?("+z+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+$+")"+n("\\:("+R+")")+"?)")+"?("+U+"|"+B+"|"+V+"|"+q+")"),n("\\?("+z+")"),n("\\#("+G+")"),n("("+d+")@"),n("\\:("+R+")"),{NOT_SCHEME:new RegExp(t("[^]",r,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+N+")"+n(n("\\%25|\\%(?!"+i+"{2})")+"("+O+")")+"?\\]?$")}}var c=a(!1),u=a(!0),l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,h=36,p=1,m=26,y=38,g=700,v=72,b=128,w="-",E=/^xn--/,_=/[^\0-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=h-p,N=Math.floor,O=String.fromCharCode;function k(e){throw new RangeError(T[e])}function A(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function x(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+A((e=e.replace(S,".")).split("."),t).join(".")}function C(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}var $=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},R=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},D=function(e,t,n){var r=0;for(e=n?N(e/g):e>>1,e+=N(e/t);e>I*m>>1;r+=h)e=N(e/I);return N(r+(I+1)*e/(e+y))},P=function(e){var t=[],n=e.length,r=0,o=b,i=v,s=e.lastIndexOf(w);s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&k("not-basic"),t.push(e.charCodeAt(a));for(var c=s>0?s+1:0;c<n;){for(var u=r,l=1,f=h;;f+=h){c>=n&&k("invalid-input");var y=$(e.charCodeAt(c++));(y>=h||y>N((d-r)/l))&&k("overflow"),r+=y*l;var g=f<=i?p:f>=i+m?m:f-i;if(y<g)break;var E=h-g;l>N(d/E)&&k("overflow"),l*=E}var _=t.length+1;i=D(r-u,_,0==u),N(r/_)>d-o&&k("overflow"),o+=N(r/_),r%=_,t.splice(r++,0,o)}return String.fromCodePoint.apply(String,t)},j=function(e){var t=[],n=(e=C(e)).length,r=b,o=0,i=v,s=!0,a=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value;f<128&&t.push(O(f))}}catch(H){a=!0,c=H}finally{try{!s&&l.return&&l.return()}finally{if(a)throw c}}var y=t.length,g=y;for(y&&t.push(w);g<n;){var E=d,_=!0,S=!1,T=void 0;try{for(var I,A=e[Symbol.iterator]();!(_=(I=A.next()).done);_=!0){var x=I.value;x>=r&&x<E&&(E=x)}}catch(H){S=!0,T=H}finally{try{!_&&A.return&&A.return()}finally{if(S)throw T}}var $=g+1;E-r>N((d-o)/$)&&k("overflow"),o+=(E-r)*$,r=E;var P=!0,j=!1,M=void 0;try{for(var L,U=e[Symbol.iterator]();!(P=(L=U.next()).done);P=!0){var B=L.value;if(B<r&&++o>d&&k("overflow"),B==r){for(var F=o,V=h;;V+=h){var q=V<=i?p:V>=i+m?m:V-i;if(F<q)break;var z=F-q,G=h-q;t.push(O(R(q+z%G,0))),F=N(z/G)}t.push(O(R(F,0))),i=D(o,$,g==y),o=0,++g}}}catch(H){j=!0,M=H}finally{try{!P&&U.return&&U.return()}finally{if(j)throw M}}++o,++r}return t.join("")},M=function(e){return x(e,(function(e){return E.test(e)?P(e.slice(4).toLowerCase()):e}))},L=function(e){return x(e,(function(e){return _.test(e)?"xn--"+j(e):e}))},U={version:"2.1.0",ucs2:{decode:C,encode:function(e){return String.fromCodePoint.apply(String,f(e))}},decode:P,encode:j,toASCII:L,toUnicode:M},B={};function F(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function V(e){for(var t="",n=0,r=e.length;n<r;){var o=parseInt(e.substr(n+1,2),16);if(o<128)t+=String.fromCharCode(o),n+=3;else if(o>=194&&o<224){if(r-n>=6){var i=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&o)<<6|63&i)}else t+=e.substr(n,6);n+=6}else if(o>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function q(e,t){function n(e){var n=V(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,F).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,F).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,F).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,F).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,F).replace(t.PCT_ENCODED,o)),e}function z(e){return e.replace(/^0*(.*)/,"$1")||"0"}function G(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(z).join("."):e}function H(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),o=r[1],i=r[2];if(o){for(var s=o.toLowerCase().split("::").reverse(),a=l(s,2),c=a[0],u=a[1],f=u?u.split(":").map(z):[],d=c.split(":").map(z),h=t.IPV4ADDRESS.test(d[d.length-1]),p=h?7:8,m=d.length-p,y=Array(p),g=0;g<p;++g)y[g]=f[g]||d[m+g]||"";h&&(y[p-1]=G(y[p-1],t));var v=y.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var w=y.slice(0,v.index),E=y.slice(v.index+v.length);b=w.join(":")+"::"+E.join(":")}else b=y.join(":");return i&&(b+="%"+i),b}return e}var K=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,J=void 0==="".match(/(){0}/)[1];function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?u:c;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(K);if(o){J?(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5])):(n.scheme=o[1]||void 0,n.userinfo=-1!==e.indexOf("@")?o[3]:void 0,n.host=-1!==e.indexOf("//")?o[4]:void 0,n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=-1!==e.indexOf("?")?o[7]:void 0,n.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),n.host&&(n.host=H(G(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var i=B[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)q(n,r);else{if(n.host&&(t.domainHost||i&&i.domainHost))try{n.host=U.toASCII(n.host.replace(r.PCT_ENCODED,V).toLowerCase())}catch(s){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+s}q(n,c)}i&&i.parse&&i.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Q(e,t){var n=!1!==t.iri?u:c,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(H(G(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Y=/^\.\.?\//,X=/^\/\.(\/|$)/,Z=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Y))e=e.replace(Y,"");else if(e.match(X))e=e.replace(X,"/");else if(e.match(Z))e=e.replace(Z,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?u:c,r=[],o=B[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?U.toUnicode(e.host):U.toASCII(e.host.replace(n.PCT_ENCODED,V).toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+a}q(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var i=Q(e,t);if(void 0!==i&&("suffix"!==t.reference&&r.push("//"),r.push(i),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||o&&o.absolutePath||(s=te(s)),void 0===i&&(s=s.replace(/^\/\//,"/%2F")),r.push(s)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=W(ne(e,n),n),t=W(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=te(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function oe(e,t,n){var r=s({scheme:"null"},n);return ne(re(W(e,r),W(t,r),r,!0),r)}function ie(e,t){return"string"===typeof e?e=ne(W(e,t),t):"object"===r(e)&&(e=W(ne(e,t),t)),e}function se(e,t,n){return"string"===typeof e?e=ne(W(e,n),n):"object"===r(e)&&(e=ne(e,n)),"string"===typeof t?t=ne(W(t,n),n):"object"===r(t)&&(t=ne(t,n)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?u.ESCAPE:c.ESCAPE,F)}function ce(e,t){return e&&e.toString().replace(t&&t.iri?u.PCT_ENCODED:c.PCT_ENCODED,V)}var ue={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},le={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize};function fe(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var de={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=fe(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(fe(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=l(n,2),o=r[0],i=r[1];e.path=o&&"/"!==o?o:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},he={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},pe={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ye="[0-9A-Fa-f]",ge=n(n("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+n("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+n("%"+ye+ye)),ve="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",be=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),we="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ee=new RegExp(me,"g"),_e=new RegExp(ge,"g"),Se=new RegExp(t("[^]",ve,"[\\.]",'[\\"]',be),"g"),Te=new RegExp(t("[^]",me,we),"g"),Ie=Te;function Ne(e){var t=V(e);return t.match(Ee)?t:e}var Oe={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var o=!1,i={},s=n.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),f=0,d=l.length;f<d;++f)r.push(l[f]);break;case"subject":n.subject=ce(u[1],t);break;case"body":n.body=ce(u[1],t);break;default:o=!0,i[ce(u[0],t)]=ce(u[1],t)}}o&&(n.headers=i)}n.query=void 0;for(var h=0,p=r.length;h<p;++h){var m=r[h].split("@");if(m[0]=ce(m[0]),t.unicodeSupport)m[1]=ce(m[1],t).toLowerCase();else try{m[1]=U.toASCII(ce(m[1],t).toLowerCase())}catch(y){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+y}r[h]=m.join("@")}return n},serialize:function(e,t){var n=e,r=i(e.to);if(r){for(var s=0,a=r.length;s<a;++s){var c=String(r[s]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(_e,Ne).replace(_e,o).replace(Se,F),f=c.slice(u+1);try{f=t.iri?U.toUnicode(f):U.toASCII(ce(f,t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}r[s]=l+"@"+f}n.path=r.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==pe[p]&&h.push(p.replace(_e,Ne).replace(_e,o).replace(Te,F)+"="+d[p].replace(_e,Ne).replace(_e,o).replace(Ie,F));return h.length&&(n.query=h.join("&")),n}},ke=/^([^\:]+)\:(.*)/,Ae={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ke),r=e;if(n){var o=t.scheme||r.scheme||"urn",i=n[1].toLowerCase(),s=n[2],a=o+":"+(t.nid||i),c=B[a];r.nid=i,r.nss=s,r.path=void 0,c&&(r=c.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,o=n+":"+(t.nid||r),i=B[o];i&&(e=i.serialize(e,t));var s=e,a=e.nss;return s.path=(r||t.nid)+":"+a,s}},xe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ce={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(xe)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};B[ue.scheme]=ue,B[le.scheme]=le,B[de.scheme]=de,B[he.scheme]=he,B[Oe.scheme]=Oe,B[Ae.scheme]=Ae,B[Ce.scheme]=Ce,e.SCHEMES=B,e.pctEncChar=F,e.pctDecChars=V,e.parse=W,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=re,e.resolve=oe,e.normalize=ie,e.equal=se,e.escapeComponent=ae,e.unescapeComponent=ce,Object.defineProperty(e,"__esModule",{value:!0})}(t)},94927:function(e,t,n){function r(e){try{if(!n.g.localStorage)return!1}catch(r){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},26988:function(e){e.exports=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a||i>49)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o}},1312:function(e){e.exports=function e(n,r,o){if(Number.MAX_SAFE_INTEGER&&n>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");r=r||[];var i=o=o||0;for(;n>=t;)r[o++]=255&n|128,n/=128;for(;-128&n;)r[o++]=255&n|128,n>>>=7;return r[o]=0|n,e.bytes=o-i+1,r};var t=Math.pow(2,31)},94676:function(e,t,n){e.exports={encode:n(1312),decode:n(26988),encodingLength:n(10082)}},10082:function(e){var t=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),o=Math.pow(2,28),i=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<n?2:e<r?3:e<o?4:e<i?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},52479:function(e){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"===typeof r&&r!==o&&Object.keys(o).forEach((function(e){r[e]=o[e]})),r}}},22220:function(){},96918:function(){},35883:function(){},46559:function(){},82442:function(){},71156:function(){},52361:function(){},94616:function(){},1644:function(e,t,n){"use strict";var r;function o(e){return!!e&&e<7}n.d(t,{Ie:function(){return r},Oj:function(){return o}}),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}))},30990:function(e,t,n){"use strict";n.d(t,{YG:function(){return i},ls:function(){return s},MS:function(){return a},cA:function(){return c}});var r=n(54708),o=(n(70473),n(13154)),i=Symbol();function s(e){return!!e.extensions&&Array.isArray(e.extensions[i])}function a(e){return e.hasOwnProperty("graphQLErrors")}var c=function(e){function t(n){var i=n.graphQLErrors,s=n.protocolErrors,a=n.clientErrors,c=n.networkError,u=n.errorMessage,l=n.extraInfo,f=e.call(this,u)||this;return f.name="ApolloError",f.graphQLErrors=i||[],f.protocolErrors=s||[],f.clientErrors=a||[],f.networkError=c||null,f.message=u||function(e){var t=(0,r.ev)((0,r.ev)((0,r.ev)([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map((function(e){return(0,o.s)(e)&&e.message||"Error message not found."})).join("\n")}(f),f.extraInfo=l,f.__proto__=t.prototype,f}return(0,r.ZT)(t,e),t}(Error)},54708:function(e,t,n){"use strict";n.d(t,{ZT:function(){return o},pi:function(){return i},_T:function(){return s},mG:function(){return a},Jh:function(){return c},ev:function(){return u}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function u(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError},85317:function(e,t,n){"use strict";var r;n.d(t,{K:function(){return c}});var o=n(67294),i=n(30320),s=n(70473),a=i.aS?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function c(){(0,s.kG)("createContext"in(r||(r=n.t(o,2))),43);var e=o.createContext[a];return e||(Object.defineProperty(o.createContext,a,{value:e=o.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}},21436:function(e,t,n){"use strict";n.d(t,{k:function(){return r},O:function(){return o}});var r=Array.isArray;function o(e){return Array.isArray(e)&&e.length>0}},30320:function(e,t,n){"use strict";n.d(t,{mr:function(){return o},sy:function(){return i},aS:function(){return s},DN:function(){return a},JC:function(){return l}});var r=n(70473),o="function"===typeof WeakMap&&"ReactNative"!==(0,r.wY)((function(){return navigator.product})),i="function"===typeof WeakSet,s="function"===typeof Symbol&&"function"===typeof Symbol.for,a=s&&Symbol.asyncIterator,c="function"===typeof(0,r.wY)((function(){return window.document.createElement})),u=(0,r.wY)((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,l=c&&!u},53712:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}n.d(t,{o:function(){return r}})},60897:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=new Map;function o(e){var t=r.get(e)||1;return r.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}},48702:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(13154);function o(e){var t=new Set([e]);return t.forEach((function(e){(0,r.s)(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){(0,r.s)(e[n])&&t.add(e[n])}))})),e}function i(e){return!1!==globalThis.__DEV__&&o(e),e}},14012:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(54708),o=n(53712);function i(e,t){return(0,o.o)(e,t,t.variables&&{variables:(0,o.o)((0,r.pi)((0,r.pi)({},e&&e.variables),t.variables))})}},13154:function(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.d(t,{s:function(){return r}})},13887:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(60897);function o(e,t){void 0===t&&(t=0);var n=(0,r.X)("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?n:t}),t).split(JSON.stringify(n)).join("<undefined>")}},70473:function(e,t,n){"use strict";n.d(t,{kG:function(){return b},wY:function(){return m},_K:function(){return w}});var r=n(54708),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s="Invariant Violation",a=Object.setPrototypeOf,c=void 0===a?function(e,t){return e.__proto__=t,e}:a,u=function(e){function t(n){void 0===n&&(n=s);var r=e.call(this,"number"===typeof n?s+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=s,c(r,t.prototype),r}return i(t,e),t}(Error);function l(e,t){if(!e)throw new u(t)}var f=["debug","log","warn","error","silent"],d=f.indexOf("log");function h(e){return function(){if(f.indexOf(e)>=d){var t=console[e]||console.log;return t.apply(console,arguments)}}}!function(e){e.debug=h("debug"),e.log=h("log"),e.warn=h("warn"),e.error=h("error")}(l||(l={}));var p=n(49379);function m(e){try{return e()}catch(a){}}var y=m((function(){return globalThis}))||m((function(){return window}))||m((function(){return self}))||m((function(){return global}))||m((function(){return m.constructor("return this")()})),g=n(13887);function v(e){return function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];"number"===typeof t?e(_(t,n)):e.apply(void 0,(0,r.ev)([t],n,!1))}}var b=Object.assign((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e||l(e,_(t,n))}),{debug:v(l.debug),log:v(l.log),warn:v(l.warn),error:v(l.error)});function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new u(_(e,t))}var E=Symbol.for("ApolloErrorMessageHandler_"+p.i);function _(e,t){if(void 0===t&&(t=[]),e){var n=t.map((function(e){return"string"==typeof e?e:(0,g.v)(e,2).slice(0,1e3)}));return y[E]&&y[E](e,n)||"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:p.i,message:e,args:n})))}}globalThis.__DEV__},49379:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r="3.8.4"},30020:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});const{toString:r,hasOwnProperty:o}=Object.prototype,i=Function.prototype.toString,s=new Map;function a(e,t){try{return c(e,t)}finally{s.clear()}}function c(e,t){if(e===t)return!0;const n=r.call(e);if(n!==r.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(d(e,t))return!0;const n=u(e),r=u(t),i=n.length;if(i!==r.length)return!1;for(let e=0;e<i;++e)if(!o.call(t,n[e]))return!1;for(let o=0;o<i;++o){const r=n[o];if(!c(e[r],t[r]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(d(e,t))return!0;const r=e.entries(),o="[object Map]"===n;for(;;){const e=r.next();if(e.done)break;const[n,i]=e.value;if(!t.has(n))return!1;if(o&&!c(i,t.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let n=e.byteLength;if(n===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const n=i.call(e);return n===i.call(t)&&!function(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(n,f)}}return!1}function u(e){return Object.keys(e).filter(l,e)}function l(e){return void 0!==this[e]}t.Z=a;const f="{ [native code] }";function d(e,t){let n=s.get(e);if(n){if(n.has(t))return!0}else s.set(e,n=new Set);return n.add(t),!1}},67118:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{hX:function(){return d},a_:function(){return f}});var o={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},i={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},s={2:o,10:{name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},19:{assetName:i,assetType:{name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:o,1:i}}},assetId:{name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:o,1:i,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}}}};function a(e,t){return e.split(t.parameters.delimiter)}function c(e,t){var n=a(e,t),r={};return n.forEach((function(e,n){r[t.parameters.values[n].name]=e})),r}function u(e,t){return Object.values(t.parameters.values).map((function(t){var n=e[t.name];return"string"===typeof n?n:u(n,t)})).join(t.parameters.delimiter)}function l(e,t){if(!new RegExp(t.regex).test(e))return!1;var n=a(e,t);return n.length===Object.keys(t.parameters.values).length&&n.map((function(e,n){return new RegExp(t.parameters.values[n].regex).test(e)})).filter((function(e){return!!e})).length===n.length}var f=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();f.spec=s[2];var d=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new f(t.chainId),this.address=t.address}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);var n=c(t,this.spec),r=n.namespace,o=n.reference,i=n.address;return new e({chainId:new f({namespace:r,reference:o}),address:i}).toJSON()},e.format=function(e){return u(r({},new f(e.chainId).toJSON(),{address:e.address}),this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},e}();d.spec=s[10];var h=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();h.spec=s[19].assetName,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new f(t.chainId),this.assetName=new h(t.assetName)}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},e}()).spec=s[19].assetType,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new f(t.chainId),this.assetName=new h(t.assetName),this.tokenId=t.tokenId}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},e}()).spec=s[19].assetId},98401:function(e,t,n){"use strict";function r(e){return"Left"===e._tag}n.d(t,{nM:function(){return r},t$:function(){return o},F2:function(){return i},Gg:function(){return s}});function o(e){return{_tag:"Left",left:e}}function i(e){return{_tag:"Right",right:e}}function s(e){if(r(e))throw e.left;return e.right}},44415:function(e,t,n){"use strict";n.d(t,{Cs:function(){return l},Dy:function(){return C},Jx:function(){return i},Gg:function(){return r.Gg},yR:function(){return u},nM:function(){return r.nM},t$:function(){return r.t$},i0:function(){return m},jt:function(){return $},IM:function(){return x},oc:function(){return S},F2:function(){return r.F2},rV:function(){return j},wY:function(){return O},Z_:function(){return d},G0:function(){return w}});var r=n(98401);class o{trail;constructor(e){this.trail=e}static root(e,t){return new o([{key:"",type:e,actual:t}])}failures(e){throw e[0]}success(e){return(0,r.F2)(e)}failure(e){throw new a(this.trail,e)}child(e,t,n){const r=this.trail.concat([{key:e,type:t,actual:n}]);return new o(r)}}function i(e,t){const n=o.root(e,t),i=e.decode(t,n);if((0,r.nM)(i))throw new Error(`Something is wrong: ${i} should be Right`);return i.right}function s(e){return e.length>0}class a extends Error{trail;constructor(e,t=`Invalid value ${function(e){return"function"===typeof e?E(e):"number"!==typeof e||isFinite(e)?JSON.stringify(e):isNaN(e)?"NaN":e>0?"Infinity":"-Infinity"}(e[e.length-1].actual)} supplied to ${function(e){return"/"+e.map((({key:e,type:t})=>`${e}(${t.name})`)).join("/")}(e)}`){super(t),this.trail=e}get value(){return this.trail[this.trail.length-1].actual}}class c{_A;_I;_O;name;constructor(e){this.name=e}pipe(e,t=`${this.name}\u2192${e.name}`){return new C(t,e.is,((t,n)=>{const o=this.decode(t,n);return(0,r.nM)(o)?o:e.decode(o.right,n)}),this.encode===u&&e.encode===u?u:t=>this.encode(e.encode(t)))}}function u(e){return e}class l extends c{is;constructor(e,t){super(e),this.is=t}encode=u;decode(e,t){return this.is(e)?t.success(e):t.failure()}}new l("null",(e=>null===e));const f=new l("undefined",(e=>void 0===e)),d=(new l("void",(e=>void 0===e)),new l("string",(e=>"string"===typeof e))),h=(new l("number",(e=>"number"===typeof e)),new l("boolean",(e=>"boolean"===typeof e)),new l("bigint",(e=>"bigint"===typeof e)),new l("unknown",(e=>!0)),new l("object",(e=>Boolean(e)&&"object"===typeof e)));class p extends l{value;keys;constructor(e,t=JSON.stringify(e)){super(t,(t=>t===e)),this.value=e,this.keys=[e]}}function m(e,t){return new p(e,t)}new l("UnknownArray",(e=>Array.isArray(e)));const y=new l("UnknownDictionary",(e=>{if(!(Boolean(e)&&"object"===typeof e))return!1;if(Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const n=Object.hasOwn(t,"constructor")&&t.constructor;return"function"===typeof n&&n instanceof n&&n.toString()==Object.toString()}));new l("any",(e=>!0)),new l("never",(e=>!1));function g(e){return`{${function(e){return Object.keys(e).map((t=>`${t}:${e[t].name}`)).join(",")}(e)}}`}class v extends c{props;constructor(e,t=g(e)){super(t),this.props=e}decode(e,t){const n=h.decode(e,t);if((0,r.nM)(n))return n;const o=n.right,i={...o},a=[];return Object.entries(this.props).forEach((([e,n])=>{const s=o[e],c=n.decode(s,t.child(e,n,s));(0,r.nM)(c)?c.left.forEach((e=>a.push(e))):i[e]=c.right})),s(a)?t.failures(a):t.success(i)}encode(e){const t={...e};return Object.entries(this.props).forEach((([e,n])=>{t[e]=n.encode(t[e])})),t}is(e){if(!h.is(e))return!1;const t=e;return Object.entries(this.props).every((([n,r])=>{const o=t[n];return(o||Object.hasOwn(e,n))&&r.is(o)}))}}class b extends c{codecs;constructor(e,t=function(e){return e.map((e=>e.name)).join("|")}(e)){super(t),this.codecs=e}decode(e,t){const n=[];for(const[i,s]of this.codecs.entries())try{const o=s.decode(e,t.child(String(i),s,e));if(!(0,r.nM)(o))return t.success(o.right);o.left.forEach((e=>n.push(e)))}catch(o){n.push(o)}return t.failures(n)}encode(e){for(const t of this.codecs)if(t.is(e))return t.encode(e);throw new Error(`no codec found to encode value in union type ${this.name}`)}is(e){return this.codecs.some((t=>t.is(e)))}}function w(e,t){return new b(e,t)}function E(e){return e.displayName||e.name||`<function${e.length}>`}class _ extends c{codec;predicate;constructor(e,t,n=`${e.name}\u224d${E(t)}`){super(n),this.codec=e,this.predicate=t}decode(e,t){const n=this.codec.decode(e,t);return(0,r.nM)(n)||this.predicate(n.right)?n:t.failure()}encode(e){return this.codec.encode(e)}is(e){return this.codec.is(e)&&this.predicate(e)}}function S(e,t,n){return new _(e,t,n)}function T(e,t){const n=Object.getOwnPropertyNames(e);let r=!1;const o={};for(let i=0;i<n.length;i++){const s=n[i];Object.hasOwn(t,s)?o[s]=e[s]:r=!0}return r?o:e}class I extends c{codec;props;constructor(e,t=`Exact<${e.name}>`){super(t),this.codec=e,this.props=N(e)}is(e){return this.codec.is(e)}decode(e,t){const n=h.decode(e,t);if((0,r.nM)(n))return n;const o=n.right;return this.codec.decode(T(o,this.props),t)}encode(e){return this.codec.encode(T(e,this.props))}}function N(e){return function(e){return"props"in e}(e)?e.props:function(e){return"codec"in e}(e)?N(e.codec):function(e){return"codecs"in e}(e)?Object.assign({},...e.codecs.map((e=>N(e)))):{}}function O(e,t){return function(e,t){return new I(e,t)}(function(e,t){return new v(e,t)}(e),t)}class k extends c{domain;codomain;constructor(e,t,n=`{[${e.name}]:${t.name}}`){super(n),this.domain=e,this.codomain=t}decode(e,t){const n=y.decode(e,t);if((0,r.nM)(n))return n;const o=n.right,i={},a=[];for(const[s,c]of Object.entries(o)){const e=this.domain.decode(s,t.child(s,this.domain,s));if((0,r.nM)(e))e.left.forEach((e=>a.push(e)));else{const n=this.codomain.decode(c,t.child(s,this.codomain,c));(0,r.nM)(n)?n.left.forEach((e=>a.push(e))):i[e.right]=n.right}}return s(a)?t.failures(a):t.success(i)}encode(e){const t={};for(const[n,r]of Object.entries(e))t[String(this.domain.encode(n))]=this.codomain.encode(r);return t}is(e){if(!y.is(e))return!1;const t=Object.entries(e);return 0==t.length||t.some((([e,t])=>this.domain.is(e)&&this.codomain.is(t)))}}class A extends c{domain;codomain;keys;constructor(e,t,n=`{[${e.name}]:${t.name}}`){super(n),this.domain=e,this.codomain=t,this.keys=e.keys}decode(e,t){const n=y.decode(e,t);if((0,r.nM)(n))return n;const o=n.right,i={},a=[];for(const s of this.keys){const e=o[s],n=this.codomain.decode(e,t.child(s,this.codomain,e));(0,r.nM)(n)?n.left.forEach((e=>a.push(e))):i[s]=n.right}return s(a)?t.failures(a):t.success(i)}encode(e){const t={};for(const n of this.keys)t[n]=this.codomain.encode(e[n]);return t}is(e){return y.is(e)&&this.keys.every((t=>this.codomain.is(e[t])))}}function x(e,t,n){return"keys"in e?new A(e,t,n):new k(e,t,n)}class C extends c{name;is;decode;encode;constructor(e,t,n,r){super(e),this.name=e,this.is=t,this.decode=n,this.encode=r}}function $(e,t){return new R(e,t)}class R extends c{name;optional=!0;#codec;constructor(e,t=`${e.name}?`){super(t),this.name=t,this.#codec=w([e,f])}decode(e,t){return this.#codec.decode(e,t)}encode(e){return this.#codec.encode(e)}is(e){return this.#codec.is(e)}}function D(e){return"optional"in e&&e.optional}class P extends c{props;#codec;constructor(e,t=g(e)){super(t),this.props=e,this.#codec=new v(e)}#cleanup(e){return Object.entries(this.props).forEach((([t,n])=>{D(n)&&!e[t]&&delete e[t]})),e}decode(e,t){const n=this.#codec.decode(e,t);return(0,r.nM)(n)?n:t.success(this.#cleanup(n.right))}encode(e){const t=this.#codec.encode(e);return this.#cleanup(t)}is(e){const t={...e};return Object.entries(this.props).forEach((([e,n])=>{D(n)&&!t[e]&&(t[e]=void 0)})),this.#codec.is(t)}}const j=function(e,t){const n={},r={};for(const[o,i]of Object.entries(e))D(i)?n[o]=i:r[o]=i;return new P(e,t)}},74747:function(e,t,n){"use strict";function r(e,t){return t()}n.d(t,{H2:function(){return u},Qc:function(){return a}});const o="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",i="[a-zA-Z0-9_.:%-]",s=new RegExp(`^did:([a-z0-9]+):${`((?:${o}*:)*(${o}+))`}${`((${`;${i}+=${i}*`})*)`}(/[^#?]*)?([?][^#]*)?(#.*)?$`);function a(e){if(""===e||!e)return null;const t=e.match(s);if(t){const n={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){const e=t[4].slice(1).split(";");n.params={};for(const t of e){const e=t.split("=");n.params[e[0]]=e[1]}}return t[6]&&(n.path=t[6]),t[7]&&(n.query=t[7].slice(1)),t[8]&&(n.fragment=t[8].slice(1)),n}return null}const c={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class u{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=!0===t.cache?function(){const e=new Map;return function(t,n){try{let r;function o(o){if(r)return o;const i=e.get(t.didUrl);return void 0!==i?i:Promise.resolve(n()).then((function(n){var r;return"notFound"!==(null==(r=n.didResolutionMetadata)?void 0:r.error)&&e.set(t.didUrl,n),n}))}const i=function(){if(t.params&&"true"===t.params["no-cache"])return Promise.resolve(n()).then((function(e){return r=1,e}))}();return Promise.resolve(i&&i.then?i.then(o):o(i))}catch(r){return Promise.reject(r)}}}():t.cache||r,t.legacyResolvers&&Object.keys(t.legacyResolvers).map((e=>{var n;this.registry[e]||(this.registry[e]=(n=t.legacyResolvers[e],function(e,t,r){try{return Promise.resolve(function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(n(e,t,r)).then((function(e){return{...c,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:e}}))}),(function(e){return{...c,didResolutionMetadata:{error:"notFound",message:e.toString()}}})))}catch(o){return Promise.reject(o)}}))}))}resolve(e,t={}){try{const n=this,r=a(e);if(null===r)return Promise.resolve({...c,didResolutionMetadata:{error:"invalidDid"}});const o=n.registry[r.method];return o?Promise.resolve(n.cache(r,(()=>o(r.did,r,n,t)))):Promise.resolve({...c,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(n){return Promise.reject(n)}}}},28087:function(e,t,n){"use strict";n.d(t,{__:function(){return s},OS:function(){return c},Z:function(){return u}});var r=n(88495),o=n(57867),i=n(90850);class s extends Error{constructor(e,...t){var n,i,c;const{nodes:u,source:l,positions:f,path:d,originalError:h,extensions:p}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!==d&&void 0!==d?d:void 0,this.originalError=null!==h&&void 0!==h?h:void 0,this.nodes=a(Array.isArray(u)?u:u?[u]:void 0);const m=a(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!==l&&void 0!==l?l:null===m||void 0===m||null===(i=m[0])||void 0===i?void 0:i.source,this.positions=null!==f&&void 0!==f?f:null===m||void 0===m?void 0:m.map((e=>e.start)),this.locations=f&&l?f.map((e=>(0,o.k)(l,e))):null===m||void 0===m?void 0:m.map((e=>(0,o.k)(e.source,e.start)));const y=(0,r.y)(null===h||void 0===h?void 0:h.extensions)?null===h||void 0===h?void 0:h.extensions:void 0;this.extensions=null!==(c=null!==p&&void 0!==p?p:y)&&void 0!==c?c:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==h&&void 0!==h&&h.stack?Object.defineProperty(this,"stack",{value:h.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+(0,i.Q)(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+(0,i.z)(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function a(e){return void 0===e||0===e.length?void 0:e}function c(e){return e.toString()}function u(e){return e.toJSON()}},31394:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(25821);class o extends Error{constructor(e){super("Unexpected error value: "+(0,r.X)(e)),this.name="NonErrorThrown",this.thrownValue=e}}var i=n(28087);function s(e,t,n){var r;const s=(a=e)instanceof Error?a:new o(a);var a,c;return c=s,Array.isArray(c.path)?s:new i.__(s.message,{nodes:null!==(r=s.nodes)&&void 0!==r?r:t,source:s.source,positions:s.positions,path:n,originalError:s})}},45219:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(28087);function o(e,t,n){return new r.__(`Syntax Error: ${n}`,{source:e,positions:[t]})}},97677:function(e,t,n){"use strict";n.d(t,{g:function(){return c},w:function(){return u}});var r=n(97359),o=n(4454),i=n(68238),s=n(30077),a=n(66422);function c(e,t,n,r,o){const i=new Map;return l(e,t,n,r,o,i,new Set),i}function u(e,t,n,r,o){const i=new Map,s=new Set;for(const a of o)a.selectionSet&&l(e,t,n,r,a.selectionSet,i,s);return i}function l(e,t,n,o,i,s,a){for(const u of i.selections)switch(u.kind){case r.h.FIELD:{if(!f(n,u))continue;const e=(c=u).alias?c.alias.value:c.name.value,t=s.get(e);void 0!==t?t.push(u):s.set(e,[u]);break}case r.h.INLINE_FRAGMENT:if(!f(n,u)||!d(e,u,o))continue;l(e,t,n,o,u.selectionSet,s,a);break;case r.h.FRAGMENT_SPREAD:{const r=u.name.value;if(a.has(r)||!f(n,u))continue;a.add(r);const i=t[r];if(!i||!d(e,i,o))continue;l(e,t,n,o,i.selectionSet,s,a);break}}var c}function f(e,t){const n=(0,a.zu)(i.QE,t,e);if(!0===(null===n||void 0===n?void 0:n.if))return!1;const r=(0,a.zu)(i.Yf,t,e);return!1!==(null===r||void 0===r?void 0:r.if)}function d(e,t,n){const r=t.typeCondition;if(!r)return!0;const i=(0,s._)(e,r);return i===n||!!(0,o.m0)(i)&&e.isSubType(i,n)}},74296:function(e,t,n){"use strict";n.d(t,{td:function(){return T},VZ:function(){return I},p$:function(){return A},El:function(){return j},mn:function(){return P},ht:function(){return E},p0:function(){return _},Vm:function(){return M}});var r=n(37826),o=n(25821),i=n(29551),s=n(93831),a=n(88495),c=n(38659);var u=n(79380);function l(e){return Promise.all(Object.values(e)).then((t=>{const n=Object.create(null);for(const[r,o]of Object.keys(e).entries())n[o]=t[r];return n}))}var f=n(28087),d=n(31394),h=n(72380),p=n(97359),m=n(4454),y=n(52433),g=n(19655),v=n(97677),b=n(66422);const w=function(e){let t;return function(n,r,o){void 0===t&&(t=new WeakMap);let i=t.get(n);void 0===i&&(i=new WeakMap,t.set(n,i));let s=i.get(r);void 0===s&&(s=new WeakMap,i.set(r,s));let a=s.get(o);return void 0===a&&(a=e(n,r,o),s.set(o,a)),a}}(((e,t,n)=>(0,v.w)(e.schema,e.fragments,e.variableValues,t,n)));function E(e){arguments.length<2||(0,r.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,document:n,variableValues:o,rootValue:i}=e;T(t,n,o);const s=I(e);if(!("schema"in s))return{errors:s};try{const{operation:e}=s,t=N(s,e,i);return(0,c.t)(t)?t.then((e=>S(e,s.errors)),(e=>(s.errors.push(e),S(null,s.errors)))):S(t,s.errors)}catch(a){return s.errors.push(a),S(null,s.errors)}}function _(e){const t=E(e);if((0,c.t)(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function S(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}function T(e,t,n){t||(0,r.a)(!1,"Must provide document."),(0,g.J)(e),null==n||(0,a.y)(n)||(0,r.a)(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function I(e){var t,n;const{schema:r,document:o,rootValue:i,contextValue:s,variableValues:a,operationName:c,fieldResolver:u,typeResolver:l,subscribeFieldResolver:d}=e;let h;const m=Object.create(null);for(const v of o.definitions)switch(v.kind){case p.h.OPERATION_DEFINITION:if(null==c){if(void 0!==h)return[new f.__("Must provide operation name if query contains multiple operations.")];h=v}else(null===(t=v.name)||void 0===t?void 0:t.value)===c&&(h=v);break;case p.h.FRAGMENT_DEFINITION:m[v.name.value]=v}if(!h)return null!=c?[new f.__(`Unknown operation named "${c}".`)]:[new f.__("Must provide an operation.")];const y=null!==(n=h.variableDefinitions)&&void 0!==n?n:[],g=(0,b.QF)(r,y,null!==a&&void 0!==a?a:{},{maxErrors:50});return g.errors?g.errors:{schema:r,fragments:m,rootValue:i,contextValue:s,operation:h,variableValues:g.coerced,fieldResolver:null!==u&&void 0!==u?u:j,typeResolver:null!==l&&void 0!==l?l:P,subscribeFieldResolver:null!==d&&void 0!==d?d:j,errors:[]}}function N(e,t,n){const r=e.schema.getRootType(t.operation);if(null==r)throw new f.__(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const o=(0,v.g)(e.schema,e.fragments,e.variableValues,r,t.selectionSet),i=void 0;switch(t.operation){case h.ku.QUERY:return O(e,r,n,i,o);case h.ku.MUTATION:return function(e,t,n,r,o){return function(e,t,n){let r=n;for(const o of e)r=(0,c.t)(r)?r.then((e=>t(e,o))):t(r,o);return r}(o.entries(),((o,[i,s])=>{const a=(0,u.Q)(r,i,t.name),l=k(e,t,n,s,a);return void 0===l?o:(0,c.t)(l)?l.then((e=>(o[i]=e,o))):(o[i]=l,o)}),Object.create(null))}(e,r,n,i,o);case h.ku.SUBSCRIPTION:return O(e,r,n,i,o)}}function O(e,t,n,r,o){const i=Object.create(null);let s=!1;try{for(const[a,l]of o.entries()){const o=k(e,t,n,l,(0,u.Q)(r,a,t.name));void 0!==o&&(i[a]=o,(0,c.t)(o)&&(s=!0))}}catch(a){if(s)return l(i).finally((()=>{throw a}));throw a}return s?l(i):i}function k(e,t,n,r,o){var i;const s=M(e.schema,t,r[0]);if(!s)return;const a=s.type,l=null!==(i=s.resolve)&&void 0!==i?i:e.fieldResolver,f=A(e,s,r,t,o);try{const t=(0,b.LX)(s,r[0],e.variableValues),i=l(n,t,e.contextValue,f);let h;return h=(0,c.t)(i)?i.then((t=>C(e,a,r,f,o,t))):C(e,a,r,f,o,i),(0,c.t)(h)?h.then(void 0,(t=>x((0,d.y)(t,r,(0,u.N)(o)),a,e))):h}catch(h){return x((0,d.y)(h,r,(0,u.N)(o)),a,e)}}function A(e,t,n,r,o){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:o,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function x(e,t,n){if((0,m.zM)(t))throw e;return n.errors.push(e),null}function C(e,t,n,r,a,l){if(l instanceof Error)throw l;if((0,m.zM)(t)){const o=C(e,t.ofType,n,r,a,l);if(null===o)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return o}return null==l?null:(0,m.HG)(t)?function(e,t,n,r,o,i){if(!(0,s.i)(i))throw new f.__(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const a=t.ofType;let l=!1;const h=Array.from(i,((t,i)=>{const s=(0,u.Q)(o,i,void 0);try{let o;return o=(0,c.t)(t)?t.then((t=>C(e,a,n,r,s,t))):C(e,a,n,r,s,t),(0,c.t)(o)?(l=!0,o.then(void 0,(t=>x((0,d.y)(t,n,(0,u.N)(s)),a,e)))):o}catch(f){return x((0,d.y)(f,n,(0,u.N)(s)),a,e)}}));return l?Promise.all(h):h}(e,t,n,r,a,l):(0,m.UT)(t)?function(e,t){const n=e.serialize(t);if(null==n)throw new Error(`Expected \`${(0,o.X)(e)}.serialize(${(0,o.X)(t)})\` to return non-nullable value, returned: ${(0,o.X)(n)}`);return n}(t,l):(0,m.m0)(t)?function(e,t,n,r,o,i){var s;const a=null!==(s=t.resolveType)&&void 0!==s?s:e.typeResolver,u=e.contextValue,l=a(i,u,r,t);if((0,c.t)(l))return l.then((s=>R(e,$(s,e,t,n,r,i),n,r,o,i)));return R(e,$(l,e,t,n,r,i),n,r,o,i)}(e,t,n,r,a,l):(0,m.lp)(t)?R(e,t,n,r,a,l):void(0,i.k)(!1,"Cannot complete value of unexpected output type: "+(0,o.X)(t))}function $(e,t,n,r,i,s){if(null==e)throw new f.__(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,r);if((0,m.lp)(e))throw new f.__("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!==typeof e)throw new f.__(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}" with value ${(0,o.X)(s)}, received "${(0,o.X)(e)}".`);const a=t.schema.getType(e);if(null==a)throw new f.__(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!(0,m.lp)(a))throw new f.__(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,a))throw new f.__(`Runtime Object type "${a.name}" is not a possible type for "${n.name}".`,{nodes:r});return a}function R(e,t,n,r,o,i){const s=w(e,t,n);if(t.isTypeOf){const a=t.isTypeOf(i,e.contextValue,r);if((0,c.t)(a))return a.then((r=>{if(!r)throw D(t,i,n);return O(e,t,i,o,s)}));if(!a)throw D(t,i,n)}return O(e,t,i,o,s)}function D(e,t,n){return new f.__(`Expected value of type "${e.name}" but got: ${(0,o.X)(t)}.`,{nodes:n})}const P=function(e,t,n,r){if((0,a.y)(e)&&"string"===typeof e.__typename)return e.__typename;const o=n.schema.getPossibleTypes(r),i=[];for(let s=0;s<o.length;s++){const r=o[s];if(r.isTypeOf){const o=r.isTypeOf(e,t,n);if((0,c.t)(o))i[s]=o;else if(o)return r.name}}return i.length?Promise.all(i).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return o[t].name})):void 0},j=function(e,t,n,r){if((0,a.y)(e)||"function"===typeof e){const o=e[r.fieldName];return"function"===typeof o?e[r.fieldName](t,n,r):o}};function M(e,t,n){const r=n.name.value;return r===y.Az.name&&e.getQueryType()===t?y.Az:r===y.tF.name&&e.getQueryType()===t?y.tF:r===y.hU.name?y.hU:t.getFields()[r]}},66422:function(e,t,n){"use strict";n.d(t,{QF:function(){return h},LX:function(){return p},zu:function(){return m}});var r=n(25821),o=n(73498),i=n(94244),s=n(28087),a=n(97359),c=n(16918),u=n(4454),l=n(27816),f=n(30077),d=n(58081);function h(e,t,n,o){const a=[],h=null===o||void 0===o?void 0:o.maxErrors;try{const o=function(e,t,n,o){const a={};for(const h of t){const t=h.variable.name.value,p=(0,f._)(e,h.type);if(!(0,u.j$)(p)){const e=(0,c.S)(h.type);o(new s.__(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:h.type}));continue}if(!y(n,t)){if(h.defaultValue)a[t]=(0,d.u)(h.defaultValue,p);else if((0,u.zM)(p)){const e=(0,r.X)(p);o(new s.__(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:h}))}continue}const m=n[t];if(null===m&&(0,u.zM)(p)){const e=(0,r.X)(p);o(new s.__(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:h}))}else a[t]=(0,l.K)(m,p,((e,n,a)=>{let c=`Variable "$${t}" got invalid value `+(0,r.X)(n);e.length>0&&(c+=` at "${t}${(0,i.F)(e)}"`),o(new s.__(c+"; "+a.message,{nodes:h,originalError:a}))}))}return a}(e,t,n,(e=>{if(null!=h&&a.length>=h)throw new s.__("Too many errors processing variables, error limit reached. Execution aborted.");a.push(e)}));if(0===a.length)return{coerced:o}}catch(p){a.push(p)}return{errors:a}}function p(e,t,n){var i;const l={},f=null!==(i=t.arguments)&&void 0!==i?i:[],h=(0,o.P)(f,(e=>e.name.value));for(const o of e.args){const e=o.name,i=o.type,f=h[e];if(!f){if(void 0!==o.defaultValue)l[e]=o.defaultValue;else if((0,u.zM)(i))throw new s.__(`Argument "${e}" of required type "${(0,r.X)(i)}" was not provided.`,{nodes:t});continue}const p=f.value;let m=p.kind===a.h.NULL;if(p.kind===a.h.VARIABLE){const t=p.name.value;if(null==n||!y(n,t)){if(void 0!==o.defaultValue)l[e]=o.defaultValue;else if((0,u.zM)(i))throw new s.__(`Argument "${e}" of required type "${(0,r.X)(i)}" was provided the variable "$${t}" which was not provided a runtime value.`,{nodes:p});continue}m=null==n[t]}if(m&&(0,u.zM)(i))throw new s.__(`Argument "${e}" of non-null type "${(0,r.X)(i)}" must not be null.`,{nodes:p});const g=(0,d.u)(p,i,n);if(void 0===g)throw new s.__(`Argument "${e}" has invalid value ${(0,c.S)(p)}.`,{nodes:p});l[e]=g}return l}function m(e,t,n){var r;const o=null===(r=t.directives)||void 0===r?void 0:r.find((t=>t.name.value===e.name));if(o)return p(e,o,n)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},57893:function(e,t,n){"use strict";n.r(t),n.d(t,{BREAK:function(){return N.$_},BreakingChangeType:function(){return ut},DEFAULT_DEPRECATION_REASON:function(){return m.SY},DangerousChangeType:function(){return lt},DirectiveLocation:function(){return k.B},ExecutableDefinitionsRule:function(){return G.i},FieldsOnCorrectTypeRule:function(){return H.A},FragmentsOnCompositeTypesRule:function(){return K.T},GRAPHQL_MAX_INT:function(){return y.HI},GRAPHQL_MIN_INT:function(){return y.st},GraphQLBoolean:function(){return y.EZ},GraphQLDeprecatedDirective:function(){return m.fg},GraphQLDirective:function(){return m.NZ},GraphQLEnumType:function(){return h.mR},GraphQLError:function(){return R.__},GraphQLFloat:function(){return y.av},GraphQLID:function(){return y.km},GraphQLIncludeDirective:function(){return m.Yf},GraphQLInputObjectType:function(){return h.sR},GraphQLInt:function(){return y._o},GraphQLInterfaceType:function(){return h.oW},GraphQLList:function(){return h.p2},GraphQLNonNull:function(){return h.bM},GraphQLObjectType:function(){return h.h6},GraphQLScalarType:function(){return h.n2},GraphQLSchema:function(){return p.XO},GraphQLSkipDirective:function(){return m.QE},GraphQLSpecifiedByDirective:function(){return m.df},GraphQLString:function(){return y.kH},GraphQLUnionType:function(){return h.Gp},Kind:function(){return O.h},KnownArgumentNamesRule:function(){return J.e},KnownDirectivesRule:function(){return W.J},KnownFragmentNamesRule:function(){return Q.a},KnownTypeNamesRule:function(){return Y.I},Lexer:function(){return S.h},Location:function(){return b.Ye},LoneAnonymousOperationRule:function(){return X.F},LoneSchemaDefinitionRule:function(){return ge.t},NoDeprecatedCustomRule:function(){return F},NoFragmentCyclesRule:function(){return Z.H},NoSchemaIntrospectionCustomRule:function(){return V},NoUndefinedVariablesRule:function(){return ee.$},NoUnusedFragmentsRule:function(){return te.J},NoUnusedVariablesRule:function(){return ne.p},OperationTypeNode:function(){return b.ku},OverlappingFieldsCanBeMergedRule:function(){return re.y},PossibleFragmentSpreadsRule:function(){return oe.a},PossibleTypeExtensionsRule:function(){return Te.g},ProvidedRequiredArgumentsRule:function(){return ie.s},ScalarLeafsRule:function(){return se.O},SchemaMetaFieldDef:function(){return g.Az},SingleFieldSubscriptionsRule:function(){return ae.Z},Source:function(){return w.H},Token:function(){return b.WU},TokenKind:function(){return T.T},TypeInfo:function(){return $t.a},TypeKind:function(){return g.zU},TypeMetaFieldDef:function(){return g.tF},TypeNameMetaFieldDef:function(){return g.hU},UniqueArgumentDefinitionNamesRule:function(){return _e.L},UniqueArgumentNamesRule:function(){return ce.L},UniqueDirectiveNamesRule:function(){return Se.o},UniqueDirectivesPerLocationRule:function(){return ue.k},UniqueEnumValueNamesRule:function(){return we.L},UniqueFieldDefinitionNamesRule:function(){return Ee.y},UniqueFragmentNamesRule:function(){return le.N},UniqueInputFieldNamesRule:function(){return fe.P},UniqueOperationNamesRule:function(){return de.H},UniqueOperationTypesRule:function(){return ve.q},UniqueTypeNamesRule:function(){return be.P},UniqueVariableNamesRule:function(){return he.H},ValidationContext:function(){return q._t},ValuesOfCorrectTypeRule:function(){return pe.j},VariablesAreInputTypesRule:function(){return me.I},VariablesInAllowedPositionRule:function(){return ye.w},__Directive:function(){return g.l3},__DirectiveLocation:function(){return g.x2},__EnumValue:function(){return g.jT},__Field:function(){return g.e_},__InputValue:function(){return g.XQ},__Schema:function(){return g.TK},__Type:function(){return g.qz},__TypeKind:function(){return g.PX},assertAbstractType:function(){return h.fU},assertCompositeType:function(){return h.M_},assertDirective:function(){return m.CO},assertEnumType:function(){return h.Zu},assertEnumValueName:function(){return v.g},assertInputObjectType:function(){return h.U8},assertInputType:function(){return h.qT},assertInterfaceType:function(){return h.k2},assertLeafType:function(){return h.H5},assertListType:function(){return h.kS},assertName:function(){return v.i},assertNamedType:function(){return h.rM},assertNonNullType:function(){return h.E$},assertNullableType:function(){return h.i_},assertObjectType:function(){return h.Z6},assertOutputType:function(){return h.Gt},assertScalarType:function(){return h.Pt},assertSchema:function(){return p.EO},assertType:function(){return h.p_},assertUnionType:function(){return h.rc},assertValidName:function(){return at},assertValidSchema:function(){return a.J},assertWrappingType:function(){return h.vX},astFromValue:function(){return Ve.J},buildASTSchema:function(){return De},buildClientSchema:function(){return $e},buildSchema:function(){return Pe},coerceInputValue:function(){return Rt.K},concatAST:function(){return nt},createSourceEventStream:function(){return U},defaultFieldResolver:function(){return u.El},defaultTypeResolver:function(){return u.mn},doTypesOverlap:function(){return Dt.zR},execute:function(){return u.ht},executeSync:function(){return u.p0},extendSchema:function(){return Re.a},findBreakingChanges:function(){return ht},findDangerousChanges:function(){return pt},formatError:function(){return R.Z},getArgumentValues:function(){return M.LX},getDirectiveValues:function(){return M.zu},getEnterLeaveForKind:function(){return N.Eu},getIntrospectionQuery:function(){return Ne},getLocation:function(){return E.k},getNamedType:function(){return h.xC},getNullableType:function(){return h.tf},getOperationAST:function(){return At.S},getOperationRootType:function(){return Oe},getVariableValues:function(){return M.QF},getVisitFn:function(){return N.CK},graphql:function(){return l},graphqlSync:function(){return f},introspectionFromSchema:function(){return ke},introspectionTypes:function(){return g.nL},isAbstractType:function(){return h.m0},isCompositeType:function(){return h.Gv},isConstValueNode:function(){return A.Of},isDefinitionNode:function(){return A.Ir},isDirective:function(){return m.wX},isEnumType:function(){return h.EM},isEqualType:function(){return Dt._7},isExecutableDefinitionNode:function(){return A.Wk},isInputObjectType:function(){return h.hL},isInputType:function(){return h.j$},isInterfaceType:function(){return h.oT},isIntrospectionType:function(){return g.s9},isLeafType:function(){return h.UT},isListType:function(){return h.HG},isNamedType:function(){return h.Zs},isNonNullType:function(){return h.zM},isNullableType:function(){return h.zP},isObjectType:function(){return h.lp},isOutputType:function(){return h.SZ},isRequiredArgument:function(){return h.dK},isRequiredInputField:function(){return h.Wd},isScalarType:function(){return h.KA},isSchema:function(){return p.nN},isSelectionNode:function(){return A.pO},isSpecifiedDirective:function(){return m.xg},isSpecifiedScalarType:function(){return y.u1},isType:function(){return h.P9},isTypeDefinitionNode:function(){return A.zT},isTypeExtensionNode:function(){return A.D$},isTypeNode:function(){return A.VB},isTypeSubTypeOf:function(){return Dt.uJ},isTypeSystemDefinitionNode:function(){return A.G4},isTypeSystemExtensionNode:function(){return A.aU},isUnionType:function(){return h.EN},isValidNameError:function(){return ct},isValueNode:function(){return A.nr},isWrappingType:function(){return h.fw},lexicographicSortSchema:function(){return Me},locatedError:function(){return D.y},parse:function(){return s.Qc},parseConstValue:function(){return s.tl},parseType:function(){return s.gZ},parseValue:function(){return s.H2},print:function(){return I.S},printError:function(){return R.OS},printIntrospectionSchema:function(){return ze},printLocation:function(){return _.Q},printSchema:function(){return qe},printSourceLocation:function(){return _.z},printType:function(){return Je},resolveObjMapThunk:function(){return h.WB},resolveReadonlyArrayThunk:function(){return h._9},responsePathAsArray:function(){return $.N},separateOperations:function(){return rt},specifiedDirectives:function(){return m.V4},specifiedRules:function(){return z.i},specifiedScalarTypes:function(){return y.HS},stripIgnoredCharacters:function(){return st},subscribe:function(){return L},syntaxError:function(){return Ie.h},typeFromAST:function(){return xt._},validate:function(){return c.Gu},validateSchema:function(){return a.F},valueFromAST:function(){return Ce.u},valueFromASTUntyped:function(){return Ct.M},version:function(){return r.i},versionInfo:function(){return r.A},visit:function(){return N.Vn},visitInParallel:function(){return N.j1},visitWithTypeInfo:function(){return $t.y}});var r=n(55944),o=n(37826),i=n(38659),s=n(84275),a=n(19655),c=n(24635),u=n(74296);function l(e){return new Promise((t=>t(d(e))))}function f(e){const t=d(e);if((0,i.t)(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function d(e){arguments.length<2||(0,o.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,source:n,rootValue:r,contextValue:i,variableValues:l,operationName:f,fieldResolver:d,typeResolver:h}=e,p=(0,a.F)(t);if(p.length>0)return{errors:p};let m;try{m=(0,s.Qc)(n)}catch(Ie){return{errors:[Ie]}}const y=(0,c.Gu)(t,m);return y.length>0?{errors:y}:(0,u.ht)({schema:t,document:m,rootValue:r,contextValue:i,variableValues:l,operationName:f,fieldResolver:d,typeResolver:h})}var h=n(4454),p=n(59678),m=n(68238),y=n(3801),g=n(52433),v=n(96303),b=n(72380),w=n(7926),E=n(57867),_=n(90850),S=n(92105),T=n(74635),I=n(16918),N=n(77304),O=n(97359),k=n(99878),A=n(75844),x=n(25821);function C(e){return"function"===typeof(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}var $=n(79380),R=n(28087),D=n(31394),P=n(97677);function j(e,t){const n=e[Symbol.asyncIterator]();async function r(e){if(e.done)return e;try{return{value:await t(e.value),done:!1}}catch(r){if("function"===typeof n.return)try{await n.return()}catch(o){}throw r}}return{next:async()=>r(await n.next()),return:async()=>"function"===typeof n.return?r(await n.return()):{value:void 0,done:!0},async throw(e){if("function"===typeof n.throw)return r(await n.throw(e));throw e},[Symbol.asyncIterator](){return this}}}var M=n(66422);async function L(e){arguments.length<2||(0,o.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const t=await U(e);if(!C(t))return t;const n=t=>(0,u.ht)({...e,rootValue:t});return j(t,n)}async function U(...e){const t=function(e){const t=e[0];return t&&"document"in t?t:{schema:t,document:e[1],rootValue:e[2],contextValue:e[3],variableValues:e[4],operationName:e[5],subscribeFieldResolver:e[6]}}(e),{schema:n,document:r,variableValues:o}=t;(0,u.td)(n,r,o);const i=(0,u.VZ)(t);if(!("schema"in i))return{errors:i};try{const e=await async function(e){const{schema:t,fragments:n,operation:r,variableValues:o,rootValue:i}=e,s=t.getSubscriptionType();if(null==s)throw new R.__("Schema is not configured to execute subscription operation.",{nodes:r});const a=(0,P.g)(t,n,o,s,r.selectionSet),[c,l]=[...a.entries()][0],f=(0,u.Vm)(t,s,l[0]);if(!f){const e=l[0].name.value;throw new R.__(`The subscription field "${e}" is not defined.`,{nodes:l})}const d=(0,$.Q)(void 0,c,s.name),h=(0,u.p$)(e,f,l,s,d);try{var p;const t=(0,M.LX)(f,l[0],o),n=e.contextValue,r=null!==(p=f.subscribe)&&void 0!==p?p:e.subscribeFieldResolver,s=await r(i,t,n,h);if(s instanceof Error)throw s;return s}catch(m){throw(0,D.y)(m,l,(0,$.N)(d))}}(i);if(!C(e))throw new Error(`Subscription field must return Async Iterable. Received: ${(0,x.X)(e)}.`);return e}catch(s){if(s instanceof R.__)return{errors:[s]};throw s}}var B=n(29551);function F(e){return{Field(t){const n=e.getFieldDef(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const o=e.getParentType();null!=o||(0,B.k)(!1),e.reportError(new R.__(`The field ${o.name}.${n.name} is deprecated. ${r}`,{nodes:t}))}},Argument(t){const n=e.getArgument(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const o=e.getDirective();if(null!=o)e.reportError(new R.__(`Directive "@${o.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}));else{const o=e.getParentType(),i=e.getFieldDef();null!=o&&null!=i||(0,B.k)(!1),e.reportError(new R.__(`Field "${o.name}.${i.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}))}}},ObjectField(t){const n=(0,h.xC)(e.getParentInputType());if((0,h.hL)(n)){const r=n.getFields()[t.name.value],o=null===r||void 0===r?void 0:r.deprecationReason;null!=o&&e.reportError(new R.__(`The input field ${n.name}.${r.name} is deprecated. ${o}`,{nodes:t}))}},EnumValue(t){const n=e.getEnumValue(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const o=(0,h.xC)(e.getInputType());null!=o||(0,B.k)(!1),e.reportError(new R.__(`The enum value "${o.name}.${n.name}" is deprecated. ${r}`,{nodes:t}))}}}}function V(e){return{Field(t){const n=(0,h.xC)(e.getType());n&&(0,g.s9)(n)&&e.reportError(new R.__(`GraphQL introspection has been disabled, but the requested query contained the field "${t.name.value}".`,{nodes:t}))}}}var q=n(32734),z=n(24196),G=n(88081),H=n(48741),K=n(77143),J=n(47815),W=n(84873),Q=n(5311),Y=n(25580),X=n(27898),Z=n(91422),ee=n(14790),te=n(81294),ne=n(72283),re=n(54203),oe=n(63259),ie=n(61967),se=n(41954),ae=n(10423),ce=n(42266),ue=n(96300),le=n(45591),fe=n(92767),de=n(82621),he=n(1564),pe=n(19831),me=n(45972),ye=n(9701),ge=n(52877),ve=n(77990),be=n(69538),we=n(93201),Ee=n(22618),_e=n(12337),Se=n(53274),Te=n(34800),Ie=n(45219);function Ne(e){const t={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...e},n=t.descriptions?"description":"",r=t.specifiedByUrl?"specifiedByURL":"",o=t.directiveIsRepeatable?"isRepeatable":"";function i(e){return t.inputValueDeprecation?e:""}return`\n    query IntrospectionQuery {\n      __schema {\n        ${t.schemaDescription?n:""}\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ${n}\n          ${o}\n          locations\n          args${i("(includeDeprecated: true)")} {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ${n}\n      ${r}\n      fields(includeDeprecated: true) {\n        name\n        ${n}\n        args${i("(includeDeprecated: true)")} {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields${i("(includeDeprecated: true)")} {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ${n}\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ${n}\n      type { ...TypeRef }\n      defaultValue\n      ${i("isDeprecated")}\n      ${i("deprecationReason")}\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                    ofType {\n                      kind\n                      name\n                      ofType {\n                        kind\n                        name\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `}function Oe(e,t){if("query"===t.operation){const n=e.getQueryType();if(!n)throw new R.__("Schema does not define the required query root type.",{nodes:t});return n}if("mutation"===t.operation){const n=e.getMutationType();if(!n)throw new R.__("Schema is not configured for mutations.",{nodes:t});return n}if("subscription"===t.operation){const n=e.getSubscriptionType();if(!n)throw new R.__("Schema is not configured for subscriptions.",{nodes:t});return n}throw new R.__("Can only have query, mutation and subscription operations.",{nodes:t})}function ke(e,t){const n={specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,...t},r=(0,s.Qc)(Ne(n)),o=(0,u.p0)({schema:e,document:r});return!o.errors&&o.data||(0,B.k)(!1),o.data}var Ae=n(88495),xe=n(54950),Ce=n(58081);function $e(e,t){(0,Ae.y)(e)&&(0,Ae.y)(e.__schema)||(0,o.a)(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${(0,x.X)(e)}.`);const n=e.__schema,r=(0,xe.w)(n.types,(e=>e.name),(e=>function(e){if(null!=e&&null!=e.name&&null!=e.kind)switch(e.kind){case g.zU.SCALAR:return r=e,new h.n2({name:r.name,description:r.description,specifiedByURL:r.specifiedByURL});case g.zU.OBJECT:return n=e,new h.h6({name:n.name,description:n.description,interfaces:()=>b(n),fields:()=>w(n)});case g.zU.INTERFACE:return t=e,new h.oW({name:t.name,description:t.description,interfaces:()=>b(t),fields:()=>w(t)});case g.zU.UNION:return function(e){if(!e.possibleTypes){const t=(0,x.X)(e);throw new Error(`Introspection result missing possibleTypes: ${t}.`)}return new h.Gp({name:e.name,description:e.description,types:()=>e.possibleTypes.map(d)})}(e);case g.zU.ENUM:return function(e){if(!e.enumValues){const t=(0,x.X)(e);throw new Error(`Introspection result missing enumValues: ${t}.`)}return new h.mR({name:e.name,description:e.description,values:(0,xe.w)(e.enumValues,(e=>e.name),(e=>({description:e.description,deprecationReason:e.deprecationReason})))})}(e);case g.zU.INPUT_OBJECT:return function(e){if(!e.inputFields){const t=(0,x.X)(e);throw new Error(`Introspection result missing inputFields: ${t}.`)}return new h.sR({name:e.name,description:e.description,fields:()=>_(e.inputFields)})}(e)}var t;var n;var r;const o=(0,x.X)(e);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${o}.`)}(e)));for(const o of[...y.HS,...g.nL])r[o.name]&&(r[o.name]=o);const i=n.queryType?d(n.queryType):null,a=n.mutationType?d(n.mutationType):null,c=n.subscriptionType?d(n.subscriptionType):null,u=n.directives?n.directives.map((function(e){if(!e.args){const t=(0,x.X)(e);throw new Error(`Introspection result missing directive args: ${t}.`)}if(!e.locations){const t=(0,x.X)(e);throw new Error(`Introspection result missing directive locations: ${t}.`)}return new m.NZ({name:e.name,description:e.description,isRepeatable:e.isRepeatable,locations:e.locations.slice(),args:_(e.args)})})):[];return new p.XO({description:n.description,query:i,mutation:a,subscription:c,types:Object.values(r),directives:u,assumeValid:null===t||void 0===t?void 0:t.assumeValid});function l(e){if(e.kind===g.zU.LIST){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return new h.p2(l(t))}if(e.kind===g.zU.NON_NULL){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");const n=l(t);return new h.bM((0,h.i_)(n))}return f(e)}function f(e){const t=e.name;if(!t)throw new Error(`Unknown type reference: ${(0,x.X)(e)}.`);const n=r[t];if(!n)throw new Error(`Invalid or incomplete schema, unknown type: ${t}. Ensure that a full introspection query is used in order to build a client schema.`);return n}function d(e){return(0,h.Z6)(f(e))}function v(e){return(0,h.k2)(f(e))}function b(e){if(null===e.interfaces&&e.kind===g.zU.INTERFACE)return[];if(!e.interfaces){const t=(0,x.X)(e);throw new Error(`Introspection result missing interfaces: ${t}.`)}return e.interfaces.map(v)}function w(e){if(!e.fields)throw new Error(`Introspection result missing fields: ${(0,x.X)(e)}.`);return(0,xe.w)(e.fields,(e=>e.name),E)}function E(e){const t=l(e.type);if(!(0,h.SZ)(t)){const e=(0,x.X)(t);throw new Error(`Introspection must provide output type for fields, but received: ${e}.`)}if(!e.args){const t=(0,x.X)(e);throw new Error(`Introspection result missing field args: ${t}.`)}return{description:e.description,deprecationReason:e.deprecationReason,type:t,args:_(e.args)}}function _(e){return(0,xe.w)(e,(e=>e.name),S)}function S(e){const t=l(e.type);if(!(0,h.j$)(t)){const e=(0,x.X)(t);throw new Error(`Introspection must provide input type for arguments, but received: ${e}.`)}const n=null!=e.defaultValue?(0,Ce.u)((0,s.H2)(e.defaultValue),t):void 0;return{description:e.description,type:t,defaultValue:n,deprecationReason:e.deprecationReason}}}var Re=n(79557);function De(e,t){null!=e&&e.kind===O.h.DOCUMENT||(0,o.a)(!1,"Must provide valid Document AST."),!0!==(null===t||void 0===t?void 0:t.assumeValid)&&!0!==(null===t||void 0===t?void 0:t.assumeValidSDL)&&(0,c.zo)(e);const n={description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},r=(0,Re.w)(n,e,t);if(null==r.astNode)for(const o of r.types)switch(o.name){case"Query":r.query=o;break;case"Mutation":r.mutation=o;break;case"Subscription":r.subscription=o}const i=[...r.directives,...m.V4.filter((e=>r.directives.every((t=>t.name!==e.name))))];return new p.XO({...r,directives:i})}function Pe(e,t){return De((0,s.Qc)(e,{noLocation:null===t||void 0===t?void 0:t.noLocation,allowLegacyFragmentVariables:null===t||void 0===t?void 0:t.allowLegacyFragmentVariables}),{assumeValidSDL:null===t||void 0===t?void 0:t.assumeValidSDL,assumeValid:null===t||void 0===t?void 0:t.assumeValid})}var je=n(8224);function Me(e){const t=e.toConfig(),n=(0,xe.w)(Ue(t.types),(e=>e.name),(function(e){if((0,h.KA)(e)||(0,g.s9)(e))return e;if((0,h.lp)(e)){const t=e.toConfig();return new h.h6({...t,interfaces:()=>c(t.interfaces),fields:()=>a(t.fields)})}if((0,h.oT)(e)){const t=e.toConfig();return new h.oW({...t,interfaces:()=>c(t.interfaces),fields:()=>a(t.fields)})}if((0,h.EN)(e)){const t=e.toConfig();return new h.Gp({...t,types:()=>c(t.types)})}if((0,h.EM)(e)){const t=e.toConfig();return new h.mR({...t,values:Le(t.values,(e=>e))})}if((0,h.hL)(e)){const t=e.toConfig();return new h.sR({...t,fields:()=>Le(t.fields,(e=>({...e,type:r(e.type)})))})}(0,B.k)(!1,"Unexpected type: "+(0,x.X)(e))}));return new p.XO({...t,types:Object.values(n),directives:Ue(t.directives).map((function(e){const t=e.toConfig();return new m.NZ({...t,locations:Be(t.locations,(e=>e)),args:s(t.args)})})),query:i(t.query),mutation:i(t.mutation),subscription:i(t.subscription)});function r(e){return(0,h.HG)(e)?new h.p2(r(e.ofType)):(0,h.zM)(e)?new h.bM(r(e.ofType)):o(e)}function o(e){return n[e.name]}function i(e){return e&&o(e)}function s(e){return Le(e,(e=>({...e,type:r(e.type)})))}function a(e){return Le(e,(e=>({...e,type:r(e.type),args:e.args&&s(e.args)})))}function c(e){return Ue(e).map(o)}}function Le(e,t){const n=Object.create(null);for(const r of Object.keys(e).sort(je.K))n[r]=t(e[r]);return n}function Ue(e){return Be(e,(e=>e.name))}function Be(e,t){return e.slice().sort(((e,n)=>{const r=t(e),o=t(n);return(0,je.K)(r,o)}))}var Fe=n(87392),Ve=n(78631);function qe(e){return He(e,(e=>!(0,m.xg)(e)),Ge)}function ze(e){return He(e,m.xg,g.s9)}function Ge(e){return!(0,y.u1)(e)&&!(0,g.s9)(e)}function He(e,t,n){const r=e.getDirectives().filter(t),o=Object.values(e.getTypeMap()).filter(n);return[Ke(e),...r.map((e=>function(e){return tt(e)+"directive @"+e.name+Xe(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}(e))),...o.map((e=>Je(e)))].filter(Boolean).join("\n\n")}function Ke(e){if(null==e.description&&function(e){const t=e.getQueryType();if(t&&"Query"!==t.name)return!1;const n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;const r=e.getSubscriptionType();if(r&&"Subscription"!==r.name)return!1;return!0}(e))return;const t=[],n=e.getQueryType();n&&t.push(`  query: ${n.name}`);const r=e.getMutationType();r&&t.push(`  mutation: ${r.name}`);const o=e.getSubscriptionType();return o&&t.push(`  subscription: ${o.name}`),tt(e)+`schema {\n${t.join("\n")}\n}`}function Je(e){return(0,h.KA)(e)?function(e){return tt(e)+`scalar ${e.name}`+function(e){if(null==e.specifiedByURL)return"";return` @specifiedBy(url: ${(0,I.S)({kind:O.h.STRING,value:e.specifiedByURL})})`}(e)}(e):(0,h.lp)(e)?function(e){return tt(e)+`type ${e.name}`+We(e)+Qe(e)}(e):(0,h.oT)(e)?function(e){return tt(e)+`interface ${e.name}`+We(e)+Qe(e)}(e):(0,h.EN)(e)?function(e){const t=e.getTypes(),n=t.length?" = "+t.join(" | "):"";return tt(e)+"union "+e.name+n}(e):(0,h.EM)(e)?function(e){const t=e.getValues().map(((e,t)=>tt(e,"  ",!t)+"  "+e.name+et(e.deprecationReason)));return tt(e)+`enum ${e.name}`+Ye(t)}(e):(0,h.hL)(e)?function(e){const t=Object.values(e.getFields()).map(((e,t)=>tt(e,"  ",!t)+"  "+Ze(e)));return tt(e)+`input ${e.name}`+Ye(t)}(e):void(0,B.k)(!1,"Unexpected type: "+(0,x.X)(e))}function We(e){const t=e.getInterfaces();return t.length?" implements "+t.map((e=>e.name)).join(" & "):""}function Qe(e){return Ye(Object.values(e.getFields()).map(((e,t)=>tt(e,"  ",!t)+"  "+e.name+Xe(e.args,"  ")+": "+String(e.type)+et(e.deprecationReason))))}function Ye(e){return 0!==e.length?" {\n"+e.join("\n")+"\n}":""}function Xe(e,t=""){return 0===e.length?"":e.every((e=>!e.description))?"("+e.map(Ze).join(", ")+")":"(\n"+e.map(((e,n)=>tt(e,"  "+t,!n)+"  "+t+Ze(e))).join("\n")+"\n"+t+")"}function Ze(e){const t=(0,Ve.J)(e.defaultValue,e.type);let n=e.name+": "+String(e.type);return t&&(n+=` = ${(0,I.S)(t)}`),n+et(e.deprecationReason)}function et(e){if(null==e)return"";if(e!==m.SY){return` @deprecated(reason: ${(0,I.S)({kind:O.h.STRING,value:e})})`}return" @deprecated"}function tt(e,t="",n=!0){const{description:r}=e;if(null==r)return"";return(t&&!n?"\n"+t:t)+(0,I.S)({kind:O.h.STRING,value:r,block:(0,Fe.MZ)(r)}).replace(/\n/g,"\n"+t)+"\n"}function nt(e){const t=[];for(const n of e)t.push(...n.definitions);return{kind:O.h.DOCUMENT,definitions:t}}function rt(e){const t=[],n=Object.create(null);for(const o of e.definitions)switch(o.kind){case O.h.OPERATION_DEFINITION:t.push(o);break;case O.h.FRAGMENT_DEFINITION:n[o.name.value]=it(o.selectionSet)}const r=Object.create(null);for(const o of t){const t=new Set;for(const e of it(o.selectionSet))ot(t,n,e);r[o.name?o.name.value:""]={kind:O.h.DOCUMENT,definitions:e.definitions.filter((e=>e===o||e.kind===O.h.FRAGMENT_DEFINITION&&t.has(e.name.value)))}}return r}function ot(e,t,n){if(!e.has(n)){e.add(n);const r=t[n];if(void 0!==r)for(const n of r)ot(e,t,n)}}function it(e){const t=[];return(0,N.Vn)(e,{FragmentSpread(e){t.push(e.name.value)}}),t}function st(e){const t=(0,w.T)(e)?e:new w.H(e),n=t.body,r=new S.h(t);let o="",i=!1;for(;r.advance().kind!==T.T.EOF;){const e=r.token,t=e.kind,s=!(0,S.u)(e.kind);i&&(s||e.kind===T.T.SPREAD)&&(o+=" ");const a=n.slice(e.start,e.end);t===T.T.BLOCK_STRING?o+=(0,Fe.LZ)(e.value,{minimize:!0}):o+=a,i=s}return o}function at(e){const t=ct(e);if(t)throw t;return e}function ct(e){if("string"===typeof e||(0,o.a)(!1,"Expected name to be a string."),e.startsWith("__"))return new R.__(`Name "${e}" must not begin with "__", which is reserved by GraphQL introspection.`);try{(0,v.i)(e)}catch(t){return t}}var ut,lt,ft=n(73498),dt=n(38360);function ht(e,t){return mt(e,t).filter((e=>e.type in ut))}function pt(e,t){return mt(e,t).filter((e=>e.type in lt))}function mt(e,t){return[...gt(e,t),...yt(e,t)]}function yt(e,t){const n=[],r=kt(e.getDirectives(),t.getDirectives());for(const o of r.removed)n.push({type:ut.DIRECTIVE_REMOVED,description:`${o.name} was removed.`});for(const[o,i]of r.persisted){const e=kt(o.args,i.args);for(const t of e.added)(0,h.dK)(t)&&n.push({type:ut.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${t.name} on directive ${o.name} was added.`});for(const t of e.removed)n.push({type:ut.DIRECTIVE_ARG_REMOVED,description:`${t.name} was removed from ${o.name}.`});o.isRepeatable&&!i.isRepeatable&&n.push({type:ut.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${o.name}.`});for(const t of o.locations)i.locations.includes(t)||n.push({type:ut.DIRECTIVE_LOCATION_REMOVED,description:`${t} was removed from ${o.name}.`})}return n}function gt(e,t){const n=[],r=kt(Object.values(e.getTypeMap()),Object.values(t.getTypeMap()));for(const o of r.removed)n.push({type:ut.TYPE_REMOVED,description:(0,y.u1)(o)?`Standard scalar ${o.name} was removed because it is not referenced anymore.`:`${o.name} was removed.`});for(const[o,i]of r.persisted)(0,h.EM)(o)&&(0,h.EM)(i)?n.push(...wt(o,i)):(0,h.EN)(o)&&(0,h.EN)(i)?n.push(...bt(o,i)):(0,h.hL)(o)&&(0,h.hL)(i)?n.push(...vt(o,i)):(0,h.lp)(o)&&(0,h.lp)(i)||(0,h.oT)(o)&&(0,h.oT)(i)?n.push(..._t(o,i),...Et(o,i)):o.constructor!==i.constructor&&n.push({type:ut.TYPE_CHANGED_KIND,description:`${o.name} changed from ${Nt(o)} to ${Nt(i)}.`});return n}function vt(e,t){const n=[],r=kt(Object.values(e.getFields()),Object.values(t.getFields()));for(const o of r.added)(0,h.Wd)(o)?n.push({type:ut.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${o.name} on input type ${e.name} was added.`}):n.push({type:lt.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${o.name} on input type ${e.name} was added.`});for(const o of r.removed)n.push({type:ut.FIELD_REMOVED,description:`${e.name}.${o.name} was removed.`});for(const[o,i]of r.persisted){It(o.type,i.type)||n.push({type:ut.FIELD_CHANGED_KIND,description:`${e.name}.${o.name} changed type from ${String(o.type)} to ${String(i.type)}.`})}return n}function bt(e,t){const n=[],r=kt(e.getTypes(),t.getTypes());for(const o of r.added)n.push({type:lt.TYPE_ADDED_TO_UNION,description:`${o.name} was added to union type ${e.name}.`});for(const o of r.removed)n.push({type:ut.TYPE_REMOVED_FROM_UNION,description:`${o.name} was removed from union type ${e.name}.`});return n}function wt(e,t){const n=[],r=kt(e.getValues(),t.getValues());for(const o of r.added)n.push({type:lt.VALUE_ADDED_TO_ENUM,description:`${o.name} was added to enum type ${e.name}.`});for(const o of r.removed)n.push({type:ut.VALUE_REMOVED_FROM_ENUM,description:`${o.name} was removed from enum type ${e.name}.`});return n}function Et(e,t){const n=[],r=kt(e.getInterfaces(),t.getInterfaces());for(const o of r.added)n.push({type:lt.IMPLEMENTED_INTERFACE_ADDED,description:`${o.name} added to interfaces implemented by ${e.name}.`});for(const o of r.removed)n.push({type:ut.IMPLEMENTED_INTERFACE_REMOVED,description:`${e.name} no longer implements interface ${o.name}.`});return n}function _t(e,t){const n=[],r=kt(Object.values(e.getFields()),Object.values(t.getFields()));for(const o of r.removed)n.push({type:ut.FIELD_REMOVED,description:`${e.name}.${o.name} was removed.`});for(const[o,i]of r.persisted){n.push(...St(e,o,i));Tt(o.type,i.type)||n.push({type:ut.FIELD_CHANGED_KIND,description:`${e.name}.${o.name} changed type from ${String(o.type)} to ${String(i.type)}.`})}return n}function St(e,t,n){const r=[],o=kt(t.args,n.args);for(const i of o.removed)r.push({type:ut.ARG_REMOVED,description:`${e.name}.${t.name} arg ${i.name} was removed.`});for(const[i,s]of o.persisted){if(It(i.type,s.type)){if(void 0!==i.defaultValue)if(void 0===s.defaultValue)r.push({type:lt.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${i.name} defaultValue was removed.`});else{const n=Ot(i.defaultValue,i.type),o=Ot(s.defaultValue,s.type);n!==o&&r.push({type:lt.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${i.name} has changed defaultValue from ${n} to ${o}.`})}}else r.push({type:ut.ARG_CHANGED_KIND,description:`${e.name}.${t.name} arg ${i.name} has changed type from ${String(i.type)} to ${String(s.type)}.`})}for(const i of o.added)(0,h.dK)(i)?r.push({type:ut.REQUIRED_ARG_ADDED,description:`A required arg ${i.name} on ${e.name}.${t.name} was added.`}):r.push({type:lt.OPTIONAL_ARG_ADDED,description:`An optional arg ${i.name} on ${e.name}.${t.name} was added.`});return r}function Tt(e,t){return(0,h.HG)(e)?(0,h.HG)(t)&&Tt(e.ofType,t.ofType)||(0,h.zM)(t)&&Tt(e,t.ofType):(0,h.zM)(e)?(0,h.zM)(t)&&Tt(e.ofType,t.ofType):(0,h.Zs)(t)&&e.name===t.name||(0,h.zM)(t)&&Tt(e,t.ofType)}function It(e,t){return(0,h.HG)(e)?(0,h.HG)(t)&&It(e.ofType,t.ofType):(0,h.zM)(e)?(0,h.zM)(t)&&It(e.ofType,t.ofType)||!(0,h.zM)(t)&&It(e.ofType,t):(0,h.Zs)(t)&&e.name===t.name}function Nt(e){return(0,h.KA)(e)?"a Scalar type":(0,h.lp)(e)?"an Object type":(0,h.oT)(e)?"an Interface type":(0,h.EN)(e)?"a Union type":(0,h.EM)(e)?"an Enum type":(0,h.hL)(e)?"an Input type":void(0,B.k)(!1,"Unexpected type: "+(0,x.X)(e))}function Ot(e,t){const n=(0,Ve.J)(e,t);return null!=n||(0,B.k)(!1),(0,I.S)((0,dt.n)(n))}function kt(e,t){const n=[],r=[],o=[],i=(0,ft.P)(e,(({name:e})=>e)),s=(0,ft.P)(t,(({name:e})=>e));for(const a of e){const e=s[a.name];void 0===e?r.push(a):o.push([a,e])}for(const a of t)void 0===i[a.name]&&n.push(a);return{added:n,persisted:o,removed:r}}!function(e){e.TYPE_REMOVED="TYPE_REMOVED",e.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",e.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",e.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",e.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",e.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",e.FIELD_REMOVED="FIELD_REMOVED",e.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",e.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",e.ARG_REMOVED="ARG_REMOVED",e.ARG_CHANGED_KIND="ARG_CHANGED_KIND",e.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",e.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",e.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",e.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",e.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"}(ut||(ut={})),function(e){e.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",e.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",e.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",e.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",e.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",e.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"}(lt||(lt={}));var At=n(52100),xt=n(30077),Ct=n(12319),$t=n(22676),Rt=n(27816),Dt=n(90316)},79380:function(e,t,n){"use strict";function r(e,t,n){return{prev:e,key:t,typename:n}}function o(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}n.d(t,{Q:function(){return r},N:function(){return o}})},37826:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,{a:function(){return r}})},53177:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});function r(e,t){const[n,r]=t?[e,t]:[void 0,e];let o=" Did you mean ";n&&(o+=n+" ");const i=r.map((e=>`"${e}"`));switch(i.length){case 0:return"";case 1:return o+i[0]+"?";case 2:return o+i[0]+" or "+i[1]+"?"}const s=i.slice(0,5),a=s.pop();return o+s.join(", ")+", or "+a+"?"}},3231:function(e,t,n){"use strict";function r(e,t){const n=new Map;for(const r of e){const e=t(r),o=n.get(e);void 0===o?n.set(e,[r]):o.push(r)}return n}n.d(t,{v:function(){return r}})},25821:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});function r(e){return o(e,[])}function o(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:o(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let s=0;s<n;++s)i.push(o(e[s],t));1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`);return"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";return"{ "+n.map((([e,n])=>e+": "+o(n,t))).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},8306:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(25821);const o=globalThis.process&&"production"===globalThis.process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"===typeof e&&null!==e){var n;const o=t.prototype[Symbol.toStringTag];if(o===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){const t=(0,r.X)(e);throw new Error(`Cannot use ${o} "${t}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1}},29551:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}n.d(t,{k:function(){return r}})},93831:function(e,t,n){"use strict";function r(e){return"object"===typeof e&&"function"===typeof(null===e||void 0===e?void 0:e[Symbol.iterator])}n.d(t,{i:function(){return r}})},88495:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!==e}n.d(t,{y:function(){return r}})},38659:function(e,t,n){"use strict";function r(e){return"function"===typeof(null===e||void 0===e?void 0:e.then)}n.d(t,{t:function(){return r}})},73498:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null);for(const r of e)n[t(r)]=r;return n}n.d(t,{P:function(){return r}})},54950:function(e,t,n){"use strict";function r(e,t,n){const r=Object.create(null);for(const o of e)r[t(o)]=n(o);return r}n.d(t,{w:function(){return r}})},95723:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null);for(const r of Object.keys(e))n[r]=t(e[r],r);return n}n.d(t,{j:function(){return r}})},8224:function(e,t,n){"use strict";function r(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let s=e.charCodeAt(n),a=t.charCodeAt(r);if(i(s)&&i(a)){let c=0;do{++n,c=10*c+s-o,s=e.charCodeAt(n)}while(i(s)&&c>0);let u=0;do{++r,u=10*u+a-o,a=t.charCodeAt(r)}while(i(a)&&u>0);if(c<u)return-1;if(c>u)return 1}else{if(s<a)return-1;if(s>a)return 1;++n,++r}}return e.length-t.length}n.d(t,{K:function(){return r}});const o=48;function i(e){return!isNaN(e)&&o<=e&&e<=57}},94244:function(e,t,n){"use strict";function r(e){return e.map((e=>"number"===typeof e?"["+e.toString()+"]":"."+e)).join("")}n.d(t,{F:function(){return r}})},3294:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(8224);function o(e,t){const n=Object.create(null),o=new i(e),s=Math.floor(.4*e.length)+1;for(const r of t){const e=o.measure(r,s);void 0!==e&&(n[r]=e)}return Object.keys(n).sort(((e,t)=>{const o=n[e]-n[t];return 0!==o?o:(0,r.K)(e,t)}))}class i{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=s(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,t){if(this._input===e)return 0;const n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let r=s(n),o=this._inputArray;if(r.length<o.length){const e=r;r=o,o=e}const i=r.length,a=o.length;if(i-a>t)return;const c=this._rows;for(let s=0;s<=a;s++)c[0][s]=s;for(let s=1;s<=i;s++){const e=c[(s-1)%3],n=c[s%3];let i=n[0]=s;for(let t=1;t<=a;t++){const a=r[s-1]===o[t-1]?0:1;let u=Math.min(e[t]+1,n[t-1]+1,e[t-1]+a);if(s>1&&t>1&&r[s-1]===o[t-2]&&r[s-2]===o[t-1]){const e=c[(s-2)%3][t-2];u=Math.min(u,e+1)}u<i&&(i=u),n[t]=u}if(i>t)return}const u=c[i%3][a];return u<=t?u:void 0}}function s(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}},28824:function(e,t,n){"use strict";function r(e){if(null==e)return Object.create(null);if(null===Object.getPrototypeOf(e))return e;const t=Object.create(null);for(const[n,r]of Object.entries(e))t[n]=r;return t}n.d(t,{u:function(){return r}})},72380:function(e,t,n){"use strict";n.d(t,{Ye:function(){return r},WU:function(){return o},h8:function(){return i},UG:function(){return a},ku:function(){return c}});class r{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class o{constructor(e,t,n,r,o,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},s=new Set(Object.keys(i));function a(e){const t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&s.has(t)}var c;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(c||(c={}))},87392:function(e,t,n){"use strict";n.d(t,{wv:function(){return o},MZ:function(){return s},LZ:function(){return a}});var r=n(68297);function o(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,o=-1;for(let a=0;a<e.length;++a){var s;const t=e[a],c=i(t);c!==t.length&&(r=null!==(s=r)&&void 0!==s?s:a,o=a,0!==a&&c<n&&(n=c))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,o+1)}function i(e){let t=0;for(;t<e.length&&(0,r.FD)(e.charCodeAt(t));)++t;return t}function s(e){if(""===e)return!0;let t=!0,n=!1,r=!0,o=!1;for(let i=0;i<e.length;++i)switch(e.codePointAt(i)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:case 13:return!1;case 10:if(t&&!o)return!1;o=!0,t=!0,n=!1;break;case 9:case 32:n||(n=t);break;default:r&&(r=n),t=!1}return!t&&(!r||!o)}function a(e,t){const n=e.replace(/"""/g,'\\"""'),o=n.split(/\r\n|[\n\r]/g),i=1===o.length,s=o.length>1&&o.slice(1).every((e=>0===e.length||(0,r.FD)(e.charCodeAt(0)))),a=n.endsWith('\\"""'),c=e.endsWith('"')&&!a,u=e.endsWith("\\"),l=c||u,f=!(null!==t&&void 0!==t&&t.minimize)&&(!i||e.length>70||l||s||a);let d="";const h=i&&(0,r.FD)(e.charCodeAt(0));return(f&&!h||s)&&(d+="\n"),d+=n,(f||l)&&(d+="\n"),'"""'+d+'"""'}},68297:function(e,t,n){"use strict";function r(e){return 9===e||32===e}function o(e){return e>=48&&e<=57}function i(e){return e>=97&&e<=122||e>=65&&e<=90}function s(e){return i(e)||95===e}function a(e){return i(e)||o(e)||95===e}n.d(t,{FD:function(){return r},X1:function(){return o},LQ:function(){return s},HQ:function(){return a}})},99878:function(e,t,n){"use strict";var r;n.d(t,{B:function(){return r}}),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(r||(r={}))},97359:function(e,t,n){"use strict";var r;n.d(t,{h:function(){return r}}),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(r||(r={}))},92105:function(e,t,n){"use strict";n.d(t,{h:function(){return c},u:function(){return u}});var r=n(45219),o=n(72380),i=n(87392),s=n(68297),a=n(74635);class c{constructor(e){const t=new o.WU(a.T.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==a.T.EOF)do{if(e.next)e=e.next;else{const t=y(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===a.T.COMMENT);return e}}function u(e){return e===a.T.BANG||e===a.T.DOLLAR||e===a.T.AMP||e===a.T.PAREN_L||e===a.T.PAREN_R||e===a.T.SPREAD||e===a.T.COLON||e===a.T.EQUALS||e===a.T.AT||e===a.T.BRACKET_L||e===a.T.BRACKET_R||e===a.T.BRACE_L||e===a.T.PIPE||e===a.T.BRACE_R}function l(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function f(e,t){return d(e.charCodeAt(t))&&h(e.charCodeAt(t+1))}function d(e){return e>=55296&&e<=56319}function h(e){return e>=56320&&e<=57343}function p(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return a.T.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function m(e,t,n,r,i){const s=e.line,a=1+n-e.lineStart;return new o.WU(t,n,r,s,a,i)}function y(e,t){const n=e.source.body,o=n.length;let i=t;for(;i<o;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return g(e,i);case 33:return m(e,a.T.BANG,i,i+1);case 36:return m(e,a.T.DOLLAR,i,i+1);case 38:return m(e,a.T.AMP,i,i+1);case 40:return m(e,a.T.PAREN_L,i,i+1);case 41:return m(e,a.T.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return m(e,a.T.SPREAD,i,i+3);break;case 58:return m(e,a.T.COLON,i,i+1);case 61:return m(e,a.T.EQUALS,i,i+1);case 64:return m(e,a.T.AT,i,i+1);case 91:return m(e,a.T.BRACKET_L,i,i+1);case 93:return m(e,a.T.BRACKET_R,i,i+1);case 123:return m(e,a.T.BRACE_L,i,i+1);case 124:return m(e,a.T.PIPE,i,i+1);case 125:return m(e,a.T.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?N(e,i):w(e,i)}if((0,s.X1)(t)||45===t)return v(e,i,t);if((0,s.LQ)(t))return O(e,i);throw(0,r.h)(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":l(t)||f(n,i)?`Unexpected character: ${p(e,i)}.`:`Invalid character: ${p(e,i)}.`)}return m(e,a.T.EOF,o,o)}function g(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){const e=n.charCodeAt(o);if(10===e||13===e)break;if(l(e))++o;else{if(!f(n,o))break;o+=2}}return m(e,a.T.COMMENT,t,o,n.slice(t+1,o))}function v(e,t,n){const o=e.source.body;let i=t,c=n,u=!1;if(45===c&&(c=o.charCodeAt(++i)),48===c){if(c=o.charCodeAt(++i),(0,s.X1)(c))throw(0,r.h)(e.source,i,`Invalid number, unexpected digit after 0: ${p(e,i)}.`)}else i=b(e,i,c),c=o.charCodeAt(i);if(46===c&&(u=!0,c=o.charCodeAt(++i),i=b(e,i,c),c=o.charCodeAt(i)),69!==c&&101!==c||(u=!0,c=o.charCodeAt(++i),43!==c&&45!==c||(c=o.charCodeAt(++i)),i=b(e,i,c),c=o.charCodeAt(i)),46===c||(0,s.LQ)(c))throw(0,r.h)(e.source,i,`Invalid number, expected digit but got: ${p(e,i)}.`);return m(e,u?a.T.FLOAT:a.T.INT,t,i,o.slice(t,i))}function b(e,t,n){if(!(0,s.X1)(n))throw(0,r.h)(e.source,t,`Invalid number, expected digit but got: ${p(e,t)}.`);const o=e.source.body;let i=t+1;for(;(0,s.X1)(o.charCodeAt(i));)++i;return i}function w(e,t){const n=e.source.body,o=n.length;let i=t+1,s=i,c="";for(;i<o;){const o=n.charCodeAt(i);if(34===o)return c+=n.slice(s,i),m(e,a.T.STRING,t,i+1,c);if(92!==o){if(10===o||13===o)break;if(l(o))++i;else{if(!f(n,i))throw(0,r.h)(e.source,i,`Invalid character within String: ${p(e,i)}.`);i+=2}}else{c+=n.slice(s,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?E(e,i):_(e,i):I(e,i);c+=t.value,i+=t.size,s=i}}throw(0,r.h)(e.source,i,"Unterminated string.")}function E(e,t){const n=e.source.body;let o=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!l(o))break;return{value:String.fromCodePoint(o),size:i}}if(o=o<<4|T(e),o<0)break}throw(0,r.h)(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function _(e,t){const n=e.source.body,o=S(n,t+2);if(l(o))return{value:String.fromCodePoint(o),size:6};if(d(o)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=S(n,t+8);if(h(e))return{value:String.fromCodePoint(o,e),size:12}}throw(0,r.h)(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function S(e,t){return T(e.charCodeAt(t))<<12|T(e.charCodeAt(t+1))<<8|T(e.charCodeAt(t+2))<<4|T(e.charCodeAt(t+3))}function T(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function I(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw(0,r.h)(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function N(e,t){const n=e.source.body,o=n.length;let s=e.lineStart,c=t+3,u=c,d="";const h=[];for(;c<o;){const o=n.charCodeAt(c);if(34===o&&34===n.charCodeAt(c+1)&&34===n.charCodeAt(c+2)){d+=n.slice(u,c),h.push(d);const r=m(e,a.T.BLOCK_STRING,t,c+3,(0,i.wv)(h).join("\n"));return e.line+=h.length-1,e.lineStart=s,r}if(92!==o||34!==n.charCodeAt(c+1)||34!==n.charCodeAt(c+2)||34!==n.charCodeAt(c+3))if(10!==o&&13!==o)if(l(o))++c;else{if(!f(n,c))throw(0,r.h)(e.source,c,`Invalid character within String: ${p(e,c)}.`);c+=2}else d+=n.slice(u,c),h.push(d),13===o&&10===n.charCodeAt(c+1)?c+=2:++c,d="",u=c,s=c;else d+=n.slice(u,c),u=c+1,c+=4}throw(0,r.h)(e.source,c,"Unterminated string.")}function O(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){const e=n.charCodeAt(o);if(!(0,s.HQ)(e))break;++o}return m(e,a.T.NAME,t,o,n.slice(t,o))}},57867:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(29551);const o=/\r\n|[\n\r]/g;function i(e,t){let n=0,i=1;for(const s of e.body.matchAll(o)){if("number"===typeof s.index||(0,r.k)(!1),s.index>=t)break;n=s.index+s[0].length,i+=1}return{line:i,column:t+1-n}}},84275:function(e,t,n){"use strict";n.d(t,{Qc:function(){return l},H2:function(){return f},tl:function(){return d},gZ:function(){return h}});var r=n(45219),o=n(72380),i=n(99878),s=n(97359),a=n(92105),c=n(7926),u=n(74635);function l(e,t){return new p(e,t).parseDocument()}function f(e,t){const n=new p(e,t);n.expectToken(u.T.SOF);const r=n.parseValueLiteral(!1);return n.expectToken(u.T.EOF),r}function d(e,t){const n=new p(e,t);n.expectToken(u.T.SOF);const r=n.parseConstValueLiteral();return n.expectToken(u.T.EOF),r}function h(e,t){const n=new p(e,t);n.expectToken(u.T.SOF);const r=n.parseTypeReference();return n.expectToken(u.T.EOF),r}class p{constructor(e,t={}){const n=(0,c.T)(e)?e:new c.H(e);this._lexer=new a.h(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(u.T.NAME);return this.node(e,{kind:s.h.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:s.h.DOCUMENT,definitions:this.many(u.T.SOF,this.parseDefinition,u.T.EOF)})}parseDefinition(){if(this.peek(u.T.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===u.T.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw(0,r.h)(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(u.T.BRACE_L))return this.node(e,{kind:s.h.OPERATION_DEFINITION,operation:o.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(u.T.NAME)&&(n=this.parseName()),this.node(e,{kind:s.h.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(u.T.NAME);switch(e.value){case"query":return o.ku.QUERY;case"mutation":return o.ku.MUTATION;case"subscription":return o.ku.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(u.T.PAREN_L,this.parseVariableDefinition,u.T.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:s.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(u.T.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(u.T.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(u.T.DOLLAR),this.node(e,{kind:s.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:s.h.SELECTION_SET,selections:this.many(u.T.BRACE_L,this.parseSelection,u.T.BRACE_R)})}parseSelection(){return this.peek(u.T.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(u.T.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:s.h.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(u.T.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(u.T.PAREN_L,t,u.T.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(u.T.COLON),this.node(t,{kind:s.h.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(u.T.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(u.T.NAME)?this.node(e,{kind:s.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:s.h.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:s.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:s.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case u.T.BRACKET_L:return this.parseList(e);case u.T.BRACE_L:return this.parseObject(e);case u.T.INT:return this.advanceLexer(),this.node(t,{kind:s.h.INT,value:t.value});case u.T.FLOAT:return this.advanceLexer(),this.node(t,{kind:s.h.FLOAT,value:t.value});case u.T.STRING:case u.T.BLOCK_STRING:return this.parseStringLiteral();case u.T.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:s.h.BOOLEAN,value:!0});case"false":return this.node(t,{kind:s.h.BOOLEAN,value:!1});case"null":return this.node(t,{kind:s.h.NULL});default:return this.node(t,{kind:s.h.ENUM,value:t.value})}case u.T.DOLLAR:if(e){if(this.expectToken(u.T.DOLLAR),this._lexer.token.kind===u.T.NAME){const e=this._lexer.token.value;throw(0,r.h)(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:s.h.STRING,value:e.value,block:e.kind===u.T.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:s.h.LIST,values:this.any(u.T.BRACKET_L,(()=>this.parseValueLiteral(e)),u.T.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:s.h.OBJECT,fields:this.any(u.T.BRACE_L,(()=>this.parseObjectField(e)),u.T.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(u.T.COLON),this.node(t,{kind:s.h.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(u.T.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(u.T.AT),this.node(t,{kind:s.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(u.T.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(u.T.BRACKET_R),t=this.node(e,{kind:s.h.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(u.T.BANG)?this.node(e,{kind:s.h.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:s.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(u.T.STRING)||this.peek(u.T.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(u.T.BRACE_L,this.parseOperationTypeDefinition,u.T.BRACE_R);return this.node(e,{kind:s.h.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(u.T.COLON);const n=this.parseNamedType();return this.node(e,{kind:s.h.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:s.h.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:s.h.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(u.T.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(u.T.BRACE_L,this.parseFieldDefinition,u.T.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(u.T.COLON);const o=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:s.h.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:i})}parseArgumentDefs(){return this.optionalMany(u.T.PAREN_L,this.parseInputValueDef,u.T.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(u.T.COLON);const r=this.parseTypeReference();let o;this.expectOptionalToken(u.T.EQUALS)&&(o=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(e,{kind:s.h.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:o,directives:i})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:s.h.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:s.h.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(u.T.EQUALS)?this.delimitedMany(u.T.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:s.h.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o})}parseEnumValuesDefinition(){return this.optionalMany(u.T.BRACE_L,this.parseEnumValueDefinition,u.T.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:s.h.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw(0,r.h)(this._lexer.source,this._lexer.token.start,`${m(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:s.h.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(u.T.BRACE_L,this.parseInputValueDef,u.T.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===u.T.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(u.T.BRACE_L,this.parseOperationTypeDefinition,u.T.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:s.h.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:s.h.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:s.h.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:s.h.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(u.T.AT);const n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(e,{kind:s.h.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:i})}parseDirectiveLocations(){return this.delimitedMany(u.T.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(i.B,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new o.Ye(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw(0,r.h)(this._lexer.source,t.start,`Expected ${y(e)}, found ${m(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==u.T.NAME||t.value!==e)throw(0,r.h)(this._lexer.source,t.start,`Expected "${e}", found ${m(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===u.T.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!==e&&void 0!==e?e:this._lexer.token;return(0,r.h)(this._lexer.source,t.start,`Unexpected ${m(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==u.T.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw(0,r.h)(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function m(e){const t=e.value;return y(e.kind)+(null!=t?` "${t}"`:"")}function y(e){return(0,a.u)(e)?`"${e}"`:e}},75844:function(e,t,n){"use strict";n.d(t,{Ir:function(){return o},Wk:function(){return i},pO:function(){return s},nr:function(){return a},Of:function(){return c},VB:function(){return u},G4:function(){return l},zT:function(){return f},aU:function(){return d},D$:function(){return h}});var r=n(97359);function o(e){return i(e)||l(e)||d(e)}function i(e){return e.kind===r.h.OPERATION_DEFINITION||e.kind===r.h.FRAGMENT_DEFINITION}function s(e){return e.kind===r.h.FIELD||e.kind===r.h.FRAGMENT_SPREAD||e.kind===r.h.INLINE_FRAGMENT}function a(e){return e.kind===r.h.VARIABLE||e.kind===r.h.INT||e.kind===r.h.FLOAT||e.kind===r.h.STRING||e.kind===r.h.BOOLEAN||e.kind===r.h.NULL||e.kind===r.h.ENUM||e.kind===r.h.LIST||e.kind===r.h.OBJECT}function c(e){return a(e)&&(e.kind===r.h.LIST?e.values.some(c):e.kind===r.h.OBJECT?e.fields.some((e=>c(e.value))):e.kind!==r.h.VARIABLE)}function u(e){return e.kind===r.h.NAMED_TYPE||e.kind===r.h.LIST_TYPE||e.kind===r.h.NON_NULL_TYPE}function l(e){return e.kind===r.h.SCHEMA_DEFINITION||f(e)||e.kind===r.h.DIRECTIVE_DEFINITION}function f(e){return e.kind===r.h.SCALAR_TYPE_DEFINITION||e.kind===r.h.OBJECT_TYPE_DEFINITION||e.kind===r.h.INTERFACE_TYPE_DEFINITION||e.kind===r.h.UNION_TYPE_DEFINITION||e.kind===r.h.ENUM_TYPE_DEFINITION||e.kind===r.h.INPUT_OBJECT_TYPE_DEFINITION}function d(e){return e.kind===r.h.SCHEMA_EXTENSION||h(e)}function h(e){return e.kind===r.h.SCALAR_TYPE_EXTENSION||e.kind===r.h.OBJECT_TYPE_EXTENSION||e.kind===r.h.INTERFACE_TYPE_EXTENSION||e.kind===r.h.UNION_TYPE_EXTENSION||e.kind===r.h.ENUM_TYPE_EXTENSION||e.kind===r.h.INPUT_OBJECT_TYPE_EXTENSION}},90850:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},z:function(){return i}});var r=n(57867);function o(e){return i(e.source,(0,r.k)(e.source,e.start))}function i(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,c=1===t.line?n:0,u=t.column+c,l=`${e.name}:${a}:${u}\n`,f=r.split(/\r\n|[\n\r]/g),d=f[o];if(d.length>120){const e=Math.floor(u/80),t=u%80,n=[];for(let r=0;r<d.length;r+=80)n.push(d.slice(r,r+80));return l+s([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return l+s([[a-1+" |",f[o-1]],[`${a} |`,d],["|","^".padStart(u)],[`${a+1} |`,f[o+1]]])}function s(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}},16918:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});var r=n(87392);const o=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function i(e){return s[e.charCodeAt(0)]}const s=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var a=n(77304);function c(e){return(0,a.Vn)(e,u)}const u={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>l(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=d("(",l(e.variableDefinitions,", "),")"),n=l([e.operation,l([e.name,t]),l(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+d(" = ",n)+d(" ",l(r," "))},SelectionSet:{leave:({selections:e})=>f(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:o}){const i=d("",e,": ")+t;let s=i+d("(",l(n,", "),")");return s.length>80&&(s=i+d("(\n",h(l(n,"\n")),"\n)")),l([s,l(r," "),o]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+d(" ",l(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>l(["...",d("on ",e),l(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:o})=>`fragment ${e}${d("(",l(n,", "),")")} on ${t} ${d("",l(r," ")," ")}`+o},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,r.LZ)(e):`"${e.replace(o,i)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+l(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+l(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+d("(",l(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>d("",e,"\n")+l(["schema",l(t," "),f(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+l(["scalar",t,l(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>d("",e,"\n")+l(["type",t,d("implements ",l(n," & ")),l(r," "),f(o)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:o})=>d("",e,"\n")+t+(p(n)?d("(\n",h(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+": "+r+d(" ",l(o," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:o})=>d("",e,"\n")+l([t+": "+n,d("= ",r),l(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>d("",e,"\n")+l(["interface",t,d("implements ",l(n," & ")),l(r," "),f(o)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>d("",e,"\n")+l(["union",t,l(n," "),d("= ",l(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>d("",e,"\n")+l(["enum",t,l(n," "),f(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+l([t,l(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>d("",e,"\n")+l(["input",t,l(n," "),f(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:o})=>d("",e,"\n")+"directive @"+t+(p(n)?d("(\n",h(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+(r?" repeatable":"")+" on "+l(o," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>l(["extend schema",l(e," "),f(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>l(["extend scalar",e,l(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>l(["extend type",e,d("implements ",l(t," & ")),l(n," "),f(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>l(["extend interface",e,d("implements ",l(t," & ")),l(n," "),f(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>l(["extend union",e,l(t," "),d("= ",l(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>l(["extend enum",e,l(t," "),f(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>l(["extend input",e,l(t," "),f(n)]," ")}};function l(e,t=""){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function f(e){return d("{\n",h(l(e,"\n")),"\n}")}function d(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function h(e){return d("  ",e.replace(/\n/g,"\n  "))}function p(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}},7926:function(e,t,n){"use strict";n.d(t,{H:function(){return s},T:function(){return a}});var r=n(37826),o=n(25821),i=n(8306);class s{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"===typeof e||(0,r.a)(!1,`Body must be a string. Received: ${(0,o.X)(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||(0,r.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,r.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function a(e){return(0,i.n)(e,s)}},74635:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return r}}),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(r||(r={}))},77304:function(e,t,n){"use strict";n.d(t,{$_:function(){return a},Vn:function(){return c},j1:function(){return u},Eu:function(){return l},CK:function(){return f}});var r=n(37826),o=n(25821),i=n(72380),s=n(97359);const a=Object.freeze({});function c(e,t,n=i.h8){const c=new Map;for(const r of Object.values(s.h))c.set(r,l(t,r));let u,f,d,h=Array.isArray(e),p=[e],m=-1,y=[],g=e;const v=[],b=[];do{m++;const e=m===p.length,s=e&&0!==y.length;if(e){if(f=0===b.length?void 0:v[v.length-1],g=d,d=b.pop(),s)if(h){g=g.slice();let e=0;for(const[t,n]of y){const r=t-e;null===n?(g.splice(r,1),e++):g[r]=n}}else{g=Object.defineProperties({},Object.getOwnPropertyDescriptors(g));for(const[e,t]of y)g[e]=t}m=u.index,p=u.keys,y=u.edits,h=u.inArray,u=u.prev}else if(d){if(f=h?m:p[m],g=d[f],null===g||void 0===g)continue;v.push(f)}let l;if(!Array.isArray(g)){var w,E;(0,i.UG)(g)||(0,r.a)(!1,`Invalid AST Node: ${(0,o.X)(g)}.`);const n=e?null===(w=c.get(g.kind))||void 0===w?void 0:w.leave:null===(E=c.get(g.kind))||void 0===E?void 0:E.enter;if(l=null===n||void 0===n?void 0:n.call(t,g,f,d,v,b),l===a)break;if(!1===l){if(!e){v.pop();continue}}else if(void 0!==l&&(y.push([f,l]),!e)){if(!(0,i.UG)(l)){v.pop();continue}g=l}}var _;if(void 0===l&&s&&y.push([f,g]),e)v.pop();else u={inArray:h,index:m,keys:p,edits:y,prev:u},h=Array.isArray(g),p=h?g:null!==(_=n[g.kind])&&void 0!==_?_:[],m=-1,y=[],d&&b.push(d),d=g}while(void 0!==u);return 0!==y.length?y[y.length-1][1]:e}function u(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const r of Object.values(s.h)){let o=!1;const i=new Array(e.length).fill(void 0),s=new Array(e.length).fill(void 0);for(let t=0;t<e.length;++t){const{enter:n,leave:a}=l(e[t],r);o||(o=null!=n||null!=a),i[t]=n,s[t]=a}if(!o)continue;const c={enter(...n){const r=n[0];for(let s=0;s<e.length;s++)if(null===t[s]){var o;const c=null===(o=i[s])||void 0===o?void 0:o.apply(e[s],n);if(!1===c)t[s]=r;else if(c===a)t[s]=a;else if(void 0!==c)return c}},leave(...n){const r=n[0];for(let i=0;i<e.length;i++)if(null===t[i]){var o;const r=null===(o=s[i])||void 0===o?void 0:o.apply(e[i],n);if(r===a)t[i]=a;else if(void 0!==r&&!1!==r)return r}else t[i]===r&&(t[i]=null)}};n[r]=c}return n}function l(e,t){const n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function f(e,t,n){const{enter:r,leave:o}=l(e,t);return n?o:r}},96303:function(e,t,n){"use strict";n.d(t,{i:function(){return s},g:function(){return a}});var r=n(37826),o=n(28087),i=n(68297);function s(e){if(null!=e||(0,r.a)(!1,"Must provide name."),"string"===typeof e||(0,r.a)(!1,"Expected name to be a string."),0===e.length)throw new o.__("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!(0,i.HQ)(e.charCodeAt(t)))throw new o.__(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!(0,i.LQ)(e.charCodeAt(0)))throw new o.__(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function a(e){if("true"===e||"false"===e||"null"===e)throw new o.__(`Enum values cannot be named: ${e}`);return s(e)}},4454:function(e,t,n){"use strict";n.d(t,{mR:function(){return ge},sR:function(){return be},oW:function(){return pe},p2:function(){return K},bM:function(){return J},h6:function(){return se},n2:function(){return ie},Gp:function(){return me},DM:function(){return de},fU:function(){return H},M_:function(){return z},Zu:function(){return x},U8:function(){return $},qT:function(){return L},k2:function(){return N},H5:function(){return V},kS:function(){return D},rM:function(){return te},E$:function(){return j},i_:function(){return X},Z6:function(){return T},Gt:function(){return B},Pt:function(){return _},p_:function(){return w},rc:function(){return k},vX:function(){return Q},WO:function(){return ue},xC:function(){return ne},tf:function(){return Z},m0:function(){return G},Gv:function(){return q},EM:function(){return A},hL:function(){return C},j$:function(){return M},oT:function(){return I},UT:function(){return F},HG:function(){return R},Zs:function(){return ee},zM:function(){return P},zP:function(){return Y},lp:function(){return S},SZ:function(){return U},dK:function(){return he},Wd:function(){return Ee},KA:function(){return E},P9:function(){return b},EN:function(){return O},fw:function(){return W},WB:function(){return oe},_9:function(){return re}});var r=n(37826),o=n(53177);function i(e){return e}var s=n(25821),a=n(8306),c=n(88495),u=n(73498),l=n(54950),f=n(95723),d=n(3294),h=n(28824),p=n(28087),m=n(97359),y=n(16918),g=n(12319),v=n(96303);function b(e){return E(e)||S(e)||I(e)||O(e)||A(e)||C(e)||R(e)||P(e)}function w(e){if(!b(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL type.`);return e}function E(e){return(0,a.n)(e,ie)}function _(e){if(!E(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Scalar type.`);return e}function S(e){return(0,a.n)(e,se)}function T(e){if(!S(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Object type.`);return e}function I(e){return(0,a.n)(e,pe)}function N(e){if(!I(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Interface type.`);return e}function O(e){return(0,a.n)(e,me)}function k(e){if(!O(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Union type.`);return e}function A(e){return(0,a.n)(e,ge)}function x(e){if(!A(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Enum type.`);return e}function C(e){return(0,a.n)(e,be)}function $(e){if(!C(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Input Object type.`);return e}function R(e){return(0,a.n)(e,K)}function D(e){if(!R(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL List type.`);return e}function P(e){return(0,a.n)(e,J)}function j(e){if(!P(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Non-Null type.`);return e}function M(e){return E(e)||A(e)||C(e)||W(e)&&M(e.ofType)}function L(e){if(!M(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL input type.`);return e}function U(e){return E(e)||S(e)||I(e)||O(e)||A(e)||W(e)&&U(e.ofType)}function B(e){if(!U(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL output type.`);return e}function F(e){return E(e)||A(e)}function V(e){if(!F(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL leaf type.`);return e}function q(e){return S(e)||I(e)||O(e)}function z(e){if(!q(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL composite type.`);return e}function G(e){return I(e)||O(e)}function H(e){if(!G(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL abstract type.`);return e}class K{constructor(e){b(e)||(0,r.a)(!1,`Expected ${(0,s.X)(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class J{constructor(e){Y(e)||(0,r.a)(!1,`Expected ${(0,s.X)(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function W(e){return R(e)||P(e)}function Q(e){if(!W(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL wrapping type.`);return e}function Y(e){return b(e)&&!P(e)}function X(e){if(!Y(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL nullable type.`);return e}function Z(e){if(e)return P(e)?e.ofType:e}function ee(e){return E(e)||S(e)||I(e)||O(e)||A(e)||C(e)}function te(e){if(!ee(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL named type.`);return e}function ne(e){if(e){let t=e;for(;W(t);)t=t.ofType;return t}}function re(e){return"function"===typeof e?e():e}function oe(e){return"function"===typeof e?e():e}class ie{constructor(e){var t,n,o,a;const c=null!==(t=e.parseValue)&&void 0!==t?t:i;this.name=(0,v.i)(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=null!==(n=e.serialize)&&void 0!==n?n:i,this.parseValue=c,this.parseLiteral=null!==(o=e.parseLiteral)&&void 0!==o?o:(e,t)=>c((0,g.M)(e,t)),this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(a=e.extensionASTNodes)&&void 0!==a?a:[],null==e.specifiedByURL||"string"===typeof e.specifiedByURL||(0,r.a)(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${(0,s.X)(e.specifiedByURL)}.`),null==e.serialize||"function"===typeof e.serialize||(0,r.a)(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&("function"===typeof e.parseValue&&"function"===typeof e.parseLiteral||(0,r.a)(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class se{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=()=>ce(e),this._interfaces=()=>ae(e),null==e.isTypeOf||"function"===typeof e.isTypeOf||(0,r.a)(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${(0,s.X)(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:fe(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ae(e){var t;const n=re(null!==(t=e.interfaces)&&void 0!==t?t:[]);return Array.isArray(n)||(0,r.a)(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function ce(e){const t=oe(e.fields);return le(t)||(0,r.a)(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,f.j)(t,((t,n)=>{var o;le(t)||(0,r.a)(!1,`${e.name}.${n} field config must be an object.`),null==t.resolve||"function"===typeof t.resolve||(0,r.a)(!1,`${e.name}.${n} field resolver must be a function if provided, but got: ${(0,s.X)(t.resolve)}.`);const i=null!==(o=t.args)&&void 0!==o?o:{};return le(i)||(0,r.a)(!1,`${e.name}.${n} args must be an object with argument names as keys.`),{name:(0,v.i)(n),description:t.description,type:t.type,args:ue(i),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode}}))}function ue(e){return Object.entries(e).map((([e,t])=>({name:(0,v.i)(e),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))}function le(e){return(0,c.y)(e)&&!Array.isArray(e)}function fe(e){return(0,f.j)(e,(e=>({description:e.description,type:e.type,args:de(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function de(e){return(0,l.w)(e,(e=>e.name),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function he(e){return P(e.type)&&void 0===e.defaultValue}class pe{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=ce.bind(void 0,e),this._interfaces=ae.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||(0,r.a)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,s.X)(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:fe(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class me{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._types=ye.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||(0,r.a)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,s.X)(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return"function"===typeof this._types&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ye(e){const t=re(e.types);return Array.isArray(t)||(0,r.a)(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class ge{constructor(e){var t,n,o;this.name=(0,v.i)(e.name),this.description=e.description,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._values=(n=this.name,le(o=e.values)||(0,r.a)(!1,`${n} values must be an object with value names as keys.`),Object.entries(o).map((([e,t])=>(le(t)||(0,r.a)(!1,`${n}.${e} must refer to an object with a "value" key representing an internal value but got: ${(0,s.X)(t)}.`),{name:(0,v.g)(e),description:t.description,value:void 0!==t.value?t.value:e,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))),this._valueLookup=new Map(this._values.map((e=>[e.value,e]))),this._nameLookup=(0,u.P)(this._values,(e=>e.name))}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const t=this._valueLookup.get(e);if(void 0===t)throw new p.__(`Enum "${this.name}" cannot represent value: ${(0,s.X)(e)}`);return t.name}parseValue(e){if("string"!==typeof e){const t=(0,s.X)(e);throw new p.__(`Enum "${this.name}" cannot represent non-string value: ${t}.`+ve(this,t))}const t=this.getValue(e);if(null==t)throw new p.__(`Value "${e}" does not exist in "${this.name}" enum.`+ve(this,e));return t.value}parseLiteral(e,t){if(e.kind!==m.h.ENUM){const t=(0,y.S)(e);throw new p.__(`Enum "${this.name}" cannot represent non-enum value: ${t}.`+ve(this,t),{nodes:e})}const n=this.getValue(e.value);if(null==n){const t=(0,y.S)(e);throw new p.__(`Value "${t}" does not exist in "${this.name}" enum.`+ve(this,t),{nodes:e})}return n.value}toConfig(){const e=(0,l.w)(this.getValues(),(e=>e.name),(e=>({description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ve(e,t){const n=e.getValues().map((e=>e.name)),r=(0,d.D)(t,n);return(0,o.l)("the enum value",r)}class be{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=we.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}toConfig(){const e=(0,f.j)(this.getFields(),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function we(e){const t=oe(e.fields);return le(t)||(0,r.a)(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,f.j)(t,((t,n)=>(!("resolve"in t)||(0,r.a)(!1,`${e.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:(0,v.i)(n),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))}function Ee(e){return P(e.type)&&void 0===e.defaultValue}},68238:function(e,t,n){"use strict";n.d(t,{wX:function(){return d},CO:function(){return h},NZ:function(){return p},Yf:function(){return m},QE:function(){return y},SY:function(){return g},fg:function(){return v},df:function(){return b},V4:function(){return w},xg:function(){return E}});var r=n(37826),o=n(25821),i=n(8306),s=n(88495),a=n(28824),c=n(99878),u=n(96303),l=n(4454),f=n(3801);function d(e){return(0,i.n)(e,p)}function h(e){if(!d(e))throw new Error(`Expected ${(0,o.X)(e)} to be a GraphQL directive.`);return e}class p{constructor(e){var t,n;this.name=(0,u.i)(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=null!==(t=e.isRepeatable)&&void 0!==t&&t,this.extensions=(0,a.u)(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||(0,r.a)(!1,`@${e.name} locations must be an Array.`);const o=null!==(n=e.args)&&void 0!==n?n:{};(0,s.y)(o)&&!Array.isArray(o)||(0,r.a)(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=(0,l.WO)(o)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:(0,l.DM)(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const m=new p({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[c.B.FIELD,c.B.FRAGMENT_SPREAD,c.B.INLINE_FRAGMENT],args:{if:{type:new l.bM(f.EZ),description:"Included when true."}}}),y=new p({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[c.B.FIELD,c.B.FRAGMENT_SPREAD,c.B.INLINE_FRAGMENT],args:{if:{type:new l.bM(f.EZ),description:"Skipped when true."}}}),g="No longer supported",v=new p({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[c.B.FIELD_DEFINITION,c.B.ARGUMENT_DEFINITION,c.B.INPUT_FIELD_DEFINITION,c.B.ENUM_VALUE],args:{reason:{type:f.kH,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:g}}}),b=new p({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[c.B.SCALAR],args:{url:{type:new l.bM(f.kH),description:"The URL that specifies the behavior of this scalar."}}}),w=Object.freeze([m,y,v,b]);function E(e){return w.some((({name:t})=>t===e.name))}},52433:function(e,t,n){"use strict";n.d(t,{TK:function(){return l},l3:function(){return f},x2:function(){return d},qz:function(){return h},e_:function(){return p},XQ:function(){return m},jT:function(){return y},zU:function(){return g},PX:function(){return v},Az:function(){return b},tF:function(){return w},hU:function(){return E},nL:function(){return _},s9:function(){return S}});var r=n(25821),o=n(29551),i=n(99878),s=n(16918),a=n(78631),c=n(4454),u=n(3801);const l=new c.h6({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:u.kH,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new c.bM(new c.p2(new c.bM(h))),resolve:e=>Object.values(e.getTypeMap())},queryType:{description:"The type that query operations will be rooted at.",type:new c.bM(h),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:h,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:h,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new c.bM(new c.p2(new c.bM(f))),resolve:e=>e.getDirectives()}})}),f=new c.h6({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},isRepeatable:{type:new c.bM(u.EZ),resolve:e=>e.isRepeatable},locations:{type:new c.bM(new c.p2(new c.bM(d))),resolve:e=>e.locations},args:{type:new c.bM(new c.p2(new c.bM(m))),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))}})}),d=new c.mR({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:i.B.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:i.B.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:i.B.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:i.B.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:i.B.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:i.B.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:i.B.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:i.B.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:i.B.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:i.B.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:i.B.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:i.B.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:i.B.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:i.B.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:i.B.UNION,description:"Location adjacent to a union definition."},ENUM:{value:i.B.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:i.B.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:i.B.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:i.B.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),h=new c.h6({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new c.bM(v),resolve:e=>(0,c.KA)(e)?g.SCALAR:(0,c.lp)(e)?g.OBJECT:(0,c.oT)(e)?g.INTERFACE:(0,c.EN)(e)?g.UNION:(0,c.EM)(e)?g.ENUM:(0,c.hL)(e)?g.INPUT_OBJECT:(0,c.HG)(e)?g.LIST:(0,c.zM)(e)?g.NON_NULL:void(0,o.k)(!1,`Unexpected type: "${(0,r.X)(e)}".`)},name:{type:u.kH,resolve:e=>"name"in e?e.name:void 0},description:{type:u.kH,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:u.kH,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new c.p2(new c.bM(p)),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,c.lp)(e)||(0,c.oT)(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},interfaces:{type:new c.p2(new c.bM(h)),resolve(e){if((0,c.lp)(e)||(0,c.oT)(e))return e.getInterfaces()}},possibleTypes:{type:new c.p2(new c.bM(h)),resolve(e,t,n,{schema:r}){if((0,c.m0)(e))return r.getPossibleTypes(e)}},enumValues:{type:new c.p2(new c.bM(y)),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,c.EM)(e)){const n=e.getValues();return t?n:n.filter((e=>null==e.deprecationReason))}}},inputFields:{type:new c.p2(new c.bM(m)),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,c.hL)(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},ofType:{type:h,resolve:e=>"ofType"in e?e.ofType:void 0}})}),p=new c.h6({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},args:{type:new c.bM(new c.p2(new c.bM(m))),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))},type:{type:new c.bM(h),resolve:e=>e.type},isDeprecated:{type:new c.bM(u.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:u.kH,resolve:e=>e.deprecationReason}})}),m=new c.h6({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},type:{type:new c.bM(h),resolve:e=>e.type},defaultValue:{type:u.kH,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:n}=e,r=(0,a.J)(n,t);return r?(0,s.S)(r):null}},isDeprecated:{type:new c.bM(u.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:u.kH,resolve:e=>e.deprecationReason}})}),y=new c.h6({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},isDeprecated:{type:new c.bM(u.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:u.kH,resolve:e=>e.deprecationReason}})});var g;!function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"}(g||(g={}));const v=new c.mR({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:g.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:g.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:g.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:g.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:g.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:g.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:g.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:g.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),b={name:"__schema",type:new c.bM(l),description:"Access the current type schema of this server.",args:[],resolve:(e,t,n,{schema:r})=>r,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},w={name:"__type",type:h,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new c.bM(u.kH),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,{name:t},n,{schema:r})=>r.getType(t),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},E={name:"__typename",type:new c.bM(u.kH),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,n,{parentType:r})=>r.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},_=Object.freeze([l,f,d,h,p,m,y,v]);function S(e){return _.some((({name:t})=>e.name===t))}},3801:function(e,t,n){"use strict";n.d(t,{HI:function(){return u},st:function(){return l},_o:function(){return f},av:function(){return d},kH:function(){return h},EZ:function(){return p},km:function(){return m},HS:function(){return y},u1:function(){return g}});var r=n(25821),o=n(88495),i=n(28087),s=n(97359),a=n(16918),c=n(4454);const u=2147483647,l=-2147483648,f=new c.n2({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=v(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isInteger(n))throw new i.__(`Int cannot represent non-integer value: ${(0,r.X)(t)}`);if(n>u||n<l)throw new i.__("Int cannot represent non 32-bit signed integer value: "+(0,r.X)(t));return n},parseValue(e){if("number"!==typeof e||!Number.isInteger(e))throw new i.__(`Int cannot represent non-integer value: ${(0,r.X)(e)}`);if(e>u||e<l)throw new i.__(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==s.h.INT)throw new i.__(`Int cannot represent non-integer value: ${(0,a.S)(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>u||t<l)throw new i.__(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),d=new c.n2({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=v(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isFinite(n))throw new i.__(`Float cannot represent non numeric value: ${(0,r.X)(t)}`);return n},parseValue(e){if("number"!==typeof e||!Number.isFinite(e))throw new i.__(`Float cannot represent non numeric value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.FLOAT&&e.kind!==s.h.INT)throw new i.__(`Float cannot represent non numeric value: ${(0,a.S)(e)}`,e);return parseFloat(e.value)}}),h=new c.n2({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=v(e);if("string"===typeof t)return t;if("boolean"===typeof t)return t?"true":"false";if("number"===typeof t&&Number.isFinite(t))return t.toString();throw new i.__(`String cannot represent value: ${(0,r.X)(e)}`)},parseValue(e){if("string"!==typeof e)throw new i.__(`String cannot represent a non string value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.STRING)throw new i.__(`String cannot represent a non string value: ${(0,a.S)(e)}`,{nodes:e});return e.value}}),p=new c.n2({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=v(e);if("boolean"===typeof t)return t;if(Number.isFinite(t))return 0!==t;throw new i.__(`Boolean cannot represent a non boolean value: ${(0,r.X)(t)}`)},parseValue(e){if("boolean"!==typeof e)throw new i.__(`Boolean cannot represent a non boolean value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.BOOLEAN)throw new i.__(`Boolean cannot represent a non boolean value: ${(0,a.S)(e)}`,{nodes:e});return e.value}}),m=new c.n2({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=v(e);if("string"===typeof t)return t;if(Number.isInteger(t))return String(t);throw new i.__(`ID cannot represent value: ${(0,r.X)(e)}`)},parseValue(e){if("string"===typeof e)return e;if("number"===typeof e&&Number.isInteger(e))return e.toString();throw new i.__(`ID cannot represent value: ${(0,r.X)(e)}`)},parseLiteral(e){if(e.kind!==s.h.STRING&&e.kind!==s.h.INT)throw new i.__("ID cannot represent a non-string and non-integer value: "+(0,a.S)(e),{nodes:e});return e.value}}),y=Object.freeze([h,f,d,p,m]);function g(e){return y.some((({name:t})=>e.name===t))}function v(e){if((0,o.y)(e)){if("function"===typeof e.valueOf){const t=e.valueOf();if(!(0,o.y)(t))return t}if("function"===typeof e.toJSON)return e.toJSON()}return e}},59678:function(e,t,n){"use strict";n.d(t,{nN:function(){return d},EO:function(){return h},XO:function(){return p}});var r=n(37826),o=n(25821),i=n(8306),s=n(88495),a=n(28824),c=n(72380),u=n(4454),l=n(68238),f=n(52433);function d(e){return(0,i.n)(e,p)}function h(e){if(!d(e))throw new Error(`Expected ${(0,o.X)(e)} to be a GraphQL schema.`);return e}class p{constructor(e){var t,n;this.__validationErrors=!0===e.assumeValid?[]:void 0,(0,s.y)(e)||(0,r.a)(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||(0,r.a)(!1,`"types" must be Array if provided but got: ${(0,o.X)(e.types)}.`),!e.directives||Array.isArray(e.directives)||(0,r.a)(!1,`"directives" must be Array if provided but got: ${(0,o.X)(e.directives)}.`),this.description=e.description,this.extensions=(0,a.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=null!==(n=e.directives)&&void 0!==n?n:l.V4;const i=new Set(e.types);if(null!=e.types)for(const r of e.types)i.delete(r),m(r,i);null!=this._queryType&&m(this._queryType,i),null!=this._mutationType&&m(this._mutationType,i),null!=this._subscriptionType&&m(this._subscriptionType,i);for(const r of this._directives)if((0,l.wX)(r))for(const e of r.args)m(e.type,i);m(f.TK,i),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const o of i){if(null==o)continue;const e=o.name;if(e||(0,r.a)(!1,"One of the provided types for building the Schema is missing a name."),void 0!==this._typeMap[e])throw new Error(`Schema must contain uniquely named types but contains multiple types named "${e}".`);if(this._typeMap[e]=o,(0,u.oT)(o)){for(const t of o.getInterfaces())if((0,u.oT)(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.interfaces.push(o)}}else if((0,u.lp)(o))for(const t of o.getInterfaces())if((0,u.oT)(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.objects.push(o)}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case c.ku.QUERY:return this.getQueryType();case c.ku.MUTATION:return this.getMutationType();case c.ku.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return(0,u.EN)(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const t=this._implementationsMap[e.name];return null!==t&&void 0!==t?t:{objects:[],interfaces:[]}}isSubType(e,t){let n=this._subTypeMap[e.name];if(void 0===n){if(n=Object.create(null),(0,u.EN)(e))for(const t of e.getTypes())n[t.name]=!0;else{const t=this.getImplementations(e);for(const e of t.objects)n[e.name]=!0;for(const e of t.interfaces)n[e.name]=!0}this._subTypeMap[e.name]=n}return void 0!==n[t.name]}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find((t=>t.name===e))}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:void 0!==this.__validationErrors}}}function m(e,t){const n=(0,u.xC)(e);if(!t.has(n))if(t.add(n),(0,u.EN)(n))for(const r of n.getTypes())m(r,t);else if((0,u.lp)(n)||(0,u.oT)(n)){for(const e of n.getInterfaces())m(e,t);for(const e of Object.values(n.getFields())){m(e.type,t);for(const n of e.args)m(n.type,t)}}else if((0,u.hL)(n))for(const r of Object.values(n.getFields()))m(r.type,t);return t}},19655:function(e,t,n){"use strict";n.d(t,{F:function(){return f},J:function(){return d}});var r=n(25821),o=n(28087),i=n(72380),s=n(90316),a=n(4454),c=n(68238),u=n(52433),l=n(59678);function f(e){if((0,l.EO)(e),e.__validationErrors)return e.__validationErrors;const t=new h(e);!function(e){const t=e.schema,n=t.getQueryType();if(n){if(!(0,a.lp)(n)){var o;e.reportError(`Query root type must be Object type, it cannot be ${(0,r.X)(n)}.`,null!==(o=p(t,i.ku.QUERY))&&void 0!==o?o:n.astNode)}}else e.reportError("Query root type must be provided.",t.astNode);const s=t.getMutationType();var c;s&&!(0,a.lp)(s)&&e.reportError(`Mutation root type must be Object type if provided, it cannot be ${(0,r.X)(s)}.`,null!==(c=p(t,i.ku.MUTATION))&&void 0!==c?c:s.astNode);const u=t.getSubscriptionType();var l;u&&!(0,a.lp)(u)&&e.reportError(`Subscription root type must be Object type if provided, it cannot be ${(0,r.X)(u)}.`,null!==(l=p(t,i.ku.SUBSCRIPTION))&&void 0!==l?l:u.astNode)}(t),function(e){for(const n of e.schema.getDirectives())if((0,c.wX)(n)){m(e,n);for(const o of n.args){var t;if(m(e,o),(0,a.j$)(o.type)||e.reportError(`The type of @${n.name}(${o.name}:) must be Input Type but got: ${(0,r.X)(o.type)}.`,o.astNode),(0,a.dK)(o)&&null!=o.deprecationReason)e.reportError(`Required argument @${n.name}(${o.name}:) cannot be deprecated.`,[I(o.astNode),null===(t=o.astNode)||void 0===t?void 0:t.type])}}else e.reportError(`Expected directive but got: ${(0,r.X)(n)}.`,null===n||void 0===n?void 0:n.astNode)}(t),function(e){const t=function(e){const t=Object.create(null),n=[],r=Object.create(null);return o;function o(i){if(t[i.name])return;t[i.name]=!0,r[i.name]=n.length;const s=Object.values(i.getFields());for(const t of s)if((0,a.zM)(t.type)&&(0,a.hL)(t.type.ofType)){const i=t.type.ofType,s=r[i.name];if(n.push(t),void 0===s)o(i);else{const t=n.slice(s),r=t.map((e=>e.name)).join(".");e.reportError(`Cannot reference Input Object "${i.name}" within itself through a series of non-null fields: "${r}".`,t.map((e=>e.astNode)))}n.pop()}r[i.name]=void 0}}(e),n=e.schema.getTypeMap();for(const o of Object.values(n))(0,a.Zs)(o)?((0,u.s9)(o)||m(e,o),(0,a.lp)(o)||(0,a.oT)(o)?(y(e,o),g(e,o)):(0,a.EN)(o)?w(e,o):(0,a.EM)(o)?E(e,o):(0,a.hL)(o)&&(_(e,o),t(o))):e.reportError(`Expected GraphQL named type but got: ${(0,r.X)(o)}.`,o.astNode)}(t);const n=t.getErrors();return e.__validationErrors=n,n}function d(e){const t=f(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}class h{constructor(e){this._errors=[],this.schema=e}reportError(e,t){const n=Array.isArray(t)?t.filter(Boolean):t;this._errors.push(new o.__(e,{nodes:n}))}getErrors(){return this._errors}}function p(e,t){var n;return null===(n=[e.astNode,...e.extensionASTNodes].flatMap((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.operationTypes)&&void 0!==t?t:[]})).find((e=>e.operation===t)))||void 0===n?void 0:n.type}function m(e,t){t.name.startsWith("__")&&e.reportError(`Name "${t.name}" must not begin with "__", which is reserved by GraphQL introspection.`,t.astNode)}function y(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const c of n){var o;if(m(e,c),!(0,a.SZ)(c.type))e.reportError(`The type of ${t.name}.${c.name} must be Output Type but got: ${(0,r.X)(c.type)}.`,null===(o=c.astNode)||void 0===o?void 0:o.type);for(const n of c.args){const o=n.name;var i,s;if(m(e,n),!(0,a.j$)(n.type))e.reportError(`The type of ${t.name}.${c.name}(${o}:) must be Input Type but got: ${(0,r.X)(n.type)}.`,null===(i=n.astNode)||void 0===i?void 0:i.type);if((0,a.dK)(n)&&null!=n.deprecationReason)e.reportError(`Required argument ${t.name}.${c.name}(${o}:) cannot be deprecated.`,[I(n.astNode),null===(s=n.astNode)||void 0===s?void 0:s.type])}}}function g(e,t){const n=Object.create(null);for(const o of t.getInterfaces())(0,a.oT)(o)?t!==o?n[o.name]?e.reportError(`Type ${t.name} can only implement ${o.name} once.`,S(t,o)):(n[o.name]=!0,b(e,t,o),v(e,t,o)):e.reportError(`Type ${t.name} cannot implement itself because it would create a circular reference.`,S(t,o)):e.reportError(`Type ${(0,r.X)(t)} must only implement Interface types, it cannot implement ${(0,r.X)(o)}.`,S(t,o))}function v(e,t,n){const o=t.getFields();for(const f of Object.values(n.getFields())){const d=f.name,h=o[d];if(h){var i,c;if(!(0,s.uJ)(e.schema,h.type,f.type))e.reportError(`Interface field ${n.name}.${d} expects type ${(0,r.X)(f.type)} but ${t.name}.${d} is type ${(0,r.X)(h.type)}.`,[null===(i=f.astNode)||void 0===i?void 0:i.type,null===(c=h.astNode)||void 0===c?void 0:c.type]);for(const o of f.args){const i=o.name,a=h.args.find((e=>e.name===i));var u,l;if(a){if(!(0,s._7)(o.type,a.type))e.reportError(`Interface field argument ${n.name}.${d}(${i}:) expects type ${(0,r.X)(o.type)} but ${t.name}.${d}(${i}:) is type ${(0,r.X)(a.type)}.`,[null===(u=o.astNode)||void 0===u?void 0:u.type,null===(l=a.astNode)||void 0===l?void 0:l.type])}else e.reportError(`Interface field argument ${n.name}.${d}(${i}:) expected but ${t.name}.${d} does not provide it.`,[o.astNode,h.astNode])}for(const r of h.args){const o=r.name;!f.args.find((e=>e.name===o))&&(0,a.dK)(r)&&e.reportError(`Object field ${t.name}.${d} includes required argument ${o} that is missing from the Interface field ${n.name}.${d}.`,[r.astNode,f.astNode])}}else e.reportError(`Interface field ${n.name}.${d} expected but ${t.name} does not provide it.`,[f.astNode,t.astNode,...t.extensionASTNodes])}}function b(e,t,n){const r=t.getInterfaces();for(const o of n.getInterfaces())r.includes(o)||e.reportError(o===t?`Type ${t.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${t.name} must implement ${o.name} because it is implemented by ${n.name}.`,[...S(n,o),...S(t,n)])}function w(e,t){const n=t.getTypes();0===n.length&&e.reportError(`Union type ${t.name} must define one or more member types.`,[t.astNode,...t.extensionASTNodes]);const o=Object.create(null);for(const i of n)o[i.name]?e.reportError(`Union type ${t.name} can only include type ${i.name} once.`,T(t,i.name)):(o[i.name]=!0,(0,a.lp)(i)||e.reportError(`Union type ${t.name} can only include Object types, it cannot include ${(0,r.X)(i)}.`,T(t,String(i))))}function E(e,t){const n=t.getValues();0===n.length&&e.reportError(`Enum type ${t.name} must define one or more values.`,[t.astNode,...t.extensionASTNodes]);for(const r of n)m(e,r)}function _(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Input Object type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const s of n){var o,i;if(m(e,s),!(0,a.j$)(s.type))e.reportError(`The type of ${t.name}.${s.name} must be Input Type but got: ${(0,r.X)(s.type)}.`,null===(o=s.astNode)||void 0===o?void 0:o.type);if((0,a.Wd)(s)&&null!=s.deprecationReason)e.reportError(`Required input field ${t.name}.${s.name} cannot be deprecated.`,[I(s.astNode),null===(i=s.astNode)||void 0===i?void 0:i.type])}}function S(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.interfaces)&&void 0!==t?t:[]})).filter((e=>e.name.value===t.name))}function T(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.types)&&void 0!==t?t:[]})).filter((e=>e.name.value===t))}function I(e){var t;return null===e||void 0===e||null===(t=e.directives)||void 0===t?void 0:t.find((e=>e.name.value===c.fg.name))}},22676:function(e,t,n){"use strict";n.d(t,{a:function(){return u},y:function(){return f}});var r=n(72380),o=n(97359),i=n(77304),s=n(4454),a=n(52433),c=n(30077);class u{constructor(e,t,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=null!==n&&void 0!==n?n:l,t&&((0,s.j$)(t)&&this._inputTypeStack.push(t),(0,s.Gv)(t)&&this._parentTypeStack.push(t),(0,s.SZ)(t)&&this._typeStack.push(t))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const t=this._schema;switch(e.kind){case o.h.SELECTION_SET:{const e=(0,s.xC)(this.getType());this._parentTypeStack.push((0,s.Gv)(e)?e:void 0);break}case o.h.FIELD:{const n=this.getParentType();let r,o;n&&(r=this._getFieldDef(t,n,e),r&&(o=r.type)),this._fieldDefStack.push(r),this._typeStack.push((0,s.SZ)(o)?o:void 0);break}case o.h.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case o.h.OPERATION_DEFINITION:{const n=t.getRootType(e.operation);this._typeStack.push((0,s.lp)(n)?n:void 0);break}case o.h.INLINE_FRAGMENT:case o.h.FRAGMENT_DEFINITION:{const n=e.typeCondition,r=n?(0,c._)(t,n):(0,s.xC)(this.getType());this._typeStack.push((0,s.SZ)(r)?r:void 0);break}case o.h.VARIABLE_DEFINITION:{const n=(0,c._)(t,e.type);this._inputTypeStack.push((0,s.j$)(n)?n:void 0);break}case o.h.ARGUMENT:{var n;let t,r;const o=null!==(n=this.getDirective())&&void 0!==n?n:this.getFieldDef();o&&(t=o.args.find((t=>t.name===e.name.value)),t&&(r=t.type)),this._argument=t,this._defaultValueStack.push(t?t.defaultValue:void 0),this._inputTypeStack.push((0,s.j$)(r)?r:void 0);break}case o.h.LIST:{const e=(0,s.tf)(this.getInputType()),t=(0,s.HG)(e)?e.ofType:e;this._defaultValueStack.push(void 0),this._inputTypeStack.push((0,s.j$)(t)?t:void 0);break}case o.h.OBJECT_FIELD:{const t=(0,s.xC)(this.getInputType());let n,r;(0,s.hL)(t)&&(r=t.getFields()[e.name.value],r&&(n=r.type)),this._defaultValueStack.push(r?r.defaultValue:void 0),this._inputTypeStack.push((0,s.j$)(n)?n:void 0);break}case o.h.ENUM:{const t=(0,s.xC)(this.getInputType());let n;(0,s.EM)(t)&&(n=t.getValue(e.value)),this._enumValue=n;break}}}leave(e){switch(e.kind){case o.h.SELECTION_SET:this._parentTypeStack.pop();break;case o.h.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case o.h.DIRECTIVE:this._directive=null;break;case o.h.OPERATION_DEFINITION:case o.h.INLINE_FRAGMENT:case o.h.FRAGMENT_DEFINITION:this._typeStack.pop();break;case o.h.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case o.h.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case o.h.LIST:case o.h.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case o.h.ENUM:this._enumValue=null}}}function l(e,t,n){const r=n.name.value;return r===a.Az.name&&e.getQueryType()===t?a.Az:r===a.tF.name&&e.getQueryType()===t?a.tF:r===a.hU.name&&(0,s.Gv)(t)?a.hU:(0,s.lp)(t)||(0,s.oT)(t)?t.getFields()[r]:void 0}function f(e,t){return{enter(...n){const o=n[0];e.enter(o);const s=(0,i.Eu)(t,o.kind).enter;if(s){const i=s.apply(t,n);return void 0!==i&&(e.leave(o),(0,r.UG)(i)&&e.enter(i)),i}},leave(...n){const r=n[0],o=(0,i.Eu)(t,r.kind).leave;let s;return o&&(s=o.apply(t,n)),e.leave(r),s}}}},78631:function(e,t,n){"use strict";n.d(t,{J:function(){return l}});var r=n(25821),o=n(29551),i=n(93831),s=n(88495),a=n(97359),c=n(4454),u=n(3801);function l(e,t){if((0,c.zM)(t)){const n=l(e,t.ofType);return(null===n||void 0===n?void 0:n.kind)===a.h.NULL?null:n}if(null===e)return{kind:a.h.NULL};if(void 0===e)return null;if((0,c.HG)(t)){const n=t.ofType;if((0,i.i)(e)){const t=[];for(const r of e){const e=l(r,n);null!=e&&t.push(e)}return{kind:a.h.LIST,values:t}}return l(e,n)}if((0,c.hL)(t)){if(!(0,s.y)(e))return null;const n=[];for(const r of Object.values(t.getFields())){const t=l(e[r.name],r.type);t&&n.push({kind:a.h.OBJECT_FIELD,name:{kind:a.h.NAME,value:r.name},value:t})}return{kind:a.h.OBJECT,fields:n}}if((0,c.UT)(t)){const n=t.serialize(e);if(null==n)return null;if("boolean"===typeof n)return{kind:a.h.BOOLEAN,value:n};if("number"===typeof n&&Number.isFinite(n)){const e=String(n);return f.test(e)?{kind:a.h.INT,value:e}:{kind:a.h.FLOAT,value:e}}if("string"===typeof n)return(0,c.EM)(t)?{kind:a.h.ENUM,value:n}:t===u.km&&f.test(n)?{kind:a.h.INT,value:n}:{kind:a.h.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${(0,r.X)(n)}.`)}(0,o.k)(!1,"Unexpected input type: "+(0,r.X)(t))}const f=/^-?(?:0|[1-9][0-9]*)$/},27816:function(e,t,n){"use strict";n.d(t,{K:function(){return h}});var r=n(53177),o=n(25821),i=n(29551),s=n(93831),a=n(88495),c=n(79380),u=n(94244),l=n(3294),f=n(28087),d=n(4454);function h(e,t,n=p){return m(e,t,n,void 0)}function p(e,t,n){let r="Invalid value "+(0,o.X)(t);throw e.length>0&&(r+=` at "value${(0,u.F)(e)}"`),n.message=r+": "+n.message,n}function m(e,t,n,u){if((0,d.zM)(t))return null!=e?m(e,t.ofType,n,u):void n((0,c.N)(u),e,new f.__(`Expected non-nullable type "${(0,o.X)(t)}" not to be null.`));if(null==e)return null;if((0,d.HG)(t)){const r=t.ofType;return(0,s.i)(e)?Array.from(e,((e,t)=>{const o=(0,c.Q)(u,t,void 0);return m(e,r,n,o)})):[m(e,r,n,u)]}if((0,d.hL)(t)){if(!(0,a.y)(e))return void n((0,c.N)(u),e,new f.__(`Expected type "${t.name}" to be an object.`));const i={},s=t.getFields();for(const r of Object.values(s)){const s=e[r.name];if(void 0!==s)i[r.name]=m(s,r.type,n,(0,c.Q)(u,r.name,t.name));else if(void 0!==r.defaultValue)i[r.name]=r.defaultValue;else if((0,d.zM)(r.type)){const t=(0,o.X)(r.type);n((0,c.N)(u),e,new f.__(`Field "${r.name}" of required type "${t}" was not provided.`))}}for(const o of Object.keys(e))if(!s[o]){const i=(0,l.D)(o,Object.keys(t.getFields()));n((0,c.N)(u),e,new f.__(`Field "${o}" is not defined by type "${t.name}".`+(0,r.l)(i)))}return i}if((0,d.UT)(t)){let r;try{r=t.parseValue(e)}catch(h){return void(h instanceof f.__?n((0,c.N)(u),e,h):n((0,c.N)(u),e,new f.__(`Expected type "${t.name}". `+h.message,{originalError:h})))}return void 0===r&&n((0,c.N)(u),e,new f.__(`Expected type "${t.name}".`)),r}(0,i.k)(!1,"Unexpected input type: "+(0,o.X)(t))}},79557:function(e,t,n){"use strict";n.d(t,{a:function(){return v},w:function(){return b}});var r=n(37826),o=n(25821),i=n(29551),s=n(73498),a=n(95723),c=n(97359),u=n(75844),l=n(4454),f=n(68238),d=n(52433),h=n(3801),p=n(59678),m=n(24635),y=n(66422),g=n(58081);function v(e,t,n){(0,p.EO)(e),null!=t&&t.kind===c.h.DOCUMENT||(0,r.a)(!1,"Must provide valid Document AST."),!0!==(null===n||void 0===n?void 0:n.assumeValid)&&!0!==(null===n||void 0===n?void 0:n.assumeValidSDL)&&(0,m.ED)(t,e);const o=e.toConfig(),i=b(o,t,n);return o===i?e:new p.XO(i)}function b(e,t,n){var r,s,p,m;const y=[],v=Object.create(null),b=[];let S;const T=[];for(const o of t.definitions)if(o.kind===c.h.SCHEMA_DEFINITION)S=o;else if(o.kind===c.h.SCHEMA_EXTENSION)T.push(o);else if((0,u.zT)(o))y.push(o);else if((0,u.D$)(o)){const e=o.name.value,t=v[e];v[e]=t?t.concat([o]):[o]}else o.kind===c.h.DIRECTIVE_DEFINITION&&b.push(o);if(0===Object.keys(v).length&&0===y.length&&0===b.length&&0===T.length&&null==S)return e;const I=Object.create(null);for(const o of e.types)I[o.name]=x(o);for(const o of y){var N;const e=o.name.value;I[e]=null!==(N=w[e])&&void 0!==N?N:V(o)}const O={query:e.query&&A(e.query),mutation:e.mutation&&A(e.mutation),subscription:e.subscription&&A(e.subscription),...S&&R([S]),...R(T)};return{description:null===(r=S)||void 0===r||null===(s=r.description)||void 0===s?void 0:s.value,...O,types:Object.values(I),directives:[...e.directives.map((function(e){const t=e.toConfig();return new f.NZ({...t,args:(0,a.j)(t.args,$)})})),...b.map((function(e){var t;return new f.NZ({name:e.name.value,description:null===(t=e.description)||void 0===t?void 0:t.value,locations:e.locations.map((({value:e})=>e)),isRepeatable:e.repeatable,args:M(e.arguments),astNode:e})}))],extensions:Object.create(null),astNode:null!==(p=S)&&void 0!==p?p:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(T),assumeValid:null!==(m=null===n||void 0===n?void 0:n.assumeValid)&&void 0!==m&&m};function k(e){return(0,l.HG)(e)?new l.p2(k(e.ofType)):(0,l.zM)(e)?new l.bM(k(e.ofType)):A(e)}function A(e){return I[e.name]}function x(e){return(0,d.s9)(e)||(0,h.u1)(e)?e:(0,l.KA)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];let o=n.specifiedByURL;for(const s of r){var i;o=null!==(i=_(s))&&void 0!==i?i:o}return new l.n2({...n,specifiedByURL:o,extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.lp)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.h6({...n,interfaces:()=>[...e.getInterfaces().map(A),...B(r)],fields:()=>({...(0,a.j)(n.fields,C),...j(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.oT)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.oW({...n,interfaces:()=>[...e.getInterfaces().map(A),...B(r)],fields:()=>({...(0,a.j)(n.fields,C),...j(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.EN)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.Gp({...n,types:()=>[...e.getTypes().map(A),...F(r)],extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.EM)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[e.name])&&void 0!==t?t:[];return new l.mR({...n,values:{...n.values,...U(r)},extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.hL)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.sR({...n,fields:()=>({...(0,a.j)(n.fields,(e=>({...e,type:k(e.type)}))),...L(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):void(0,i.k)(!1,"Unexpected type: "+(0,o.X)(e))}function C(e){return{...e,type:k(e.type),args:e.args&&(0,a.j)(e.args,$)}}function $(e){return{...e,type:k(e.type)}}function R(e){const t={};for(const r of e){var n;const e=null!==(n=r.operationTypes)&&void 0!==n?n:[];for(const n of e)t[n.operation]=D(n.type)}return t}function D(e){var t;const n=e.name.value,r=null!==(t=w[n])&&void 0!==t?t:I[n];if(void 0===r)throw new Error(`Unknown type: "${n}".`);return r}function P(e){return e.kind===c.h.LIST_TYPE?new l.p2(P(e.type)):e.kind===c.h.NON_NULL_TYPE?new l.bM(P(e.type)):D(e)}function j(e){const t=Object.create(null);for(const o of e){var n;const e=null!==(n=o.fields)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={type:P(n.type),description:null===(r=n.description)||void 0===r?void 0:r.value,args:M(n.arguments),deprecationReason:E(n),astNode:n}}}return t}function M(e){const t=null!==e&&void 0!==e?e:[],n=Object.create(null);for(const o of t){var r;const e=P(o.type);n[o.name.value]={type:e,description:null===(r=o.description)||void 0===r?void 0:r.value,defaultValue:(0,g.u)(o.defaultValue,e),deprecationReason:E(o),astNode:o}}return n}function L(e){const t=Object.create(null);for(const o of e){var n;const e=null!==(n=o.fields)&&void 0!==n?n:[];for(const n of e){var r;const e=P(n.type);t[n.name.value]={type:e,description:null===(r=n.description)||void 0===r?void 0:r.value,defaultValue:(0,g.u)(n.defaultValue,e),deprecationReason:E(n),astNode:n}}}return t}function U(e){const t=Object.create(null);for(const o of e){var n;const e=null!==(n=o.values)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={description:null===(r=n.description)||void 0===r?void 0:r.value,deprecationReason:E(n),astNode:n}}}return t}function B(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.interfaces)||void 0===n?void 0:n.map(D))&&void 0!==t?t:[]}))}function F(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.types)||void 0===n?void 0:n.map(D))&&void 0!==t?t:[]}))}function V(e){var t;const n=e.name.value,r=null!==(t=v[n])&&void 0!==t?t:[];switch(e.kind){case c.h.OBJECT_TYPE_DEFINITION:{var o;const t=[e,...r];return new l.h6({name:n,description:null===(o=e.description)||void 0===o?void 0:o.value,interfaces:()=>B(t),fields:()=>j(t),astNode:e,extensionASTNodes:r})}case c.h.INTERFACE_TYPE_DEFINITION:{var i;const t=[e,...r];return new l.oW({name:n,description:null===(i=e.description)||void 0===i?void 0:i.value,interfaces:()=>B(t),fields:()=>j(t),astNode:e,extensionASTNodes:r})}case c.h.ENUM_TYPE_DEFINITION:{var s;const t=[e,...r];return new l.mR({name:n,description:null===(s=e.description)||void 0===s?void 0:s.value,values:U(t),astNode:e,extensionASTNodes:r})}case c.h.UNION_TYPE_DEFINITION:{var a;const t=[e,...r];return new l.Gp({name:n,description:null===(a=e.description)||void 0===a?void 0:a.value,types:()=>F(t),astNode:e,extensionASTNodes:r})}case c.h.SCALAR_TYPE_DEFINITION:var u;return new l.n2({name:n,description:null===(u=e.description)||void 0===u?void 0:u.value,specifiedByURL:_(e),astNode:e,extensionASTNodes:r});case c.h.INPUT_OBJECT_TYPE_DEFINITION:{var f;const t=[e,...r];return new l.sR({name:n,description:null===(f=e.description)||void 0===f?void 0:f.value,fields:()=>L(t),astNode:e,extensionASTNodes:r})}}}}const w=(0,s.P)([...h.HS,...d.nL],(e=>e.name));function E(e){const t=(0,y.zu)(f.fg,e);return null===t||void 0===t?void 0:t.reason}function _(e){const t=(0,y.zu)(f.df,e);return null===t||void 0===t?void 0:t.url}},52100:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(97359);function o(e,t){let n=null;for(const i of e.definitions){var o;if(i.kind===r.h.OPERATION_DEFINITION)if(null==t){if(n)return null;n=i}else if((null===(o=i.name)||void 0===o?void 0:o.value)===t)return i}return n}},38360:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(8224),o=n(97359);function i(e){switch(e.kind){case o.h.OBJECT:return{...e,fields:(t=e.fields,t.map((e=>({...e,value:i(e.value)}))).sort(((e,t)=>(0,r.K)(e.name.value,t.name.value))))};case o.h.LIST:return{...e,values:e.values.map(i)};case o.h.INT:case o.h.FLOAT:case o.h.STRING:case o.h.BOOLEAN:case o.h.NULL:case o.h.ENUM:case o.h.VARIABLE:return e}var t}},90316:function(e,t,n){"use strict";n.d(t,{_7:function(){return o},uJ:function(){return i},zR:function(){return s}});var r=n(4454);function o(e,t){return e===t||((0,r.zM)(e)&&(0,r.zM)(t)||!(!(0,r.HG)(e)||!(0,r.HG)(t)))&&o(e.ofType,t.ofType)}function i(e,t,n){return t===n||((0,r.zM)(n)?!!(0,r.zM)(t)&&i(e,t.ofType,n.ofType):(0,r.zM)(t)?i(e,t.ofType,n):(0,r.HG)(n)?!!(0,r.HG)(t)&&i(e,t.ofType,n.ofType):!(0,r.HG)(t)&&((0,r.m0)(n)&&((0,r.oT)(t)||(0,r.lp)(t))&&e.isSubType(n,t)))}function s(e,t,n){return t===n||((0,r.m0)(t)?(0,r.m0)(n)?e.getPossibleTypes(t).some((t=>e.isSubType(n,t))):e.isSubType(t,n):!!(0,r.m0)(n)&&e.isSubType(n,t))}},30077:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(97359),o=n(4454);function i(e,t){switch(t.kind){case r.h.LIST_TYPE:{const n=i(e,t.type);return n&&new o.p2(n)}case r.h.NON_NULL_TYPE:{const n=i(e,t.type);return n&&new o.bM(n)}case r.h.NAMED_TYPE:return e.getType(t.name.value)}}},58081:function(e,t,n){"use strict";n.d(t,{u:function(){return c}});var r=n(25821),o=n(29551),i=n(73498),s=n(97359),a=n(4454);function c(e,t,n){if(e){if(e.kind===s.h.VARIABLE){const r=e.name.value;if(null==n||void 0===n[r])return;const o=n[r];if(null===o&&(0,a.zM)(t))return;return o}if((0,a.zM)(t)){if(e.kind===s.h.NULL)return;return c(e,t.ofType,n)}if(e.kind===s.h.NULL)return null;if((0,a.HG)(t)){const r=t.ofType;if(e.kind===s.h.LIST){const t=[];for(const o of e.values)if(u(o,n)){if((0,a.zM)(r))return;t.push(null)}else{const e=c(o,r,n);if(void 0===e)return;t.push(e)}return t}const o=c(e,r,n);if(void 0===o)return;return[o]}if((0,a.hL)(t)){if(e.kind!==s.h.OBJECT)return;const r=Object.create(null),o=(0,i.P)(e.fields,(e=>e.name.value));for(const e of Object.values(t.getFields())){const t=o[e.name];if(!t||u(t.value,n)){if(void 0!==e.defaultValue)r[e.name]=e.defaultValue;else if((0,a.zM)(e.type))return;continue}const i=c(t.value,e.type,n);if(void 0===i)return;r[e.name]=i}return r}if((0,a.UT)(t)){let r;try{r=t.parseLiteral(e,n)}catch(l){return}if(void 0===r)return;return r}(0,o.k)(!1,"Unexpected input type: "+(0,r.X)(t))}}function u(e,t){return e.kind===s.h.VARIABLE&&(null==t||void 0===t[e.name.value])}},12319:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(54950),o=n(97359);function i(e,t){switch(e.kind){case o.h.NULL:return null;case o.h.INT:return parseInt(e.value,10);case o.h.FLOAT:return parseFloat(e.value);case o.h.STRING:case o.h.ENUM:case o.h.BOOLEAN:return e.value;case o.h.LIST:return e.values.map((e=>i(e,t)));case o.h.OBJECT:return(0,r.w)(e.fields,(e=>e.name.value),(e=>i(e.value,t)));case o.h.VARIABLE:return null===t||void 0===t?void 0:t[e.name.value]}}},32734:function(e,t,n){"use strict";n.d(t,{yv:function(){return a},_t:function(){return c}});var r=n(97359),o=n(77304),i=n(22676);class s{constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{t=Object.create(null);for(const e of this.getDocument().definitions)e.kind===r.h.FRAGMENT_DEFINITION&&(t[e.name.value]=e);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){t=[];const n=[e];let o;for(;o=n.pop();)for(const e of o.selections)e.kind===r.h.FRAGMENT_SPREAD?t.push(e):e.selectionSet&&n.push(e.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];const n=Object.create(null),r=[e.selectionSet];let o;for(;o=r.pop();)for(const e of this.getFragmentSpreads(o)){const o=e.name.value;if(!0!==n[o]){n[o]=!0;const e=this.getFragment(o);e&&(t.push(e),r.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}}class a extends s{constructor(e,t,n){super(e,n),this._schema=t}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class c extends s{constructor(e,t,n,r){super(t,r),this._schema=e,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let t=this._variableUsages.get(e);if(!t){const n=[],r=new i.a(this._schema);(0,o.Vn)(e,(0,i.y)(r,{VariableDefinition:()=>!1,Variable(e){n.push({node:e,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),t=n,this._variableUsages.set(e,t)}return t}getRecursiveVariableUsages(e){let t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(const n of this.getRecursivelyReferencedFragments(e))t=t.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(e,t)}return t}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}},88081:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(28087),o=n(97359),i=n(75844);function s(e){return{Document(t){for(const n of t.definitions)if(!(0,i.Wk)(n)){const t=n.kind===o.h.SCHEMA_DEFINITION||n.kind===o.h.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new r.__(`The ${t} definition is not executable.`,{nodes:n}))}return!1}}}},48741:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(53177),o=n(8224),i=n(3294),s=n(28087),a=n(4454);function c(e){return{Field(t){const n=e.getParentType();if(n){if(!e.getFieldDef()){const c=e.getSchema(),u=t.name.value;let l=(0,r.l)("to use an inline fragment on",function(e,t,n){if(!(0,a.m0)(t))return[];const r=new Set,i=Object.create(null);for(const o of e.getPossibleTypes(t))if(o.getFields()[n]){r.add(o),i[o.name]=1;for(const e of o.getInterfaces()){var s;e.getFields()[n]&&(r.add(e),i[e.name]=(null!==(s=i[e.name])&&void 0!==s?s:0)+1)}}return[...r].sort(((t,n)=>{const r=i[n.name]-i[t.name];return 0!==r?r:(0,a.oT)(t)&&e.isSubType(t,n)?-1:(0,a.oT)(n)&&e.isSubType(n,t)?1:(0,o.K)(t.name,n.name)})).map((e=>e.name))}(c,n,u));""===l&&(l=(0,r.l)(function(e,t){if((0,a.lp)(e)||(0,a.oT)(e)){const n=Object.keys(e.getFields());return(0,i.D)(t,n)}return[]}(n,u))),e.reportError(new s.__(`Cannot query field "${u}" on type "${n.name}".`+l,{nodes:t}))}}}}}},77143:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(28087),o=n(16918),i=n(4454),s=n(30077);function a(e){return{InlineFragment(t){const n=t.typeCondition;if(n){const t=(0,s._)(e.getSchema(),n);if(t&&!(0,i.Gv)(t)){const t=(0,o.S)(n);e.reportError(new r.__(`Fragment cannot condition on non composite type "${t}".`,{nodes:n}))}}},FragmentDefinition(t){const n=(0,s._)(e.getSchema(),t.typeCondition);if(n&&!(0,i.Gv)(n)){const n=(0,o.S)(t.typeCondition);e.reportError(new r.__(`Fragment "${t.name.value}" cannot condition on non composite type "${n}".`,{nodes:t.typeCondition}))}}}}},47815:function(e,t,n){"use strict";n.d(t,{e:function(){return c},o:function(){return u}});var r=n(53177),o=n(3294),i=n(28087),s=n(97359),a=n(68238);function c(e){return{...u(e),Argument(t){const n=e.getArgument(),s=e.getFieldDef(),a=e.getParentType();if(!n&&s&&a){const n=t.name.value,c=s.args.map((e=>e.name)),u=(0,o.D)(n,c);e.reportError(new i.__(`Unknown argument "${n}" on field "${a.name}.${s.name}".`+(0,r.l)(u),{nodes:t}))}}}}function u(e){const t=Object.create(null),n=e.getSchema(),c=n?n.getDirectives():a.V4;for(const r of c)t[r.name]=r.args.map((e=>e.name));const u=e.getDocument().definitions;for(const r of u)if(r.kind===s.h.DIRECTIVE_DEFINITION){var l;const e=null!==(l=r.arguments)&&void 0!==l?l:[];t[r.name.value]=e.map((e=>e.name.value))}return{Directive(n){const s=n.name.value,a=t[s];if(n.arguments&&a)for(const t of n.arguments){const n=t.name.value;if(!a.includes(n)){const c=(0,o.D)(n,a);e.reportError(new i.__(`Unknown argument "${n}" on directive "@${s}".`+(0,r.l)(c),{nodes:t}))}}return!1}}}},84873:function(e,t,n){"use strict";n.d(t,{J:function(){return l}});var r=n(25821),o=n(29551),i=n(28087),s=n(72380),a=n(99878),c=n(97359),u=n(68238);function l(e){const t=Object.create(null),n=e.getSchema(),l=n?n.getDirectives():u.V4;for(const r of l)t[r.name]=r.locations;const f=e.getDocument().definitions;for(const r of f)r.kind===c.h.DIRECTIVE_DEFINITION&&(t[r.name.value]=r.locations.map((e=>e.value)));return{Directive(n,u,l,f,d){const h=n.name.value,p=t[h];if(!p)return void e.reportError(new i.__(`Unknown directive "@${h}".`,{nodes:n}));const m=function(e){const t=e[e.length-1];switch("kind"in t||(0,o.k)(!1),t.kind){case c.h.OPERATION_DEFINITION:return function(e){switch(e){case s.ku.QUERY:return a.B.QUERY;case s.ku.MUTATION:return a.B.MUTATION;case s.ku.SUBSCRIPTION:return a.B.SUBSCRIPTION}}(t.operation);case c.h.FIELD:return a.B.FIELD;case c.h.FRAGMENT_SPREAD:return a.B.FRAGMENT_SPREAD;case c.h.INLINE_FRAGMENT:return a.B.INLINE_FRAGMENT;case c.h.FRAGMENT_DEFINITION:return a.B.FRAGMENT_DEFINITION;case c.h.VARIABLE_DEFINITION:return a.B.VARIABLE_DEFINITION;case c.h.SCHEMA_DEFINITION:case c.h.SCHEMA_EXTENSION:return a.B.SCHEMA;case c.h.SCALAR_TYPE_DEFINITION:case c.h.SCALAR_TYPE_EXTENSION:return a.B.SCALAR;case c.h.OBJECT_TYPE_DEFINITION:case c.h.OBJECT_TYPE_EXTENSION:return a.B.OBJECT;case c.h.FIELD_DEFINITION:return a.B.FIELD_DEFINITION;case c.h.INTERFACE_TYPE_DEFINITION:case c.h.INTERFACE_TYPE_EXTENSION:return a.B.INTERFACE;case c.h.UNION_TYPE_DEFINITION:case c.h.UNION_TYPE_EXTENSION:return a.B.UNION;case c.h.ENUM_TYPE_DEFINITION:case c.h.ENUM_TYPE_EXTENSION:return a.B.ENUM;case c.h.ENUM_VALUE_DEFINITION:return a.B.ENUM_VALUE;case c.h.INPUT_OBJECT_TYPE_DEFINITION:case c.h.INPUT_OBJECT_TYPE_EXTENSION:return a.B.INPUT_OBJECT;case c.h.INPUT_VALUE_DEFINITION:{const t=e[e.length-3];return"kind"in t||(0,o.k)(!1),t.kind===c.h.INPUT_OBJECT_TYPE_DEFINITION?a.B.INPUT_FIELD_DEFINITION:a.B.ARGUMENT_DEFINITION}default:(0,o.k)(!1,"Unexpected kind: "+(0,r.X)(t.kind))}}(d);m&&!p.includes(m)&&e.reportError(new i.__(`Directive "@${h}" may not be used on ${m}.`,{nodes:n}))}}}},5311:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(28087);function o(e){return{FragmentSpread(t){const n=t.name.value;e.getFragment(n)||e.reportError(new r.__(`Unknown fragment "${n}".`,{nodes:t.name}))}}}},25580:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(53177),o=n(3294),i=n(28087),s=n(75844),a=n(52433);function c(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),a=Object.create(null);for(const r of e.getDocument().definitions)(0,s.zT)(r)&&(a[r.name.value]=!0);const c=[...Object.keys(n),...Object.keys(a)];return{NamedType(t,l,f,d,h){const p=t.name.value;if(!n[p]&&!a[p]){var m;const n=null!==(m=h[2])&&void 0!==m?m:f,a=null!=n&&("kind"in(y=n)&&((0,s.G4)(y)||(0,s.aU)(y)));if(a&&u.includes(p))return;const l=(0,o.D)(p,a?u.concat(c):c);e.reportError(new i.__(`Unknown type "${p}".`+(0,r.l)(l),{nodes:t}))}var y}}}const u=[...n(3801).HS,...a.nL].map((e=>e.name))},27898:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(28087),o=n(97359);function i(e){let t=0;return{Document(e){t=e.definitions.filter((e=>e.kind===o.h.OPERATION_DEFINITION)).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new r.__("This anonymous operation must be the only defined operation.",{nodes:n}))}}}},52877:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(28087);function o(e){var t,n,o;const i=e.getSchema(),s=null!==(t=null!==(n=null!==(o=null===i||void 0===i?void 0:i.astNode)&&void 0!==o?o:null===i||void 0===i?void 0:i.getQueryType())&&void 0!==n?n:null===i||void 0===i?void 0:i.getMutationType())&&void 0!==t?t:null===i||void 0===i?void 0:i.getSubscriptionType();let a=0;return{SchemaDefinition(t){s?e.reportError(new r.__("Cannot define a new schema within a schema extension.",{nodes:t})):(a>0&&e.reportError(new r.__("Must provide only one schema definition.",{nodes:t})),++a)}}}},91422:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(28087);function o(e){const t=Object.create(null),n=[],o=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(i(e),!1)};function i(s){if(t[s.name.value])return;const a=s.name.value;t[a]=!0;const c=e.getFragmentSpreads(s.selectionSet);if(0!==c.length){o[a]=n.length;for(const t of c){const s=t.name.value,a=o[s];if(n.push(t),void 0===a){const t=e.getFragment(s);t&&i(t)}else{const t=n.slice(a),o=t.slice(0,-1).map((e=>'"'+e.name.value+'"')).join(", ");e.reportError(new r.__(`Cannot spread fragment "${s}" within itself`+(""!==o?` via ${o}.`:"."),{nodes:t}))}n.pop()}o[a]=void 0}}}},14790:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(28087);function o(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const o=e.getRecursiveVariableUsages(n);for(const{node:i}of o){const o=i.name.value;!0!==t[o]&&e.reportError(new r.__(n.name?`Variable "$${o}" is not defined by operation "${n.name.value}".`:`Variable "$${o}" is not defined.`,{nodes:[i,n]}))}}},VariableDefinition(e){t[e.variable.name.value]=!0}}}},81294:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(28087);function o(e){const t=[],n=[];return{OperationDefinition:e=>(t.push(e),!1),FragmentDefinition:e=>(n.push(e),!1),Document:{leave(){const o=Object.create(null);for(const n of t)for(const t of e.getRecursivelyReferencedFragments(n))o[t.name.value]=!0;for(const t of n){const n=t.name.value;!0!==o[n]&&e.reportError(new r.__(`Fragment "${n}" is never used.`,{nodes:t}))}}}}}},72283:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(28087);function o(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){const o=Object.create(null),i=e.getRecursiveVariableUsages(n);for(const{node:e}of i)o[e.name.value]=!0;for(const s of t){const t=s.variable.name.value;!0!==o[t]&&e.reportError(new r.__(n.name?`Variable "$${t}" is never used in operation "${n.name.value}".`:`Variable "$${t}" is never used.`,{nodes:s}))}}},VariableDefinition(e){t.push(e)}}}},54203:function(e,t,n){"use strict";n.d(t,{y:function(){return f}});var r=n(25821),o=n(28087),i=n(97359),s=n(16918),a=n(4454),c=n(38360),u=n(30077);function l(e){return Array.isArray(e)?e.map((([e,t])=>`subfields "${e}" conflict because `+l(t))).join(" and "):e}function f(e){const t=new E,n=new Map;return{SelectionSet(r){const i=function(e,t,n,r,o){const i=[],[s,a]=v(e,t,r,o);if(function(e,t,n,r,o){for(const[i,s]of Object.entries(o))if(s.length>1)for(let o=0;o<s.length;o++)for(let a=o+1;a<s.length;a++){const c=m(e,n,r,!1,i,s[o],s[a]);c&&t.push(c)}}(e,i,t,n,s),0!==a.length)for(let c=0;c<a.length;c++){d(e,i,t,n,!1,s,a[c]);for(let r=c+1;r<a.length;r++)h(e,i,t,n,!1,a[c],a[r])}return i}(e,n,t,e.getParentType(),r);for(const[[t,n],s,a]of i){const r=l(n);e.reportError(new o.__(`Fields "${t}" conflict because ${r}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:s.concat(a)}))}}}}function d(e,t,n,r,o,i,s){const a=e.getFragment(s);if(!a)return;const[c,u]=b(e,n,a);if(i!==c){p(e,t,n,r,o,i,c);for(const a of u)r.has(a,s,o)||(r.add(a,s,o),d(e,t,n,r,o,i,a))}}function h(e,t,n,r,o,i,s){if(i===s)return;if(r.has(i,s,o))return;r.add(i,s,o);const a=e.getFragment(i),c=e.getFragment(s);if(!a||!c)return;const[u,l]=b(e,n,a),[f,d]=b(e,n,c);p(e,t,n,r,o,u,f);for(const p of d)h(e,t,n,r,o,i,p);for(const p of l)h(e,t,n,r,o,p,s)}function p(e,t,n,r,o,i,s){for(const[a,c]of Object.entries(i)){const i=s[a];if(i)for(const s of c)for(const c of i){const i=m(e,n,r,o,a,s,c);i&&t.push(i)}}}function m(e,t,n,o,i,s,c){const[u,l,f]=s,[m,b,w]=c,E=o||u!==m&&(0,a.lp)(u)&&(0,a.lp)(m);if(!E){const e=l.name.value,t=b.name.value;if(e!==t)return[[i,`"${e}" and "${t}" are different fields`],[l],[b]];if(y(l)!==y(b))return[[i,"they have differing arguments"],[l],[b]]}const _=null===f||void 0===f?void 0:f.type,S=null===w||void 0===w?void 0:w.type;if(_&&S&&g(_,S))return[[i,`they return conflicting types "${(0,r.X)(_)}" and "${(0,r.X)(S)}"`],[l],[b]];const T=l.selectionSet,I=b.selectionSet;if(T&&I){return function(e,t,n,r){if(e.length>0)return[[t,e.map((([e])=>e))],[n,...e.map((([,e])=>e)).flat()],[r,...e.map((([,,e])=>e)).flat()]]}(function(e,t,n,r,o,i,s,a){const c=[],[u,l]=v(e,t,o,i),[f,m]=v(e,t,s,a);p(e,c,t,n,r,u,f);for(const h of m)d(e,c,t,n,r,u,h);for(const h of l)d(e,c,t,n,r,f,h);for(const d of l)for(const o of m)h(e,c,t,n,r,d,o);return c}(e,t,n,E,(0,a.xC)(_),T,(0,a.xC)(S),I),i,l,b)}}function y(e){var t;const n=null!==(t=e.arguments)&&void 0!==t?t:[],r={kind:i.h.OBJECT,fields:n.map((e=>({kind:i.h.OBJECT_FIELD,name:e.name,value:e.value})))};return(0,s.S)((0,c.n)(r))}function g(e,t){return(0,a.HG)(e)?!(0,a.HG)(t)||g(e.ofType,t.ofType):!!(0,a.HG)(t)||((0,a.zM)(e)?!(0,a.zM)(t)||g(e.ofType,t.ofType):!!(0,a.zM)(t)||!(!(0,a.UT)(e)&&!(0,a.UT)(t))&&e!==t)}function v(e,t,n,r){const o=t.get(r);if(o)return o;const i=Object.create(null),s=Object.create(null);w(e,n,r,i,s);const a=[i,Object.keys(s)];return t.set(r,a),a}function b(e,t,n){const r=t.get(n.selectionSet);if(r)return r;const o=(0,u._)(e.getSchema(),n.typeCondition);return v(e,t,o,n.selectionSet)}function w(e,t,n,r,o){for(const s of n.selections)switch(s.kind){case i.h.FIELD:{const e=s.name.value;let n;((0,a.lp)(t)||(0,a.oT)(t))&&(n=t.getFields()[e]);const o=s.alias?s.alias.value:e;r[o]||(r[o]=[]),r[o].push([t,s,n]);break}case i.h.FRAGMENT_SPREAD:o[s.name.value]=!0;break;case i.h.INLINE_FRAGMENT:{const n=s.typeCondition,i=n?(0,u._)(e.getSchema(),n):t;w(e,i,s.selectionSet,r,o);break}}}class E{constructor(){this._data=new Map}has(e,t,n){var r;const[o,i]=e<t?[e,t]:[t,e],s=null===(r=this._data.get(o))||void 0===r?void 0:r.get(i);return void 0!==s&&(!!n||n===s)}add(e,t,n){const[r,o]=e<t?[e,t]:[t,e],i=this._data.get(r);void 0===i?this._data.set(r,new Map([[o,n]])):i.set(o,n)}}},63259:function(e,t,n){"use strict";n.d(t,{a:function(){return c}});var r=n(25821),o=n(28087),i=n(4454),s=n(90316),a=n(30077);function c(e){return{InlineFragment(t){const n=e.getType(),a=e.getParentType();if((0,i.Gv)(n)&&(0,i.Gv)(a)&&!(0,s.zR)(e.getSchema(),n,a)){const i=(0,r.X)(a),s=(0,r.X)(n);e.reportError(new o.__(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:t}))}},FragmentSpread(t){const n=t.name.value,c=function(e,t){const n=e.getFragment(t);if(n){const t=(0,a._)(e.getSchema(),n.typeCondition);if((0,i.Gv)(t))return t}}(e,n),u=e.getParentType();if(c&&u&&!(0,s.zR)(e.getSchema(),c,u)){const i=(0,r.X)(u),s=(0,r.X)(c);e.reportError(new o.__(`Fragment "${n}" cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:t}))}}}}},34800:function(e,t,n){"use strict";n.d(t,{g:function(){return f}});var r=n(53177),o=n(25821),i=n(29551),s=n(3294),a=n(28087),c=n(97359),u=n(75844),l=n(4454);function f(e){const t=e.getSchema(),n=Object.create(null);for(const r of e.getDocument().definitions)(0,u.zT)(r)&&(n[r.name.value]=r);return{ScalarTypeExtension:f,ObjectTypeExtension:f,InterfaceTypeExtension:f,UnionTypeExtension:f,EnumTypeExtension:f,InputObjectTypeExtension:f};function f(u){const f=u.name.value,h=n[f],p=null===t||void 0===t?void 0:t.getType(f);let m;if(h?m=d[h.kind]:p&&(m=function(e){if((0,l.KA)(e))return c.h.SCALAR_TYPE_EXTENSION;if((0,l.lp)(e))return c.h.OBJECT_TYPE_EXTENSION;if((0,l.oT)(e))return c.h.INTERFACE_TYPE_EXTENSION;if((0,l.EN)(e))return c.h.UNION_TYPE_EXTENSION;if((0,l.EM)(e))return c.h.ENUM_TYPE_EXTENSION;if((0,l.hL)(e))return c.h.INPUT_OBJECT_TYPE_EXTENSION;(0,i.k)(!1,"Unexpected type: "+(0,o.X)(e))}(p)),m){if(m!==u.kind){const t=function(e){switch(e){case c.h.SCALAR_TYPE_EXTENSION:return"scalar";case c.h.OBJECT_TYPE_EXTENSION:return"object";case c.h.INTERFACE_TYPE_EXTENSION:return"interface";case c.h.UNION_TYPE_EXTENSION:return"union";case c.h.ENUM_TYPE_EXTENSION:return"enum";case c.h.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,i.k)(!1,"Unexpected kind: "+(0,o.X)(e))}}(u.kind);e.reportError(new a.__(`Cannot extend non-${t} type "${f}".`,{nodes:h?[h,u]:u}))}}else{const o=Object.keys({...n,...null===t||void 0===t?void 0:t.getTypeMap()}),i=(0,s.D)(f,o);e.reportError(new a.__(`Cannot extend type "${f}" because it is not defined.`+(0,r.l)(i),{nodes:u.name}))}}}const d={[c.h.SCALAR_TYPE_DEFINITION]:c.h.SCALAR_TYPE_EXTENSION,[c.h.OBJECT_TYPE_DEFINITION]:c.h.OBJECT_TYPE_EXTENSION,[c.h.INTERFACE_TYPE_DEFINITION]:c.h.INTERFACE_TYPE_EXTENSION,[c.h.UNION_TYPE_DEFINITION]:c.h.UNION_TYPE_EXTENSION,[c.h.ENUM_TYPE_DEFINITION]:c.h.ENUM_TYPE_EXTENSION,[c.h.INPUT_OBJECT_TYPE_DEFINITION]:c.h.INPUT_OBJECT_TYPE_EXTENSION}},61967:function(e,t,n){"use strict";n.d(t,{s:function(){return l},c:function(){return f}});var r=n(25821),o=n(73498),i=n(28087),s=n(97359),a=n(16918),c=n(4454),u=n(68238);function l(e){return{...f(e),Field:{leave(t){var n;const o=e.getFieldDef();if(!o)return!1;const s=new Set(null===(n=t.arguments)||void 0===n?void 0:n.map((e=>e.name.value)));for(const a of o.args)if(!s.has(a.name)&&(0,c.dK)(a)){const n=(0,r.X)(a.type);e.reportError(new i.__(`Field "${o.name}" argument "${a.name}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}function f(e){var t;const n=Object.create(null),l=e.getSchema(),f=null!==(t=null===l||void 0===l?void 0:l.getDirectives())&&void 0!==t?t:u.V4;for(const r of f)n[r.name]=(0,o.P)(r.args.filter(c.dK),(e=>e.name));const h=e.getDocument().definitions;for(const r of h)if(r.kind===s.h.DIRECTIVE_DEFINITION){var p;const e=null!==(p=r.arguments)&&void 0!==p?p:[];n[r.name.value]=(0,o.P)(e.filter(d),(e=>e.name.value))}return{Directive:{leave(t){const o=t.name.value,s=n[o];if(s){var u;const n=null!==(u=t.arguments)&&void 0!==u?u:[],l=new Set(n.map((e=>e.name.value)));for(const[u,f]of Object.entries(s))if(!l.has(u)){const n=(0,c.P9)(f.type)?(0,r.X)(f.type):(0,a.S)(f.type);e.reportError(new i.__(`Directive "@${o}" argument "${u}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}}function d(e){return e.type.kind===s.h.NON_NULL_TYPE&&null==e.defaultValue}},41954:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(25821),o=n(28087),i=n(4454);function s(e){return{Field(t){const n=e.getType(),s=t.selectionSet;if(n)if((0,i.UT)((0,i.xC)(n))){if(s){const i=t.name.value,a=(0,r.X)(n);e.reportError(new o.__(`Field "${i}" must not have a selection since type "${a}" has no subfields.`,{nodes:s}))}}else if(!s){const i=t.name.value,s=(0,r.X)(n);e.reportError(new o.__(`Field "${i}" of type "${s}" must have a selection of subfields. Did you mean "${i} { ... }"?`,{nodes:t}))}}}}},10423:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(28087),o=n(97359),i=n(97677);function s(e){return{OperationDefinition(t){if("subscription"===t.operation){const n=e.getSchema(),s=n.getSubscriptionType();if(s){const a=t.name?t.name.value:null,c=Object.create(null),u=e.getDocument(),l=Object.create(null);for(const e of u.definitions)e.kind===o.h.FRAGMENT_DEFINITION&&(l[e.name.value]=e);const f=(0,i.g)(n,l,c,s,t.selectionSet);if(f.size>1){const t=[...f.values()].slice(1).flat();e.reportError(new r.__(null!=a?`Subscription "${a}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:t}))}for(const t of f.values()){t[0].name.value.startsWith("__")&&e.reportError(new r.__(null!=a?`Subscription "${a}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:t}))}}}}}}},12337:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(3231),o=n(28087);function i(e){return{DirectiveDefinition(e){var t;const r=null!==(t=e.arguments)&&void 0!==t?t:[];return n(`@${e.name.value}`,r)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(e){var t;const r=e.name.value,o=null!==(t=e.fields)&&void 0!==t?t:[];for(const s of o){var i;n(`${r}.${s.name.value}`,null!==(i=s.arguments)&&void 0!==i?i:[])}return!1}function n(t,n){const i=(0,r.v)(n,(e=>e.name.value));for(const[r,s]of i)s.length>1&&e.reportError(new o.__(`Argument "${t}(${r}:)" can only be defined once.`,{nodes:s.map((e=>e.name))}));return!1}}},42266:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(3231),o=n(28087);function i(e){return{Field:t,Directive:t};function t(t){var n;const i=null!==(n=t.arguments)&&void 0!==n?n:[],s=(0,r.v)(i,(e=>e.name.value));for(const[r,a]of s)a.length>1&&e.reportError(new o.__(`There can be only one argument named "${r}".`,{nodes:a.map((e=>e.name))}))}}},53274:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(28087);function o(e){const t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(o){const i=o.name.value;if(null===n||void 0===n||!n.getDirective(i))return t[i]?e.reportError(new r.__(`There can be only one directive named "@${i}".`,{nodes:[t[i],o.name]})):t[i]=o.name,!1;e.reportError(new r.__(`Directive "@${i}" already exists in the schema. It cannot be redefined.`,{nodes:o.name}))}}}},96300:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(28087),o=n(97359),i=n(75844),s=n(68238);function a(e){const t=Object.create(null),n=e.getSchema(),a=n?n.getDirectives():s.V4;for(const r of a)t[r.name]=!r.isRepeatable;const c=e.getDocument().definitions;for(const r of c)r.kind===o.h.DIRECTIVE_DEFINITION&&(t[r.name.value]=!r.repeatable);const u=Object.create(null),l=Object.create(null);return{enter(n){if(!("directives"in n)||!n.directives)return;let s;if(n.kind===o.h.SCHEMA_DEFINITION||n.kind===o.h.SCHEMA_EXTENSION)s=u;else if((0,i.zT)(n)||(0,i.D$)(n)){const e=n.name.value;s=l[e],void 0===s&&(l[e]=s=Object.create(null))}else s=Object.create(null);for(const o of n.directives){const n=o.name.value;t[n]&&(s[n]?e.reportError(new r.__(`The directive "@${n}" can only be used once at this location.`,{nodes:[s[n],o]})):s[n]=o)}}}}},93201:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(28087),o=n(4454);function i(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),i=Object.create(null);return{EnumTypeDefinition:s,EnumTypeExtension:s};function s(t){var s;const a=t.name.value;i[a]||(i[a]=Object.create(null));const c=null!==(s=t.values)&&void 0!==s?s:[],u=i[a];for(const i of c){const t=i.name.value,s=n[a];(0,o.EM)(s)&&s.getValue(t)?e.reportError(new r.__(`Enum value "${a}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:i.name})):u[t]?e.reportError(new r.__(`Enum value "${a}.${t}" can only be defined once.`,{nodes:[u[t],i.name]})):u[t]=i.name}return!1}}},22618:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(28087),o=n(4454);function i(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),o=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(t){var i;const a=t.name.value;o[a]||(o[a]=Object.create(null));const c=null!==(i=t.fields)&&void 0!==i?i:[],u=o[a];for(const o of c){const t=o.name.value;s(n[a],t)?e.reportError(new r.__(`Field "${a}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:o.name})):u[t]?e.reportError(new r.__(`Field "${a}.${t}" can only be defined once.`,{nodes:[u[t],o.name]})):u[t]=o.name}return!1}}function s(e,t){return!!((0,o.lp)(e)||(0,o.oT)(e)||(0,o.hL)(e))&&null!=e.getFields()[t]}},45591:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(28087);function o(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const o=n.name.value;return t[o]?e.reportError(new r.__(`There can be only one fragment named "${o}".`,{nodes:[t[o],n.name]})):t[o]=n.name,!1}}}},92767:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(29551),o=n(28087);function i(e){const t=[];let n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){const e=t.pop();e||(0,r.k)(!1),n=e}},ObjectField(t){const r=t.name.value;n[r]?e.reportError(new o.__(`There can be only one input field named "${r}".`,{nodes:[n[r],t.name]})):n[r]=t.name}}}},82621:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(28087);function o(e){const t=Object.create(null);return{OperationDefinition(n){const o=n.name;return o&&(t[o.value]?e.reportError(new r.__(`There can be only one operation named "${o.value}".`,{nodes:[t[o.value],o]})):t[o.value]=o),!1},FragmentDefinition:()=>!1}}},77990:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(28087);function o(e){const t=e.getSchema(),n=Object.create(null),o=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(t){var i;const s=null!==(i=t.operationTypes)&&void 0!==i?i:[];for(const a of s){const t=a.operation,i=n[t];o[t]?e.reportError(new r.__(`Type for ${t} already defined in the schema. It cannot be redefined.`,{nodes:a})):i?e.reportError(new r.__(`There can be only one ${t} type in schema.`,{nodes:[i,a]})):n[t]=a}return!1}}},69538:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(28087);function o(e){const t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:o,ObjectTypeDefinition:o,InterfaceTypeDefinition:o,UnionTypeDefinition:o,EnumTypeDefinition:o,InputObjectTypeDefinition:o};function o(o){const i=o.name.value;if(null===n||void 0===n||!n.getType(i))return t[i]?e.reportError(new r.__(`There can be only one type named "${i}".`,{nodes:[t[i],o.name]})):t[i]=o.name,!1;e.reportError(new r.__(`Type "${i}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:o.name}))}}},1564:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(3231),o=n(28087);function i(e){return{OperationDefinition(t){var n;const i=null!==(n=t.variableDefinitions)&&void 0!==n?n:[],s=(0,r.v)(i,(e=>e.variable.name.value));for(const[r,a]of s)a.length>1&&e.reportError(new o.__(`There can be only one variable named "$${r}".`,{nodes:a.map((e=>e.variable.name))}))}}}},19831:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var r=n(53177),o=n(25821),i=n(73498),s=n(3294),a=n(28087),c=n(16918),u=n(4454);function l(e){return{ListValue(t){const n=(0,u.tf)(e.getParentInputType());if(!(0,u.HG)(n))return f(e,t),!1},ObjectValue(t){const n=(0,u.xC)(e.getInputType());if(!(0,u.hL)(n))return f(e,t),!1;const r=(0,i.P)(t.fields,(e=>e.name.value));for(const i of Object.values(n.getFields())){if(!r[i.name]&&(0,u.Wd)(i)){const r=(0,o.X)(i.type);e.reportError(new a.__(`Field "${n.name}.${i.name}" of required type "${r}" was not provided.`,{nodes:t}))}}},ObjectField(t){const n=(0,u.xC)(e.getParentInputType());if(!e.getInputType()&&(0,u.hL)(n)){const o=(0,s.D)(t.name.value,Object.keys(n.getFields()));e.reportError(new a.__(`Field "${t.name.value}" is not defined by type "${n.name}".`+(0,r.l)(o),{nodes:t}))}},NullValue(t){const n=e.getInputType();(0,u.zM)(n)&&e.reportError(new a.__(`Expected value of type "${(0,o.X)(n)}", found ${(0,c.S)(t)}.`,{nodes:t}))},EnumValue:t=>f(e,t),IntValue:t=>f(e,t),FloatValue:t=>f(e,t),StringValue:t=>f(e,t),BooleanValue:t=>f(e,t)}}function f(e,t){const n=e.getInputType();if(!n)return;const r=(0,u.xC)(n);if((0,u.UT)(r))try{if(void 0===r.parseLiteral(t,void 0)){const r=(0,o.X)(n);e.reportError(new a.__(`Expected value of type "${r}", found ${(0,c.S)(t)}.`,{nodes:t}))}}catch(i){const r=(0,o.X)(n);i instanceof a.__?e.reportError(i):e.reportError(new a.__(`Expected value of type "${r}", found ${(0,c.S)(t)}; `+i.message,{nodes:t,originalError:i}))}else{const r=(0,o.X)(n);e.reportError(new a.__(`Expected value of type "${r}", found ${(0,c.S)(t)}.`,{nodes:t}))}}},45972:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(28087),o=n(16918),i=n(4454),s=n(30077);function a(e){return{VariableDefinition(t){const n=(0,s._)(e.getSchema(),t.type);if(void 0!==n&&!(0,i.j$)(n)){const n=t.variable.name.value,i=(0,o.S)(t.type);e.reportError(new r.__(`Variable "$${n}" cannot be non-input type "${i}".`,{nodes:t.type}))}}}}},9701:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(25821),o=n(28087),i=n(97359),s=n(4454),a=n(90316),c=n(30077);function u(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const i=e.getRecursiveVariableUsages(n);for(const{node:s,type:a,defaultValue:u}of i){const n=s.name.value,i=t[n];if(i&&a){const t=e.getSchema(),f=(0,c._)(t,i.type);if(f&&!l(t,f,i.defaultValue,a,u)){const t=(0,r.X)(f),c=(0,r.X)(a);e.reportError(new o.__(`Variable "$${n}" of type "${t}" used in position expecting type "${c}".`,{nodes:[i,s]}))}}}}},VariableDefinition(e){t[e.variable.name.value]=e}}}function l(e,t,n,r,o){if((0,s.zM)(r)&&!(0,s.zM)(t)){const s=void 0!==o;if(!(null!=n&&n.kind!==i.h.NULL)&&!s)return!1;const c=r.ofType;return(0,a.uJ)(e,t,c)}return(0,a.uJ)(e,t,r)}},24196:function(e,t,n){"use strict";n.d(t,{i:function(){return M},M:function(){return L}});var r=n(88081),o=n(48741),i=n(77143),s=n(47815),a=n(84873),c=n(5311),u=n(25580),l=n(27898),f=n(52877),d=n(91422),h=n(14790),p=n(81294),m=n(72283),y=n(54203),g=n(63259),v=n(34800),b=n(61967),w=n(41954),E=n(10423),_=n(12337),S=n(42266),T=n(53274),I=n(96300),N=n(93201),O=n(22618),k=n(45591),A=n(92767),x=n(82621),C=n(77990),$=n(69538),R=n(1564),D=n(19831),P=n(45972),j=n(9701);const M=Object.freeze([r.i,x.H,l.F,E.Z,u.I,i.T,P.I,w.O,o.A,k.N,c.a,p.J,g.a,d.H,R.H,h.$,m.p,a.J,I.k,s.e,S.L,D.j,b.s,j.w,y.y,A.P]),L=Object.freeze([f.t,C.q,$.P,N.L,O.y,_.L,T.o,u.I,a.J,I.k,v.g,s.o,S.L,A.P,b.c])},24635:function(e,t,n){"use strict";n.d(t,{Gu:function(){return l},zo:function(){return d},ED:function(){return h}});var r=n(37826),o=n(28087),i=n(77304),s=n(19655),a=n(22676),c=n(24196),u=n(32734);function l(e,t,n=c.i,l,f=new a.a(e)){var d;const h=null!==(d=null===l||void 0===l?void 0:l.maxErrors)&&void 0!==d?d:100;t||(0,r.a)(!1,"Must provide document."),(0,s.J)(e);const p=Object.freeze({}),m=[],y=new u._t(e,t,f,(e=>{if(m.length>=h)throw m.push(new o.__("Too many validation errors, error limit reached. Validation aborted.")),p;m.push(e)})),g=(0,i.j1)(n.map((e=>e(y))));try{(0,i.Vn)(t,(0,a.y)(f,g))}catch(v){if(v!==p)throw v}return m}function f(e,t,n=c.M){const r=[],o=new u.yv(e,t,(e=>{r.push(e)})),s=n.map((e=>e(o)));return(0,i.Vn)(e,(0,i.j1)(s)),r}function d(e){const t=f(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}function h(e,t){const n=f(e,t);if(0!==n.length)throw new Error(n.map((e=>e.message)).join("\n\n"))}},55944:function(e,t,n){"use strict";n.d(t,{i:function(){return r},A:function(){return o}});const r="16.8.0",o=Object.freeze({major:16,minor:8,patch:0,preReleaseTag:null})},67189:function(e,t,n){"use strict";n.d(t,{kU:function(){return f},ET:function(){return d}});var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}},o=n(7176);class i{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new i(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const l=({name:e,prefix:t,encode:n,decode:r})=>new u(e,t,n,r),f=({prefix:e,name:t,alphabet:n})=>{const{encode:i,decode:s}=r(n,t);return l({prefix:e,name:t,encode:i,decode:e=>(0,o.oQ)(s(e))})},d=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>l({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)})},81653:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(67189);const o=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},95891:function(e,t,n){"use strict";n.d(t,{Jx:function(){return f},cv:function(){return l}});var r=n(9613);n(2171),n(7176),n(22688),n(29094);function o({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*i(e,t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))for(const[n,o]of t.entries()){const t=[...e,n],i=r.k0.asCID(o);i?yield[t.join("/"),i]:"object"===typeof o&&(yield*s(o,t))}else{const n=r.k0.asCID(t);n?yield[e.join("/"),n]:yield*s(t,e)}}function*s(e,t){if(null==e||e instanceof Uint8Array)return;const n=r.k0.asCID(e);n&&(yield[t.join("/"),n]);for(const[r,o]of Object.entries(e)){const e=[...t,r];yield*i(e,o)}}function*a(e,t){if(Array.isArray(t))for(const[n,o]of t.entries()){const t=[...e,n];yield t.join("/"),"object"!==typeof o||r.k0.asCID(o)||(yield*c(o,t))}else yield*c(t,e)}function*c(e,t){if(null!=e&&"object"===typeof e)for(const[n,o]of Object.entries(e)){const e=[...t,n];yield e.join("/"),null==o||o instanceof Uint8Array||"object"!==typeof o||r.k0.asCID(o)||(yield*a(e,o))}}class u{constructor({cid:e,bytes:t,value:n}){if(!e||!t||"undefined"===typeof n)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:o(),bytes:o(),value:o(),asBlock:o()})}links(){return s(this.value,[])}tree(){return c(this.value,[])}get(e="/"){return function(e,t){let n=e;for(const[o,i]of t.entries()){if(n=n[i],null==n)throw new Error(`Object has no property at ${t.slice(0,o+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=r.k0.asCID(n);if(e)return{value:e,remaining:t.slice(o+1).join("/")}}return{value:n}}(this.value,e.split("/").filter(Boolean))}}async function l({value:e,codec:t,hasher:n}){if("undefined"===typeof e)throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.encode(e),i=await n.digest(o),s=r.k0.create(1,t.code,i);return new u({value:e,bytes:o,cid:s})}async function f({bytes:e,codec:t,hasher:n}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.decode(e),i=await n.digest(e),s=r.k0.create(1,t.code,i);return new u({value:o,bytes:e,cid:s})}},7176:function(e,t,n){"use strict";n.d(t,{fS:function(){return r},oQ:function(){return o}});new Uint8Array(0);const r=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},o=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}},9613:function(e,t,n){"use strict";n.d(t,{k0:function(){return d}});var r=n(2171),o=n(29094),i=n(81653),s=n(67189);const a=(0,s.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});(0,s.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,s.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,s.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,s.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,s.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,s.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,s.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,s.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var c=n(7176);const u=(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return p(n,f(e),t||i.i.encoder);default:return m(n,f(e),t||a.encoder)}},l=new WeakMap,f=e=>{const t=l.get(e);if(null==t){const t=new Map;return l.set(e,t),t}return t};class d{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==y)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==g)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return d.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=o.Ue(e,t);return d.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return d.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&o.fS(e.multihash,n.multihash)}toString(e){return u(this,e)}toJSON(){return{"/":u(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof d)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new d(e,n,r,o||v(e,n,r.bytes))}if(!0===t[b]){const{version:e,multihash:n,code:r}=t,i=o.Jx(n);return d.create(e,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==y)throw new Error(`Version 0 CID must use dag-pb (code: ${y}) block encoding`);return new d(e,t,n,n.bytes);case 1:{const r=v(e,t,n.bytes);return new d(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return d.create(0,y,e)}static createV1(e,t){return d.create(1,e,t)}static decode(e){const[t,n]=d.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=d.inspectBytes(e),n=t.size-t.multihashSize,r=(0,c.oQ)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),s=new o.zZ(t.multihashCode,t.digestSize,i,r);return[0===t.version?d.createV0(s):d.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,o]=r.Jx(e.subarray(t));return t+=o,n};let o=n(),i=y;if(18===o?(o=0,t=0):i=n(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=t,a=n(),c=n(),u=t+c;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:u-s,size:u}}static parse(e,t){const[n,r]=h(e,t),o=d.decode(r);if(0===o.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return f(o).set(n,e),o}}const h=(e,t)=>{switch(e[0]){case"Q":{const n=t||i.i;return[i.i.prefix,n.decode(`${i.i.prefix}${e}`)]}case i.i.prefix:{const n=t||i.i;return[i.i.prefix,n.decode(e)]}case a.prefix:{const n=t||a;return[a.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},p=(e,t,n)=>{const{prefix:r}=n;if(r!==i.i.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},m=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},y=112,g=18,v=(e,t,n)=>{const o=r.P$(e),i=o+r.P$(t),s=new Uint8Array(i+n.byteLength);return r.mL(e,s,0),r.mL(t,s,o),s.set(n,i),s},b=Symbol.for("@ipld/js-cid/CID")},29094:function(e,t,n){"use strict";n.d(t,{Ue:function(){return i},Jx:function(){return s},fS:function(){return a},zZ:function(){return c}});var r=n(7176),o=n(2171);const i=(e,t)=>{const n=t.byteLength,r=o.P$(e),i=r+o.P$(n),s=new Uint8Array(i+n);return o.mL(e,s,0),o.mL(n,s,r),s.set(t,i),new c(e,n,t,s)},s=e=>{const t=(0,r.oQ)(e),[n,i]=o.Jx(t),[s,a]=o.Jx(t.subarray(i)),u=t.subarray(i+a);if(u.byteLength!==s)throw new Error("Incorrect length");return new c(n,s,u,t)},a=(e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&(0,r.fS)(e.bytes,n.bytes)}};class c{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}},22688:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(29094);const o=({name:e,code:t,encode:n})=>new i(e,t,n);class i{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?r.Ue(this.code,t):t.then((e=>r.Ue(this.code,e)))}throw Error("Unknown type, must be binary type")}}},38566:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(7176),o=n(29094);const i=r.oQ,s={code:0,name:"identity",encode:i,digest:e=>o.Ue(0,i(e))}},27353:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(22688);const o=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),i=(0,r.D)({name:"sha2-256",code:18,encode:o("SHA-256")});(0,r.D)({name:"sha2-512",code:19,encode:o("SHA-512")})},2171:function(e,t,n){"use strict";n.d(t,{Jx:function(){return y},mL:function(){return g},P$:function(){return v}});var r=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=o;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},o=Math.pow(2,31);var i=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var s=Math.pow(2,7),a=Math.pow(2,14),c=Math.pow(2,21),u=Math.pow(2,28),l=Math.pow(2,35),f=Math.pow(2,42),d=Math.pow(2,49),h=Math.pow(2,56),p=Math.pow(2,63),m={encode:r,decode:i,encodingLength:function(e){return e<s?1:e<a?2:e<c?3:e<u?4:e<l?5:e<f?6:e<d?7:e<h?8:e<p?9:10}};const y=(e,t=0)=>[m.decode(e,t),m.decode.bytes],g=(e,t,n=0)=>(m.encode(e,t,n),t),v=e=>m.encodingLength(e)},74359:function(e,t,n){"use strict";n.d(t,{kU:function(){return f},Dp:function(){return l},ET:function(){return d}});var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}},o=n(73159);class i{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new i(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const l=({name:e,prefix:t,encode:n,decode:r})=>new u(e,t,n,r),f=({prefix:e,name:t,alphabet:n})=>{const{encode:i,decode:s}=r(n,t);return l({prefix:e,name:t,encode:i,decode:e=>(0,o.coerce)(s(e))})},d=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>l({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)})},18237:function(e,t,n){"use strict";n.r(t),n.d(t,{base64:function(){return o},base64pad:function(){return i},base64url:function(){return s},base64urlpad:function(){return a}});var r=n(74359);const o=(0,r.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i=(0,r.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,r.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},67527:function(e,t,n){"use strict";n.r(t),n.d(t,{CID:function(){return ke},bases:function(){return Be},bytes:function(){return w},codecs:function(){return Ve},digest:function(){return h},hasher:function(){return p},hashes:function(){return Fe},varint:function(){return d}});var r={};n.r(r),n.d(r,{identity:function(){return E}});var o={};n.r(o),n.d(o,{base2:function(){return _}});var i={};n.r(i),n.d(i,{base8:function(){return S}});var s={};n.r(s),n.d(s,{base10:function(){return T}});var a={};n.r(a),n.d(a,{base16:function(){return I},base16upper:function(){return N}});var c={};n.r(c),n.d(c,{base32:function(){return O},base32hex:function(){return C},base32hexpad:function(){return R},base32hexpadupper:function(){return D},base32hexupper:function(){return $},base32pad:function(){return A},base32padupper:function(){return x},base32upper:function(){return k},base32z:function(){return P}});var u={};n.r(u),n.d(u,{base36:function(){return j},base36upper:function(){return M}});var l={};n.r(l),n.d(l,{base58btc:function(){return L},base58flickr:function(){return U}});var f={};n.r(f),n.d(f,{base256emoji:function(){return z}});var d={};n.r(d),n.d(d,{decode:function(){return oe},encodeTo:function(){return ie},encodingLength:function(){return se}});var h={};n.r(h),n.d(h,{Digest:function(){return le},create:function(){return ae},decode:function(){return ce},equals:function(){return ue}});var p={};n.r(p),n.d(p,{Hasher:function(){return de},from:function(){return fe}});var m={};n.r(m),n.d(m,{sha256:function(){return pe},sha512:function(){return me}});var y={};n.r(y),n.d(y,{identity:function(){return ge}});var g={};n.r(g),n.d(g,{code:function(){return be},decode:function(){return Ee},encode:function(){return we},name:function(){return ve}});var v={};n.r(v),n.d(v,{code:function(){return Ie},decode:function(){return Oe},encode:function(){return Ne},name:function(){return Te}});var b=n(74359),w=n(73159);const E=(0,b.Dp)({prefix:"\0",name:"identity",encode:e=>(0,w.toString)(e),decode:e=>(0,w.fromString)(e)}),_=(0,b.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),S=(0,b.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),T=(0,b.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),I=(0,b.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),N=(0,b.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),O=(0,b.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),k=(0,b.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),A=(0,b.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),x=(0,b.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),C=(0,b.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$=(0,b.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),R=(0,b.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),D=(0,b.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),P=(0,b.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),j=(0,b.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),M=(0,b.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),L=(0,b.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),U=(0,b.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var B=n(18237);const F=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),V=F.reduce(((e,t,n)=>(e[n]=t,e)),[]),q=F.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const z=(0,b.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=V[t]),"")},decode:function(e){const t=[];for(const n of e){const e=q[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var G=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=H;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},H=Math.pow(2,31);var K=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var J=Math.pow(2,7),W=Math.pow(2,14),Q=Math.pow(2,21),Y=Math.pow(2,28),X=Math.pow(2,35),Z=Math.pow(2,42),ee=Math.pow(2,49),te=Math.pow(2,56),ne=Math.pow(2,63),re={encode:G,decode:K,encodingLength:function(e){return e<J?1:e<W?2:e<Q?3:e<Y?4:e<X?5:e<Z?6:e<ee?7:e<te?8:e<ne?9:10}};const oe=(e,t=0)=>[re.decode(e,t),re.decode.bytes],ie=(e,t,n=0)=>(re.encode(e,t,n),t),se=e=>re.encodingLength(e),ae=(e,t)=>{const n=t.byteLength,r=se(e),o=r+se(n),i=new Uint8Array(o+n);return ie(e,i,0),ie(n,i,r),i.set(t,o),new le(e,n,t,i)},ce=e=>{const t=(0,w.coerce)(e),[n,r]=oe(t),[o,i]=oe(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new le(n,o,s,t)},ue=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,w.equals)(e.bytes,t.bytes);class le{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const fe=({name:e,code:t,encode:n})=>new de(e,t,n);class de{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ae(this.code,t):t.then((e=>ae(this.code,e)))}throw Error("Unknown type, must be binary type")}}const he=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),pe=fe({name:"sha2-256",code:18,encode:he("SHA-256")}),me=fe({name:"sha2-512",code:19,encode:he("SHA-512")}),ye=w.coerce,ge={code:0,name:"identity",encode:ye,digest:e=>ae(0,ye(e))},ve="raw",be=85,we=e=>(0,w.coerce)(e),Ee=e=>(0,w.coerce)(e),_e=new TextEncoder,Se=new TextDecoder,Te="json",Ie=512,Ne=e=>_e.encode(JSON.stringify(e)),Oe=e=>JSON.parse(Se.decode(e));class ke{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Me,byteLength:Me,code:je,version:je,multihash:je,bytes:je,_baseCache:Me,asCID:Me})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==$e)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Re)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ke.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=ae(e,t);return ke.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ue(this.multihash,e.multihash)}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return xe(t,r,e||L.encoder);default:return Ce(t,r,e||O.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Le(/^0\.0/,Ue),!(!e||!e[Pe]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof ke)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new ke(t,n,r,o||De(t,n,r.bytes))}if(null!=e&&!0===e[Pe]){const{version:t,multihash:n,code:r}=e,o=ce(n);return ke.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==$e)throw new Error(`Version 0 CID must use dag-pb (code: ${$e}) block encoding`);return new ke(e,t,n,n.bytes);case 1:{const r=De(e,t,n.bytes);return new ke(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return ke.create(0,$e,e)}static createV1(e,t){return ke.create(1,e,t)}static decode(e){const[t,n]=ke.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=ke.inspectBytes(e),n=t.size-t.multihashSize,r=(0,w.coerce)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new le(t.multihashCode,t.digestSize,o,r);return[0===t.version?ke.createV0(i):ke.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=oe(e.subarray(t));return t+=r,n};let r=n(),o=$e;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=Ae(e,t),o=ke.decode(r);return o._baseCache.set(n,e),o}}const Ae=(e,t)=>{switch(e[0]){case"Q":{const n=t||L;return[L.prefix,n.decode(`${L.prefix}${e}`)]}case L.prefix:{const n=t||L;return[L.prefix,n.decode(e)]}case O.prefix:{const n=t||O;return[O.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},xe=(e,t,n)=>{const{prefix:r}=n;if(r!==L.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},Ce=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},$e=112,Re=18,De=(e,t,n)=>{const r=se(e),o=r+se(t),i=new Uint8Array(o+n.byteLength);return ie(e,i,0),ie(t,i,r),i.set(n,o),i},Pe=Symbol.for("@ipld/js-cid/CID"),je={writable:!1,configurable:!1,enumerable:!0},Me={writable:!1,enumerable:!1,configurable:!1},Le=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Ue="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Be={...r,...o,...i,...s,...a,...c,...u,...l,...B,...f},Fe={...m,...y},Ve={raw:g,json:v}},73159:function(e,t,n){"use strict";n.r(t),n.d(t,{equals:function(){return s},coerce:function(){return a},isBinary:function(){return c},fromHex:function(){return i},toHex:function(){return o},fromString:function(){return u},toString:function(){return l},empty:function(){return r}});const r=new Uint8Array(0),o=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),i=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):r},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>(new TextEncoder).encode(e),l=e=>(new TextDecoder).decode(e)},66574:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(93304);function o(e=0){return null!=globalThis.Buffer?.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},41690:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(66574),o=n(93304);function i(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.E)(t);let i=0;for(const r of e)n.set(r,i),i+=r.length;return(0,o.P)(n)}},77408:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var r=n(93304),o=n(13912);function i(e,t="utf8"){const n=o.Z[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):(0,r.P)(globalThis.Buffer.from(e,"utf-8"))}},738:function(e,t,n){"use strict";n.d(t,{zo:function(){return r.z},mL:function(){return o.m},BB:function(){return i.B}});var r=n(41690),o=n(77408),i=n(49784)},49784:function(e,t,n){"use strict";n.d(t,{B:function(){return o}});var r=n(13912);function o(e,t="utf8"){const n=r.Z[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},93304:function(e,t,n){"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:function(){return r}})},13912:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ue}});var r={};n.r(r),n.d(r,{base10:function(){return O}});var o={};n.r(o),n.d(o,{base16:function(){return k},base16upper:function(){return A}});var i={};n.r(i),n.d(i,{base2:function(){return x}});var s={};n.r(s),n.d(s,{base256emoji:function(){return D}});var a={};n.r(a),n.d(a,{base32:function(){return P},base32hex:function(){return U},base32hexpad:function(){return F},base32hexpadupper:function(){return V},base32hexupper:function(){return B},base32pad:function(){return M},base32padupper:function(){return L},base32upper:function(){return j},base32z:function(){return q}});var c={};n.r(c),n.d(c,{base36:function(){return z},base36upper:function(){return G}});var u={};n.r(u),n.d(u,{base58btc:function(){return H},base58flickr:function(){return K}});var l={};n.r(l),n.d(l,{base64:function(){return J},base64pad:function(){return W},base64url:function(){return Q},base64urlpad:function(){return Y}});var f={};n.r(f),n.d(f,{base8:function(){return X}});var d={};n.r(d),n.d(d,{identity:function(){return Z}});var h={};n.r(h),n.d(h,{code:function(){return re},decode:function(){return ie},encode:function(){return oe},name:function(){return ne}});var p={};n.r(p),n.d(p,{code:function(){return ae},decode:function(){return ue},encode:function(){return ce},name:function(){return se}});var m={};n.r(m),n.d(m,{identity:function(){return ke}});var y={};n.r(y),n.d(y,{sha256:function(){return $e},sha512:function(){return Re}});var g=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const v=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class b{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class w{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return _(this,e)}}class E{constructor(e){this.decoders=e}or(e){return _(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _=(e,t)=>new E({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class S{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new b(e,t,n),this.decoder=new w(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const T=({name:e,prefix:t,encode:n,decode:r})=>new S(e,t,n,r),I=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=g(n,t);return T({prefix:e,name:t,encode:r,decode:e=>v(o(e))})},N=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>T({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),O=I({prefix:"9",name:"base10",alphabet:"0123456789"}),k=N({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),A=N({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),x=N({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),C=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),$=C.reduce(((e,t,n)=>(e[n]=t,e)),[]),R=C.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const D=T({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=$[t]),"")},decode:function(e){const t=[];for(const n of e){const e=R[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}}),P=N({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),j=N({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),M=N({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),L=N({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),U=N({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),B=N({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),F=N({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V=N({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),q=N({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z=I({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),G=I({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),H=I({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),K=I({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),J=N({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),W=N({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Q=N({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Y=N({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),X=N({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Z=T({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),ee=new TextEncoder,te=new TextDecoder,ne="json",re=512,oe=e=>ee.encode(JSON.stringify(e)),ie=e=>JSON.parse(te.decode(e)),se="raw",ae=85,ce=e=>v(e),ue=e=>v(e);var le=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=fe;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},fe=Math.pow(2,31);var de=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var he=Math.pow(2,7),pe=Math.pow(2,14),me=Math.pow(2,21),ye=Math.pow(2,28),ge=Math.pow(2,35),ve=Math.pow(2,42),be=Math.pow(2,49),we=Math.pow(2,56),Ee=Math.pow(2,63),_e={encode:le,decode:de,encodingLength:function(e){return e<he?1:e<pe?2:e<me?3:e<ye?4:e<ge?5:e<ve?6:e<be?7:e<we?8:e<Ee?9:10}};const Se=(e,t,n=0)=>(_e.encode(e,t,n),t),Te=e=>_e.encodingLength(e),Ie=(e,t)=>{const n=t.byteLength,r=Te(e),o=r+Te(n),i=new Uint8Array(o+n);return Se(e,i,0),Se(n,i,r),i.set(t,o),new Ne(e,n,t,i)};class Ne{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Oe=v,ke={code:0,name:"identity",encode:Oe,digest:e=>Ie(0,Oe(e))},Ae=({name:e,code:t,encode:n})=>new xe(e,t,n);class xe{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ie(this.code,t):t.then((e=>Ie(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Ce=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),$e=Ae({name:"sha2-256",code:18,encode:Ce("SHA-256")}),Re=Ae({name:"sha2-512",code:19,encode:Ce("SHA-512")});new WeakMap;Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const De={...d,...i,...f,...r,...o,...a,...c,...u,...l,...s};var Pe=n(66574);function je(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Me=je("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Le=je("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,Pe.E)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}));var Ue={utf8:Me,"utf-8":Me,hex:De.base16,latin1:Le,ascii:Le,binary:Le,...De}},31096:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},92452:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},99419:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},17866:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},4500:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},96242:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},47910:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},39356:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},93610:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},55278:function(e){"use strict";e.exports=JSON.parse('{"chromeIds":{"stable":"nkbihfbeogaeaoehlefnkodbefgpgknn","beta":"pbbkamfgmaedccnfkmjcofcecjhfgldn","flask":"ljfoeinjpaedjfecbmggjgodbgkmjkjk"},"firefoxIds":{"stable":"webextension@metamask.io","beta":"webextension-beta@metamask.io","flask":"webextension-flask@metamask.io"}}')},87099:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},90074:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(81780),t(90387)}));var n=e.O();_N_E=n}]);