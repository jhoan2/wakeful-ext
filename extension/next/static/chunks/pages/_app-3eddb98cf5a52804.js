(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{7885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=n(7806),o=n(2747),i=n(4752),s=n(5358),a="https://json-schema.org/draft/2020-12/schema";class c extends r.default{constructor(e={}){super({...e,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:e,meta:t}=this.opts;t&&(s.default.call(this,e),this.refs["http://json-schema.org/schema"]=a)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(8479);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var l=n(9593);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=n(1089);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=n(776);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})},244:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class o extends n{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new o(n)}t._Code=o,t.nil=new o(""),t._=i;const s=new o("+");function a(e,...t){const n=[l(e[0])];let r=0;for(;r<t.length;)n.push(s),c(n,t[r]),n.push(s,l(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new o(n)}function c(e,t){var n;t instanceof o?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:l(Array.isArray(n)?n.join(","):n))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new o(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new o(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new o(e.toString())}},9593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(244),o=n(651);var i=n(244);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var s=n(651);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?o.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=$(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=$(this.rhs,e,t),this}get names(){return k(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class h extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=$(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const o=n[r];o.optimizeNames(e,t)||(C(e,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>x(e,t.names)),{})}}class y extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends m{}class v extends y{}v.kind="else";class b extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(R(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=$(this.condition,e,t),this}get names(){const e=super.names;return k(e,this.condition),this.else&&x(e,this.else.names),e}}b.kind="if";class w extends y{}w.kind="for";class E extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=$(this.iteration,e,t),this}get names(){return x(super.names,this.iteration.names)}}class _ extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:n,from:r,to:i}=this;return`for(${t} ${n}=${r}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){const e=k(super.names,this.from);return k(e,this.to)}}class T extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=$(this.iterable,e,t),this}get names(){return x(super.names,this.iterable.names)}}class S extends y{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}S.kind="func";class I extends m{render(e){return"return "+super.render(e)}}I.kind="return";class N extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&x(e,this.catch.names),this.finally&&x(e,this.finally.names),e}}class O extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class A extends y{render(e){return"finally"+super.render(e)}}A.kind="finally";function x(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function k(e,t){return t instanceof r._CodeOrName?x(e,t.names):e}function $(e,t,n){return e instanceof r.Name?i(e):(o=e)instanceof r._Code&&o._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function C(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function R(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${M(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const o=this._scope.toName(t);return void 0!==n&&r&&(this._constants[o.str]=n),this._leafNode(new c(e,o,n)),o}const(e,t,n){return this._def(o.varKinds.const,e,t,n)}let(e,t,n){return this._def(o.varKinds.let,e,t,n)}var(e,t,n){return this._def(o.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new u(e,t,n))}add(e,n){return this._leafNode(new l(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[n,o]of e)t.length>1&&t.push(","),t.push(n),(n!==o||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,o));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new E(e),t)}forRange(e,t,n,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const s=this._scope.toName(e);return this._for(new _(i,s,t,n),(()=>r(s)))}forOf(e,t,n,i=o.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new T("of",i,s,t),(()=>n(s)))}forIn(e,t,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new T("in",i,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new f(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new I;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new N;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new O(e),t(e)}return n&&(this._currNode=r.finally=new A,this.code(n)),this._endBlockNode(O,A)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,o){return this._blockNode(new S(e,t,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=R;const D=j(t.operators.AND);t.and=function(...e){return e.reduce(D)};const P=j(t.operators.OR);function j(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${M(t)} ${e} ${M(n)}`}function M(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(...e){return e.reduce(P)}},651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(244);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}t.ValueScopeName=a;const c=r._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:o}=r,i=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[o];if(s){const e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,r);const a=this._scope[o]||(this._scope[o]=[]),c=a.length;return a[c]=t.ref,r.setValue(t,{property:o,itemIndex:c}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let c=r.nil;for(const u in e){const l=e[u];if(!l)continue;const f=s[u]=s[u]||new Map;l.forEach((e=>{if(f.has(e))return;f.set(e,i.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;c=r._`${c}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null===a||void 0===a?void 0:a(e)))throw new o(e);c=r._`${c}${s}${this.opts._n}`}f.set(e,i.Completed)}))}return c}}},4009:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(9593),o=n(1842),i=n(5050);function s(e,t){const n=e.const("err",t);e.if(r._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,r._`[${n}]`)),r._`${i.default.vErrors}.push(${n})`),e.code(r._`${i.default.errors}++`)}function a(e,t){const{gen:n,validateName:o,schemaEnv:i}=e;i.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${o}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,o,i){const{it:c}=e,{gen:l,compositeRule:f,allErrors:d}=c,h=u(e,n,o);(null!==i&&void 0!==i?i:f||d)?s(l,h):a(c,r._`[${h}]`)},t.reportExtraError=function(e,n=t.keywordError,r){const{it:o}=e,{gen:c,compositeRule:l,allErrors:f}=o;s(c,u(e,n,r)),l||f||a(o,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(r._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:o,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,i.default.errors,(s=>{e.const(c,r._`${i.default.vErrors}[${s}]`),e.if(r._`${c}.instancePath === undefined`,(()=>e.assign(r._`${c}.instancePath`,(0,r.strConcat)(i.default.instancePath,a.errorPath)))),e.assign(r._`${c}.schemaPath`,r.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(r._`${c}.schema`,n),e.assign(r._`${c}.data`,o))}))};const c={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function u(e,t,n){const{createErrors:o}=e.it;return!1===o?r._`{}`:function(e,t,n={}){const{gen:o,it:s}=e,a=[l(s,n),f(e,n)];return function(e,{params:t,message:n},o){const{keyword:s,data:a,schemaValue:u,it:l}=e,{opts:f,propertyName:d,topSchemaRef:h,schemaPath:p}=l;o.push([c.keyword,s],[c.params,"function"==typeof t?t(e):t||r._`{}`]),f.messages&&o.push([c.message,"function"==typeof n?n(e):n]);f.verbose&&o.push([c.schema,u],[c.parentSchema,r._`${h}${p}`],[i.default.data,a]);d&&o.push([c.propertyName,d])}(e,t,a),o.object(...a)}(e,t,n)}function l({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,o.getErrorPath)(t,o.Type.Str)}`:e;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,n)]}function f({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let s=i?t:r.str`${t}/${e}`;return n&&(s=r.str`${s}${(0,o.getErrorPath)(n,o.Type.Str)}`),[c.schemaPath,s]}},5281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(9593),o=n(1089),i=n(5050),s=n(2690),a=n(1842),c=n(8479);class u{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null===n||void 0===n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function l(e){const t=d.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,f=new r.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let h;e.$async&&(h=f.scopeValue("Error",{ref:o.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const p=f.scopeName("validate");e.validateName=p;const m={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,c.validateFunctionCode)(m),f.optimize(this.opts.code.optimize);const t=f.toString();y=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const n=new Function(`${i.default.self}`,`${i.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:p,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(g){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),g}finally{this._compilations.delete(e)}}function f(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function d(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function h(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||p.call(this,e,t)}function p(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let o=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===o)return y.call(this,n,e);const i=(0,s.normalizeId)(r),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=p.call(this,e,a);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return y.call(this,n,t)}if("object"===typeof(null===a||void 0===a?void 0:a.schema)){if(a.validate||l.call(this,a),i===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,r)),new u({schema:t,schemaId:n,root:e,baseId:o})}return y.call(this,n,a)}}t.SchemaEnv=u,t.compileSchema=l,t.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let i=h.call(this,e,n);if(void 0===i){const o=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;o&&(i=new u({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==i?e.refs[n]=f.call(this,i):void 0},t.getCompilingSchema=d,t.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:n,root:r}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const u of e.fragment.slice(1).split("/")){if("boolean"===typeof n)return;const e=n[(0,a.unescapeFragment)(u)];if(void 0===e)return;const r="object"===typeof(n=e)&&n[this.opts.schemaId];!m.has(u)&&r&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,r))}let i;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=p.call(this,r,e)}const{schemaId:c}=this.opts;return i=i||new u({schema:n,schemaId:c,root:r,baseId:t}),i.schema!==i.root.schema?i:void 0}},5050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=o},776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2690);class o extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=o},2690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(1842),o=n(4063),i=n(1062),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function u(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=u(e))),t===1/0))return 1/0}return t}function l(e,t="",n){!1!==n&&(t=h(t));const r=e.parse(t);return f(e,r)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=f;const d=/#\/?$/;function h(e){return e?e.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=h(e[n]||t),a={"":s},c=l(r,s,!1),u={},f=new Set;return i(e,{allKeys:!0},((e,t,r,o)=>{if(void 0===o)return;const i=c+t;let s=a[o];function l(t){const n=this.opts.uriResolver.resolve;if(t=h(s?n(s,t):t),f.has(t))throw m(t);f.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?d(e,r.schema,t):t!==h(i)&&("#"===t[0]?(d(e,u[t],t),u[t]=e):this.refs[t]=i),t}function y(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=l.call(this,e[n])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),a[t]=s})),u;function d(e,t,n){if(void 0!==t&&!o(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},1320:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},1842:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(9593),o=n(244);function i(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"===typeof t)return;const o=r.RULES.keywords;for(const i in t)o[i]||p(e,`unknown keyword: "${i}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:o}){return(i,s,a,c)=>{const u=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?e(i,s,a):t(i,s,a),a):s instanceof r.Name?(t(i,a,s),s):n(s,a);return c!==r.Name||u instanceof r.Name?u:o(i,u)}}function l(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&f(e,n,t),n}function f(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,o,i){if(!i){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(o)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),f(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=f;const d={};var h;function p(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new o._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(h=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const o=t===h.Num;return n?o?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:o?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},4901:function(e,t){"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},r){const o=t.RULES.types[r];return o&&!0!==o&&n(e,o)},t.shouldUseGroup=n,t.shouldUseRule=r},1883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(4009),o=n(9593),i=n(5050),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:o}=e,i={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(i,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign(o._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},1495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(1320),o=n(4901),i=n(4009),s=n(9593),a=n(1842);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:i}=e,a=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(u){const o=d(t,r,i.strictNumbers,c.Wrong);n.if(o,(()=>{a.length?function(e,t,n){const{gen:r,data:o,opts:i}=e,a=r.let("dataType",s._`typeof ${o}`),c=r.let("coerced",s._`undefined`);"array"===i.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>r.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(d(t,o,i.strictNumbers),(()=>r.assign(c,o)))));r.if(s._`${c} !== undefined`);for(const s of n)(l.has(s)||"array"===s&&"array"===i.coerceTypes)&&u(s);function u(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(c,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(c,s._`+${o}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,s._`+${o}`);case"boolean":return void r.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(c,!0);case"null":return r.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void r.assign(c,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(c,s._`[${o}]`)}}r.else(),p(e),r.endIf(),r.if(s._`${c} !== undefined`,(()=>{r.assign(o,c),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,c)}))}(e,t,a):p(e)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function f(e,t,n,r=c.Correct){const o=r===c.Correct?s.operators.EQ:s.operators.NEQ;let i;switch(e){case"null":return s._`${t} ${o} null`;case"array":i=s._`Array.isArray(${t})`;break;case"object":i=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return s._`typeof ${t} ${o} ${e}`}return r===c.Correct?i:(0,s.not)(i);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function d(e,t,n,r){if(1===e.length)return f(e[0],t,n,r);let o;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=s._`typeof ${t} != "object"`;o=i.null?e:s._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=s.nil;i.number&&delete i.integer;for(const a in i)o=(0,s.and)(o,f(a,t,n,r));return o}t.checkDataType=f,t.checkDataTypes=d;const h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:n,schema:r}=e,o=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:o,schemaValue:o,parentSchema:r,params:{},it:e}}(e);(0,i.reportError)(t,h)}t.reportTypeError=p},4904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(9593),o=n(1842);function i(e,t,n){const{gen:i,compositeRule:s,data:a,opts:c}=e;if(void 0===n)return;const u=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,o.checkStrictMode)(e,`default is ignored for: ${u}`);let l=r._`${u} === undefined`;"empty"===c.useDefaults&&(l=r._`${l} || ${u} === null || ${u} === ""`),i.if(l,r._`${u} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const o in n)i(e,o,n[o].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>i(e,n,t.default)))}},8479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(1883),o=n(1495),i=n(4901),s=n(1495),a=n(4904),c=n(6570),u=n(4206),l=n(9593),f=n(5050),d=n(2690),h=n(1842),p=n(4009);function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:o},i){o.code.es5?e.func(t,l._`${f.default.data}, ${f.default.valCxt}`,r.$async,(()=>{e.code(l._`"use strict"; ${y(n,o)}`),function(e,t){e.if(f.default.valCxt,(()=>{e.var(f.default.instancePath,l._`${f.default.valCxt}.${f.default.instancePath}`),e.var(f.default.parentData,l._`${f.default.valCxt}.${f.default.parentData}`),e.var(f.default.parentDataProperty,l._`${f.default.valCxt}.${f.default.parentDataProperty}`),e.var(f.default.rootData,l._`${f.default.valCxt}.${f.default.rootData}`),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`${f.default.valCxt}.${f.default.dynamicAnchors}`)}),(()=>{e.var(f.default.instancePath,l._`""`),e.var(f.default.parentData,l._`undefined`),e.var(f.default.parentDataProperty,l._`undefined`),e.var(f.default.rootData,f.default.data),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`{}`)}))}(e,o),e.code(i)})):e.func(t,l._`${f.default.data}, ${function(e){return l._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${e.dynamicRef?l._`, ${f.default.dynamicAnchors}={}`:l.nil}}={}`}(o)}`,r.$async,(()=>e.code(y(n,o)).code(i)))}function y(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?l._`/*# sourceURL=${n} */`:l.nil}function g(e,t){b(e)&&(w(e),v(e))?function(e,t){const{schema:n,gen:r,opts:o}=e;o.$comment&&n.$comment&&_(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=r.const("_errs",f.default.errors);E(e,i),r.var(t,l._`${i} === ${f.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function w(e){(0,h.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:o}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function E(e,t){if(e.opts.jtd)return T(e,[],!1,t);const n=(0,o.getSchemaTypes)(e.schema);T(e,n,!(0,o.coerceAndCheckDataType)(e,n),t)}function _({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:o}){const i=n.$comment;if(!0===o.$comment)e.code(l._`${f.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const n=l.str`${r}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(l._`${f.default.self}.opts.$comment(${i}, ${n}, ${o}.schema)`)}}function T(e,t,n,r){const{gen:o,schema:a,data:c,allErrors:u,opts:d,self:p}=e,{RULES:m}=p;function y(h){(0,i.shouldUseGroup)(a,h)&&(h.type?(o.if((0,s.checkDataType)(h.type,c,d.strictNumbers)),S(e,h),1===t.length&&t[0]===h.type&&n&&(o.else(),(0,s.reportTypeError)(e)),o.endIf()):S(e,h),u||o.if(l._`${f.default.errors} === ${r||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(a,m)?(d.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{N(e.dataTypes,t)||O(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const r of e.dataTypes)N(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&O(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const r in n){const o=n[r];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some((e=>I(t,e)))&&O(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes)}(e,t),o.block((()=>{for(const e of m.rules)y(e);y(m.post)}))):o.block((()=>x(e,"$ref",m.all.$ref.definition)))}function S(e,t){const{gen:n,schema:r,opts:{useDefaults:o}}=e;o&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,i.shouldUseRule)(r,n)&&x(e,n.keyword,n.definition,t.type)}))}function I(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function N(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function O(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){b(e)&&(w(e),v(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&_(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(f.default.vErrors,null),r.let(f.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",l._`${n}.evaluated`),t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`))),t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}(e),E(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:o,opts:i}=e;n.$async?t.if(l._`${f.default.errors} === 0`,(()=>t.return(f.default.data)),(()=>t.throw(l._`new ${o}(${f.default.vErrors})`))):(t.assign(l._`${r}.errors`,f.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof l.Name&&e.assign(l._`${t}.props`,n);r instanceof l.Name&&e.assign(l._`${t}.items`,r)}(e),t.return(l._`${f.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class A{constructor(e,t,n){if((0,c.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",C(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",f.default.errors))}result(e,t,n){this.failResult((0,l.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,l.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${(0,l.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=l.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:o,def:i}=this;n.if((0,l.or)(l._`${r} === undefined`,t)),e!==l.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==l.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:o}=this;return(0,l.or)(function(){if(n.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return l._`${(0,s.checkDataTypes)(e,t,o.opts.strictNumbers,s.DataType.Wrong)}`}return l.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return l._`!${n}(${t})`}return l.nil}())}subschema(e,t){const n=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(n,this.it,e),(0,u.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return g(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=h.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=h.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,l.Name))),!0}}function x(e,t,n,r){const o=new A(e,n,t);"code"in n?n.code(o,r):o.$data&&n.validate?(0,c.funcKeywordCode)(o,n):"macro"in n?(0,c.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,c.funcKeywordCode)(o,n)}t.KeywordCxt=A;const k=/^\/(?:[^~]|~0|~1)*$/,$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function C(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let o,i;if(""===e)return f.default.rootData;if("/"===e[0]){if(!k.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=f.default.rootData}else{const s=$.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(o=s[2],"#"===o){if(a>=t)throw new Error(c("property/index",a));return r[t-a]}if(a>t)throw new Error(c("data",a));if(i=n[t-a],!o)return i}let s=i;const a=o.split("/");for(const u of a)u&&(i=l._`${i}${(0,l.getProperty)((0,h.unescapeJsonPointer)(u))}`,s=l._`${s} && ${i}`);return s;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=C},6570:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(9593),o=n(5050),i=n(3745),s=n(4009);function a(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,(()=>t.assign(n,r._`${o.parentData}[${o.parentDataProperty}]`)))}function c(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:o,schema:i,parentSchema:s,it:a}=e,u=t.macro.call(a.self,i,s,a),l=c(n,o,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const f=n.name("valid");e.subschema({schema:u,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${o}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:u,keyword:l,schema:f,parentSchema:d,$data:h,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const m=!h&&t.compile?t.compile.call(p.self,f,d,p):t.validate,y=c(u,l,m),g=u.let("valid");function v(n=(t.async?r._`await `:r.nil)){const s=p.opts.passContext?o.default.this:o.default.self,a=!("compile"in t&&!h||!1===t.schema);u.assign(g,r._`${n}${(0,i.callValidateCode)(e,y,s,a)}`,t.modifying)}function b(e){var n;u.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:g),e)}e.block$data(g,(function(){if(!1===t.errors)v(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=u.let("ruleErrs",null);return u.try((()=>v(r._`await `)),(t=>u.assign(g,!1).if(r._`${t} instanceof ${p.ValidationError}`,(()=>u.assign(e,r._`${t}.errors`)),(()=>u.throw(t))))),e}():function(){const e=r._`${y}.errors`;return u.assign(e,null),v(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(o.default.vErrors,r._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,r._`${o.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:g)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const s=o.dependencies;if(null===s||void 0===s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema){if(!o.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(o.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}},4206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(9593),o=n(1842);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,o.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:s,dataTypes:a,propertyName:c}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:c}=t;l(u.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${s}${(0,o.getErrorPath)(n,i,c.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==s){l(s instanceof r.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)}function l(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:o,allErrors:i}){void 0!==r&&(e.compositeRule=r),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}},7806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(8479);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var o=n(9593);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const i=n(1089),s=n(776),a=n(1320),c=n(5281),u=n(9593),l=n(2690),f=n(1495),d=n(1842),h=n(1096),p=n(1406),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,r,o,i,s,a,c,u,l,f,d,h,y,g,v,b,w,E,_,T,S,I,N,O;const A=e.strict,x=null===(t=e.code)||void 0===t?void 0:t.optimize,k=!0===x||void 0===x?1:x||0,$=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,C=null!==(o=e.uriResolver)&&void 0!==o?o:p.default;return{strictSchema:null===(s=null!==(i=e.strictSchema)&&void 0!==i?i:A)||void 0===s||s,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:A)||void 0===c||c,strictTypes:null!==(l=null!==(u=e.strictTypes)&&void 0!==u?u:A)&&void 0!==l?l:"log",strictTuples:null!==(d=null!==(f=e.strictTuples)&&void 0!==f?f:A)&&void 0!==d?d:"log",strictRequired:null!==(y=null!==(h=e.strictRequired)&&void 0!==h?h:A)&&void 0!==y&&y,code:e.code?{...e.code,optimize:k,regExp:$}:{optimize:k,regExp:$},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(E=e.inlineRefs)||void 0===E||E,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(T=e.addUsedSchema)||void 0===T||T,validateSchema:null===(S=e.validateSchema)||void 0===S||S,validateFormats:null===(I=e.validateFormats)||void 0===I||I,unicodeRegExp:null===(N=e.unicodeRegExp)||void 0===N||N,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:C}}class E{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:t,lines:n}),this.logger=function(e){if(!1===e)return A;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),_.call(this,v,e,"NOT SUPPORTED"),_.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=O.call(this),e.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&N.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=h;"id"===n&&(r={...h},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await o.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function o(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await u.call(this,e);this.refs[e]||await o.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let o;if("object"===typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${t} must be string`)}return t=(0,l.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=T.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=T.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,l.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(k.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>$.call(this,e))),this;R.call(this,t);const r={...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>$.call(this,e,r):e=>r.type.forEach((t=>$.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,i=o[e];r&&i&&(o[e]=P(i))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;const{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,l.normalizeId)(i||n);const u=l.getSchemaRefs.call(this,e,n);return a=new c.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:u}),this._cache.set(a.schema,a),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),r&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,n,r="error"){for(const o in e){const i=o;i in t&&this.logger[r](`${n}: option ${o}. ${e[i]}`)}}function T(e){return e=(0,l.normalizeId)(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function I(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function N(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function O(){const e={...this.opts};for(const t of y)delete e[t];return e}t.default=E,E.ValidationError=i.default,E.MissingRefError=s.default;const A={log(){},warn(){},error(){}};const x=/^[a-z_$][a-z0-9_$:-]*$/i;function k(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!x.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function $(e,t,n){var r;const o=null===t||void 0===t?void 0:t.post;if(n&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=o?i.post:i.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)}};t.before?C.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function C(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function R(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=P(t)),e.validateSchema=this.compile(t,!0))}const D={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function P(e){return{anyOf:[e,D]}}},5358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3610),o=n(2452),i=n(7910),s=n(8794),a=n(7866),c=n(4500),u=n(6242),l=n(9356),f=["/properties"];t.default=function(e){return[r,o,i,s,a,t(this,c),u,t(this,l)].forEach((e=>this.addMetaSchema(e,void 0,!1))),this;function t(t,n){return e?t.$dataMetaSchema(n,f):n}}},1644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4063);r.code='require("ajv/dist/runtime/equal").default',t.default=r},9902:function(e,t){"use strict";function n(e){const t=e.length;let n,r=0,o=0;for(;o<t;)r++,n=e.charCodeAt(o++),n>=55296&&n<=56319&&o<t&&(n=e.charCodeAt(o),56320===(64512&n)&&o++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},1406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(540);r.code='require("ajv/dist/runtime/uri").default',t.default=r},1089:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},5098:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(9593),o=n(1842),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,o.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:i,data:s,keyword:a,it:c}=e;c.items=!0;const u=n.const("len",r._`${s}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(r._`${u} <= ${t.length}`);else if("object"==typeof i&&!(0,o.alwaysValidSchema)(c,i)){const i=n.var("valid",r._`${u} <= ${t.length}`);n.if((0,r.not)(i),(()=>function(i){n.forRange("i",t.length,u,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:o.Type.Num},i),c.allErrors||n.if((0,r.not)(i),(()=>n.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=s,t.default=i},4792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3745),o=n(9593),i=n(5050),s=n(1842),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:c,errsCount:u,it:l}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:f,opts:d}=l;if(l.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(l,n))return;const h=(0,r.allSchemaProperties)(a.properties),p=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(o._`delete ${c}[${e}]`)}function y(r){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(f||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(l,n)){const n=t.name("valid");"failing"===d.removeAdditional?(g(r,n,!1),t.if((0,o.not)(n),(()=>{e.reset(),m(r)}))):(g(r,n),f||t.if((0,o.not)(n),(()=>t.break())))}}}function g(t,n,r){const o={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,n)}t.forIn("key",c,(n=>{h.length||p.length?t.if(function(n){let i;if(h.length>8){const e=(0,s.schemaRefOrVal)(l,a.properties,"properties");i=(0,r.isOwnProperty)(t,e,n)}else i=h.length?(0,o.or)(...h.map((e=>o._`${n} === ${e}`))):o.nil;return p.length&&(i=(0,o.or)(i,...p.map((t=>o._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,o.not)(i)}(n),(()=>y(n))):y(n)})),e.ok(o._`${u} === ${i.default.errors}`)}};t.default=a},7025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(o,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},i);e.ok(i),e.mergeEvaluated(s)}))}};t.default=o},9802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(3745).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},1670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:s,it:a}=e;let c,u;const{minContains:l,maxContains:f}=i;a.opts.next?(c=void 0===l?1:l,u=f):c=1;const d=t.const("len",r._`${s}.length`);if(e.setParams({min:c,max:u}),void 0===u&&0===c)return void(0,o.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&c>u)return(0,o.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,o.alwaysValidSchema)(a,n)){let t=r._`${d} >= ${c}`;return void 0!==u&&(t=r._`${t} && ${d} <= ${u}`),void e.pass(t)}a.items=!0;const h=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===u?t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0).break())):(t.if(r._`${e} > ${u}`,(()=>t.assign(h,!1).break())),1===c?t.assign(h,!0):t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0))))}(n)))))}function m(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},n),r()}))}void 0===u&&1===c?m(h,(()=>t.if(h,(()=>t.break())))):0===c?(t.let(h,!0),void 0!==u&&t.if(r._`${s}.length > 0`,p)):(t.let(h,!1),p()),e.result(h,(()=>e.reset()))}};t.default=i},7106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(9593),o=n(1842),i=n(3745);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const o=1===t?"property":"properties";return r.str`must have ${o} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:o}})=>r._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e){if("__proto__"===r)continue;(Array.isArray(e[r])?t:n)[r]=e[r]}return[t,n]}(e);a(e,t),c(e,n)}};function a(e,t=e.schema){const{gen:n,data:o,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const l=(0,i.propertyInData)(n,o,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?n.if(l,(()=>{for(const t of u)(0,i.checkReportMissingProp)(e,t)})):(n.if(r._`${l} && (${(0,i.checkMissingProp)(e,u,a)})`),(0,i.reportMissingProp)(e,a),n.else())}}function c(e,t=e.schema){const{gen:n,data:r,keyword:s,it:a}=e,c=n.name("valid");for(const u in t)(0,o.alwaysValidSchema)(a,t[u])||(n.if((0,i.propertyInData)(n,r,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>n.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},6275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7106),o={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,r.validateSchemaDeps)(e)};t.default=o},7859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&(0,o.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const a=s(i,"then"),c=s(i,"else");if(!a&&!c)return;const u=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),a&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(l,f("then",n),f("else",n))}else a?t.if(l,f("then")):t.if((0,r.not)(l),f("else"));function f(n,o){return()=>{const i=e.subschema({keyword:n},l);t.assign(u,l),e.mergeValidEvaluated(i,u),o?t.assign(o,r._`${n}`):e.setParams({ifClause:n})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,o.alwaysValidSchema)(e,n)}t.default=i},8834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5098),o=n(6168),i=n(1365),s=n(8405),a=n(1670),c=n(7106),u=n(8923),l=n(4792),f=n(9606),d=n(7962),h=n(4694),p=n(9802),m=n(3723),y=n(7025),g=n(7859),v=n(3283);t.default=function(e=!1){const t=[h.default,p.default,m.default,y.default,g.default,v.default,u.default,l.default,c.default,f.default,d.default];return e?t.push(o.default,s.default):t.push(r.default,i.default),t.push(a.default),t}},1365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(9593),o=n(1842),i=n(3745),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,o.alwaysValidSchema)(n,t)||e.ok((0,i.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:i,parentSchema:s,data:a,keyword:c,it:u}=e;!function(e){const{opts:r,errSchemaPath:i}=u,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(r.strictTuples&&!a){const e=`"${c}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,o.checkStrictMode)(u,e,r.strictTuples)}}(s),u.opts.unevaluated&&n.length&&!0!==u.items&&(u.items=o.mergeEvaluated.items(i,n.length,u.items));const l=i.name("valid"),f=i.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,o.alwaysValidSchema)(u,t)||(i.if(r._`${f} > ${n}`,(()=>e.subschema({keyword:c,schemaProp:n,dataProp:n},l))),e.ok(l))}))}t.validateTuple=a,t.default=s},8405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i=n(3745),s=n(5098),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,o.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,i.validateArray)(e)))}};t.default=a},4694:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,r.alwaysValidSchema)(o,n))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=o},3723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&i.discriminator)return;const a=n,c=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block((function(){a.forEach(((n,i)=>{let a;(0,o.alwaysValidSchema)(s,n)?t.var(l,!0):a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},l),i>0&&t.if(r._`${l} && ${c}`).assign(c,!1).assign(u,r._`[${u}, ${i}]`).else(),t.if(l,(()=>{t.assign(c,!0),t.assign(u,i),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},7962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3745),o=n(9593),i=n(1842),s=n(1842),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:c,it:u}=e,{opts:l}=u,f=(0,r.allSchemaProperties)(n),d=f.filter((e=>(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length||d.length===f.length&&(!u.opts.unevaluated||!0===u.props))return;const h=l.strictSchema&&!l.allowMatchingProperties&&c.properties,p=t.name("valid");!0===u.props||u.props instanceof o.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));const{props:m}=u;function y(e){for(const t in h)new RegExp(e).test(t)&&(0,i.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(n){t.forIn("key",a,(i=>{t.if(o._`${(0,r.usePattern)(e,n)}.test(${i})`,(()=>{const r=d.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:s.Type.Str},p),u.opts.unevaluated&&!0!==m?t.assign(o._`${m}[${i}]`,!0):r||u.allErrors||t.if((0,o.not)(p),(()=>t.break()))}))}))}!function(){for(const e of f)h&&y(e),u.allErrors?g(e):(t.var(p,!0),g(e),t.if(p))}()}};t.default=a},6168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1365),o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=o},9606:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8479),o=n(3745),i=n(1842),s=n(4792),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(u,s.default,"additionalProperties"));const l=(0,o.allSchemaProperties)(n);for(const r of l)u.definedProperties.add(r);u.opts.unevaluated&&l.length&&!0!==u.props&&(u.props=i.mergeEvaluated.props(t,(0,i.toHash)(l),u.props));const f=l.filter((e=>!(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length)return;const d=t.name("valid");for(const r of f)h(r)?p(r):(t.if((0,o.propertyInData)(t,c,r,u.opts.ownProperties)),p(r),u.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(d);function h(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==n[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=a},8923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:s}=e;if((0,o.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=i},3283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=o},3745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(9593),o=n(1842),i=n(5050),s=n(1842);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function c(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function u(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} === undefined`;return o?(0,r.or)(i,(0,r.not)(c(e,t,n))):i}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:o,it:i}=e;n.if(u(n,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},o,i){return(0,r.or)(...o.map((o=>(0,r.and)(u(e,t,o,n.ownProperties),r._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return o?r._`${i} && ${c(e,t,n)}`:i},t.noPropertyInData=u,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((n=>!(0,o.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:s,errorPath:a},it:c},u,l,f){const d=f?r._`${e}, ${t}, ${o}${s}`:t,h=[[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,a)],[i.default.parentData,c.parentData],[i.default.parentDataProperty,c.parentDataProperty],[i.default.rootData,i.default.rootData]];c.opts.dynamicRef&&h.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const p=r._`${d}, ${n.object(...h)}`;return l!==r.nil?r._`${u}.call(${l}, ${p})`:r._`${u}(${p})`};const f=r._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:r._`${"new RegExp"===i.code?f:(0,s.useFunc)(e,i)}(${n}, ${o})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",r._`${n}.length`);t.forRange("i",0,c,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:o.Type.Num},a),t.if((0,r.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,o.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>n.forEach(((n,o)=>{const s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},c);t.assign(a,r._`${a} || ${c}`);e.mergeValidEvaluated(s,c)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},6075:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},7140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6075),o=n(1028),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,o.default];t.default=i},1028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(776),o=n(3745),i=n(9593),s=n(5050),a=n(5281),c=n(1842),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:s,schemaEnv:c,validateName:u,opts:d,self:h}=o,{root:p}=c;if(("#"===n||"#/"===n)&&s===p.baseId)return function(){if(c===p)return f(e,u,c,c.$async);const n=t.scopeValue("root",{ref:p});return f(e,i._`${n}.validate`,p,p.$async)}();const m=a.resolveRef.call(h,p,s,n);if(void 0===m)throw new r.default(o.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=l(e,t);f(e,n,t,t.$async)}(m):function(r){const o=t.scopeValue("schema",!0===d.code.source?{ref:r,code:(0,i.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function l(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):i._`${n.scopeValue("wrapper",{ref:t})}.validate`}function f(e,t,n,r){const{gen:a,it:u}=e,{allErrors:l,schemaEnv:f,opts:d}=u,h=d.passContext?s.default.this:i.nil;function p(e){const t=i._`${e}.errors`;a.assign(s.default.vErrors,i._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,i._`${s.default.vErrors}.length`)}function m(e){var t;if(!u.opts.unevaluated)return;const r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(r&&!r.dynamicProps)void 0!==r.props&&(u.props=c.mergeEvaluated.props(a,r.props,u.props));else{const t=a.var("props",i._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,i.Name)}if(!0!==u.items)if(r&&!r.dynamicItems)void 0!==r.items&&(u.items=c.mergeEvaluated.items(a,r.items,u.items));else{const t=a.var("items",i._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,i.Name)}}r?function(){if(!f.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(i._`await ${(0,o.callValidateCode)(e,t,h)}`),m(t),l||a.assign(n,!0)}),(e=>{a.if(i._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),l||a.assign(n,!1)})),e.ok(n)}():e.result((0,o.callValidateCode)(e,t,h),(()=>m(t)),(()=>p(t)))}t.getValidate=l,t.callRef=f,t.default=u},4752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(4005),i=n(5281),s=n(1842),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:c,it:u}=e,{oneOf:l}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=a.propertyName;if("string"!=typeof f)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),h=t.const("tag",r._`${n}${(0,r.getProperty)(f)}`);function p(n){const o=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},o);return e.mergeEvaluated(i,r.Name),o}t.if(r._`typeof ${h} == "string"`,(()=>function(){const n=function(){var e;const t={},n=o(c);let r=!0;for(let c=0;c<l.length;c++){let t=l[c];(null===t||void 0===t?void 0:t.$ref)&&!(0,s.schemaHasRulesButRef)(t,u.self.RULES)&&(t=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null===t||void 0===t?void 0:t.$ref),t instanceof i.SchemaEnv&&(t=t.schema));const d=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[f];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);r=r&&(n||o(t)),a(d,c)}if(!r)throw new Error(`discriminator: "${f}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(f)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${f}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${h} === ${e}`),t.assign(d,p(n[e]));t.else(),e.error(!1,{discrError:o.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}()),(()=>e.error(!1,{discrError:o.DiscrError.Tag,tag:h,tagName:f}))),e.ok(d)}};t.default=a},4005:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},2747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7140),o=n(5491),i=n(8834),s=n(4700),a=n(3250),c=n(3512),u=n(3105),l=n(4541),f=[s.default,r.default,o.default,(0,i.default)(!0),u.default,l.metadataVocabulary,l.contentVocabulary,a.default,c.default];t.default=f},2032:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicAnchor=void 0;const r=n(9593),o=n(5050),i=n(5281),s=n(1028),a={keyword:"$dynamicAnchor",schemaType:"string",code:e=>c(e,e.schema)};function c(e,t){const{gen:n,it:a}=e;a.schemaEnv.root.dynamicAnchors[t]=!0;const c=r._`${o.default.dynamicAnchors}${(0,r.getProperty)(t)}`,u="#"===a.errSchemaPath?a.validateName:function(e){const{schemaEnv:t,schema:n,self:r}=e.it,{root:o,baseId:a,localRefs:c,meta:u}=t.root,{schemaId:l}=r.opts,f=new i.SchemaEnv({schema:n,schemaId:l,root:o,baseId:a,localRefs:c,meta:u});return i.compileSchema.call(r,f),(0,s.getValidate)(e,f)}(e);n.if(r._`!${c}`,(()=>n.assign(c,u)))}t.dynamicAnchor=c,t.default=a},6625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicRef=void 0;const r=n(9593),o=n(5050),i=n(1028),s={keyword:"$dynamicRef",schemaType:"string",code:e=>a(e,e.schema)};function a(e,t){const{gen:n,keyword:s,it:a}=e;if("#"!==t[0])throw new Error(`"${s}" only supports hash fragment reference`);const c=t.slice(1);if(a.allErrors)u();else{const t=n.let("valid",!1);u(t),e.ok(t)}function u(e){if(a.schemaEnv.root.dynamicAnchors[c]){const t=n.let("_v",r._`${o.default.dynamicAnchors}${(0,r.getProperty)(c)}`);n.if(t,l(t,e),l(a.validateName,e))}else l(a.validateName,e)()}function l(t,r){return r?()=>n.block((()=>{(0,i.callRef)(e,t),n.let(r,!0)})):()=>(0,i.callRef)(e,t)}}t.dynamicRef=a,t.default=s},4700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2032),o=n(6625),i=n(3137),s=n(9226),a=[r.default,o.default,i.default,s.default];t.default=a},3137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2032),o=n(1842),i={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,r.dynamicAnchor)(e,""):(0,o.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};t.default=i},9226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6625),o={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,r.dynamicRef)(e,e.schema)};t.default=o},3142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:o,$data:i,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:d}=c;u.validateFormats&&(i?function(){const i=n.scopeValue("formats",{ref:d.formats,code:u.code.formats}),s=n.const("fDef",r._`${i}[${a}]`),c=n.let("fType"),l=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(c,r._`${s}.type || "string"`).assign(l,r._`${s}.validate`)),(()=>n.assign(c,r._`"string"`).assign(l,s))),e.fail$data((0,r.or)(!1===u.strictSchema?r.nil:r._`${a} && !${l}`,function(){const e=f.$async?r._`(${s}.async ? await ${l}(${o}) : ${l}(${o}))`:r._`${l}(${o})`,n=r._`(typeof ${l} == "function" ? ${e} : ${l}.test(${o}))`;return r._`${l} && ${l} !== true && ${c} === ${t} && !${n}`}()))}():function(){const i=d.formats[s];if(!i)return void function(){if(!1===u.strictSchema)return void d.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${l}"`}}();if(!0===i)return;const[a,c,h]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):u.code.formats?r._`${u.code.formats}${(0,r.getProperty)(s)}`:void 0,o=n.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,r._`${o}.validate`];return["string",e,o]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!f.$async)throw new Error("async format in sync schema");return r._`await ${h}(${o})`}return"function"==typeof c?r._`${h}(${o})`:r._`${h}.test(${o})`}())}())}};t.default=o},3105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(3142).default];t.default=r},4541:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},3250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3979),o=n(6275),i=n(9258),s=[r.default,o.default,i.default];t.default=s},3512:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4729),o=n(3483),i=[r.default,o.default];t.default=i},3483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{gen:t,schema:n,data:i,it:s}=e,a=s.items||0;if(!0===a)return;const c=t.const("len",r._`${i}.length`);if(!1===n)e.setParams({len:a}),e.fail(r._`${c} > ${a}`);else if("object"==typeof n&&!(0,o.alwaysValidSchema)(s,n)){const n=t.var("valid",r._`${c} <= ${a}`);t.if((0,r.not)(n),(()=>function(n,i){t.forRange("i",i,c,(i=>{e.subschema({keyword:"unevaluatedItems",dataProp:i,dataPropType:o.Type.Num},n),s.allErrors||t.if((0,r.not)(n),(()=>t.break()))}))}(n,a))),e.ok(n)}s.items=!0}};t.default=i},4729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i=n(5050),s={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:e})=>r._`{unevaluatedProperty: ${e.unevaluatedProperty}}`},code(e){const{gen:t,schema:n,data:s,errsCount:a,it:c}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,props:l}=c;function f(i){if(!1===n)return e.setParams({unevaluatedProperty:i}),e.error(),void(u||t.break());if(!(0,o.alwaysValidSchema)(c,n)){const n=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:i,dataPropType:o.Type.Str},n),u||t.if((0,r.not)(n),(()=>t.break()))}}l instanceof r.Name?t.if(r._`${l} !== true`,(()=>t.forIn("key",s,(e=>t.if(function(e,t){return r._`!${e} || !${e}[${t}]`}(l,e),(()=>f(e))))))):!0!==l&&t.forIn("key",s,(e=>void 0===l?f(e):t.if(function(e,t){const n=[];for(const o in e)!0===e[o]&&n.push(r._`${t} !== ${o}`);return(0,r.and)(...n)}(l,e),(()=>f(e))))),c.props=!0,e.ok(r._`${a} === ${i.default.errors}`)}};t.default=s},2196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i=n(1644),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:c}=e;s||c&&"object"==typeof c?e.fail$data(r._`!${(0,o.useFunc)(t,i.default)}(${n}, ${a})`):e.fail(r._`${c} !== ${n}`)}};t.default=s},3979:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7106),o={keyword:"dependentRequired",type:"object",schemaType:"object",error:r.error,code:e=>(0,r.validatePropertyDeps)(e)};t.default=o},6844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i=n(1644),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:c,it:u}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const l=a.length>=u.opts.loopEnum;let f;const d=()=>null!==f&&void 0!==f?f:f=(0,o.useFunc)(t,i.default);let h;if(l||s)h=t.let("valid"),e.block$data(h,(function(){t.assign(h,!1),t.forOf("v",c,(e=>t.if(r._`${d()}(${n}, ${e})`,(()=>t.assign(h,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);h=(0,r.or)(...a.map(((t,o)=>function(e,t){const o=a[t];return"object"===typeof o&&null!==o?r._`${d()}(${n}, ${e}[${t}])`:r._`${n} === ${o}`}(e,o))))}e.pass(h)}};t.default=s},5491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5575),o=n(4230),i=n(4539),s=n(2107),a=n(9419),c=n(3386),u=n(4159),l=n(2544),f=n(2196),d=n(6844),h=[r.default,o.default,i.default,s.default,a.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=h},9258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1842),o={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:n}){void 0===t.contains&&(0,r.checkStrictMode)(n,`"${e}" without "contains" is ignored`)}};t.default=o},4159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${i} ${o}`)}};t.default=o},4539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=n(1842),i=n(9902),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,c="maxLength"===t?r.operators.GT:r.operators.LT,u=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,o.useFunc)(e.gen,i.default)}(${n})`;e.fail$data(r._`${u} ${c} ${s}`)}};t.default=s},5575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o=r.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>r.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`${n} ${i[t].fail} ${o} || isNaN(${n})`)}};t.default=a},9419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${i} ${o}`)}};t.default=o},4230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9593),o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,a=t.let("res"),c=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${o} === 0 || (${a} = ${n}/${o}, ${c}))`)}};t.default=o},2107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3745),o=n(9593),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:s,it:a}=e,c=a.opts.unicodeRegExp?"u":"",u=n?o._`(new RegExp(${s}, ${c}))`:(0,r.usePattern)(e,i);e.fail$data(o._`!${u}.test(${t})`)}};t.default=i},3386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3745),o=n(9593),i=n(1842),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:c,it:u}=e,{opts:l}=u;if(!c&&0===n.length)return;const f=n.length>=l.loopRequired;if(u.allErrors?function(){if(f||c)e.block$data(o.nil,d);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(f||c){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,i){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(i,(0,r.propertyInData)(t,a,n,l.ownProperties)),t.if((0,o.not)(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,i)),(0,r.reportMissingProp)(e,i),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(u,t,u.opts.strictRequired)}}function d(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,l.ownProperties),(()=>e.error()))}))}}};t.default=s},2544:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1495),o=n(9593),i=n(1842),s=n(1644),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:c,parentSchema:u,schemaCode:l,it:f}=e;if(!a&&!c)return;const d=t.let("valid"),h=u.items?(0,r.getSchemaTypes)(u.items):[];function p(i,s){const a=t.name("item"),c=(0,r.checkDataTypes)(h,a,f.opts.strictNumbers,r.DataType.Wrong),u=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(a,o._`${n}[${i}]`),t.if(c,o._`continue`),h.length>1&&t.if(o._`typeof ${a} == "string"`,o._`${a} += "_"`),t.if(o._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,o._`${u}[${a}]`),e.error(),t.assign(d,!1).break()})).code(o._`${u}[${a}] = ${i}`)}))}function m(r,a){const c=(0,i.useFunc)(t,s.default),u=t.name("outer");t.label(u).for(o._`;${r}--;`,(()=>t.for(o._`${a} = ${r}; ${a}--;`,(()=>t.if(o._`${c}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(u)}))))))}e.block$data(d,(function(){const r=t.let("i",o._`${n}.length`),i=t.let("j");e.setParams({i:r,j:i}),t.assign(d,!0),t.if(o._`${r} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?p:m)(r,i)))}),o._`${l} === false`),e.ok(d)}};t.default=a},1062:function(e){"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,o,i,s,a,c,u,l,f){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in r(i,s,a,c,u,l,f),i){var h=i[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var p=0;p<h.length;p++)n(e,r,o,h[p],s+"/"+d+"/"+p,a,s,d,i,p)}else if(d in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)n(e,r,o,h[m],s+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,i,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,r,o,h,s+"/"+d,a,s,d,i)}o(i,s,a,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},7082:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=n(8473),i=r(n(2840)),s=r(n(778)),a=n(1274),c=Symbol("IGNORE_SUBSTREAM");class u extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new a.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=s.default(t);i.default(e,{readable:!1},n),i.default(e,{writable:!1},n)}(this,(e=>t.destroy(e||void 0))),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,n){const{name:r,data:o}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const i=this._substreams[r];return i?(i!==c&&i.push(o),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}}t.ObjectMultiplex=u},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const r=n(8473);class o extends r.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}t.Substream=o},8392:function(e,t,n){"use strict";const r=n(7082);e.exports=r.ObjectMultiplex},8657:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseProvider=void 0;const o=r(n(9394)),i=n(9826),s=r(n(4063)),a=n(8625),c=r(n(9239)),u=n(4526);class l extends o.default{constructor({logger:e=console,maxEventListeners:t=100,rpcMiddleware:n=[]}={}){super(),this._log=e,this.setMaxListeners(t),this._state={...l._defaultState},this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const r=new a.JsonRpcEngine;n.forEach((e=>r.push(e))),this._rpcEngine=r}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!==typeof e||Array.isArray(e))throw i.ethErrors.rpc.invalidRequest({message:c.default.errors.invalidRequestArgs(),data:e});const{method:t,params:n}=e;if("string"!==typeof t||0===t.length)throw i.ethErrors.rpc.invalidRequest({message:c.default.errors.invalidRequestMethod(),data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!==typeof n||null===n))throw i.ethErrors.rpc.invalidRequest({message:c.default.errors.invalidRequestParams(),data:e});return new Promise(((e,r)=>{this._rpcRequest({method:t,params:n},(0,u.getRpcPromiseCallback)(e,r))}))}_initializeState(e){if(this._state.initialized)throw new Error("Provider already initialized.");if(e){const{accounts:t,chainId:n,isUnlocked:r,networkVersion:o}=e;this._handleConnect(n),this._handleChainChanged({chainId:n,networkVersion:o}),this._handleUnlockStateChanged({accounts:t,isUnlocked:r}),this._handleAccountsChanged(t)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(e,t){let n=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(n=(n,r)=>{this._handleAccountsChanged(r.result??[],"eth_accounts"===e.method),t(n,r)})),this._rpcEngine.handle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(c.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new i.EthereumRpcError(1013,t??c.default.errors.disconnected()),this._log.debug(n)):(n=new i.EthereumRpcError(1011,t??c.default.errors.permanentlyDisconnected()),this._log.error(n),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n)}}_handleChainChanged({chainId:e}={}){(0,u.isValidChainId)(e)?(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error(c.default.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,t=!1){let n=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),n=[]);for(const r of e)if("string"!==typeof r){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),n=[];break}if(!(0,s.default)(this._state.accounts,n)&&(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",n),this._state.accounts=n,this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null),this._state.initialized)){const e=[...n];this.emit("accountsChanged",e)}}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"===typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.BaseProvider=l,l._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},80:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetaMaskInpageProvider=t.MetaMaskInpageProviderStreamName=void 0;const o=n(9826),i=r(n(9239)),s=n(457),a=n(8104),c=n(4526);t.MetaMaskInpageProviderStreamName="metamask-provider";class u extends a.AbstractStreamProvider{constructor(e,{jsonRpcStreamName:n=t.MetaMaskInpageProviderStreamName,logger:r=console,maxEventListeners:o=100,shouldSendMetadata:i}={}){if(super(e,{jsonRpcStreamName:n,logger:r,maxEventListeners:o,rpcMiddleware:(0,c.getDefaultExternalMiddleware)(r)}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this._initializeStateAsync(),this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;c.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),i)if("complete"===document.readyState)(0,s.sendSiteMetadata)(this._rpcEngine,this._log);else{const e=()=>{(0,s.sendSiteMetadata)(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){!1===this._sentWarnings?.events[e]&&(this._log.warn(i.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(i.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},(0,c.getRpcPromiseCallback)(e,t))}catch(n){t(n)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(i.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!==typeof e||t&&!Array.isArray(t)?e&&"object"===typeof e&&"function"===typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((n,r)=>{try{this._rpcRequest({method:e,params:t},(0,c.getRpcPromiseCallback)(n,r,!1))}catch(o){r(o)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(e,c.NOOP),t=!0;break;case"net_version":t=this.networkVersion??null;break;default:throw new Error(i.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,n)=>{this._rpcRequest(e,(0,c.getRpcPromiseCallback)(t,n))}))}},{get:(e,t,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(i.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...n))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),this._state.isConnected&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.MetaMaskInpageProvider=u},8104:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamProvider=t.AbstractStreamProvider=void 0;const o=r(n(8392)),i=n(4970),s=n(8758),a=r(n(4286)),c=n(8657),u=r(n(9239)),l=n(4526);class f extends c.BaseProvider{constructor(e,{jsonRpcStreamName:t,logger:n=console,maxEventListeners:r=100,rpcMiddleware:c=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:c}),!(0,i.duplex)(e))throw new Error(u.default.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const f=new o.default;(0,a.default)(e,f,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=(0,s.createStreamMiddleware)({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),(0,a.default)(this._jsonRpcConnection.stream,f.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",(t=>{const{method:n,params:r}=t;"metamask_accountsChanged"===n?this._handleAccountsChanged(r):"metamask_unlockStateChanged"===n?this._handleUnlockStateChanged(r):"metamask_chainChanged"===n?this._handleChainChanged(r):l.EMITTED_NOTIFICATIONS.includes(n)?this.emit("message",{type:n,data:r}):"METAMASK_STREAM_FAILURE"===n&&e.destroy(new Error(u.default.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let e;try{e=await this.request({method:"metamask_getProviderState"})}catch(t){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",t)}this._initializeState(e)}_handleStreamDisconnect(e,t){let n=`MetaMask: Lost connection to "${e}".`;t?.stack&&(n+=`\n${t.stack}`),this._log.warn(n),this.listenerCount("error")>0&&this.emit("error",n),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){(0,l.isValidChainId)(e)&&(0,l.isValidNetworkVersion)(t)?"loading"===t?this._handleDisconnect(!0):super._handleChainChanged({chainId:e}):this._log.error(u.default.errors.invalidNetworkParams(),{chainId:e,networkVersion:t})}}t.AbstractStreamProvider=f;t.StreamProvider=class extends f{async initialize(){return this._initializeStateAsync()}}},9954:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERC20=t.ERC1155=t.ERC721=void 0,t.ERC721="ERC721",t.ERC1155="ERC1155",t.ERC20="ERC20"},3183:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=void 0;const o=n(3631),i=r(n(3560)),s=r(n(5278)),a=n(80),c=n(8104),u=n(4526),l=(0,o.detect)();t.createExternalExtensionProvider=function(e="stable"){let t;try{const n=function(e){return("firefox"===l?.name?s.default.firefoxIds:s.default.chromeIds)[e]??e}(e),r=chrome.runtime.connect(n),o=new i.default(r);t=new c.StreamProvider(o,{jsonRpcStreamName:a.MetaMaskInpageProviderStreamName,logger:console,rpcMiddleware:(0,u.getDefaultExternalMiddleware)(console)}),t.initialize()}catch(n){throw console.dir("MetaMask connect error.",n),n}return t}},7212:function(e,t,n){"use strict";t.yj=void 0;const r=n(8657);const o=n(3183);Object.defineProperty(t,"yj",{enumerable:!0,get:function(){return o.createExternalExtensionProvider}});const i=n(1607);const s=n(80);const a=n(8243);const c=n(8104)},1607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const r=n(80),o=n(8243);function i(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:n=console,maxEventListeners:s=100,shouldSendMetadata:a=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:u=!1}){const l=new r.MetaMaskInpageProvider(e,{jsonRpcStreamName:t,logger:n,maxEventListeners:s,shouldSendMetadata:a}),f=new Proxy(l,{deleteProperty:()=>!0});return c&&i(f),u&&(0,o.shimWeb3)(f,n),f},t.setGlobalProvider=i},9239:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},rpc:{ethDecryptDeprecation:"MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",ethGetEncryptionPublicKeyDeprecation:"MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686",walletWatchAssetNFTExperimental:"MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};t.default=n},687:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRpcWarningMiddleware=void 0;const o=n(9954),i=r(n(9239));t.createRpcWarningMiddleware=function(e){const t={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,s)=>{t.ethDecryptDeprecation||"eth_decrypt"!==n.method?t.ethGetEncryptionPublicKeyDeprecation||"eth_getEncryptionPublicKey"!==n.method?!t.walletWatchAssetNFTExperimental&&"wallet_watchAsset"===n.method&&[o.ERC721,o.ERC1155].includes(n.params?.type||"")&&(e.warn(i.default.warnings.rpc.walletWatchAssetNFTExperimental),t.walletWatchAssetNFTExperimental=!0):(e.warn(i.default.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),t.ethGetEncryptionPublicKeyDeprecation=!0):(e.warn(i.default.warnings.rpc.ethDecryptDeprecation),t.ethDecryptDeprecation=!0),s()}}},8243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shimWeb3=void 0,t.shimWeb3=function(e,t=console){let n=!1,r=!1;if(!window.web3){const o="__isMetaMaskShim__";let i={currentProvider:e};Object.defineProperty(i,o,{value:!0,enumerable:!0,configurable:!1,writable:!1}),i=new Proxy(i,{get:(i,s,...a)=>("currentProvider"!==s||n?"currentProvider"===s||s===o||r||(r=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(n=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(i,s,...a)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:i,enumerable:!1,configurable:!0,writable:!0})}}},457:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendSiteMetadata=void 0;const o=r(n(9239)),i=n(4526);function s(e){const{document:t}=e,n=t.querySelector('head > meta[property="og:site_name"]');if(n)return n.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function a(e){const{document:t}=e,n=t.querySelectorAll('head > link[rel~="icon"]');for(const r of Array.from(n))if(r&&await c(r.href))return r.href;return null}async function c(e){return new Promise(((t,n)=>{try{const n=document.createElement("img");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(r){n(r)}}))}t.sendSiteMetadata=async function(e,t){try{const t=await async function(){return{name:s(window),icon:await a(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},i.NOOP)}catch(n){t.error({message:o.default.errors.sendSiteMetadata(),originalError:n})}}},4526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP=t.isValidNetworkVersion=t.isValidChainId=t.getRpcPromiseCallback=t.getDefaultExternalMiddleware=t.EMITTED_NOTIFICATIONS=void 0;const r=n(9826),o=n(8625),i=n(687);t.EMITTED_NOTIFICATIONS=Object.freeze(["eth_subscription"]);t.getDefaultExternalMiddleware=(e=console)=>{return[(0,o.createIdRemapMiddleware)(),(t=e,(e,n,o)=>{"string"===typeof e.method&&e.method||(n.error=r.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),o((e=>{const{error:r}=n;return r?(t.error(`MetaMask - RPC Error: ${r.message}`,r),e()):e()}))}),(0,i.createRpcWarningMiddleware)(e)];var t};t.getRpcPromiseCallback=(e,t,n=!0)=>(r,o)=>{r||o.error?t(r||o.error):!n||Array.isArray(o)?e(o):e(o.result)};t.isValidChainId=e=>Boolean(e)&&"string"===typeof e&&e.startsWith("0x");t.isValidNetworkVersion=e=>Boolean(e)&&"string"===typeof e;t.NOOP=()=>{}},9394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5293);function o(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout((()=>{throw r}))}}class i extends r.EventEmitter{emit(e,...t){let n="error"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if("function"===typeof i)o(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)o(n[r],this,t)}return!0}}t.default=i},8820:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var o=e.charAt(r),i=o.charCodeAt(0);if(255!==t[i])throw new TypeError(o+" is ambiguous");t[i]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var n=0;if(" "!==e[n]){for(var r=0,o=0;e[n]===a;)r++,n++;for(var i=(e.length-n)*c+1>>>0,u=new Uint8Array(i);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=s*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,n++}if(" "!==e[n]){for(var h=i-o;h!==i&&0===u[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=u[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var c=(i-o)*u+1>>>0,l=new Uint8Array(c);o!==i;){for(var f=t[o],d=0,h=c-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*l[h]>>>0,l[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=c-r;p!==c&&0===l[p];)p++;for(var m=a.repeat(n);p<c;++p)m+=e.charAt(l[p]);return m},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},8099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7117);function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),l(e/4294967296>>>0,t,n),l(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),f(e>>>0,t,n),f(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=o,t.writeInt16BE=o,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=l,t.writeInt32BE=l,t.writeUint32LE=f,t.writeInt32LE=f,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=s(e,t),r=s(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=u(e,t);return 4294967296*u(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,o=1,i=e/8+n-1;i>=n;i--)r+=t[i]*o,o*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,o=1,i=n;i<n+e/8;i++)r+=t[i]*o,o*=256;return r},t.writeUintBE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+o-1;s>=o;s--)n[s]=t/i&255,i*=256;return n},t.writeUintLE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=o;s<o+e/8;s++)n[s]=t/i&255,i*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},1050:function(e,t,n){"use strict";t.SH=t.aP=t.KS=t.jQ=void 0;const r=n(1416),o=n(3350),i=n(7309);function s(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.jQ=64,t.KS=64,t.aP=32;new Uint8Array(32)[0]=9;const a=s(),c=s([1]),u=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function m(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function y(e,t,n){const r=~(n-1);for(let o=0;o<16;o++){const n=r&(e[o]^t[o]);e[o]^=n,t[o]^=n}}function g(e,t){const n=s(),r=s();for(let o=0;o<16;o++)r[o]=t[o];m(r),m(r),m(r);for(let o=0;o<2;o++){n[0]=r[0]-65517;for(let t=1;t<15;t++)n[t]=r[t]-65535-(n[t-1]>>16&1),n[t-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,y(r,n,1-e)}for(let o=0;o<16;o++)e[2*o]=255&r[o],e[2*o+1]=r[o]>>8}function v(e,t){let n=0;for(let r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}function b(e,t){const n=new Uint8Array(32),r=new Uint8Array(32);return g(n,e),g(r,t),v(n,r)}function w(e){const t=new Uint8Array(32);return g(t,e),1&t[0]}function E(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function _(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function T(e,t,n){let r,o,i=0,s=0,a=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,m=0,y=0,g=0,v=0,b=0,w=0,E=0,_=0,T=0,S=0,I=0,N=0,O=0,A=0,x=0,k=0,$=0,C=0,R=0,D=0,P=0,j=n[0],M=n[1],L=n[2],F=n[3],U=n[4],B=n[5],V=n[6],q=n[7],z=n[8],G=n[9],K=n[10],J=n[11],H=n[12],Q=n[13],W=n[14],Y=n[15];r=t[0],i+=r*j,s+=r*M,a+=r*L,c+=r*F,u+=r*U,l+=r*B,f+=r*V,d+=r*q,h+=r*z,p+=r*G,m+=r*K,y+=r*J,g+=r*H,v+=r*Q,b+=r*W,w+=r*Y,r=t[1],s+=r*j,a+=r*M,c+=r*L,u+=r*F,l+=r*U,f+=r*B,d+=r*V,h+=r*q,p+=r*z,m+=r*G,y+=r*K,g+=r*J,v+=r*H,b+=r*Q,w+=r*W,E+=r*Y,r=t[2],a+=r*j,c+=r*M,u+=r*L,l+=r*F,f+=r*U,d+=r*B,h+=r*V,p+=r*q,m+=r*z,y+=r*G,g+=r*K,v+=r*J,b+=r*H,w+=r*Q,E+=r*W,_+=r*Y,r=t[3],c+=r*j,u+=r*M,l+=r*L,f+=r*F,d+=r*U,h+=r*B,p+=r*V,m+=r*q,y+=r*z,g+=r*G,v+=r*K,b+=r*J,w+=r*H,E+=r*Q,_+=r*W,T+=r*Y,r=t[4],u+=r*j,l+=r*M,f+=r*L,d+=r*F,h+=r*U,p+=r*B,m+=r*V,y+=r*q,g+=r*z,v+=r*G,b+=r*K,w+=r*J,E+=r*H,_+=r*Q,T+=r*W,S+=r*Y,r=t[5],l+=r*j,f+=r*M,d+=r*L,h+=r*F,p+=r*U,m+=r*B,y+=r*V,g+=r*q,v+=r*z,b+=r*G,w+=r*K,E+=r*J,_+=r*H,T+=r*Q,S+=r*W,I+=r*Y,r=t[6],f+=r*j,d+=r*M,h+=r*L,p+=r*F,m+=r*U,y+=r*B,g+=r*V,v+=r*q,b+=r*z,w+=r*G,E+=r*K,_+=r*J,T+=r*H,S+=r*Q,I+=r*W,N+=r*Y,r=t[7],d+=r*j,h+=r*M,p+=r*L,m+=r*F,y+=r*U,g+=r*B,v+=r*V,b+=r*q,w+=r*z,E+=r*G,_+=r*K,T+=r*J,S+=r*H,I+=r*Q,N+=r*W,O+=r*Y,r=t[8],h+=r*j,p+=r*M,m+=r*L,y+=r*F,g+=r*U,v+=r*B,b+=r*V,w+=r*q,E+=r*z,_+=r*G,T+=r*K,S+=r*J,I+=r*H,N+=r*Q,O+=r*W,A+=r*Y,r=t[9],p+=r*j,m+=r*M,y+=r*L,g+=r*F,v+=r*U,b+=r*B,w+=r*V,E+=r*q,_+=r*z,T+=r*G,S+=r*K,I+=r*J,N+=r*H,O+=r*Q,A+=r*W,x+=r*Y,r=t[10],m+=r*j,y+=r*M,g+=r*L,v+=r*F,b+=r*U,w+=r*B,E+=r*V,_+=r*q,T+=r*z,S+=r*G,I+=r*K,N+=r*J,O+=r*H,A+=r*Q,x+=r*W,k+=r*Y,r=t[11],y+=r*j,g+=r*M,v+=r*L,b+=r*F,w+=r*U,E+=r*B,_+=r*V,T+=r*q,S+=r*z,I+=r*G,N+=r*K,O+=r*J,A+=r*H,x+=r*Q,k+=r*W,$+=r*Y,r=t[12],g+=r*j,v+=r*M,b+=r*L,w+=r*F,E+=r*U,_+=r*B,T+=r*V,S+=r*q,I+=r*z,N+=r*G,O+=r*K,A+=r*J,x+=r*H,k+=r*Q,$+=r*W,C+=r*Y,r=t[13],v+=r*j,b+=r*M,w+=r*L,E+=r*F,_+=r*U,T+=r*B,S+=r*V,I+=r*q,N+=r*z,O+=r*G,A+=r*K,x+=r*J,k+=r*H,$+=r*Q,C+=r*W,R+=r*Y,r=t[14],b+=r*j,w+=r*M,E+=r*L,_+=r*F,T+=r*U,S+=r*B,I+=r*V,N+=r*q,O+=r*z,A+=r*G,x+=r*K,k+=r*J,$+=r*H,C+=r*Q,R+=r*W,D+=r*Y,r=t[15],w+=r*j,E+=r*M,_+=r*L,T+=r*F,S+=r*U,I+=r*B,N+=r*V,O+=r*q,A+=r*z,x+=r*G,k+=r*K,$+=r*J,C+=r*H,R+=r*Q,D+=r*W,P+=r*Y,i+=38*E,s+=38*_,a+=38*T,c+=38*S,u+=38*I,l+=38*N,f+=38*O,d+=38*A,h+=38*x,p+=38*k,m+=38*$,y+=38*C,g+=38*R,v+=38*D,b+=38*P,o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,r=w+o+65535,o=Math.floor(r/65536),w=r-65536*o,i+=o-1+37*(o-1),o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,r=w+o+65535,o=Math.floor(r/65536),w=r-65536*o,i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=m,e[11]=y,e[12]=g,e[13]=v,e[14]=b,e[15]=w}function S(e,t){T(e,t,t)}function I(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)S(n,n),2!==r&&4!==r&&T(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function N(e,t){const n=s(),r=s(),o=s(),i=s(),a=s(),c=s(),u=s(),f=s(),d=s();_(n,e[1],e[0]),_(d,t[1],t[0]),T(n,n,d),E(r,e[0],e[1]),E(d,t[0],t[1]),T(r,r,d),T(o,e[3],t[3]),T(o,o,l),T(i,e[2],t[2]),E(i,i,i),_(a,r,n),_(c,i,o),E(u,i,o),E(f,r,n),T(e[0],a,c),T(e[1],f,u),T(e[2],u,c),T(e[3],a,f)}function O(e,t,n){for(let r=0;r<4;r++)y(e[r],t[r],n)}function A(e,t){const n=s(),r=s(),o=s();I(o,t[2]),T(n,t[0],o),T(r,t[1],o),g(e,r),e[31]^=w(n)<<7}function x(e,t,n){p(e[0],a),p(e[1],c),p(e[2],c),p(e[3],a);for(let r=255;r>=0;--r){const o=n[r/8|0]>>(7&r)&1;O(e,t,o),N(t,e),N(e,e),O(e,t,o)}}function k(e,t){const n=[s(),s(),s(),s()];p(n[0],f),p(n[1],d),p(n[2],c),T(n[3],f,d),x(e,n,t)}function $(e){if(e.length!==t.aP)throw new Error(`ed25519: seed must be ${t.aP} bytes`);const n=(0,o.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;const r=new Uint8Array(32),i=[s(),s(),s(),s()];k(i,n),A(r,i);const a=new Uint8Array(64);return a.set(e),a.set(r,32),{publicKey:r,secretKey:a}}const C=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function R(e,t){let n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)t[o]+=n-16*t[r]*C[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=256*n;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*C[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*C[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function D(e){const t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let n=0;n<64;n++)e[n]=0;R(e,t)}function P(e,t){const n=s(),r=s(),o=s(),i=s(),l=s(),f=s(),d=s();return p(e[2],c),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),S(o,e[1]),T(i,o,u),_(o,o,e[2]),E(i,e[2],i),S(l,i),S(f,l),T(d,f,l),T(n,d,o),T(n,n,i),function(e,t){const n=s();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)S(n,n),1!==r&&T(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(n,n),T(n,n,o),T(n,n,i),T(n,n,i),T(e[0],n,i),S(r,e[0]),T(r,r,i),b(r,o)&&T(e[0],e[0],h),S(r,e[0]),T(r,r,i),b(r,o)?-1:(w(e[0])===t[31]>>7&&_(e[0],a,e[0]),T(e[3],e[0],e[1]),0)}t.SH=function(e){let t=[s(),s(),s(),s()];if(P(t,e))throw new Error("Ed25519: invalid public key");let n=s(),r=s(),o=t[1];E(n,c,o),_(r,c,o),I(r,r),T(n,n,r);let i=new Uint8Array(32);return g(i,n),i}},7117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},1416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(6008),o=n(8099),i=n(7309);function s(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){const n=s(4,e),r=(0,o.readUint32LE)(n);return(0,i.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,n=a,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let o="";const c=n.length,u=256-256%c;for(;e>0;){const t=s(Math.ceil(256*e/u),r);for(let r=0;r<t.length&&e>0;r++){const i=t[r];i<u&&(o+=n.charAt(i%c),e--)}(0,i.wipe)(t)}return o}t.randomString=c,t.randomStringForEntropy=function(e,n=a,r=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},5455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!==typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t}}},8871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(7309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let r=0;r<n.length;r++)n[r]=t[r];return(0,r.wipe)(t),n}}},6008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(5455),o=n(8871);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},3350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),o=n(7309);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var i=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){o.wipe(this._buffer),o.wipe(this._tempHi),o.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,o=t/536870912|0,i=t<<3,s=t%128<112?128:256;this._buffer[n]=128;for(var c=n+1;c<s-8;c++)this._buffer[c]=0;r.writeUint32BE(o,this._buffer,s-8),r.writeUint32BE(i,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/8;c++)r.writeUint32BE(this._stateHi[c],e,8*c),r.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){o.wipe(e.stateHi),o.wipe(e.stateLo),e.buffer&&o.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=i;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,n,o,i,a,c){for(var u,l,f,d,h,p,m,y,g=n[0],v=n[1],b=n[2],w=n[3],E=n[4],_=n[5],T=n[6],S=n[7],I=o[0],N=o[1],O=o[2],A=o[3],x=o[4],k=o[5],$=o[6],C=o[7];c>=128;){for(var R=0;R<16;R++){var D=8*R+a;e[R]=r.readUint32BE(i,D),t[R]=r.readUint32BE(i,D+4)}for(R=0;R<80;R++){var P,j,M=g,L=v,F=b,U=w,B=E,V=_,q=T,z=I,G=N,K=O,J=A,H=x,Q=k,W=$;if(h=65535&(l=C),p=l>>>16,m=65535&(u=S),y=u>>>16,h+=65535&(l=(x>>>14|E<<18)^(x>>>18|E<<14)^(E>>>9|x<<23)),p+=l>>>16,m+=65535&(u=(E>>>14|x<<18)^(E>>>18|x<<14)^(x>>>9|E<<23)),y+=u>>>16,h+=65535&(l=x&k^~x&$),p+=l>>>16,m+=65535&(u=E&_^~E&T),y+=u>>>16,u=s[2*R],h+=65535&(l=s[2*R+1]),p+=l>>>16,m+=65535&u,y+=u>>>16,u=e[R%16],p+=(l=t[R%16])>>>16,m+=65535&u,y+=u>>>16,m+=(p+=(h+=65535&l)>>>16)>>>16,h=65535&(l=d=65535&h|p<<16),p=l>>>16,m=65535&(u=f=65535&m|(y+=m>>>16)<<16),y=u>>>16,h+=65535&(l=(I>>>28|g<<4)^(g>>>2|I<<30)^(g>>>7|I<<25)),p+=l>>>16,m+=65535&(u=(g>>>28|I<<4)^(I>>>2|g<<30)^(I>>>7|g<<25)),y+=u>>>16,p+=(l=I&N^I&O^N&O)>>>16,m+=65535&(u=g&v^g&b^v&b),y+=u>>>16,P=65535&(m+=(p+=(h+=65535&l)>>>16)>>>16)|(y+=m>>>16)<<16,j=65535&h|p<<16,h=65535&(l=J),p=l>>>16,m=65535&(u=U),y=u>>>16,p+=(l=d)>>>16,m+=65535&(u=f),y+=u>>>16,v=M,b=L,w=F,E=U=65535&(m+=(p+=(h+=65535&l)>>>16)>>>16)|(y+=m>>>16)<<16,_=B,T=V,S=q,g=P,N=z,O=G,A=K,x=J=65535&h|p<<16,k=H,$=Q,C=W,I=j,R%16===15)for(D=0;D<16;D++)u=e[D],h=65535&(l=t[D]),p=l>>>16,m=65535&u,y=u>>>16,u=e[(D+9)%16],h+=65535&(l=t[(D+9)%16]),p+=l>>>16,m+=65535&u,y+=u>>>16,f=e[(D+1)%16],h+=65535&(l=((d=t[(D+1)%16])>>>1|f<<31)^(d>>>8|f<<24)^(d>>>7|f<<25)),p+=l>>>16,m+=65535&(u=(f>>>1|d<<31)^(f>>>8|d<<24)^f>>>7),y+=u>>>16,f=e[(D+14)%16],p+=(l=((d=t[(D+14)%16])>>>19|f<<13)^(f>>>29|d<<3)^(d>>>6|f<<26))>>>16,m+=65535&(u=(f>>>19|d<<13)^(d>>>29|f<<3)^f>>>6),y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,e[D]=65535&m|y<<16,t[D]=65535&h|p<<16}h=65535&(l=I),p=l>>>16,m=65535&(u=g),y=u>>>16,u=n[0],p+=(l=o[0])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[0]=g=65535&m|y<<16,o[0]=I=65535&h|p<<16,h=65535&(l=N),p=l>>>16,m=65535&(u=v),y=u>>>16,u=n[1],p+=(l=o[1])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[1]=v=65535&m|y<<16,o[1]=N=65535&h|p<<16,h=65535&(l=O),p=l>>>16,m=65535&(u=b),y=u>>>16,u=n[2],p+=(l=o[2])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[2]=b=65535&m|y<<16,o[2]=O=65535&h|p<<16,h=65535&(l=A),p=l>>>16,m=65535&(u=w),y=u>>>16,u=n[3],p+=(l=o[3])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[3]=w=65535&m|y<<16,o[3]=A=65535&h|p<<16,h=65535&(l=x),p=l>>>16,m=65535&(u=E),y=u>>>16,u=n[4],p+=(l=o[4])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[4]=E=65535&m|y<<16,o[4]=x=65535&h|p<<16,h=65535&(l=k),p=l>>>16,m=65535&(u=_),y=u>>>16,u=n[5],p+=(l=o[5])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[5]=_=65535&m|y<<16,o[5]=k=65535&h|p<<16,h=65535&(l=$),p=l>>>16,m=65535&(u=T),y=u>>>16,u=n[6],p+=(l=o[6])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[6]=T=65535&m|y<<16,o[6]=$=65535&h|p<<16,h=65535&(l=C),p=l>>>16,m=65535&(u=S),y=u>>>16,u=n[7],p+=(l=o[7])>>>16,m+=65535&u,y+=u>>>16,y+=(m+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,n[7]=S=65535&m|y<<16,o[7]=C=65535&h|p<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new i;t.update(e);var n=t.digest();return t.clean(),n}},7309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},6870:function(e,t){"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:n(i,s),time:n(c,u),"date-time":n((function(e){const t=e.split(l);return 2===t.length&&i(t[0])&&c(t[1],!0)}),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return d.test(e)&&h.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return p.lastIndex=0,p.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=2147483647&&e>=-2147483648}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:m},double:{type:"number",validate:m},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(e){const t=r.exec(e);if(!t)return!1;const n=+t[1],i=+t[2],s=+t[3];return i>=1&&i<=12&&s>=1&&s<=(2===i&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:o[i])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(e,t){const n=a.exec(e);if(!n)return!1;const r=+n[1],o=+n[2],i=+n[3],s=n[5];return(r<=23&&o<=59&&i<=59||23===r&&59===o&&60===i)&&(!t||""!==s)}function u(e,t){if(!e||!t)return;const n=a.exec(e),r=a.exec(t);return n&&r?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=r[1]+r[2]+r[3]+(r[4]||""))?1:e<t?-1:0:void 0}const l=/t|\s/i;function f(e,t){if(!e||!t)return;const[n,r]=e.split(l),[o,i]=t.split(l),a=s(n,o);return void 0!==a?a||u(r,i):void 0}const d=/\/|:/,h=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(){return!0}const y=/[^\\]\\Z/},5477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6870),o=n(7963),i=n(8461),s=new i.Name("fullFormats"),a=new i.Name("fastFormats"),c=(e,t={keywords:!0})=>{if(Array.isArray(t))return u(e,t,r.fullFormats,s),e;const[n,i]="fast"===t.mode?[r.fastFormats,a]:[r.fullFormats,s];return u(e,t.formats||r.formatNames,n,i),t.keywords&&o.default(e),e};function u(e,t,n,r){var o,s;null!==(o=(s=e.opts.code).formats)&&void 0!==o||(s.formats=i._`require("ajv-formats/dist/formats").${r}`);for(const i of t)e.addFormat(i,n[i])}c.get=(e,t="full")=>{const n=("fast"===t?r.fastFormats:r.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n},e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},7963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const r=n(4444),o=n(8461),i=o.operators,s={formatMaximum:{okStr:"<=",ok:i.LTE,fail:i.GT},formatMinimum:{okStr:">=",ok:i.GTE,fail:i.LT},formatExclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},formatExclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},a={message:({keyword:e,schemaCode:t})=>o.str`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>o._`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:n,schemaCode:i,keyword:a,it:c}=e,{opts:u,self:l}=c;if(!u.validateFormats)return;const f=new r.KeywordCxt(c,l.RULES.all.format.definition,"format");function d(e){return o._`${e}.compare(${n}, ${i}) ${s[a].fail} 0`}f.$data?function(){const n=t.scopeValue("formats",{ref:l.formats,code:u.code.formats}),r=t.const("fmt",o._`${n}[${f.schemaCode}]`);e.fail$data(o.or(o._`typeof ${r} != "object"`,o._`${r} instanceof RegExp`,o._`typeof ${r}.compare != "function"`,d(r)))}():function(){const n=f.schema,r=l.formats[n];if(!r||!0===r)return;if("object"!=typeof r||r instanceof RegExp||"function"!=typeof r.compare)throw new Error(`"${a}": format "${n}" does not define "compare" function`);const i=t.scopeValue("formats",{key:n,ref:r,code:u.code.formats?o._`${u.code.formats}${o.getProperty(n)}`:void 0});e.fail$data(d(i))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},4444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=n(623),o=n(892),i=n(5451),s=n(74),a=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=n(5700);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=n(8461);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var d=n(4007);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=n(2381);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},826:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class o extends n{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new o(n)}t._Code=o,t.nil=new o(""),t._=i;const s=new o("+");function a(e,...t){const n=[l(e[0])];let r=0;for(;r<t.length;)n.push(s),c(n,t[r]),n.push(s,l(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new o(n)}function c(e,t){var n;t instanceof o?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:l(Array.isArray(n)?n.join(","):n))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new o(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new o(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new o(e.toString())}},8461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(826),o=n(7102);var i=n(826);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var s=n(7102);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?o.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=$(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=$(this.rhs,e,t),this}get names(){return k(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class h extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=$(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const o=n[r];o.optimizeNames(e,t)||(C(e,o.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>x(e,t.names)),{})}}class y extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends m{}class v extends y{}v.kind="else";class b extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(R(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=$(this.condition,e,t),this}get names(){const e=super.names;return k(e,this.condition),this.else&&x(e,this.else.names),e}}b.kind="if";class w extends y{}w.kind="for";class E extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=$(this.iteration,e,t),this}get names(){return x(super.names,this.iteration.names)}}class _ extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:n,from:r,to:i}=this;return`for(${t} ${n}=${r}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){const e=k(super.names,this.from);return k(e,this.to)}}class T extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=$(this.iterable,e,t),this}get names(){return x(super.names,this.iterable.names)}}class S extends y{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}S.kind="func";class I extends m{render(e){return"return "+super.render(e)}}I.kind="return";class N extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&x(e,this.catch.names),this.finally&&x(e,this.finally.names),e}}class O extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class A extends y{render(e){return"finally"+super.render(e)}}A.kind="finally";function x(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function k(e,t){return t instanceof r._CodeOrName?x(e,t.names):e}function $(e,t,n){return e instanceof r.Name?i(e):(o=e)instanceof r._Code&&o._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function C(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function R(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${M(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const o=this._scope.toName(t);return void 0!==n&&r&&(this._constants[o.str]=n),this._leafNode(new c(e,o,n)),o}const(e,t,n){return this._def(o.varKinds.const,e,t,n)}let(e,t,n){return this._def(o.varKinds.let,e,t,n)}var(e,t,n){return this._def(o.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new u(e,t,n))}add(e,n){return this._leafNode(new l(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[n,o]of e)t.length>1&&t.push(","),t.push(n),(n!==o||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,o));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new E(e),t)}forRange(e,t,n,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const s=this._scope.toName(e);return this._for(new _(i,s,t,n),(()=>r(s)))}forOf(e,t,n,i=o.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new T("of",i,s,t),(()=>n(s)))}forIn(e,t,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new T("in",i,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new f(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new I;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new N;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new O(e),t(e)}return n&&(this._currNode=r.finally=new A,this.code(n)),this._endBlockNode(O,A)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,o){return this._blockNode(new S(e,t,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=R;const D=j(t.operators.AND);t.and=function(...e){return e.reduce(D)};const P=j(t.operators.OR);function j(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${M(t)} ${e} ${M(n)}`}function M(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(...e){return e.reduce(P)}},7102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(826);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}t.ValueScopeName=a;const c=r._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:o}=r,i=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[o];if(s){const e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,r);const a=this._scope[o]||(this._scope[o]=[]),c=a.length;return a[c]=t.ref,r.setValue(t,{property:o,itemIndex:c}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let c=r.nil;for(const u in e){const l=e[u];if(!l)continue;const f=s[u]=s[u]||new Map;l.forEach((e=>{if(f.has(e))return;f.set(e,i.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;c=r._`${c}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null===a||void 0===a?void 0:a(e)))throw new o(e);c=r._`${c}${s}${this.opts._n}`}f.set(e,i.Completed)}))}return c}}},2024:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(8461),o=n(950),i=n(5077);function s(e,t){const n=e.const("err",t);e.if(r._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,r._`[${n}]`)),r._`${i.default.vErrors}.push(${n})`),e.code(r._`${i.default.errors}++`)}function a(e,t){const{gen:n,validateName:o,schemaEnv:i}=e;i.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${o}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,o,i){const{it:c}=e,{gen:l,compositeRule:f,allErrors:d}=c,h=u(e,n,o);(null!==i&&void 0!==i?i:f||d)?s(l,h):a(c,r._`[${h}]`)},t.reportExtraError=function(e,n=t.keywordError,r){const{it:o}=e,{gen:c,compositeRule:l,allErrors:f}=o;s(c,u(e,n,r)),l||f||a(o,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(r._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:o,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,i.default.errors,(s=>{e.const(c,r._`${i.default.vErrors}[${s}]`),e.if(r._`${c}.instancePath === undefined`,(()=>e.assign(r._`${c}.instancePath`,(0,r.strConcat)(i.default.instancePath,a.errorPath)))),e.assign(r._`${c}.schemaPath`,r.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(r._`${c}.schema`,n),e.assign(r._`${c}.data`,o))}))};const c={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function u(e,t,n){const{createErrors:o}=e.it;return!1===o?r._`{}`:function(e,t,n={}){const{gen:o,it:s}=e,a=[l(s,n),f(e,n)];return function(e,{params:t,message:n},o){const{keyword:s,data:a,schemaValue:u,it:l}=e,{opts:f,propertyName:d,topSchemaRef:h,schemaPath:p}=l;o.push([c.keyword,s],[c.params,"function"==typeof t?t(e):t||r._`{}`]),f.messages&&o.push([c.message,"function"==typeof n?n(e):n]);f.verbose&&o.push([c.schema,u],[c.parentSchema,r._`${h}${p}`],[i.default.data,a]);d&&o.push([c.propertyName,d])}(e,t,a),o.object(...a)}(e,t,n)}function l({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,o.getErrorPath)(t,o.Type.Str)}`:e;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,n)]}function f({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let s=i?t:r.str`${t}/${e}`;return n&&(s=r.str`${s}${(0,o.getErrorPath)(n,o.Type.Str)}`),[c.schemaPath,s]}},2478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(8461),o=n(4007),i=n(5077),s=n(7679),a=n(950),c=n(5700);class u{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null===n||void 0===n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function l(e){const t=d.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,f=new r.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let h;e.$async&&(h=f.scopeValue("Error",{ref:o.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const p=f.scopeName("validate");e.validateName=p;const m={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,c.validateFunctionCode)(m),f.optimize(this.opts.code.optimize);const t=f.toString();y=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const n=new Function(`${i.default.self}`,`${i.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:p,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(g){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),g}finally{this._compilations.delete(e)}}function f(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function d(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function h(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||p.call(this,e,t)}function p(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let o=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===o)return y.call(this,n,e);const i=(0,s.normalizeId)(r),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=p.call(this,e,a);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return y.call(this,n,t)}if("object"===typeof(null===a||void 0===a?void 0:a.schema)){if(a.validate||l.call(this,a),i===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,r)),new u({schema:t,schemaId:n,root:e,baseId:o})}return y.call(this,n,a)}}t.SchemaEnv=u,t.compileSchema=l,t.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let i=h.call(this,e,n);if(void 0===i){const o=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;o&&(i=new u({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==i?e.refs[n]=f.call(this,i):void 0},t.getCompilingSchema=d,t.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:n,root:r}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const u of e.fragment.slice(1).split("/")){if("boolean"===typeof n)return;const e=n[(0,a.unescapeFragment)(u)];if(void 0===e)return;const r="object"===typeof(n=e)&&n[this.opts.schemaId];!m.has(u)&&r&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,r))}let i;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=p.call(this,r,e)}const{schemaId:c}=this.opts;return i=i||new u({schema:n,schemaId:c,root:r,baseId:t}),i.schema!==i.root.schema?i:void 0}},5077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=o},2381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7679);class o extends Error{constructor(e,t,n,o){super(o||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=o},7679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(950),o=n(4063),i=n(5136),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function u(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=u(e))),t===1/0))return 1/0}return t}function l(e,t="",n){!1!==n&&(t=h(t));const r=e.parse(t);return f(e,r)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=f;const d=/#\/?$/;function h(e){return e?e.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,n){return n=h(n),e.resolve(t,n)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=h(e[n]||t),a={"":s},c=l(r,s,!1),u={},f=new Set;return i(e,{allKeys:!0},((e,t,r,o)=>{if(void 0===o)return;const i=c+t;let s=a[o];function l(t){const n=this.opts.uriResolver.resolve;if(t=h(s?n(s,t):t),f.has(t))throw m(t);f.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?d(e,r.schema,t):t!==h(i)&&("#"===t[0]?(d(e,u[t],t),u[t]=e):this.refs[t]=i),t}function y(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=l.call(this,e[n])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),a[t]=s})),u;function d(e,t,n){if(void 0!==t&&!o(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},8803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(8461),o=n(826);function i(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"===typeof t)return;const o=r.RULES.keywords;for(const i in t)o[i]||p(e,`unknown keyword: "${i}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:o}){return(i,s,a,c)=>{const u=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?e(i,s,a):t(i,s,a),a):s instanceof r.Name?(t(i,a,s),s):n(s,a);return c!==r.Name||u instanceof r.Name?u:o(i,u)}}function l(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&f(e,n,t),n}function f(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,o,i){if(!i){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(o)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),f(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=f;const d={};var h;function p(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new o._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(h=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const o=t===h.Num;return n?o?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:o?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},1134:function(e,t){"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},r){const o=t.RULES.types[r];return o&&!0!==o&&n(e,o)},t.shouldUseGroup=n,t.shouldUseRule=r},7122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(2024),o=n(8461),i=n(5077),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:o}=e,i={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(i,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign(o._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},5298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(8803),o=n(1134),i=n(2024),s=n(8461),a=n(950);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:i}=e,a=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(u){const o=d(t,r,i.strictNumbers,c.Wrong);n.if(o,(()=>{a.length?function(e,t,n){const{gen:r,data:o,opts:i}=e,a=r.let("dataType",s._`typeof ${o}`),c=r.let("coerced",s._`undefined`);"array"===i.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>r.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(d(t,o,i.strictNumbers),(()=>r.assign(c,o)))));r.if(s._`${c} !== undefined`);for(const s of n)(l.has(s)||"array"===s&&"array"===i.coerceTypes)&&u(s);function u(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(c,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(c,s._`+${o}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,s._`+${o}`);case"boolean":return void r.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(c,!0);case"null":return r.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void r.assign(c,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(c,s._`[${o}]`)}}r.else(),p(e),r.endIf(),r.if(s._`${c} !== undefined`,(()=>{r.assign(o,c),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,c)}))}(e,t,a):p(e)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function f(e,t,n,r=c.Correct){const o=r===c.Correct?s.operators.EQ:s.operators.NEQ;let i;switch(e){case"null":return s._`${t} ${o} null`;case"array":i=s._`Array.isArray(${t})`;break;case"object":i=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return s._`typeof ${t} ${o} ${e}`}return r===c.Correct?i:(0,s.not)(i);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function d(e,t,n,r){if(1===e.length)return f(e[0],t,n,r);let o;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=s._`typeof ${t} != "object"`;o=i.null?e:s._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=s.nil;i.number&&delete i.integer;for(const a in i)o=(0,s.and)(o,f(a,t,n,r));return o}t.checkDataType=f,t.checkDataTypes=d;const h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:n,schema:r}=e,o=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:o,schemaValue:o,parentSchema:r,params:{},it:e}}(e);(0,i.reportError)(t,h)}t.reportTypeError=p},7054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(8461),o=n(950);function i(e,t,n){const{gen:i,compositeRule:s,data:a,opts:c}=e;if(void 0===n)return;const u=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,o.checkStrictMode)(e,`default is ignored for: ${u}`);let l=r._`${u} === undefined`;"empty"===c.useDefaults&&(l=r._`${l} || ${u} === null || ${u} === ""`),i.if(l,r._`${u} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const o in n)i(e,o,n[o].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>i(e,n,t.default)))}},5700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(7122),o=n(5298),i=n(1134),s=n(5298),a=n(7054),c=n(3134),u=n(5197),l=n(8461),f=n(5077),d=n(7679),h=n(950),p=n(2024);function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:o},i){o.code.es5?e.func(t,l._`${f.default.data}, ${f.default.valCxt}`,r.$async,(()=>{e.code(l._`"use strict"; ${y(n,o)}`),function(e,t){e.if(f.default.valCxt,(()=>{e.var(f.default.instancePath,l._`${f.default.valCxt}.${f.default.instancePath}`),e.var(f.default.parentData,l._`${f.default.valCxt}.${f.default.parentData}`),e.var(f.default.parentDataProperty,l._`${f.default.valCxt}.${f.default.parentDataProperty}`),e.var(f.default.rootData,l._`${f.default.valCxt}.${f.default.rootData}`),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`${f.default.valCxt}.${f.default.dynamicAnchors}`)}),(()=>{e.var(f.default.instancePath,l._`""`),e.var(f.default.parentData,l._`undefined`),e.var(f.default.parentDataProperty,l._`undefined`),e.var(f.default.rootData,f.default.data),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`{}`)}))}(e,o),e.code(i)})):e.func(t,l._`${f.default.data}, ${function(e){return l._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${e.dynamicRef?l._`, ${f.default.dynamicAnchors}={}`:l.nil}}={}`}(o)}`,r.$async,(()=>e.code(y(n,o)).code(i)))}function y(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?l._`/*# sourceURL=${n} */`:l.nil}function g(e,t){b(e)&&(w(e),v(e))?function(e,t){const{schema:n,gen:r,opts:o}=e;o.$comment&&n.$comment&&_(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=r.const("_errs",f.default.errors);E(e,i),r.var(t,l._`${i} === ${f.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function w(e){(0,h.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:o}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function E(e,t){if(e.opts.jtd)return T(e,[],!1,t);const n=(0,o.getSchemaTypes)(e.schema);T(e,n,!(0,o.coerceAndCheckDataType)(e,n),t)}function _({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:o}){const i=n.$comment;if(!0===o.$comment)e.code(l._`${f.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const n=l.str`${r}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(l._`${f.default.self}.opts.$comment(${i}, ${n}, ${o}.schema)`)}}function T(e,t,n,r){const{gen:o,schema:a,data:c,allErrors:u,opts:d,self:p}=e,{RULES:m}=p;function y(h){(0,i.shouldUseGroup)(a,h)&&(h.type?(o.if((0,s.checkDataType)(h.type,c,d.strictNumbers)),S(e,h),1===t.length&&t[0]===h.type&&n&&(o.else(),(0,s.reportTypeError)(e)),o.endIf()):S(e,h),u||o.if(l._`${f.default.errors} === ${r||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(a,m)?(d.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{N(e.dataTypes,t)||O(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const r of e.dataTypes)N(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&O(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const r in n){const o=n[r];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some((e=>I(t,e)))&&O(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes)}(e,t),o.block((()=>{for(const e of m.rules)y(e);y(m.post)}))):o.block((()=>x(e,"$ref",m.all.$ref.definition)))}function S(e,t){const{gen:n,schema:r,opts:{useDefaults:o}}=e;o&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,i.shouldUseRule)(r,n)&&x(e,n.keyword,n.definition,t.type)}))}function I(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function N(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function O(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){b(e)&&(w(e),v(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&_(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(f.default.vErrors,null),r.let(f.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",l._`${n}.evaluated`),t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`))),t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}(e),E(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:o,opts:i}=e;n.$async?t.if(l._`${f.default.errors} === 0`,(()=>t.return(f.default.data)),(()=>t.throw(l._`new ${o}(${f.default.vErrors})`))):(t.assign(l._`${r}.errors`,f.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof l.Name&&e.assign(l._`${t}.props`,n);r instanceof l.Name&&e.assign(l._`${t}.items`,r)}(e),t.return(l._`${f.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class A{constructor(e,t,n){if((0,c.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",C(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",f.default.errors))}result(e,t,n){this.failResult((0,l.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,l.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${(0,l.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=l.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:o,def:i}=this;n.if((0,l.or)(l._`${r} === undefined`,t)),e!==l.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==l.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:o}=this;return(0,l.or)(function(){if(n.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return l._`${(0,s.checkDataTypes)(e,t,o.opts.strictNumbers,s.DataType.Wrong)}`}return l.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return l._`!${n}(${t})`}return l.nil}())}subschema(e,t){const n=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(n,this.it,e),(0,u.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return g(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=h.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=h.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,l.Name))),!0}}function x(e,t,n,r){const o=new A(e,n,t);"code"in n?n.code(o,r):o.$data&&n.validate?(0,c.funcKeywordCode)(o,n):"macro"in n?(0,c.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,c.funcKeywordCode)(o,n)}t.KeywordCxt=A;const k=/^\/(?:[^~]|~0|~1)*$/,$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function C(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let o,i;if(""===e)return f.default.rootData;if("/"===e[0]){if(!k.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=f.default.rootData}else{const s=$.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(o=s[2],"#"===o){if(a>=t)throw new Error(c("property/index",a));return r[t-a]}if(a>t)throw new Error(c("data",a));if(i=n[t-a],!o)return i}let s=i;const a=o.split("/");for(const u of a)u&&(i=l._`${i}${(0,l.getProperty)((0,h.unescapeJsonPointer)(u))}`,s=l._`${s} && ${i}`);return s;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=C},3134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(8461),o=n(5077),i=n(874),s=n(2024);function a(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,(()=>t.assign(n,r._`${o.parentData}[${o.parentDataProperty}]`)))}function c(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:o,schema:i,parentSchema:s,it:a}=e,u=t.macro.call(a.self,i,s,a),l=c(n,o,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const f=n.name("valid");e.subschema({schema:u,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${o}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:u,keyword:l,schema:f,parentSchema:d,$data:h,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const m=!h&&t.compile?t.compile.call(p.self,f,d,p):t.validate,y=c(u,l,m),g=u.let("valid");function v(n=(t.async?r._`await `:r.nil)){const s=p.opts.passContext?o.default.this:o.default.self,a=!("compile"in t&&!h||!1===t.schema);u.assign(g,r._`${n}${(0,i.callValidateCode)(e,y,s,a)}`,t.modifying)}function b(e){var n;u.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:g),e)}e.block$data(g,(function(){if(!1===t.errors)v(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=u.let("ruleErrs",null);return u.try((()=>v(r._`await `)),(t=>u.assign(g,!1).if(r._`${t} instanceof ${p.ValidationError}`,(()=>u.assign(e,r._`${t}.errors`)),(()=>u.throw(t))))),e}():function(){const e=r._`${y}.errors`;return u.assign(e,null),v(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(o.default.vErrors,r._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,r._`${o.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:g)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const s=o.dependencies;if(null===s||void 0===s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema){if(!o.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(o.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}},5197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(8461),o=n(950);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,o.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:s,dataTypes:a,propertyName:c}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:c}=t;l(u.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${s}${(0,o.getErrorPath)(n,i,c.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==s){l(s instanceof r.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)}function l(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:o,allErrors:i}){void 0!==r&&(e.compositeRule=r),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}},623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(5700);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var o=n(8461);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const i=n(4007),s=n(2381),a=n(8803),c=n(2478),u=n(8461),l=n(7679),f=n(5298),d=n(950),h=n(7099),p=n(579),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,r,o,i,s,a,c,u,l,f,d,h,y,g,v,b,w,E,_,T,S,I,N,O;const A=e.strict,x=null===(t=e.code)||void 0===t?void 0:t.optimize,k=!0===x||void 0===x?1:x||0,$=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,C=null!==(o=e.uriResolver)&&void 0!==o?o:p.default;return{strictSchema:null===(s=null!==(i=e.strictSchema)&&void 0!==i?i:A)||void 0===s||s,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:A)||void 0===c||c,strictTypes:null!==(l=null!==(u=e.strictTypes)&&void 0!==u?u:A)&&void 0!==l?l:"log",strictTuples:null!==(d=null!==(f=e.strictTuples)&&void 0!==f?f:A)&&void 0!==d?d:"log",strictRequired:null!==(y=null!==(h=e.strictRequired)&&void 0!==h?h:A)&&void 0!==y&&y,code:e.code?{...e.code,optimize:k,regExp:$}:{optimize:k,regExp:$},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(E=e.inlineRefs)||void 0===E||E,schemaId:null!==(_=e.schemaId)&&void 0!==_?_:"$id",addUsedSchema:null===(T=e.addUsedSchema)||void 0===T||T,validateSchema:null===(S=e.validateSchema)||void 0===S||S,validateFormats:null===(I=e.validateFormats)||void 0===I||I,unicodeRegExp:null===(N=e.unicodeRegExp)||void 0===N||N,int32range:null===(O=e.int32range)||void 0===O||O,uriResolver:C}}class E{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:t,lines:n}),this.logger=function(e){if(!1===e)return A;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),_.call(this,v,e,"NOT SUPPORTED"),_.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=O.call(this),e.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&N.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=h;"id"===n&&(r={...h},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await o.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function o(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await u.call(this,e);this.refs[e]||await o.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let o;if("object"===typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${t} must be string`)}return t=(0,l.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=T.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=T.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,l.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(k.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>$.call(this,e))),this;R.call(this,t);const r={...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>$.call(this,e,r):e=>r.type.forEach((t=>$.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,i=o[e];r&&i&&(o[e]=P(i))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;const{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,l.normalizeId)(i||n);const u=l.getSchemaRefs.call(this,e,n);return a=new c.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:u}),this._cache.set(a.schema,a),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),r&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,n,r="error"){for(const o in e){const i=o;i in t&&this.logger[r](`${n}: option ${o}. ${e[i]}`)}}function T(e){return e=(0,l.normalizeId)(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function I(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function N(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function O(){const e={...this.opts};for(const t of y)delete e[t];return e}t.default=E,E.ValidationError=i.default,E.MissingRefError=s.default;const A={log(){},warn(){},error(){}};const x=/^[a-z_$][a-z0-9_$:-]*$/i;function k(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!x.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function $(e,t,n){var r;const o=null===t||void 0===t?void 0:t.post;if(n&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=o?i.post:i.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)}};t.before?C.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function C(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function R(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=P(t)),e.validateSchema=this.compile(t,!0))}const D={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function P(e){return{anyOf:[e,D]}}},2444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4063);r.code='require("ajv/dist/runtime/equal").default',t.default=r},6670:function(e,t){"use strict";function n(e){const t=e.length;let n,r=0,o=0;for(;o<t;)r++,n=e.charCodeAt(o++),n>=55296&&n<=56319&&o<t&&(n=e.charCodeAt(o),56320===(64512&n)&&o++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(540);r.code='require("ajv/dist/runtime/uri").default',t.default=r},4007:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},9756:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(8461),o=n(950),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,o.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:i,data:s,keyword:a,it:c}=e;c.items=!0;const u=n.const("len",r._`${s}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(r._`${u} <= ${t.length}`);else if("object"==typeof i&&!(0,o.alwaysValidSchema)(c,i)){const i=n.var("valid",r._`${u} <= ${t.length}`);n.if((0,r.not)(i),(()=>function(i){n.forRange("i",t.length,u,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:o.Type.Num},i),c.allErrors||n.if((0,r.not)(i),(()=>n.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=s,t.default=i},9670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(874),o=n(8461),i=n(5077),s=n(950),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:c,errsCount:u,it:l}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:f,opts:d}=l;if(l.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(l,n))return;const h=(0,r.allSchemaProperties)(a.properties),p=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(o._`delete ${c}[${e}]`)}function y(r){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(f||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(l,n)){const n=t.name("valid");"failing"===d.removeAdditional?(g(r,n,!1),t.if((0,o.not)(n),(()=>{e.reset(),m(r)}))):(g(r,n),f||t.if((0,o.not)(n),(()=>t.break())))}}}function g(t,n,r){const o={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,n)}t.forIn("key",c,(n=>{h.length||p.length?t.if(function(n){let i;if(h.length>8){const e=(0,s.schemaRefOrVal)(l,a.properties,"properties");i=(0,r.isOwnProperty)(t,e,n)}else i=h.length?(0,o.or)(...h.map((e=>o._`${n} === ${e}`))):o.nil;return p.length&&(i=(0,o.or)(i,...p.map((t=>o._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,o.not)(i)}(n),(()=>y(n))):y(n)})),e.ok(o._`${u} === ${i.default.errors}`)}};t.default=a},7516:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(950),o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(o,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},i);e.ok(i),e.mergeEvaluated(s)}))}};t.default=o},5812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(874).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:s,it:a}=e;let c,u;const{minContains:l,maxContains:f}=i;a.opts.next?(c=void 0===l?1:l,u=f):c=1;const d=t.const("len",r._`${s}.length`);if(e.setParams({min:c,max:u}),void 0===u&&0===c)return void(0,o.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&c>u)return(0,o.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,o.alwaysValidSchema)(a,n)){let t=r._`${d} >= ${c}`;return void 0!==u&&(t=r._`${t} && ${d} <= ${u}`),void e.pass(t)}a.items=!0;const h=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===u?t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0).break())):(t.if(r._`${e} > ${u}`,(()=>t.assign(h,!1).break())),1===c?t.assign(h,!0):t.if(r._`${e} >= ${c}`,(()=>t.assign(h,!0))))}(n)))))}function m(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},n),r()}))}void 0===u&&1===c?m(h,(()=>t.if(h,(()=>t.break())))):0===c?(t.let(h,!0),void 0!==u&&t.if(r._`${s}.length > 0`,p)):(t.let(h,!1),p()),e.result(h,(()=>e.reset()))}};t.default=i},4853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(8461),o=n(950),i=n(874);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const o=1===t?"property":"properties";return r.str`must have ${o} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:o}})=>r._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e){if("__proto__"===r)continue;(Array.isArray(e[r])?t:n)[r]=e[r]}return[t,n]}(e);a(e,t),c(e,n)}};function a(e,t=e.schema){const{gen:n,data:o,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const l=(0,i.propertyInData)(n,o,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?n.if(l,(()=>{for(const t of u)(0,i.checkReportMissingProp)(e,t)})):(n.if(r._`${l} && (${(0,i.checkMissingProp)(e,u,a)})`),(0,i.reportMissingProp)(e,a),n.else())}}function c(e,t=e.schema){const{gen:n,data:r,keyword:s,it:a}=e,c=n.name("valid");for(const u in t)(0,o.alwaysValidSchema)(a,t[u])||(n.if((0,i.propertyInData)(n,r,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>n.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},3449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&(0,o.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const a=s(i,"then"),c=s(i,"else");if(!a&&!c)return;const u=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),a&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(l,f("then",n),f("else",n))}else a?t.if(l,f("then")):t.if((0,r.not)(l),f("else"));function f(n,o){return()=>{const i=e.subschema({keyword:n},l);t.assign(u,l),e.mergeValidEvaluated(i,u),o?t.assign(o,r._`${n}`):e.setParams({ifClause:n})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,o.alwaysValidSchema)(e,n)}t.default=i},1964:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9756),o=n(1849),i=n(2031),s=n(8089),a=n(220),c=n(4853),u=n(1523),l=n(9670),f=n(704),d=n(6125),h=n(8556),p=n(5812),m=n(4164),y=n(7516),g=n(3449),v=n(5846);t.default=function(e=!1){const t=[h.default,p.default,m.default,y.default,g.default,v.default,u.default,l.default,c.default,f.default,d.default];return e?t.push(o.default,s.default):t.push(r.default,i.default),t.push(a.default),t}},2031:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(8461),o=n(950),i=n(874),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,o.alwaysValidSchema)(n,t)||e.ok((0,i.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:i,parentSchema:s,data:a,keyword:c,it:u}=e;!function(e){const{opts:r,errSchemaPath:i}=u,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(r.strictTuples&&!a){const e=`"${c}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,o.checkStrictMode)(u,e,r.strictTuples)}}(s),u.opts.unevaluated&&n.length&&!0!==u.items&&(u.items=o.mergeEvaluated.items(i,n.length,u.items));const l=i.name("valid"),f=i.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,o.alwaysValidSchema)(u,t)||(i.if(r._`${f} > ${n}`,(()=>e.subschema({keyword:c,schemaProp:n,dataProp:n},l))),e.ok(l))}))}t.validateTuple=a,t.default=s},8089:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i=n(874),s=n(9756),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,o.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,i.validateArray)(e)))}};t.default=a},8556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(950),o={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:o}=e;if((0,r.alwaysValidSchema)(o,n))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=o},4164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&i.discriminator)return;const a=n,c=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block((function(){a.forEach(((n,i)=>{let a;(0,o.alwaysValidSchema)(s,n)?t.var(l,!0):a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},l),i>0&&t.if(r._`${l} && ${c}`).assign(c,!1).assign(u,r._`[${u}, ${i}]`).else(),t.if(l,(()=>{t.assign(c,!0),t.assign(u,i),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},6125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(874),o=n(8461),i=n(950),s=n(950),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:c,it:u}=e,{opts:l}=u,f=(0,r.allSchemaProperties)(n),d=f.filter((e=>(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length||d.length===f.length&&(!u.opts.unevaluated||!0===u.props))return;const h=l.strictSchema&&!l.allowMatchingProperties&&c.properties,p=t.name("valid");!0===u.props||u.props instanceof o.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));const{props:m}=u;function y(e){for(const t in h)new RegExp(e).test(t)&&(0,i.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(n){t.forIn("key",a,(i=>{t.if(o._`${(0,r.usePattern)(e,n)}.test(${i})`,(()=>{const r=d.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:s.Type.Str},p),u.opts.unevaluated&&!0!==m?t.assign(o._`${m}[${i}]`,!0):r||u.allErrors||t.if((0,o.not)(p),(()=>t.break()))}))}))}!function(){for(const e of f)h&&y(e),u.allErrors?g(e):(t.var(p,!0),g(e),t.if(p))}()}};t.default=a},1849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2031),o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=o},704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5700),o=n(874),i=n(950),s=n(9670),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(u,s.default,"additionalProperties"));const l=(0,o.allSchemaProperties)(n);for(const r of l)u.definedProperties.add(r);u.opts.unevaluated&&l.length&&!0!==u.props&&(u.props=i.mergeEvaluated.props(t,(0,i.toHash)(l),u.props));const f=l.filter((e=>!(0,i.alwaysValidSchema)(u,n[e])));if(0===f.length)return;const d=t.name("valid");for(const r of f)h(r)?p(r):(t.if((0,o.propertyInData)(t,c,r,u.opts.ownProperties)),p(r),u.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(d);function h(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==n[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=a},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:s}=e;if((0,o.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=i},5846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(950),o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=o},874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(8461),o=n(950),i=n(5077),s=n(950);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function c(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function u(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} === undefined`;return o?(0,r.or)(i,(0,r.not)(c(e,t,n))):i}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:o,it:i}=e;n.if(u(n,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},o,i){return(0,r.or)(...o.map((o=>(0,r.and)(u(e,t,o,n.ownProperties),r._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,n,o){const i=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return o?r._`${i} && ${c(e,t,n)}`:i},t.noPropertyInData=u,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((n=>!(0,o.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:o,schemaPath:s,errorPath:a},it:c},u,l,f){const d=f?r._`${e}, ${t}, ${o}${s}`:t,h=[[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,a)],[i.default.parentData,c.parentData],[i.default.parentDataProperty,c.parentDataProperty],[i.default.rootData,i.default.rootData]];c.opts.dynamicRef&&h.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const p=r._`${d}, ${n.object(...h)}`;return l!==r.nil?r._`${u}.call(${l}, ${p})`:r._`${u}(${p})`};const f=r._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const o=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(n,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:r._`${"new RegExp"===i.code?f:(0,s.useFunc)(e,i)}(${n}, ${o})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",r._`${n}.length`);t.forRange("i",0,c,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:o.Type.Num},a),t.if((0,r.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,o.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>n.forEach(((n,o)=>{const s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},c);t.assign(a,r._`${a} || ${c}`);e.mergeValidEvaluated(s,c)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},9899:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},9265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9899),o=n(3672),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,o.default];t.default=i},3672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(2381),o=n(874),i=n(8461),s=n(5077),a=n(2478),c=n(950),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:o}=e,{baseId:s,schemaEnv:c,validateName:u,opts:d,self:h}=o,{root:p}=c;if(("#"===n||"#/"===n)&&s===p.baseId)return function(){if(c===p)return f(e,u,c,c.$async);const n=t.scopeValue("root",{ref:p});return f(e,i._`${n}.validate`,p,p.$async)}();const m=a.resolveRef.call(h,p,s,n);if(void 0===m)throw new r.default(o.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=l(e,t);f(e,n,t,t.$async)}(m):function(r){const o=t.scopeValue("schema",!0===d.code.source?{ref:r,code:(0,i.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function l(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):i._`${n.scopeValue("wrapper",{ref:t})}.validate`}function f(e,t,n,r){const{gen:a,it:u}=e,{allErrors:l,schemaEnv:f,opts:d}=u,h=d.passContext?s.default.this:i.nil;function p(e){const t=i._`${e}.errors`;a.assign(s.default.vErrors,i._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,i._`${s.default.vErrors}.length`)}function m(e){var t;if(!u.opts.unevaluated)return;const r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(r&&!r.dynamicProps)void 0!==r.props&&(u.props=c.mergeEvaluated.props(a,r.props,u.props));else{const t=a.var("props",i._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,i.Name)}if(!0!==u.items)if(r&&!r.dynamicItems)void 0!==r.items&&(u.items=c.mergeEvaluated.items(a,r.items,u.items));else{const t=a.var("items",i._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,i.Name)}}r?function(){if(!f.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(i._`await ${(0,o.callValidateCode)(e,t,h)}`),m(t),l||a.assign(n,!0)}),(e=>{a.if(i._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),l||a.assign(n,!1)})),e.ok(n)}():e.result((0,o.callValidateCode)(e,t,h),(()=>m(t)),(()=>p(t)))}t.getValidate=l,t.callRef=f,t.default=u},5451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(5447),i=n(2478),s=n(950),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:c,it:u}=e,{oneOf:l}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=a.propertyName;if("string"!=typeof f)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),h=t.const("tag",r._`${n}${(0,r.getProperty)(f)}`);function p(n){const o=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},o);return e.mergeEvaluated(i,r.Name),o}t.if(r._`typeof ${h} == "string"`,(()=>function(){const n=function(){var e;const t={},n=o(c);let r=!0;for(let c=0;c<l.length;c++){let t=l[c];(null===t||void 0===t?void 0:t.$ref)&&!(0,s.schemaHasRulesButRef)(t,u.self.RULES)&&(t=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null===t||void 0===t?void 0:t.$ref),t instanceof i.SchemaEnv&&(t=t.schema));const d=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[f];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);r=r&&(n||o(t)),a(d,c)}if(!r)throw new Error(`discriminator: "${f}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(f)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${f}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${h} === ${e}`),t.assign(d,p(n[e]));t.else(),e.error(!1,{discrError:o.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}()),(()=>e.error(!1,{discrError:o.DiscrError.Tag,tag:h,tagName:f}))),e.ok(d)}};t.default=a},5447:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9265),o=n(7978),i=n(1964),s=n(9179),a=n(6001),c=[r.default,o.default,(0,i.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},9079:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:o,$data:i,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:d}=c;u.validateFormats&&(i?function(){const i=n.scopeValue("formats",{ref:d.formats,code:u.code.formats}),s=n.const("fDef",r._`${i}[${a}]`),c=n.let("fType"),l=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(c,r._`${s}.type || "string"`).assign(l,r._`${s}.validate`)),(()=>n.assign(c,r._`"string"`).assign(l,s))),e.fail$data((0,r.or)(!1===u.strictSchema?r.nil:r._`${a} && !${l}`,function(){const e=f.$async?r._`(${s}.async ? await ${l}(${o}) : ${l}(${o}))`:r._`${l}(${o})`,n=r._`(typeof ${l} == "function" ? ${e} : ${l}.test(${o}))`;return r._`${l} && ${l} !== true && ${c} === ${t} && !${n}`}()))}():function(){const i=d.formats[s];if(!i)return void function(){if(!1===u.strictSchema)return void d.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${l}"`}}();if(!0===i)return;const[a,c,h]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):u.code.formats?r._`${u.code.formats}${(0,r.getProperty)(s)}`:void 0,o=n.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,r._`${o}.validate`];return["string",e,o]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!f.$async)throw new Error("async format in sync schema");return r._`await ${h}(${o})`}return"function"==typeof c?r._`${h}(${o})`:r._`${h}.test(${o})`}())}())}};t.default=o},9179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(9079).default];t.default=r},6001:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},3198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i=n(2444),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:c}=e;s||c&&"object"==typeof c?e.fail$data(r._`!${(0,o.useFunc)(t,i.default)}(${n}, ${a})`):e.fail(r._`${c} !== ${n}`)}};t.default=s},3186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i=n(2444),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:c,it:u}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const l=a.length>=u.opts.loopEnum;let f;const d=()=>null!==f&&void 0!==f?f:f=(0,o.useFunc)(t,i.default);let h;if(l||s)h=t.let("valid"),e.block$data(h,(function(){t.assign(h,!1),t.forOf("v",c,(e=>t.if(r._`${d()}(${n}, ${e})`,(()=>t.assign(h,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);h=(0,r.or)(...a.map(((t,o)=>function(e,t){const o=a[t];return"object"===typeof o&&null!==o?r._`${d()}(${n}, ${e}[${t}])`:r._`${n} === ${o}`}(e,o))))}e.pass(h)}};t.default=s},7978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(949),o=n(3229),i=n(6346),s=n(1244),a=n(2561),c=n(9798),u=n(5767),l=n(9320),f=n(3198),d=n(3186),h=[r.default,o.default,i.default,s.default,a.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=h},5767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${i} ${o}`)}};t.default=o},6346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=n(950),i=n(6670),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,c="maxLength"===t?r.operators.GT:r.operators.LT,u=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,o.useFunc)(e.gen,i.default)}(${n})`;e.fail$data(r._`${u} ${c} ${s}`)}};t.default=s},949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o=r.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>r.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data(r._`${n} ${i[t].fail} ${o} || isNaN(${n})`)}};t.default=a},2561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o}=e,i="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${i} ${o}`)}};t.default=o},3229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8461),o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,a=t.let("res"),c=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${o} === 0 || (${a} = ${n}/${o}, ${c}))`)}};t.default=o},1244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(874),o=n(8461),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:s,it:a}=e,c=a.opts.unicodeRegExp?"u":"",u=n?o._`(new RegExp(${s}, ${c}))`:(0,r.usePattern)(e,i);e.fail$data(o._`!${u}.test(${t})`)}};t.default=i},9798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(874),o=n(8461),i=n(950),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:c,it:u}=e,{opts:l}=u;if(!c&&0===n.length)return;const f=n.length>=l.loopRequired;if(u.allErrors?function(){if(f||c)e.block$data(o.nil,d);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(f||c){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,i){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(i,(0,r.propertyInData)(t,a,n,l.ownProperties)),t.if((0,o.not)(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,i)),(0,r.reportMissingProp)(e,i),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(u,t,u.opts.strictRequired)}}function d(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,l.ownProperties),(()=>e.error()))}))}}};t.default=s},9320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5298),o=n(8461),i=n(950),s=n(2444),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:c,parentSchema:u,schemaCode:l,it:f}=e;if(!a&&!c)return;const d=t.let("valid"),h=u.items?(0,r.getSchemaTypes)(u.items):[];function p(i,s){const a=t.name("item"),c=(0,r.checkDataTypes)(h,a,f.opts.strictNumbers,r.DataType.Wrong),u=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(a,o._`${n}[${i}]`),t.if(c,o._`continue`),h.length>1&&t.if(o._`typeof ${a} == "string"`,o._`${a} += "_"`),t.if(o._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,o._`${u}[${a}]`),e.error(),t.assign(d,!1).break()})).code(o._`${u}[${a}] = ${i}`)}))}function m(r,a){const c=(0,i.useFunc)(t,s.default),u=t.name("outer");t.label(u).for(o._`;${r}--;`,(()=>t.for(o._`${a} = ${r}; ${a}--;`,(()=>t.if(o._`${c}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(u)}))))))}e.block$data(d,(function(){const r=t.let("i",o._`${n}.length`),i=t.let("j");e.setParams({i:r,j:i}),t.assign(d,!0),t.if(o._`${r} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?p:m)(r,i)))}),o._`${l} === false`),e.ok(d)}};t.default=a},5136:function(e){"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,o,i,s,a,c,u,l,f){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in r(i,s,a,c,u,l,f),i){var h=i[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var p=0;p<h.length;p++)n(e,r,o,h[p],s+"/"+d+"/"+p,a,s,d,i,p)}else if(d in t.propsKeywords){if(h&&"object"==typeof h)for(var m in h)n(e,r,o,h[m],s+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,i,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,r,o,h,s+"/"+d,a,s,d,i)}o(i,s,a,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},9742:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=c(e),s=i[0],a=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(u(e,a,a+s>c?c:a+s));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:function(e,t,n){"use strict";const r=n(9742),o=n(645),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||W(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(o)return r?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(W(r))return s;e[n+s]=r}return s}function E(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function _(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return H(J(t),e,n,r)}function S(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128===(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128===(192&n)&&128===(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Q(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?N(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),u=this.slice(r,o),l=e.slice(t,n);for(let c=0;c<a;++c)if(u[c]!==l[c]){i=u[c],s=l[c];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function A(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=Y[e[i]];return o}function $(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function C(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function P(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const F={};function U(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(r,o,i)}function q(e,t){if("number"!==typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=B(String(n)):"bigint"===typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=B(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function J(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},5456:function(e){"use strict";e.exports=function e(t){if("number"===typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"===typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");if(null===t||"object"!==typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){return`[${t.reduce(((t,n,r)=>`${t}${0===r?"":","}${e(void 0===n||"symbol"===typeof n?null:n)}`),"")}]`}return`{${Object.keys(t).sort().reduce(((n,r)=>{if(void 0===t[r]||"symbol"===typeof t[r])return n;return`${n}${0===n.length?"":","}${e(r)}:${e(t[r])}`}),"")}}`}},6497:function(e,t,n){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(8764).Buffer.isBuffer},4098:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[u(e)]},d.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},d.prototype.set=function(e,t){this.map[u(e)]=l(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];_.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(I){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,i){var s=new b(e,n);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:E(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new _(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=d,e.Request=b,e.Response=_),t.Headers=d,t.Request=b,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},5933:function(e,t,n){"use strict";var r,o=n(3454),i=function(){function e(e,t){if("function"!==typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(e&&!1===e.batch)return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!==typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return s;if("function"!==typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!==typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(e&&!1===e.cache)return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!==typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}(t),this._batch=null,this.name=function(e){if(e&&e.name)return e.name;return null}(t)}var t=e.prototype;return t.load=function(e){if(null===e||void 0===e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void c(t);var n;try{n=e._batchLoadFn(t.keys)}catch(r){return a(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(r)+"."))}if(!n||"function"!==typeof n.then)return a(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!u(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));c(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){a(e,t,n)}))}(e,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var o=n.get(r);if(o){var i=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){i.push((function(){e(o)}))}))}}t.keys.push(e);var s=new Promise((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,s),s},t.loadMany=function(e){if(!u(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,o=this._cacheKeyFn(e);if(void 0===n.get(o))t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(o,r)}return this},e}(),s="object"===typeof o&&"function"===typeof o.nextTick?function(e){r||(r=Promise.resolve()),r.then((function(){o.nextTick(e)}))}:"function"===typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function a(e,t,n){c(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function c(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function u(e){return"object"===typeof e&&null!==e&&"number"===typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=i},3631:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserInfo:function(){return i},NodeInfo:function(){return s},SearchBotDeviceInfo:function(){return a},BotInfo:function(){return c},ReactNativeInfo:function(){return u},detect:function(){return h},browserName:function(){return m},parseUserAgent:function(){return y},detectOS:function(){return g},getNodeVersion:function(){return v}});var r=n(3454),o=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform},a=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!==typeof navigator?y(navigator.userAgent):v()}function p(e){return""!==e&&f.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}function m(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new c;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<3&&(s=o(o([],s,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-s.length),!0)):s=[];var u=s.join("."),f=g(e),d=l.exec(e);return d&&d[1]?new a(n,u,f,d[1]):new i(n,u,f)}function g(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],o=r[0];if(r[1].exec(e))return o}return null}function v(){return"undefined"!==typeof r&&r.version?new s(r.version.slice(1)):null}},2840:function(e,t,n){var r=n(3454),o=n(778),i=function(){},s=function(e,t,n){if("function"===typeof t)return s(e,null,t);t||(t={}),n=o(n||i);var a=e._writableState,c=e._readableState,u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,u||n.call(e)},p=function(){u=!1,l||n.call(e)},m=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){n.call(e,t)},g=function(){r.nextTick(v)},v=function(){if(!f)return(!u||c&&c.ended&&!c.destroyed)&&(!l||a&&a.ended&&!a.destroyed)?void 0:n.call(e,new Error("premature close"))},b=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?l&&!a&&(e.on("end",d),e.on("close",d)):(e.on("complete",h),e.on("abort",g),e.req?b():e.on("request",b)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",m),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",g),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",b),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",g)}};e.exports=s},2294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const r=n(4445);class o extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return r.default(this.serialize(),i,2)}}t.EthereumRpcError=o;function i(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=class extends o{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}},2662:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const r=n(2294),o=n(8753),i=n(2662);function s(e,t){const[n,i]=c(t);return new r.EthereumRpcError(e,n||o.getMessageFromCode(e),i)}function a(e,t){const[n,i]=c(t);return new r.EthereumProviderError(e,n||o.getMessageFromCode(e),i)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}t.ethErrors={rpc:{parse:e=>s(i.errorCodes.rpc.parse,e),invalidRequest:e=>s(i.errorCodes.rpc.invalidRequest,e),invalidParams:e=>s(i.errorCodes.rpc.invalidParams,e),methodNotFound:e=>s(i.errorCodes.rpc.methodNotFound,e),internal:e=>s(i.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(i.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>s(i.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>s(i.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>s(i.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>s(i.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>s(i.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(i.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(i.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(i.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(i.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(i.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:o}=e;if(!n||"string"!==typeof n)throw new Error('"message" must be a nonempty string');return new r.EthereumProviderError(t,n,o)}}}},9826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const r=n(2294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return r.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return r.EthereumProviderError}});const o=n(8753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return o.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}});const i=n(8797);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});const s=n(2662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})},8753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const r=n(2662),o=n(2294),i=r.errorCodes.rpc.internal,s={code:i,message:a(i)};function a(e,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const n=e.toString();if(f(r.errorValues,n))return r.errorValues[n].message;if(u(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function c(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!r.errorValues[t]||!!u(e)}function u(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=a,t.isValidCode=c,t.serializeError=function(e,{fallbackError:t=s,shouldIncludeStack:n=!1}={}){var r,i;if(!t||!Number.isInteger(t.code)||"string"!==typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof o.EthereumRpcError)return e.serialize();const u={};if(e&&"object"===typeof e&&!Array.isArray(e)&&f(e,"code")&&c(e.code)){const t=e;u.code=t.code,t.message&&"string"===typeof t.message?(u.message=t.message,f(t,"data")&&(u.data=t.data)):(u.message=a(u.code),u.data={originalError:l(e)})}else{u.code=t.code;const n=null===(r=e)||void 0===r?void 0:r.message;u.message=n&&"string"===typeof n?n:t.message,u.data={originalError:l(e)}}const d=null===(i=e)||void 0===i?void 0:i.stack;return n&&e&&d&&"string"===typeof d&&(u.stack=d),u}},3560:function(e,t,n){"use strict";var r=n(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const o=n(2830);class i extends o.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect())),this._log=()=>null}_onMessage(e){if(r.isBuffer(e)){const t=r.from(e);this._log(t,!1),this.push(t)}else this._log(e,!1),this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,n){try{if(r.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._log(t,!0),this._port.postMessage(t)}else this._log(e,!0),this._port.postMessage(e)}catch(o){return n(new Error("PortDuplexStream - disconnected"))}return n()}_setLogger(e){this._log=e}}t.default=i},4063:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},5035:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=i.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(s="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return i.splice(a,1),"{"+s+"}"}}(e)}},4445:function(e){e.exports=s,s.default=s,s.stable=l,s.stableStringify=l;var t="[...]",n="[Circular]",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(e,t,n,s){var a;"undefined"===typeof s&&(s=i()),c(e,"",0,[],void 0,0,s);try{a=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,d(t),n)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function a(e,t,n,i){var s=Object.getOwnPropertyDescriptor(i,n);void 0!==s.get?s.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,s])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,s,u,l){var f;if(u+=1,"object"===typeof e&&null!==e){for(f=0;f<i.length;f++)if(i[f]===e)return void a(n,e,r,s);if("undefined"!==typeof l.depthLimit&&u>l.depthLimit)return void a(t,e,r,s);if("undefined"!==typeof l.edgesLimit&&o+1>l.edgesLimit)return void a(t,e,r,s);if(i.push(e),Array.isArray(e))for(f=0;f<e.length;f++)c(e[f],f,f,i,e,u,l);else{var d=Object.keys(e);for(f=0;f<d.length;f++){var h=d[f];c(e[h],h,f,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,s){"undefined"===typeof s&&(s=i());var a,c=f(e,"",0,[],void 0,0,s)||e;try{a=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,d(t),n)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function f(e,o,i,s,c,l,d){var h;if(l+=1,"object"===typeof e&&null!==e){for(h=0;h<s.length;h++)if(s[h]===e)return void a(n,e,o,c);try{if("function"===typeof e.toJSON)return}catch(g){return}if("undefined"!==typeof d.depthLimit&&l>d.depthLimit)return void a(t,e,o,c);if("undefined"!==typeof d.edgesLimit&&i+1>d.edgesLimit)return void a(t,e,o,c);if(s.push(e),Array.isArray(e))for(h=0;h<e.length;h++)f(e[h],h,h,s,e,l,d);else{var p={},m=Object.keys(e).sort(u);for(h=0;h<m.length;h++){var y=m[h];f(e[y],y,h,s,e,l,d),p[y]=e[y]}if("undefined"===typeof c)return p;r.push([c,o,e]),c[o]=p}s.pop()}}function d(e){return e="undefined"!==typeof e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},5740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectionFromArray=o,t.connectionFromPromisedArray=function(e,t){return e.then((e=>o(e,t)))},t.connectionFromArraySlice=i,t.connectionFromPromisedArraySlice=function(e,t,n){return e.then((e=>i(e,t,n)))},t.offsetToCursor=a,t.cursorToOffset=c,t.cursorForObjectInConnection=function(e,t){const n=e.indexOf(t);if(-1===n)return null;return a(n)},t.getOffsetWithDefault=u;var r=n(4945);function o(e,t){return i(e,t,{sliceStart:0,arrayLength:e.length})}function i(e,t,n){const{after:r,before:o,first:i,last:s}=t,{sliceStart:c,arrayLength:l}=n,f=c+e.length;let d=Math.max(c,0),h=Math.min(f,l);const p=u(r,-1);0<=p&&p<l&&(d=Math.max(d,p+1));const m=u(o,h);if(0<=m&&m<l&&(h=Math.min(h,m)),"number"===typeof i){if(i<0)throw new Error('Argument "first" must be a non-negative integer');h=Math.min(h,d+i)}if("number"===typeof s){if(s<0)throw new Error('Argument "last" must be a non-negative integer');d=Math.max(d,h-s)}const y=e.slice(d-c,h-c).map(((e,t)=>({cursor:a(d+t),node:e}))),g=y[0],v=y[y.length-1],b=null!=r?p+1:0,w=null!=o?m:l;return{edges:y,pageInfo:{startCursor:g?g.cursor:null,endCursor:v?v.cursor:null,hasPreviousPage:"number"===typeof s&&d>b,hasNextPage:"number"===typeof i&&h<w}}}const s="arrayconnection:";function a(e){return(0,r.base64)(s+e.toString())}function c(e){return parseInt((0,r.unbase64)(e).substring(s.length),10)}function u(e,t){if("string"!==typeof e)return t;const n=c(e);return isNaN(n)?t:n}},6745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectionDefinitions=function(e){var t;const{nodeType:n}=e,o=null!==(t=e.name)&&void 0!==t?t:(0,r.getNamedType)(n).name,i=new r.GraphQLObjectType({name:o+"Edge",description:"An edge in a connection.",fields:()=>{var t;return{node:{type:n,resolve:e.resolveNode,description:"The item at the end of the edge"},cursor:{type:new r.GraphQLNonNull(r.GraphQLString),resolve:e.resolveCursor,description:"A cursor for use in pagination"},...(0,r.resolveObjMapThunk)(null!==(t=e.edgeFields)&&void 0!==t?t:{})}}}),s=new r.GraphQLObjectType({name:o+"Connection",description:"A connection to a list of items.",fields:()=>{var t;return{pageInfo:{type:new r.GraphQLNonNull(a),description:"Information to aid in pagination."},edges:{type:new r.GraphQLList(i),description:"A list of edges."},...(0,r.resolveObjMapThunk)(null!==(t=e.connectionFields)&&void 0!==t?t:{})}}});return{edgeType:i,connectionType:s}},t.connectionArgs=t.backwardConnectionArgs=t.forwardConnectionArgs=void 0;var r=n(7893);const o=Object.freeze({after:{type:r.GraphQLString,description:"Returns the items in the list that come after the specified cursor."},first:{type:r.GraphQLInt,description:"Returns the first n items from the list."}});t.forwardConnectionArgs=o;const i=Object.freeze({before:{type:r.GraphQLString,description:"Returns the items in the list that come before the specified cursor."},last:{type:r.GraphQLInt,description:"Returns the last n items from the list."}});t.backwardConnectionArgs=i;const s={...o,...i};t.connectionArgs=s;const a=new r.GraphQLObjectType({name:"PageInfo",description:"Information about pagination in a connection.",fields:()=>({hasNextPage:{type:new r.GraphQLNonNull(r.GraphQLBoolean),description:"When paginating forwards, are there more items?"},hasPreviousPage:{type:new r.GraphQLNonNull(r.GraphQLBoolean),description:"When paginating backwards, are there more items?"},startCursor:{type:r.GraphQLString,description:"When paginating backwards, the cursor to continue."},endCursor:{type:r.GraphQLString,description:"When paginating forwards, the cursor to continue."}})})},8863:function(e,t,n){"use strict";Object.defineProperty(t,"Zd",{enumerable:!0,get:function(){return r.connectionArgs}}),Object.defineProperty(t,"Tr",{enumerable:!0,get:function(){return r.connectionDefinitions}}),Object.defineProperty(t,"Fj",{enumerable:!0,get:function(){return i.mutationWithClientMutationId}}),Object.defineProperty(t,"SX",{enumerable:!0,get:function(){return s.nodeDefinitions}});var r=n(6745),o=n(5740),i=n(4955),s=n(6888),a=n(4423)},4955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mutationWithClientMutationId=function(e){const{name:t,inputFields:n,outputFields:o,mutateAndGetPayload:i}=e,s=new r.GraphQLObjectType({name:t+"Payload",fields:()=>({...(0,r.resolveObjMapThunk)(o),clientMutationId:{type:r.GraphQLString}})}),a=new r.GraphQLInputObjectType({name:t+"Input",fields:()=>({...(0,r.resolveObjMapThunk)(n),clientMutationId:{type:r.GraphQLString}})});return{type:s,description:e.description,deprecationReason:e.deprecationReason,extensions:e.extensions,args:{input:{type:new r.GraphQLNonNull(a)}},resolve:(e,{input:t},n,r)=>{const{clientMutationId:o}=t,s=i(t,n,r);return"function"===typeof(null===(a=s)||void 0===a?void 0:a.then)?s.then(c):c(s);var a;function c(e){return"object"===typeof e&&null!==e&&(e.clientMutationId=o),e}}}};var r=n(7893)},6888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeDefinitions=function(e,t){const n=new r.GraphQLInterfaceType({name:"Node",description:"An object with an ID",fields:()=>({id:{type:new r.GraphQLNonNull(r.GraphQLID),description:"The id of the object."}}),resolveType:t}),o={description:"Fetches an object given its ID",type:n,args:{id:{type:new r.GraphQLNonNull(r.GraphQLID),description:"The ID of an object"}},resolve:(t,{id:n},r,o)=>e(n,r,o)},i={description:"Fetches objects given their IDs",type:new r.GraphQLNonNull(new r.GraphQLList(n)),args:{ids:{type:new r.GraphQLNonNull(new r.GraphQLList(new r.GraphQLNonNull(r.GraphQLID))),description:"The IDs of objects"}},resolve:(t,{ids:n},r,o)=>n.map((t=>e(t,r,o)))};return{nodeInterface:n,nodeField:o,nodesField:i}},t.toGlobalId=i,t.fromGlobalId=function(e){const t=(0,o.unbase64)(e),n=t.indexOf(":");return{type:t.substring(0,n),id:t.substring(n+1)}},t.globalIdField=function(e,t){return{description:"The ID of an object",type:new r.GraphQLNonNull(r.GraphQLID),resolve:(n,r,o,s)=>i(null!==e&&void 0!==e?e:s.parentType.name,t?t(n,o,s):n.id)}};var r=n(7893),o=n(4945);function i(e,t){return(0,o.base64)([e,r.GraphQLID.serialize(t)].join(":"))}},4423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluralIdentifyingRootField=function(e){return{description:e.description,type:new r.GraphQLList(e.outputType),args:{[e.argName]:{type:new r.GraphQLNonNull(new r.GraphQLList(new r.GraphQLNonNull((0,r.getNullableType)(e.inputType))))}},resolve:(t,n,r,o)=>n[e.argName].map((t=>e.resolveSingleInput(t,r,o)))}};var r=n(7893)},4945:function(e,t){"use strict";function n(e){return a(e>>2&63)}function r(e,t){return a(63&(e<<4|t>>4))}function o(e,t){return a(63&(e<<2|t>>6))}function i(e){return a(63&e)}Object.defineProperty(t,"__esModule",{value:!0}),t.base64=function(e){const t=function(e){const t=[];for(const n of e){const e=n.codePointAt(0);e<128?t.push(e):e<2048?(t.push(192|e>>6),t.push(128|63&e)):e<65536?(t.push(224|e>>12),t.push(128|e>>6&63),t.push(128|63&e)):(t.push(240|e>>18),t.push(128|e>>12&63),t.push(128|e>>6&63),t.push(128|63&e))}return t}(e);let s="";const a=t.length,c=a%3;for(let u=0;u<a-c;u+=3){const e=t[u],a=t[u+1],c=t[u+2];s+=n(e),s+=r(e,a),s+=o(a,c),s+=i(c)}if(1===c){const e=t[a-1];s+=n(e)+r(e,0)+"=="}else if(2===c){const e=t[a-2],i=t[a-1];s+=n(e)+r(e,i)+o(i,0)+"="}return s},t.unbase64=function(e){const t=[];for(let r=0;r<e.length;r+=4){const n=c(e[r]),o=c(e[r+1]),i=c(e[r+2]),s=c(e[r+3]);if(-1===n||-1===o||-1===i||-1===s)return"";const a=n<<18|o<<12|i<<6|s;t.push(a>>16&255),t.push(a>>8&255),t.push(255&a)}let n=e.length-1;for(;"="===e[n];)--n,t.pop();return function(e){let t="";for(let n=0;n<e.length;){const r=e[n++];if(0===(128&r)){t+=u(r);continue}const o=e[n++];if(192===(224&r)){t+=u((31&r)<<6|63&o);continue}const i=e[n++];if(224===(240&r)){t+=u((15&r)<<12|(63&o)<<6|63&i);continue}t+=u((7&r)<<18|(63&o)<<12|(63&i)<<6|63&e[n++])}return t}(t)};const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(e){return s.charAt(e)}function c(e){return void 0===e?-1:"="===e?0:s.indexOf(e)}function u(e){return e>1114111?"":String.fromCodePoint(e)}},645:function(e,t){t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=256*i+e[t+f],f+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=u}return(h?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}},5717:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},4970:function(e){"use strict";const t=e=>null!==e&&"object"===typeof e&&"function"===typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"===typeof e._transform,e.exports=t},7398:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const o=r(n(759)),i=n(9826);class s extends o.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,r)=>{try{const[o,i,a]=await s._runAllMiddleware(e,t,this._middleware);return i?(await s._runReturnHandlers(a),r(o)):n((async e=>{try{await s._runReturnHandlers(a)}catch(t){return e(t)}return e()}))}catch(o){return r(o)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(n){if(t)return t(n);throw n}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,n)=>{t(n)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!==typeof e){const n=new i.EthereumRpcError(i.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(n,{id:void 0,jsonrpc:"2.0",error:n})}if("string"!==typeof e.method){const n=new i.EthereumRpcError(i.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(n,{id:e.id,jsonrpc:"2.0",error:n})}const n=Object.assign({},e),r={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,r)}catch(s){o=s}return o&&(delete r.result,r.error||(r.error=i.serializeError(o))),t(o,r)}async _processRequest(e,t){const[n,r,o]=await s._runAllMiddleware(e,t,this._middleware);if(s._checkForCompletion(e,t,r),await s._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(e,t,n){const r=[];let o=null,i=!1;for(const a of n)if([o,i]=await s._runMiddleware(e,t,a,r),i)break;return[o,i,r.reverse()]}static _runMiddleware(e,t,n,r){return new Promise((o=>{const s=e=>{const n=e||t.error;n&&(t.error=i.serializeError(n)),o([n,!0])},c=n=>{t.error?s(t.error):(n&&("function"!==typeof n&&s(new i.EthereumRpcError(i.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof n}" for request:\n${a(e)}`,{request:e})),r.push(n)),o([null,!1]))};try{n(e,t,c,s)}catch(u){s(u)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,n)=>{t((t=>t?n(t):e()))}))}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new i.EthereumRpcError(i.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${a(e)}`,{request:e});if(!n)throw new i.EthereumRpcError(i.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${a(e)}`,{request:e})}}function a(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=s},1841:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,n,r,o)=>{let i;const s=new Promise((e=>{i=e}));let a=null,c=!1;const u=async()=>{c=!0,r((e=>{a=e,i()})),await s};try{await e(t,n,u),c?(await s,a(null)):o(null)}catch(l){a?a(l):o(l)}}}},8508:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,n,r,o)=>{const i=e[t.method];return void 0===i?r():"function"===typeof i?i(t,n,r,o):(n.result=i,o())}}},3107:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const n=4294967295;let r=Math.floor(Math.random()*n);t.getUniqueId=function(){return r=(r+1)%n,r}},5086:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const r=n(3107);t.createIdRemapMiddleware=function(){return(e,t,n,o)=>{const i=e.id,s=r.getUniqueId();e.id=s,t.id=s,n((n=>{e.id=i,t.id=i,n()}))}}},8625:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(5086),t),o(n(1841),t),o(n(8508),t),o(n(3107),t),o(n(7398),t),o(n(9962),t)},9962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const r=n(7398);t.mergeMiddleware=function(e){const t=new r.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},759:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5293);function o(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout((()=>{throw r}))}}class i extends r.EventEmitter{emit(e,...t){let n="error"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if("function"===typeof i)o(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)o(n[r],this,t)}return!0}}t.default=i},1824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8473);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,n=new r.Duplex({objectMode:!0,read:()=>{},write:function(e,r,o){t.handle(e,((e,t)=>{n.push(t)})),o()}});return t.on&&t.on("notification",(e=>{n.push(e)})),n}},5399:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(9394)),i=n(8473);t.default=function(e={}){const t={},n=new i.Duplex({objectMode:!0,read:()=>{},write:function(n,o,i){let a=null;try{!n.id?function(n){(null===e||void 0===e?void 0:e.retryOnMessage)&&n.method===e.retryOnMessage&&Object.values(t).forEach((({req:e,retryCount:n=0})=>{if(e.id){if(n>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);t[e.id].retryCount=n+1,s(e)}}));r.emit("notification",n)}(n):function(e){const n=t[e.id];if(!n)return void console.warn(`StreamMiddleware - Unknown response id "${e.id}"`);delete t[e.id],Object.assign(n.res,e),setTimeout(n.end)}(n)}catch(c){a=c}i(a)}}),r=new o.default;return{events:r,middleware:(e,n,r,o)=>{t[e.id]={req:e,res:n,next:r,end:o},s(e)},stream:n};function s(e){n.push(e)}}},8758:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const o=r(n(1824));t.createEngineStream=o.default;const i=r(n(5399));t.createStreamMiddleware=i.default},3465:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",m="[object Set]",y="[object String]",g="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",_="[object Float64Array]",T="[object Int8Array]",S="[object Int16Array]",I="[object Int32Array]",N="[object Uint8Array]",O="[object Uint8ClampedArray]",A="[object Uint16Array]",x="[object Uint32Array]",k=/\w*$/,$=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,R={};R[i]=R["[object Array]"]=R[b]=R[w]=R[s]=R[a]=R[E]=R[_]=R[T]=R[S]=R[I]=R[l]=R[f]=R[d]=R[p]=R[m]=R[y]=R[g]=R[N]=R[O]=R[A]=R[x]=!0,R["[object Error]"]=R[c]=R[v]=!1;var D="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,P="object"==typeof self&&self&&self.Object===Object&&self,j=D||P||Function("return this")(),M=t&&!t.nodeType&&t,L=M&&e&&!e.nodeType&&e,F=L&&L.exports===M;function U(e,t){return e.set(t[0],t[1]),e}function B(e,t){return e.add(t),e}function V(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e,t){return function(n){return e(t(n))}}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var J=Array.prototype,H=Function.prototype,Q=Object.prototype,W=j["__core-js_shared__"],Y=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X=H.toString,Z=Q.hasOwnProperty,ee=Q.toString,te=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=F?j.Buffer:void 0,re=j.Symbol,oe=j.Uint8Array,ie=G(Object.getPrototypeOf,Object),se=Object.create,ae=Q.propertyIsEnumerable,ce=J.splice,ue=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=G(Object.keys,Object),de=Me(j,"DataView"),he=Me(j,"Map"),pe=Me(j,"Promise"),me=Me(j,"Set"),ye=Me(j,"WeakMap"),ge=Me(Object,"create"),ve=Ve(de),be=Ve(he),we=Ve(pe),Ee=Ve(me),_e=Ve(ye),Te=re?re.prototype:void 0,Se=Te?Te.valueOf:void 0;function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){this.__data__=new Ne(e)}function xe(e,t){var n=ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&Z.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!Z.call(e,s)||o&&("length"==s||Ue(s,r))||n.push(s);return n}function ke(e,t,n){var r=e[t];Z.call(e,t)&&qe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function $e(e,t){for(var n=e.length;n--;)if(qe(e[n][0],t))return n;return-1}function Ce(e,t,n,r,o,h,v){var $;if(r&&($=h?r(e,o,h,v):r(e)),void 0!==$)return $;if(!He(e))return e;var C=ze(e);if(C){if($=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,$)}else{var D=Fe(e),P=D==c||D==u;if(Ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(D==d||D==i||P&&!h){if(q(e))return h?e:{};if($=function(e){return"function"!=typeof e.constructor||Be(e)?{}:(t=ie(e),He(t)?se(t):{});var t}(P?{}:e),!t)return function(e,t){return Pe(e,Le(e),t)}(e,function(e,t){return e&&Pe(t,Qe(t),e)}($,e))}else{if(!R[D])return h?e:{};$=function(e,t,n,r){var o=e.constructor;switch(t){case b:return De(e);case s:case a:return new o(+e);case w:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case _:case T:case S:case I:case N:case O:case A:case x:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){return V(t?n(z(e),!0):z(e),U,new e.constructor)}(e,r,n);case f:case y:return new o(e);case p:return function(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){return V(t?n(K(e),!0):K(e),B,new e.constructor)}(e,r,n);case g:return i=e,Se?Object(Se.call(i)):{}}var i}(e,D,Ce,t)}}v||(v=new Ae);var j=v.get(e);if(j)return j;if(v.set(e,$),!C)var M=n?function(e){return function(e,t,n){var r=t(e);return ze(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Qe,Le)}(e):Qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(M||e,(function(o,i){M&&(o=e[i=o]),ke($,i,Ce(o,t,n,r,i,e,v))})),$}function Re(e){return!(!He(e)||(t=e,Y&&Y in t))&&(Je(e)||q(e)?te:$).test(Ve(e));var t}function De(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Pe(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var s=t[o],a=r?r(n[s],e[s],s,n,e):void 0;ke(n,s,void 0===a?e[s]:a)}return n}function je(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(n)?n:void 0}Ie.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ie.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},Ie.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Z.call(t,e)},Ie.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},Ne.prototype.clear=function(){this.__data__=[]},Ne.prototype.delete=function(e){var t=this.__data__,n=$e(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Ne.prototype.get=function(e){var t=this.__data__,n=$e(t,e);return n<0?void 0:t[n][1]},Ne.prototype.has=function(e){return $e(this.__data__,e)>-1},Ne.prototype.set=function(e,t){var n=this.__data__,r=$e(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Oe.prototype.clear=function(){this.__data__={hash:new Ie,map:new(he||Ne),string:new Ie}},Oe.prototype.delete=function(e){return je(this,e).delete(e)},Oe.prototype.get=function(e){return je(this,e).get(e)},Oe.prototype.has=function(e){return je(this,e).has(e)},Oe.prototype.set=function(e,t){return je(this,e).set(e,t),this},Ae.prototype.clear=function(){this.__data__=new Ne},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ne){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Oe(r)}return n.set(e,t),this};var Le=ue?G(ue,Object):function(){return[]},Fe=function(e){return ee.call(e)};function Ue(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function Ve(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qe(e,t){return e===t||e!==e&&t!==t}(de&&Fe(new de(new ArrayBuffer(1)))!=w||he&&Fe(new he)!=l||pe&&Fe(pe.resolve())!=h||me&&Fe(new me)!=m||ye&&Fe(new ye)!=v)&&(Fe=function(e){var t=ee.call(e),n=t==d?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case ve:return w;case be:return l;case we:return h;case Ee:return m;case _e:return v}return t});var ze=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Je(e)}var Ke=le||function(){return!1};function Je(e){var t=He(e)?ee.call(e):"";return t==c||t==u}function He(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Qe(e){return Ge(e)?xe(e):function(e){if(!Be(e))return fe(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Ce(e,!0,!0)}},556:function(e,t,n){"use strict";const{encodeText:r}=n(2413);e.exports=class{constructor(e,t,n,o){this.name=e,this.code=t,this.codeBuf=r(this.code),this.alphabet=o,this.codec=n(o)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}},5331:function(e,t,n){"use strict";const r=n(8820),o=n(556),{rfc4648:i}=n(6727),{decodeText:s,encodeText:a}=n(2413),c=[["identity","\0",()=>({encode:s,decode:a}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new o(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:l}},6957:function(e,t,n){"use strict";const r=n(5331),{encodeText:o,decodeText:i,concat:s}=n(2413);function a(e){if(Object.prototype.hasOwnProperty.call(r.names,e))return r.names[e];if(Object.prototype.hasOwnProperty.call(r.codes,e))return r.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:n,codeBuf:r}=a(e);return function(e,t){a(e).decode(i(t))}(n,t),s([r,t],r.length+t.length)}).encode=function(e,t){const n=a(e),r=o(n.encode(t));return s([n.codeBuf,r],n.codeBuf.length+r.length)},t.decode=function(e){e instanceof Uint8Array&&(e=i(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),a(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=i(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return a(e[0]).name}catch(t){return!1}},t.encoding=a,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=i(e)),a(e[0])};const c=Object.freeze(r.names),u=Object.freeze(r.codes);t.names=c,t.codes=u},6727:function(e){"use strict";e.exports={rfc4648:e=>t=>({encode:n=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(n,t,e),decode:n=>((e,t,n)=>{const r={};for(let u=0;u<t.length;++u)r[t[u]]=u;let o=e.length;for(;"="===e[o-1];)--o;const i=new Uint8Array(o*n/8|0);let s=0,a=0,c=0;for(let u=0;u<o;++u){const t=r[e[u]];if(void 0===t)throw new SyntaxError("Invalid character "+e[u]);a=a<<n|t,s+=n,s>=8&&(s-=8,i[c++]=255&a>>s)}if(s>=n||255&a<<8-s)throw new SyntaxError("Unexpected end of data");return i})(n,t,e)})}},2413:function(e){"use strict";const t=new TextDecoder,n=new TextEncoder;e.exports={decodeText:e=>t.decode(e),encodeText:e=>n.encode(e),concat:function(e,t){const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}}},3454:function(e,t,n){"use strict";e.exports=n.g.process||n(7663)},1780:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(5599)}])},4122:function(e,t,n){"use strict";n.d(t,{B:function(){return Kd},c:function(){return Jd}});var r={};n.r(r),n.d(r,{JsonPatchError:function(){return jt},_areEquals:function(){return Kt},applyOperation:function(){return Bt},applyPatch:function(){return Vt},applyReducer:function(){return qt},deepClone:function(){return Mt},getValueByPointer:function(){return Ut},validate:function(){return Gt},validator:function(){return zt}});var o={};n.r(o),n.d(o,{compare:function(){return en},generate:function(){return Xt},observe:function(){return Yt},unobserve:function(){return Wt}});var i=n(5893),s=n(7294),a=n(9613),c=n(5891),u=n(7189);const l=(0,u.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});(0,u.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var f=n(7353),d=n(4676),h=n(2297),p=n(2963);var m;function y(...e){let t="";for(let n=0,r=e.length;n<r;n++)t+=`${e[n]}$!$`;return t}!function(e){e.WEAKMAP="weakmap",e.REPLACE="replace"}(m||(m={}));const g=function(e){const t=e?.hashFunction||y,n=e?.strategy||m.WEAKMAP,r=e?.argsCacheBuilder||(()=>new Map);return(e,o,i)=>{if(Boolean(i.value))!function(e,t,n,r,o){const i=e.value;switch(i.length){case 0:switch(n){case m.REPLACE:return void(e.value=function(){const n=i.apply(this);Object.defineProperty(this,t,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:function(){return n}})});case m.WEAKMAP:{const t=new WeakMap;e.value=function(){if(t.has(this))return t.get(this);let e=i.apply(this);return t.set(this,e),e};break}}break;case 1:switch(n){case m.WEAKMAP:{const t=new WeakMap;e.value=function(e){let n=t.get(this);if(n||(n=o(),t.set(this,n)),n.has(e))return n.get(e);const r=i.call(this,e);return n.set(e,r),r};break}case m.REPLACE:e.value=function(n){const r=o();function s(e){if(r.has(e))return r.get(e);{const t=i.call(this,e);return r.set(e,t),t}}return Object.defineProperty(this,t,{configurable:e.configurable,enumerable:e.enumerable,writable:e.writable,value:s}),s.call(this,n)}}break;default:switch(n){case m.REPLACE:e.value=function(...n){const s=o();function a(...e){const t=r.apply(this,e);if(s.has(t))return s.get(t);{const n=i.apply(this,e);return s.set(t,n),n}}return Object.defineProperty(this,t,{configurable:e.configurable,enumerable:e.enumerable,writable:e.writable,value:a}),a.apply(this,n)};break;case m.WEAKMAP:{const t=new WeakMap;e.value=function(...e){let n=t.get(this);const s=r.apply(this,e);if(n?.has(s))return n.get(s);n||(n=o(),t.set(this,n));const a=i.apply(this,e);return n.set(s,a),a}}}}}(i,o,n,t,r);else{if(!function(e){return Boolean(e.get)}(i))throw new Error("Decorate only a method or get accessor");!function(e,t,n){const r=e.get;switch(n){case m.WEAKMAP:{const t=new WeakMap;e.get=function(){let e=t.get(this);return e||(e=r.apply(this),t.set(this,e)),e};break}case m.REPLACE:e.get=function(){const e=r.apply(this);return Object.defineProperty(this,t,{configurable:!1,enumerable:!1,value:e}),e};break;default:throw new Error(`Unsupported strategy: ${n}`)}}(i,o,n)}}},v={tile:0,"caip10-link":1,model:2,MID:3,UNLOADABLE:4};class b{}function w(e){try{return e()}catch(t){return t}}b.nameByCode=function(e){const t=Object.entries(v).find((([,t])=>t===e));if(t)return t[0];throw new Error(`No stream type registered for index ${e}`)},b.codeByName=function(e){const t=v[e];if("undefined"!==typeof t)return t;throw new Error(`No stream type registered for name ${e}`)};var E=n(9094);function _(e){const t=d.decode(e),n=d.decode.bytes;return[t,e.subarray(n),n]}function T(e){const[t,n]=_(e);if(0!==(r=t)&&1!==r)throw new Error(`Unknown CID version ${t}`);var r;const[o,i]=_(n),[,s,c]=_(i),[u,,l]=_(s),f=i.subarray(0,c+l+u),d=i.subarray(c+l+u);return[a.k0.create(t,o,(0,E.Jx)(f)),d]}function S(e,t="StreamRef"){const[n,r]=_(e);if(206!==n)throw new Error(`Invalid ${t}, does not include streamid codec`);const[o,i]=_(r),s=T(i),[a,c]=s;if(0===c.length)return{kind:"stream-id",type:o,genesis:a};if(1===c.length&&0===c[0])return{kind:"commit-id",type:o,genesis:a,commit:null};{const[e]=T(c);return{kind:"commit-id",type:o,genesis:a,commit:e}}}const I=/(ceramic:\/\/|\/ceramic\/)?([a-zA-Z0-9]+)(\?commit=([a-zA-Z0-9]+))?/;function N(e,t="StreamRef"){const n=I.exec(e)||[],r=n[2];if(!r)throw new Error(`Malformed ${t} string: ${e}`);const o=S(l.decode(r)),i=n[4];return i?{kind:"commit-id",type:o.type,genesis:o.genesis,commit:O(o.genesis,i)}:o}function O(e,t=null){if(!t)return null;if("0"===t)return null;const n=function(e){try{return"string"===typeof e?a.k0.parse(e):a.k0.asCID(e)}catch{return null}}(t);if(n)return e.equals(n)?null:n;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}var A=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};class k extends Error{constructor(e){super(`Invalid StreamID bytes ${l.encode(e)}: contains commit`)}}class $ extends Error{constructor(e){super(`Invalid StreamID string ${e}: contains commit`)}}function C(e){const t=S(e,"StreamID");if("stream-id"===t.kind)return new P(t.type,t.genesis);throw new k(e)}function R(e){const t=N(e,"StreamID");if("stream-id"===t.kind)return new P(t.type,t.genesis);throw new $(e)}const D=Symbol.for("@ceramicnetwork/streamid/StreamID");class P{constructor(e,t){if(this._tag=D,!e&&0!==e)throw new Error("StreamID constructor: type required");if(!t)throw new Error("StreamID constructor: cid required");this._type="string"===typeof e?b.codeByName(e):e,this._cid="string"===typeof t?a.k0.parse(t):t}static isInstance(e){return"object"===typeof e&&"_tag"in e&&e._tag===D}static async fromGenesis(e,t){const n=await c.cv({value:t,codec:h,hasher:f.J});return new P(e,n.cid)}get type(){return this._type}get typeName(){return b.nameByCode(this._type)}get cid(){return this._cid}get bytes(){const e=d.encode(206),t=d.encode(this.type);return(0,p.zo)([e,t,this.cid.bytes])}get baseID(){return new P(this._type,this._cid)}equals(e){return!!P.isInstance(e)&&(this.type===e.type&&this.cid.equals(e.cid))}toString(){return l.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[Symbol.for("nodejs.util.inspect.custom")](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}function j(e){return"string"===typeof e?P.fromString(e):e}function M(e){const t={};for(const[n,r]of Object.entries(e))P.isInstance(r)?t[n]=r.toString():t[n]=r;return t}P.fromBytes=C,P.fromBytesNoThrow=function(e){return w((()=>C(e)))},P.fromString=R,P.fromStringNoThrow=function(e){return w((()=>R(e)))},A([g(),x("design:type",String),x("design:paramtypes",[])],P.prototype,"typeName",null),A([g(),x("design:type",Uint8Array),x("design:paramtypes",[])],P.prototype,"bytes",null),A([g(),x("design:type",P),x("design:paramtypes",[])],P.prototype,"baseID",null),A([g(),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",String)],P.prototype,"toString",null),A([g(),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",String)],P.prototype,"toUrl",null);class L extends Error{constructor(){super("Failed to get DID.  Please make sure your Ceramic client has an authenticated DID attached")}}var F=n(7582);function U(e){return"function"===typeof e}function B(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var V=B((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function q(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var z=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=(0,F.XA)(i),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(U(c))try{c()}catch(p){o=p instanceof V?p.errors:[p]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=(0,F.XA)(u),f=l.next();!f.done;f=l.next()){var d=f.value;try{J(d)}catch(m){o=null!==o&&void 0!==o?o:[],m instanceof V?o=(0,F.ev)((0,F.ev)([],(0,F.CR)(o)),(0,F.CR)(m.errors)):o.push(m)}}}catch(y){n={error:y}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new V(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)J(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&q(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&q(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),G=z.EMPTY;function K(e){return e instanceof z||e&&"closed"in e&&U(e.remove)&&U(e.add)&&U(e.unsubscribe)}function J(e){U(e)?e():e.unsubscribe()}var H={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Q={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Q.delegate;return(null===o||void 0===o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,F.ev)([e,t],(0,F.CR)(n))):setTimeout.apply(void 0,(0,F.ev)([e,t],(0,F.CR)(n)))},clearTimeout:function(e){var t=Q.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function W(e){Q.setTimeout((function(){var t=H.onUnhandledError;if(!t)throw e;t(e)}))}function Y(){}var X=Z("C",void 0,void 0);function Z(e,t,n){return{kind:e,value:t,error:n}}var ee=null;function te(e){if(H.useDeprecatedSynchronousErrorHandling){var t=!ee;if(t&&(ee={errorThrown:!1,error:null}),e(),t){var n=ee,r=n.errorThrown,o=n.error;if(ee=null,r)throw o}}else e()}var ne=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,K(t)&&t.add(n)):n.destination=ue,n}return(0,F.ZT)(t,e),t.create=function(e,t,n){return new se(e,t,n)},t.prototype.next=function(e){this.isStopped?ce(function(e){return Z("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?ce(Z("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?ce(X,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(z),re=Function.prototype.bind;function oe(e,t){return re.call(e,t)}var ie=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){ae(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){ae(n)}else ae(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){ae(t)}},e}(),se=function(e){function t(t,n,r){var o,i,s=e.call(this)||this;U(t)||!t?o={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:s&&H.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&oe(t.next,i),error:t.error&&oe(t.error,i),complete:t.complete&&oe(t.complete,i)}):o=t;return s.destination=new ie(o),s}return(0,F.ZT)(t,e),t}(ne);function ae(e){var t;H.useDeprecatedSynchronousErrorHandling?(t=e,H.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=t)):W(e)}function ce(e,t){var n=H.onStoppedNotification;n&&Q.setTimeout((function(){return n(e,t)}))}var ue={closed:!0,next:Y,error:function(e){throw e},complete:Y},le="function"===typeof Symbol&&Symbol.observable||"@@observable";function fe(e){return e}function de(e){return 0===e.length?fe:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var he=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof ne||function(e){return e&&U(e.next)&&U(e.error)&&U(e.complete)}(r)&&K(r)?e:new se(e,t,n);return te((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=pe(t))((function(t,r){var o=new se({next:function(t){try{e(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[le]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return de(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=pe(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function pe(e){var t;return null!==(t=null!==e&&void 0!==e?e:H.Promise)&&void 0!==t?t:Promise}var me=function(e){function t(t,n){return e.call(this)||this}return(0,F.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(z),ye={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=ye.delegate;return(null===o||void 0===o?void 0:o.setInterval)?o.setInterval.apply(o,(0,F.ev)([e,t],(0,F.CR)(n))):setInterval.apply(void 0,(0,F.ev)([e,t],(0,F.CR)(n)))},clearInterval:function(e){var t=ye.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ge=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,F.ZT)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),ye.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&ye.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,q(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(me),ve={now:function(){return(ve.delegate||Date).now()},delegate:void 0},be=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=ve.now,e}(),we=new(function(e){function t(t,n){void 0===n&&(n=be.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,F.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(be))(ge);function Ee(e){return e&&U(e.schedule)}function _e(e,t,n){void 0===e&&(e=0),void 0===n&&(n=we);var r=-1;return null!=t&&(Ee(t)?n=t:r=t),new he((function(t){var o,i=(o=e)instanceof Date&&!isNaN(o)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule((function(){t.closed||(t.next(s++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function Te(e){return function(t){if(function(e){return U(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Se(e,t,n,r,o){return new Ie(e,t,n,r,o)}var Ie=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,F.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(ne),Ne=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function Oe(e){return U(null===e||void 0===e?void 0:e.then)}function Ae(e){return U(e[le])}function xe(e){return Symbol.asyncIterator&&U(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function ke(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var $e,Ce="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Re(e){return U(null===e||void 0===e?void 0:e[Ce])}function De(e){return(0,F.FC)(this,arguments,(function(){var t,n,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,F.qq)(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,(0,F.qq)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,F.qq)(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Pe(e){return U(null===e||void 0===e?void 0:e.getReader)}function je(e){if(e instanceof he)return e;if(null!=e){if(Ae(e))return o=e,new he((function(e){var t=o[le]();if(U(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Ne(e))return r=e,new he((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(Oe(e))return n=e,new he((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,W)}));if(xe(e))return Me(e);if(Re(e))return t=e,new he((function(e){var n,r;try{for(var o=(0,F.XA)(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(Pe(e))return Me(De(e))}var t,n,r,o;throw ke(e)}function Me(e){return new he((function(t){(function(e,t){var n,r,o,i;return(0,F.mG)(this,void 0,void 0,(function(){var s,a;return(0,F.Jh)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,F.KL)(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}!function(e){e[e.PREFER_CACHE=0]="PREFER_CACHE",e[e.SYNC_ALWAYS=1]="SYNC_ALWAYS",e[e.NEVER_SYNC=2]="NEVER_SYNC",e[e.SYNC_ON_ERROR=3]="SYNC_ON_ERROR"}($e||($e={}));var Le,Fe,Ue=B((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Be=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,F.ZT)(t,e),t.prototype.lift=function(e){var t=new Ve(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ue},t.prototype.next=function(e){var t=this;te((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=(0,F.XA)(t.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(e)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;te((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;te((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?G:(this.currentObservers=null,i.push(e),new z((function(){t.currentObservers=null,q(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new he;return e.source=this,e},t.create=function(e,t){return new Ve(e,t)},t}(he),Ve=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,F.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:G},t}(Be),qe=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,F.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Be),ze=n(3465);function Ge(e){const t=a.k0.asCID(e);if(t)return t;if("string"===typeof e)return a.k0.parse(e);if(e instanceof Uint8Array)return a.k0.decode(e);throw new Error(`${e} cannot be converted to a CID`)}!function(e){e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.PENDING=1]="PENDING",e[e.PROCESSING=2]="PROCESSING",e[e.ANCHORED=3]="ANCHORED",e[e.FAILED=4]="FAILED",e[e.REPLACED=5]="REPLACED"}(Le||(Le={})),function(e){e.DID="did"}(Fe||(Fe={}));class Ke{static streamIdFromState(e){return new P(e.type,e.log[0].cid)}static tipFromState(e){return e.log[e.log.length-1].cid}static serializeCommit(e){const t=ze(e);return Ke.isSignedCommitContainer(t)?(t.jws.link=t.jws.link.toString(),t.linkedBlock=p.BB(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=p.BB(t.cacaoBlock,"base64")),t):(Ke.isSignedCommit(e)&&(t.link=t.link.toString()),Ke.isAnchorCommit(e)&&(t.proof=t.proof.toString()),t.id&&(t.id=t.id.toString()),t.prev&&(t.prev=t.prev.toString()),e.header?.model&&(t.header.model=p.BB(e.header.model,"base64")),t)}static deserializeCommit(e){const t=ze(e);return Ke.isSignedCommitContainer(t)?(t.jws.link=Ge(t.jws.link),t.linkedBlock=p.mL(t.linkedBlock,"base64"),t.cacaoBlock&&(t.cacaoBlock=p.mL(t.cacaoBlock,"base64")),t):(Ke.isSignedCommit(t)&&(t.link=Ge(t.link)),Ke.isAnchorCommit(t)&&(t.proof=Ge(t.proof)),t.id&&(t.id=Ge(t.id)),t.prev&&(t.prev=Ge(t.prev)),t.header?.model&&(t.header.model=p.mL(t.header.model,"base64")),t)}static serializeState(e){const t=ze(e);return t.log=t.log.map((e=>({...e,cid:e.cid.toString()}))),null!=t.anchorStatus&&(t.anchorStatus=Le[t.anchorStatus]),null!=t.anchorProof&&(t.anchorProof.txHash=t.anchorProof.txHash.toString(),t.anchorProof.root=t.anchorProof.root.toString()),e.metadata?.model&&(t.metadata.model=e.metadata.model.toString()),e.next?.metadata?.model&&(t.next.metadata.model=e.next.metadata.model.toString()),e.metadata?.unique&&0!=e.type&&(t.metadata.unique=p.BB(t.metadata.unique,"base64")),t.doctype=b.nameByCode(t.type),t}static deserializeState(e){if(!e)return null;const t=ze(e);return t.doctype&&(t.type=b.codeByName(t.doctype),delete t.doctype),t.log=t.log.map((e=>({...e,cid:Ge(e.cid)}))),t.anchorProof&&(t.anchorProof.txHash=Ge(t.anchorProof.txHash),t.anchorProof.root=Ge(t.anchorProof.root)),t.anchorStatus&&(t.anchorStatus=Le[t.anchorStatus]),e.metadata?.model&&(t.metadata.model=P.fromString(e.metadata.model)),e.next?.metadata?.model&&(t.next.metadata.model=P.fromString(e.next.metadata.model)),e.metadata?.unique&&0!=e.type&&(t.metadata.unique=p.mL(e.metadata.unique,"base64")),t}static statesEqual(e,t){return JSON.stringify(Ke.serializeState(e))===JSON.stringify(Ke.serializeState(t))}static isStateSupersetOf(e,t){if(e.log.length<t.log.length)return!1;for(const n in t.log)if(!e.log[n].cid.equals(t.log[n].cid))return!1;return e.log.length!==t.log.length||e.anchorStatus==t.anchorStatus}static assertCommitLinksToState(e,t){const n=this.streamIdFromState(e);if(t.id&&!t.id.equals(e.log[0].cid))throw new Error(`Invalid genesis CID in commit for StreamID ${n.toString()}. Found: ${t.id}, expected ${e.log[0].cid}`);const r=e.log[e.log.length-1].cid;if(!t.prev.equals(r))throw new Error(`Commit doesn't properly point to previous commit in log. Expected ${r}, found 'prev' ${t.prev}`)}static async convertCommitToSignedCommitContainer(e,t){if(Ke.isSignedCommit(e)){return{jws:e,linkedBlock:await t.block.get(Ge(e.link))}}return e}static isSignedCommitContainer(e){return e&&void 0!==e.jws}static isSignedCommit(e){return e&&void 0!==e.link}static getCacaoCidFromCommit(e){if(Ke.isSignedCommit(e)){const n=(t=e.signatures[0].protected,JSON.parse((0,p.BB)((0,p.mL)(t,"base64url"))));if(n.cap){const e=n.cap;return a.k0.parse(e.replace("ipfs://",""))}}var t}static isAnchorCommit(e){return e&&void 0!==e.proof}static isSignedCommitData(e){return e&&void 0!==e.envelope}static isAnchorCommitData(e){return e&&void 0!==e.proof}static commitDataToLogEntry(e,t){const n={cid:e.cid,type:t};return e?.capability?.p?.exp&&(n.expirationTime=Math.floor(Date.parse(e.capability.p.exp)/1e3)),e.timestamp&&(n.timestamp=e.timestamp),n}static checkForCacaoExpiration(e){const t=Math.floor(Date.now()/1e3);for(const n of e.log){const r=n.timestamp??t;if(n.expirationTime&&n.expirationTime<r)throw new Error(`CACAO expired: Commit ${n.cid.toString()} of Stream ${Ke.streamIdFromState(e).toString()} has a CACAO that expired at ${n.expirationTime}. Loading the stream with 'sync: SyncOptions.ALWAYS_SYNC' will restore the stream to a usable state, by discarding the invalid commits (this means losing the data from those invalid writes!)`)}}static anchorTimestampFromState(e){for(let t=e.log.length-1;t>=0;t--){const n=e.log[t];if(n.timestamp)return n.timestamp}return null}static validDIDString(e){return"string"==typeof e&&!!e.startsWith("did:")}}class Je extends qe{next(e){const t=this.value;Ke.statesEqual(t,e)||super.next(e)}}var He=n(4098);function Qe(e,t){return Te((function(n,r){var o=0;n.subscribe(Se(r,(function(n){r.next(e.call(t,n,o++))})))}))}function We(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function Ye(e,t,n){return void 0===n&&(n=1/0),U(t)?Ye((function(n,r){return Qe((function(e,o){return t(n,e,r,o)}))(je(e(n,r)))}),n):("number"===typeof t&&(n=t),Te((function(t,r){return function(e,t,n,r,o,i,s,a){var c=[],u=0,l=0,f=!1,d=function(){!f||c.length||u||t.complete()},h=function(e){return u<r?p(e):c.push(e)},p=function(e){i&&t.next(e),u++;var a=!1;je(n(e,l++)).subscribe(Se(t,(function(e){null===o||void 0===o||o(e),i?h(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{u--;for(var e=function(){var e=c.shift();s?We(t,s,(function(){return p(e)})):p(e)};c.length&&u<r;)e();d()}catch(n){t.error(n)}})))};return e.subscribe(Se(t,h,(function(){f=!0,d()}))),function(){null===a||void 0===a||a()}}(t,r,e,n)})))}function Xe(e){return void 0===e&&(e=1/0),Ye(fe,e)}var Ze=new he((function(e){return e.complete()}));function et(e){return e[e.length-1]}function tt(e){return Ee(et(e))?e.pop():void 0}function nt(e,t){return"number"===typeof et(e)?e.pop():t}function rt(e,t){return void 0===t&&(t=0),Te((function(n,r){n.subscribe(Se(r,(function(n){return We(r,e,(function(){return r.next(n)}),t)}),(function(){return We(r,e,(function(){return r.complete()}),t)}),(function(n){return We(r,e,(function(){return r.error(n)}),t)})))}))}function ot(e,t){return void 0===t&&(t=0),Te((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function it(e,t){if(!e)throw new Error("Iterable cannot be null");return new he((function(n){We(n,t,(function(){var r=e[Symbol.asyncIterator]();We(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function st(e,t){if(null!=e){if(Ae(e))return function(e,t){return je(e).pipe(ot(t),rt(t))}(e,t);if(Ne(e))return function(e,t){return new he((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Oe(e))return function(e,t){return je(e).pipe(ot(t),rt(t))}(e,t);if(xe(e))return it(e,t);if(Re(e))return function(e,t){return new he((function(n){var r;return We(n,t,(function(){r=e[Ce](),We(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return U(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if(Pe(e))return function(e,t){return it(De(e),t)}(e,t)}throw ke(e)}function at(e,t){return t?st(e,t):je(e)}var ct=Array.isArray;function ut(e){return Qe((function(t){return function(e,t){return ct(t)?e.apply(void 0,(0,F.ev)([],(0,F.CR)(t))):e(t)}(e,t)}))}var lt=["addListener","removeListener"],ft=["addEventListener","removeEventListener"],dt=["on","off"];function ht(e,t,n,r){if(U(n)&&(r=n,n=void 0),r)return ht(e,t,n).pipe(ut(r));var o=(0,F.CR)(function(e){return U(e.addEventListener)&&U(e.removeEventListener)}(e)?ft.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return U(e.addListener)&&U(e.removeListener)}(e)?lt.map(pt(e,t)):function(e){return U(e.on)&&U(e.off)}(e)?dt.map(pt(e,t)):[],2),i=o[0],s=o[1];if(!i&&Ne(e))return Ye((function(e){return ht(e,t,n)}))(je(e));if(!i)throw new TypeError("Invalid event target");return new he((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return s(t)}}))}function pt(e,t){return function(n){return function(r){return e[n](t,r)}}}var mt=B((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function yt(e,t){return Te((function(n,r){var o=0;n.subscribe(Se(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function gt(e){return e<=0?function(){return Ze}:Te((function(t,n){var r=0;t.subscribe(Se(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function vt(e){return Te((function(t,n){var r=!1;t.subscribe(Se(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function bt(e){return void 0===e&&(e=wt),Te((function(t,n){var r=!1;t.subscribe(Se(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function wt(){return new mt}function Et(e){const t=new AbortController;if(0===e.length)throw Error("Need abort signals to create a merged abort signal");return e.some((e=>e.aborted))?(t.abort(),t.signal):(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=tt(e),r=nt(e,1/0),o=e;return o.length?1===o.length?je(o[0]):Xe(r)(at(o,n)):Ze}(...e.map((e=>ht(e,"abort")))).pipe(function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?yt((function(t,n){return e(t,n,r)})):fe,gt(1),n?vt(t):bt((function(){return new mt})))}}()).subscribe((()=>{t.abort()})),t.signal)}class _t{constructor(e){const t=new AbortController;this.signal=t.signal,e<=0?t.abort():this._subscription=_e(e).subscribe((()=>{t.abort()}))}clear(){this._subscription?.unsubscribe()}}async function Tt(e,t={}){if(t.body){const e={"Content-Type":"application/json",...t.headers};Object.assign(t,{body:"application/json"==e["Content-Type"]?JSON.stringify(t.body):t.body,headers:e})}const n=t.timeout||18e4,r=new _t(n),o=t.signal?Et([t.signal,r.signal]):r.signal,i=await async function(e,t){const n=new AbortController,r=()=>{n.abort()};return e.addEventListener("abort",r),e.aborted&&n.abort(),t(n.signal).finally((()=>{e.removeEventListener("abort",r)}))}(o,(n=>He(String(e),{...t,signal:n,credentials:"include"}))).finally((()=>r.clear()));if(!i.ok){const t=await i.text();throw new Error(`HTTP request to '${e}' failed with status '${i.statusText}': ${t}`)}return i.json()}class St extends he{constructor(e,t,n){super((e=>{0===this.state$.observers.length&&(this.periodicSubscription=_e(0,n).pipe(function(e,t){return Te((function(n,r){var o=null!==t&&void 0!==t?t:{},i=o.leading,s=void 0===i||i,a=o.trailing,c=void 0!==a&&a,u=!1,l=null,f=null,d=!1,h=function(){null===f||void 0===f||f.unsubscribe(),f=null,c&&(y(),d&&r.complete())},p=function(){f=null,d&&r.complete()},m=function(t){return f=je(e(t)).subscribe(Se(r,h,p))},y=function(){if(u){u=!1;var e=l;l=null,r.next(e),!d&&m(e)}};n.subscribe(Se(r,(function(e){u=!0,l=e,(!f||f.closed)&&(s?y():m(e))}),(function(){d=!0,(!(c&&u&&f)||f.closed)&&r.complete()})))}))}((()=>this._syncState(this.id,{sync:$e.PREFER_CACHE})))).subscribe()),this.state$.subscribe(e).add((()=>{0===this.state$.observers.length&&this.periodicSubscription?.unsubscribe()}))})),this.state$=new Je(e),this._apiUrl=new URL(t)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,t){const n=await St._load(e,this._apiUrl,t);this.state$.next(Ke.deserializeState(n))}get id(){return new P(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,t,n,r,o){const i=new URL("./streams",e),{state:s}=await Tt(i,{method:"POST",body:{type:t,genesis:Ke.serializeCommit(n),opts:r}});return new St(Ke.deserializeState(s),e,o)}static async applyCommit(e,t,n,r,o){const i=new URL("./commits",e),{state:s}=await Tt(i,{method:"POST",body:{streamId:t.toString(),commit:Ke.serializeCommit(n),opts:r}});return new St(Ke.deserializeState(s),e,o)}static async _load(e,t,n){const r=function(e,t){const n=new URL(e);for(const[r,o]of Object.entries(t))P.isInstance(o)?n.searchParams.set(r,o.toString()):"object"==typeof o?n.searchParams.set(r,JSON.stringify(o)):n.searchParams.set(r,o);return n}(new URL(`./streams/${e}`,t),n),{state:o}=await Tt(r);return o}static async load(e,t,n,r){const o=await St._load(e,t,r);return new St(Ke.deserializeState(o),t,n)}static async loadStreamCommits(e,t){const n=new URL(`./commits/${e}`,t),{commits:r}=await Tt(n);return r.map((e=>({cid:e.cid,value:Ke.deserializeCommit(e.value)})))}complete(){this.state$.complete()}}var It=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=Object.prototype.hasOwnProperty;function Ot(e,t){return Nt.call(e,t)}function At(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)Ot(e,o)&&r.push(o);return r}function xt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function kt(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function $t(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ct(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Rt(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Rt(e[t]))return!0}else if("object"===typeof e)for(var r=At(e),o=r.length,i=0;i<o;i++)if(Rt(e[r[i]]))return!0;return!1}function Dt(e,t){var n=[e];for(var r in t){var o="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof o&&n.push(r+": "+o)}return n.join("\n")}var Pt=function(e){function t(t,n,r,o,i){var s=this.constructor,a=e.call(this,Dt(t,{name:n,index:r,operation:o,tree:i}))||this;return a.name=n,a.index=r,a.operation=o,a.tree=i,Object.setPrototypeOf(a,s.prototype),a.message=Dt(t,{name:n,index:r,operation:o,tree:i}),a}return It(t,e),t}(Error),jt=Pt,Mt=xt,Lt={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Ut(n,this.path);r&&(r=xt(r));var o=Bt(n,{op:"remove",path:this.from}).removed;return Bt(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Ut(n,this.from);return Bt(n,{op:"add",path:this.path,value:xt(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Kt(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Ft={add:function(e,t,n){return kt(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Lt.move,copy:Lt.copy,test:Lt.test,_get:Lt._get};function Ut(e,t){if(""==t)return e;var n={op:"_get",path:t};return Bt(e,n),n.value}function Bt(e,t,n,r,o,i){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===i&&(i=0),n&&("function"==typeof n?n(t,0,e,t.path):zt(t,0)),""===t.path){var s={newDocument:e};if("add"===t.op)return s.newDocument=t.value,s;if("replace"===t.op)return s.newDocument=t.value,s.removed=e,s;if("move"===t.op||"copy"===t.op)return s.newDocument=Ut(e,t.from),"move"===t.op&&(s.removed=e),s;if("test"===t.op){if(s.test=Kt(e,t.value),!1===s.test)throw new jt("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s.newDocument=e,s}if("remove"===t.op)return s.removed=e,s.newDocument=null,s;if("_get"===t.op)return t.value=e,s;if(n)throw new jt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return s}r||(e=xt(e));var a=(t.path||"").split("/"),c=e,u=1,l=a.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:zt;;){if((d=a[u])&&-1!=d.indexOf("~")&&(d=Ct(d)),o&&("__proto__"==d||"prototype"==d&&u>0&&"constructor"==a[u-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===c[d]?f=a.slice(0,u).join("/"):u==l-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),u++,Array.isArray(c)){if("-"===d)d=c.length;else{if(n&&!kt(d))throw new jt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);kt(d)&&(d=~~d)}if(u>=l){if(n&&"add"===t.op&&d>c.length)throw new jt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(s=Ft[t.op].call(t,c,d,e)).test)throw new jt("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s}}else if(u>=l){if(!1===(s=Lt[t.op].call(t,c,d,e)).test)throw new jt("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s}if(c=c[d],n&&u<l&&(!c||"object"!==typeof c))throw new jt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}function Vt(e,t,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),n&&!Array.isArray(t))throw new jt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=xt(e));for(var i=new Array(t.length),s=0,a=t.length;s<a;s++)i[s]=Bt(e,t[s],n,!0,o,s),e=i[s].newDocument;return i.newDocument=e,i}function qt(e,t,n){var r=Bt(e,t);if(!1===r.test)throw new jt("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function zt(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new jt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!Lt[e.op])throw new jt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new jt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new jt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new jt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new jt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Rt(e.value))throw new jt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var o=e.path.split("/").length,i=r.split("/").length;if(o!==i+1&&o!==i)throw new jt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new jt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var s=Gt([{op:"_get",path:e.from,value:void 0}],n);if(s&&"OPERATION_PATH_UNRESOLVABLE"===s.name)throw new jt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function Gt(e,t,n){try{if(!Array.isArray(e))throw new jt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Vt(xt(t),xt(e),n||!0);else{n=n||zt;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(o){if(o instanceof jt)return o;throw o}}function Kt(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,o,i=Array.isArray(e),s=Array.isArray(t);if(i&&s){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!Kt(e[n],t[n]))return!1;return!0}if(i!=s)return!1;var a=Object.keys(e);if((r=a.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(a[n]))return!1;for(n=r;0!==n--;)if(!Kt(e[o=a[n]],t[o]))return!1;return!0}return e!==e&&t!==t}var Jt=new WeakMap,Ht=function(e){this.observers=new Map,this.obj=e},Qt=function(e,t){this.callback=e,this.observer=t};function Wt(e,t){t.unobserve()}function Yt(e,t){var n,r=function(e){return Jt.get(e)}(e);if(r){var o=function(e,t){return e.observers.get(t)}(r,t);n=o&&o.observer}else r=new Ht(e),Jt.set(e,r);if(n)return n;if(n={},r.value=xt(e),t){n.callback=t,n.next=null;var i=function(){Xt(n)},s=function(){clearTimeout(n.next),n.next=setTimeout(i)};"undefined"!==typeof window&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return n.patches=[],n.object=e,n.unobserve=function(){Xt(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},r.observers.set(t,new Qt(t,n)),n}function Xt(e,t){void 0===t&&(t=!1);var n=Jt.get(e.object);Zt(n.value,e.object,e.patches,"",t),e.patches.length&&Vt(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Zt(e,t,n,r,o){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var i=At(t),s=At(e),a=!1,c=s.length-1;c>=0;c--){var u=e[f=s[c]];if(!Ot(t,f)||void 0===t[f]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:r+"/"+$t(f),value:xt(u)}),n.push({op:"remove",path:r+"/"+$t(f)}),a=!0):(o&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var l=t[f];"object"==typeof u&&null!=u&&"object"==typeof l&&null!=l&&Array.isArray(u)===Array.isArray(l)?Zt(u,l,n,r+"/"+$t(f),o):u!==l&&(!0,o&&n.push({op:"test",path:r+"/"+$t(f),value:xt(u)}),n.push({op:"replace",path:r+"/"+$t(f),value:xt(l)}))}}if(a||i.length!=s.length)for(c=0;c<i.length;c++){var f;Ot(e,f=i[c])||void 0===t[f]||n.push({op:"add",path:r+"/"+$t(f),value:xt(t[f])})}}}function en(e,t,n){void 0===n&&(n=!1);var r=[];return Zt(e,t,r,"",n),r}var tn,nn,rn,on=Object.assign({},r,o,{JsonPatchError:Pt,deepClone:xt,escapePathComponent:$t,unescapePathComponent:Ct}),sn=n(1416),an=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},cn=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},un=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},ln=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class fn extends Error{constructor(e){super(`Error while parsing CommitID from bytes ${l.encode(e)}: no commit information provided`)}}class dn extends Error{constructor(e){super(`Error while parsing CommitID from string ${e}: no commit information provided`)}}function hn(e){const t=S(e,"CommitID");if("commit-id"===t.kind)return new yn(t.type,t.genesis,t.commit);throw new fn(e)}function pn(e){const t=N(e,"CommitID");if("commit-id"===t.kind)return new yn(t.type,t.genesis,t.commit);throw new dn(e)}const mn=Symbol.for("@ceramicnetwork/streamid/CommitID");class yn{constructor(e,t,n=null){if(this._tag=mn,tn.set(this,void 0),nn.set(this,void 0),rn.set(this,void 0),!e&&0!==e)throw new Error("constructor: type required");if(!t)throw new Error("constructor: cid required");un(this,tn,"string"===typeof e?b.codeByName(e):e,"f"),un(this,nn,"string"===typeof t?a.k0.parse(t):t,"f"),un(this,rn,O(ln(this,nn,"f"),n),"f")}static isInstance(e){return"object"===typeof e&&"_tag"in e&&e._tag===mn}get baseID(){return new P(ln(this,tn,"f"),ln(this,nn,"f"))}get type(){return ln(this,tn,"f")}get typeName(){return b.nameByCode(ln(this,tn,"f"))}get cid(){return ln(this,nn,"f")}get commit(){return ln(this,rn,"f")||ln(this,nn,"f")}get bytes(){const e=d.encode(206),t=d.encode(this.type),n=ln(this,rn,"f")?.bytes||new Uint8Array([0]);return(0,p.zo)([e,t,this.cid.bytes,n])}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return l.encode(this.bytes)}toUrl(){return`ceramic://${this.toString()}`}[(tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}var gn,vn,bn;yn.fromBytes=hn,yn.fromBytesNoThrow=function(e){return w((()=>hn(e)))},yn.fromString=pn,yn.fromStringNoThrow=function(e){return w((()=>pn(e)))},yn.make=function(e,t){return new yn(e.type,e.cid,t)},an([g(),cn("design:type",P),cn("design:paramtypes",[])],yn.prototype,"baseID",null),an([g(),cn("design:type",String),cn("design:paramtypes",[])],yn.prototype,"typeName",null),an([g(),cn("design:type",a.k0),cn("design:paramtypes",[])],yn.prototype,"commit",null),an([g(),cn("design:type",Uint8Array),cn("design:paramtypes",[])],yn.prototype,"bytes",null),an([g(),cn("design:type",Function),cn("design:paramtypes",[]),cn("design:returntype",String)],yn.prototype,"toString",null),an([g(),cn("design:type",Function),cn("design:paramtypes",[]),cn("design:returntype",String)],yn.prototype,"toUrl",null),function(e){e[e.GENESIS=0]="GENESIS",e[e.PARTIAL=1]="PARTIAL",e[e.SIGNED=2]="SIGNED"}(gn||(gn={})),function(e){e[e.GENESIS=0]="GENESIS",e[e.SIGNED=1]="SIGNED",e[e.ANCHOR=2]="ANCHOR"}(vn||(vn={}));class wn extends he{constructor(e,t){super((t=>{e.subscribe(t)})),this.state$=e,this._context=t}get id(){return new P(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get content(){const{next:e,content:t}=this.state$.value;return ze(e?.content??t)}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return yn.make(this.id,this.tip)}get allCommitIds(){return this.state$.value.log.map((({cid:e})=>yn.make(this.id,e)))}get anchorCommitIds(){return this.state$.value.log.filter((({type:e})=>e===vn.ANCHOR)).map((({cid:e})=>yn.make(this.id,e)))}get state(){return ze(this.state$.value)}async sync(e={}){e={sync:$e.PREFER_CACHE,...e};const t=await this.api.loadStream(this.id,e);this.state$.next(t.state)}async requestAnchor(){return this.api.requestAnchor(this.id)}}!function(e){function t(e){const t=S(e);switch(t.kind){case"commit-id":return new yn(t.type,t.genesis,t.commit);case"stream-id":return new P(t.type,t.genesis);default:throw new Error(`Malformed StreamRef bytes: ${l.encode(e)}`)}}function n(e){const t=N(e);switch(t.kind){case"commit-id":return new yn(t.type,t.genesis,t.commit);case"stream-id":return new P(t.type,t.genesis);default:throw new Error(`Malformed StreamRef string: ${e}`)}}e.fromBytes=t,e.fromString=n,e.from=function(e){if(P.isInstance(e))return e;if(yn.isInstance(e))return e;if(e instanceof Uint8Array)return t(e);if("string"===typeof e)return n(e);throw new Error(`Can not build CommitID or StreamID from ${JSON.stringify(e)}`)}}(bn||(bn={}));var En,_n=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Tn={anchor:!0,publish:!0,sync:$e.PREFER_CACHE},Sn={sync:$e.PREFER_CACHE},In={anchor:!0,publish:!0};function Nn(e,t){if("string"===typeof e?.schema)try{yn.fromString(e.schema)}catch{throw new Error("Schema must be a CommitID")}const n={controllers:e?.controllers,family:e?.family,schema:e?.schema?.toString(),tags:e?.tags};if(t)e?.deterministic||(n.unique=p.BB((0,sn.randomBytes)(12),"base64")),e?.forbidControllerChange&&(n.forbidControllerChange=!0);else{if(void 0!==e?.deterministic||void 0!==e?.unique)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if(void 0!==e?.forbidControllerChange)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(n).forEach((e=>void 0===n[e]&&delete n[e])),n}async function On(e){if(!e.did)throw new Error("No DID provided");return e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`)),e.did}async function An(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let xn=En=class extends wn{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){const{next:e,metadata:t}=this.state$.value;return ze(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async create(e,t,n,r={}){r={...Tn,...r},n?.deterministic||void 0!=r.syncTimeoutSeconds||(r.syncTimeoutSeconds=0);const o=r.asDID?{did:r.asDID}:e,i=await En.makeGenesis(o,t,n);return e.createStreamFromGenesis(En.STREAM_TYPE_ID,i,r)}static async createFromGenesis(e,t,n={}){n={...Tn,...n},t.header?.unique&&void 0==n.syncTimeoutSeconds&&(n.syncTimeoutSeconds=0);const r=t.data?await En._signDagJWS(e,t):t;return e.createStreamFromGenesis(En.STREAM_TYPE_ID,r,n)}static async deterministic(e,t,n={}){if(n={...Tn,...n},null==(t={...t,deterministic:!0}).family&&null==t.tags)throw new Error("Family and/or tags are required when creating a deterministic tile document");const r=await En.makeGenesis(e,null,t);return e.createStreamFromGenesis(En.STREAM_TYPE_ID,r,n)}static async load(e,t,n={}){n={...Sn,...n};const r=bn.from(t);if(r.type!=En.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${En.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}async update(e,t,n={}){const r=(n={...In,...n}).asDID?{did:n.asDID}:this.api,o=await this.makeCommit(r,e,t),i=await this.api.applyCommit(this.id,o,n);this.state$.next(i.state)}async patch(e,t={}){t={...In,...t};const n={header:Nn(this.metadata,!1),data:e,prev:this.tip,id:this.id.cid},r=await En._signDagJWS(this.api,n),o=await this.api.applyCommit(this.id,r,t);this.state$.next(o.state)}makeReadOnly(){this.update=An,this.patch=An,this.sync=An,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}async makeCommit(e,t,n){const r=await this._makeRawCommit(t,n);return En._signDagJWS(e,r)}async _makeRawCommit(e,t){t||(t={});const n=Nn(t,!1);if(null==e&&(e=this.content),n.controllers){if(1!==n.controllers.length)throw new Error("Exactly one controller must be specified");if(!n.controllers[0])throw new Error("Controller cannot be updated to an undefined value.")}const r=on.compare(this.content,e),o=this.state.log[0];return{header:n,data:r,prev:this.tip,id:o.cid}}static async makeGenesis(e,t,n){if(n||(n={}),!n.controllers||0===n.controllers.length){if(!e.did)throw new Error("No controllers specified");{const t=await On(e);n.controllers=[t.hasParent?t.parent:t.id]}}if(1!==n.controllers?.length)throw new Error("Exactly one controller must be specified");const r=Nn(n,!0);if(n?.deterministic&&t)throw new Error("Initial content must be null when creating a deterministic Tile document");if(null==t){const e={header:r};return h.encode(e),e}const o={data:t,header:r};return En._signDagJWS(e,o)}static async _signDagJWS(e,t){return(await On(e)).createDagJWS(t)}};xn.STREAM_TYPE_NAME="tile",xn.STREAM_TYPE_ID=0,xn=En=_n([e=>{}],xn);var kn=n(4747),$n=n(7118);var Cn,Rn=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Dn=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},Pn={anchor:!1,publish:!0,sync:$e.PREFER_CACHE},jn={anchor:!0,publish:!0},Mn={sync:$e.PREFER_CACHE};let Ln=Cn=class extends wn{constructor(){super(...arguments),this._isReadOnly=!1}get did(){return this.content}get metadata(){const{next:e,metadata:t}=this.state$.value;return ze(e?.metadata??t)}get controllers(){return this.metadata.controllers}static async fromAccount(e,t,n={}){n={...Pn,...n};const r=function(e){if("string"===typeof e&&e.includes("@")){const[t,n]=e.split("@");if(!t||!n)throw new Error("Invalid accountId provided");return new $n.hX({address:t,chainId:n})}return new $n.hX(e)}(t),o=Cn.makeGenesis(r);return Cn.fromGenesis(e,o,n)}static async fromGenesis(e,t,n={}){return n={...Pn,...n},e.createStreamFromGenesis(Cn.STREAM_TYPE_ID,t,n)}async setDid(e,t,n={}){n={...jn,...n};const r="string"==typeof e?e.trim():e.id;if((0,kn.Qc)(r)?.did!==r)throw new Error(`DID is not valid: '${r}'`);const o=await t.createLink(r);return this.setDidProof(o,n)}async setDidProof(e,t={}){t={...jn,...t};const n=this.makeCommit(e),r=await this.api.applyCommit(this.id,n,t);this.state$.next(r.state)}async clearDid(e,t={}){t={...jn,...t};const n=await e.createLink("");return this.setDidProof(n,t)}static async load(e,t,n={}){n={...Mn,...n};const r=bn.from(t);if(r.type!=Cn.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${Cn.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}static makeGenesis(e){"eip155"===e.chainId.namespace&&(e.address=e.address.toLowerCase());return{header:{controllers:[`${e.address}@${e.chainId.toString()}`],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.id.cid}}makeReadOnly(){this.setDidProof=Dn,this.setDid=Dn,this.sync=Dn,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};Ln.STREAM_TYPE_NAME="caip10-link",Ln.STREAM_TYPE_ID=1,Ln=Cn=Rn([e=>{}],Ln);var Fn=n(8566),Un=n(4415);const Bn="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",Vn=new RegExp(`^did:([a-z0-9]+):${`((?:${Bn}*:)*(${Bn}+))`}$`);const qn=(0,Un.oc)(Un.Z_,(function(e){return Boolean(e&&e.match(Vn))}),"did-string");const zn=(0,Un.oc)(Un.Z_,(function(e){try{return P.fromString(e),!0}catch(t){return!1}}),"StreamID-string"),Gn=(new Un.Dy("StreamID-as-string",(e=>P.isInstance(e)),((e,t)=>{try{return t.success(P.fromString(e))}catch{return t.failure()}}),(e=>e.toString())),new Un.Dy("StreamID-as-bytes",(e=>P.isInstance(e)),((e,t)=>{try{return t.success(P.fromBytes(e))}catch{return t.failure()}}),(e=>e.bytes)));new Un.Dy("CommitID-as-string",(e=>yn.isInstance(e)),((e,t)=>{try{return t.success(yn.fromString(e))}catch{return t.failure()}}),(e=>e.toString()));var Kn=n(7885),Jn=n(5477);const Hn=new Kn({strict:!0,allErrors:!0,allowMatchingProperties:!1,ownProperties:!1,unevaluated:!1});Jn(Hn);const Qn=function(e,t){function n(t){return"object"===typeof t&&null!=t&&t.type===e}return new Un.Dy(t,n,((t,r)=>{if(!n(t))return r.failure(`Input is not a JSON schema of type: ${e}`);const o=Hn.validateSchema(t);return Hn.removeSchema(t),o?r.success(t):r.failure(`Validation Error: ${Hn.errorsText()}`)}),Un.yR)}("object","ObjectSchema"),Wn=(0,Un.G0)([zn,Un.Km]),Yn=((0,Un.wY)({controller:qn,model:Gn},"ModelMetadata"),(0,Un.G0)([(0,Un.wY)({type:(0,Un.i0)("list")}),(0,Un.wY)({type:(0,Un.i0)("single")})],"ModelAccountRelation")),Xn=(0,Un.G0)([(0,Un.wY)({type:(0,Un.i0)("list")}),(0,Un.wY)({type:(0,Un.i0)("single")}),(0,Un.wY)({type:(0,Un.i0)("none")}),(0,Un.wY)({type:(0,Un.i0)("set"),fields:(0,Un.IX)(Un.Z_)})],"ModelAccountRelationV2"),Zn=(0,Un.G0)([(0,Un.wY)({type:(0,Un.i0)("account")}),(0,Un.wY)({type:(0,Un.i0)("document"),model:zn})],"ModelRelationDefinition"),er=(0,Un.G0)([(0,Un.wY)({type:(0,Un.i0)("account")}),(0,Un.wY)({type:(0,Un.i0)("document"),model:Wn})],"ModelRelationDefinitionV2"),tr=(0,Un.IM)(Un.Z_,Zn,"ModelRelationsDefinition"),nr=(0,Un.IM)(Un.Z_,er,"ModelRelationsDefinitionV2"),rr=(0,Un.G0)([(0,Un.wY)({type:(0,Un.i0)("documentAccount")}),(0,Un.wY)({type:(0,Un.i0)("documentVersion")})],"ModelDocumentMetadataViewDefinition"),or=(0,Un.G0)([(0,Un.wY)({type:(0,Un.i0)("relationDocument"),model:zn,property:Un.Z_}),(0,Un.wY)({type:(0,Un.i0)("relationFrom"),model:zn,property:Un.Z_}),(0,Un.wY)({type:(0,Un.i0)("relationCountFrom"),model:zn,property:Un.Z_})],"ModelRelationViewDefinition"),ir=(0,Un.G0)([(0,Un.wY)({type:(0,Un.i0)("relationDocument"),model:Wn,property:Un.Z_}),(0,Un.wY)({type:(0,Un.i0)("relationFrom"),model:zn,property:Un.Z_}),(0,Un.wY)({type:(0,Un.i0)("relationCountFrom"),model:zn,property:Un.Z_})],"ModelRelationViewDefinitionV2"),sr=(0,Un.G0)([rr,or],"ModelViewDefinition"),ar=(0,Un.G0)([rr,ir],"ModelViewDefinitionV2"),cr=(0,Un.IM)(Un.Z_,sr,"ModelViewDefinition"),ur=(0,Un.IM)(Un.Z_,ar,"ModelViewDefinitionV2"),lr=(0,Un.rV)({version:(0,Un.i0)("1.0"),name:Un.Z_,description:(0,Un.jt)(Un.Z_),schema:Qn,accountRelation:Yn,relations:(0,Un.jt)(tr),views:(0,Un.jt)(cr)},"ModelDefinitionV1"),fr=(0,Un.rV)({version:(0,Un.i0)("2.0"),name:Un.Z_,description:(0,Un.jt)(Un.Z_),interface:Un.O7,implements:(0,Un.IX)(zn),schema:Qn,accountRelation:Xn,relations:(0,Un.jt)(nr),views:(0,Un.jt)(ur)},"ModelDefinitionV2"),dr=(0,Un.G0)([lr,fr],"ModelDefinition");var hr,pr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const mr=/^[0-9]+\.[0-9]+$/;function yr(e){if(!mr.test(e))throw new Error(`Unsupported version format: ${e}`);const[t,n]=e.split(".").map((e=>parseInt(e,10)));return[t,n]}const gr={sync:$e.PREFER_CACHE};async function vr(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function br(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let wr=hr=class extends wn{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){return{controller:this.state$.value.metadata.controllers[0],model:hr.MODEL}}static async create(e,t,n){hr.assertVersionValid(t,"minor"),hr.assertComplete(t);const r={publish:!0,anchor:!0,sync:$e.NEVER_SYNC},o=await hr._makeGenesis(e,t,n);return await e.createStreamFromGenesis(hr.STREAM_TYPE_ID,o,r)}static assertComplete(e,t){(0,Un.Jx)(dr,e)}static assertVersionValid(e,t="minor"){if(null==e.version)throw new Error(`Missing version for model ${e.name}`);const[n,r]=yr(hr.VERSION),[o,i]=yr(e.version);if(o>n||"minor"===t&&o===n&&i>r)throw new Error(`Unsupported version ${e.version} for model ${e.name}, the maximum version supported by the Ceramic node is ${hr.VERSION}. Please update your Ceramic node to a newer version supporting at least version ${e.version} of the Model definition.`)}static assertRelationsValid(e){null!=e.relations&&(0,Un.Jx)(nr,e.relations)}static async load(e,t,n={}){n={...gr,...n};const r=bn.from(t);if(r.type!=hr.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${hr.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return await e.loadStream(r,n)}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return hr._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(null==t)throw new Error("Genesis content cannot be null");if(!n||!n.controller){if(!e.did)throw new Error("No controller specified");await vr(e),n={controller:e.did.hasParent?e.did.parent:e.did.id}}return{data:t,header:{controllers:[n.controller],model:hr.MODEL.bytes,sep:"model"}}}makeReadOnly(){this.sync=br,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}static async _signDagJWS(e,t){return await vr(e),e.did.createDagJWS(t)}};wr.STREAM_TYPE_NAME="model",wr.STREAM_TYPE_ID=2,wr.MODEL=function(){const e=(0,h.encode)("model-v1"),t=Fn.y.digest(e),n=(0,E.Ue)(h.code,t.bytes),r=a.k0.createV1(h.code,n);return new P("UNLOADABLE",r)}(),wr.VERSION="2.0",wr=hr=pr([e=>{}],wr);var Er,_r=n(4225),Tr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Sr={anchor:!0,publish:!0,sync:$e.NEVER_SYNC,syncTimeoutSeconds:0},Ir={anchor:!1,publish:!1,sync:$e.PREFER_CACHE},Nr={sync:$e.PREFER_CACHE},Or={anchor:!0,publish:!0};async function Ar(e){if(null==e.did)throw new Error("No DID provided");e.did.authenticated||(await e.did.authenticate(),e.loggerProvider&&e.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${e.did.id}`))}async function xr(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let kr=Er=class extends wn{constructor(){super(...arguments),this._isReadOnly=!1}get content(){return super.content}get metadata(){const e=this.state$.value.metadata;return{controller:e.controllers[0],model:e.model}}static async create(e,t,n,r={}){const o=(r={...Sr,...r}).asDID?{did:r.asDID}:e,i=await Er._makeGenesis(o,t,n);return e.createStreamFromGenesis(Er.STREAM_TYPE_ID,i,r)}static async single(e,t,n={}){const r=(n={...Ir,...n}).asDID?{did:n.asDID}:e;t={...t,deterministic:!0};const o=await Er._makeGenesis(r,null,t);return e.createStreamFromGenesis(Er.STREAM_TYPE_ID,o,n)}static async load(e,t,n={}){n={...Nr,...n};const r=bn.from(t);if(r.type!=Er.STREAM_TYPE_ID)throw new Error(`StreamID ${r.toString()} does not refer to a '${Er.STREAM_TYPE_NAME}' stream, but to a ${r.typeName}`);return e.loadStream(r,n)}async replace(e,t={}){t={...Or,...t},$r(e);const n=t.asDID?{did:t.asDID}:this.api,r=await this._makeCommit(n,e),o=await this.api.applyCommit(this.id,r,t);this.state$.next(o.state)}async patch(e,t={}){t={...Or,...t},e.forEach((e=>{switch(e.op){case"add":case"replace":$r(e.value)}}));const n={data:e,prev:this.tip,id:this.id.cid},r=await Er._signDagJWS(this.api,n),o=await this.api.applyCommit(this.id,r,t);this.state$.next(o.state)}makeReadOnly(){this.replace=xr,this.patch=xr,this.sync=xr,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}_makeCommit(e,t){const n=this._makeRawCommit(t);return Er._signDagJWS(e,n)}_makeRawCommit(e){return{data:on.compare(this.content,e||{}),prev:this.tip,id:this.state.log[0].cid}}static async _makeGenesis(e,t,n){const r=await this._makeRawGenesis(e,t,n);return n.deterministic?(h.encode(r),r):Er._signDagJWS(e,r)}static async _makeRawGenesis(e,t,n){if(!n.model)throw new Error("Must specify a 'model' when creating a ModelInstanceDocument");$r(t);let r=n.controller;if(!r){if(!e.did)throw new Error("No controller specified");await Ar(e),r=e.did.hasParent?e.did.parent:e.did.id}const o={controllers:[r],model:n.model.bytes,sep:"model"};return n.deterministic||(o.unique=(0,sn.randomBytes)(12)),{data:t,header:o}}static async _signDagJWS(e,t){return await Ar(e),e.did.createDagJWS(t)}};function $r(e){if(e){const t=_r(e);if(t>kr.MAX_DOCUMENT_SIZE)throw new Error(`Content has length of ${t}B which exceeds maximum size of ${kr.MAX_DOCUMENT_SIZE}B`)}}kr.STREAM_TYPE_NAME="MID",kr.STREAM_TYPE_ID=3,kr.MAX_DOCUMENT_SIZE=16e6,kr=Er=Tr([e=>{}],kr);class Cr{constructor(e){this._fetchJson=Tt,this._collectionURL=new URL("./collection",e),this._countURL=new URL("./collection/count",e)}async count(e){return(await this._fetchJson(this._countURL,{method:"POST",body:M(e)})).count}async query(e){const t=await this._fetchJson(this._collectionURL,{method:"POST",body:M(e)});return{edges:t.edges.map((e=>({cursor:e.cursor,node:Ke.deserializeState(e.node)}))),pageInfo:t.pageInfo}}}class Rr{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=Tt,this.getCodePath="./admin/getCode"}async buildJWS(e,t,n){if(!e)throw new L;const r=await e.createJWS({code:t,requestPath:n.pathname});return`${r.signatures[0].protected}.${r.payload}.${r.signatures[0].signature}`}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getBaseUrl(){return new URL("./admin/pins",this._apiUrl)}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async add(e,t){const n={};t&&(n.force=!0);const r=await this.generateCode(),o=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(o,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),r,this.getBaseUrl())}`},method:"POST",body:n})}async rm(e,t){const n=await this.generateCode(),r=new URL(`./admin/pins/${e}`,this._apiUrl);await this._fetchJson(r,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`},method:"DELETE",body:{opts:t}})}async ls(e){let t=new URL("./admin/pins",this._apiUrl);e&&(t=new URL(`./admin/pins/${e.toString()}`,this._apiUrl));const n=await this.generateCode(),r=await this._fetchJson(t,{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),n,this.getBaseUrl())}`}}),{pinnedStreamIds:o}=r;return{[Symbol.asyncIterator](){let e=0;return{next:()=>e===o.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:o[e++],done:!1})}}}}}class Dr{constructor(e,t){this._apiUrl=e,this._getDidFn=t,this._fetchJson=Tt,this.modelsPath="./admin/models",this.modelDataPath="./admin/modelData",this.getCodePath="./admin/getCode",this.nodeStatusPath="./admin/status",this._pinApi=new Rr(this._apiUrl,this._getDidFn)}getCodeUrl(){return new URL(this.getCodePath,this._apiUrl)}getModelsUrl(){return new URL(this.modelsPath,this._apiUrl)}getModelDataUrl(){return new URL(this.modelDataPath,this._apiUrl)}getStatusUrl(){return new URL(this.nodeStatusPath,this._apiUrl)}async buildJWS(e,t,n,r){if(!e)throw new L;const o=await e.createJWS({code:t,requestPath:n,requestBody:r});return`${o.signatures[0].protected}.${o.payload}.${o.signatures[0].signature}`}async generateCode(){return(await this._fetchJson(this.getCodeUrl())).code}async nodeStatus(){const e=await this.generateCode();return this._fetchJson(this.getStatusUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getStatusUrl().pathname)}`}})}async startIndexingModels(e){const t=await this.generateCode(),n={models:e.map((e=>e.toString()))};await this._fetchJson(this.getModelsUrl(),{method:"POST",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,n)}})}async startIndexingModelData(e){const t=await this.generateCode(),n={modelData:e.map((e=>({streamID:e.streamID.toString(),indices:e.indices})))};await this._fetchJson(this.getModelDataUrl(),{method:"POST",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelDataUrl().pathname,n)}})}async getIndexedModels(){const e=await this.generateCode();return(await this._fetchJson(this.getModelsUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getModelsUrl().pathname)}`}})).models.map((e=>({streamID:P.fromString(e)})))}async getIndexedModelData(){const e=await this.generateCode();return(await this._fetchJson(this.getModelDataUrl(),{headers:{Authorization:`Basic ${await this.buildJWS(this._getDidFn(),e,this.getModelDataUrl().pathname)}`}})).modelData.map((e=>({streamID:P.fromString(e.streamID),indices:e.indices})))}async stopIndexingModels(e){const t=await this.generateCode(),n={models:e.map((e=>e.toString()))};await this._fetchJson(this.getModelsUrl(),{method:"DELETE",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelsUrl().pathname,n)}})}async stopIndexingModelData(e){const t=await this.generateCode(),n={modelData:e.map((e=>({streamID:e.streamID.toString()})))};await this._fetchJson(this.getModelDataUrl(),{method:"DELETE",body:{jws:await this.buildJWS(this._getDidFn(),t,this.getModelDataUrl().pathname,n)}})}get pin(){return this._pinApi}}function Pr(e){console.warn(`You are using the ceramic.pin.${e} API which has been removed and is now a no-op.  This operation will not have any affect.  If you want to change the pin state of streams please use the new ceramic.admin.pin API which requires a DID that has been granted admin access on the Ceramic node.`)}class jr{async add(){Pr("add")}async ls(){Pr("ls")}async rm(e,t){Pr("ls")}}const Mr={syncInterval:5e3},Lr={anchor:!0,publish:!0,sync:$e.PREFER_CACHE},Fr={anchor:!0,publish:!0,sync:$e.PREFER_CACHE},Ur={sync:$e.PREFER_CACHE};class Br{constructor(e="http://localhost:7007",t={}){this._config={...Mr,...t},this._apiUrl=new URL("/api/v0/",e),this.context={api:this},this.pin=new jr,this.index=new Cr(this._apiUrl);const n=(()=>this.did).bind(this);this.admin=new Dr(this._apiUrl,n),this._streamConstructors={[Ln.STREAM_TYPE_ID]:Ln,[wr.STREAM_TYPE_ID]:wr,[kr.STREAM_TYPE_ID]:kr,[xn.STREAM_TYPE_ID]:xn}}get did(){return this.context.did}set did(e){this.context.did=e}async createStreamFromGenesis(e,t,n={}){n={...Fr,...n};const r=await St.createFromGenesis(this._apiUrl,e,t,n,this._config.syncInterval);return this.buildStreamFromDocument(r)}async loadStream(e,t={}){t={...Ur,...t};const n=bn.from(e),r=await St.load(n,this._apiUrl,this._config.syncInterval,t);return this.buildStreamFromDocument(r)}async multiQuery(e,t){const n=e.map((e=>({...e,streamId:"string"===typeof e.streamId?e.streamId:e.streamId.toString()}))),r=new URL("./multiqueries",this._apiUrl),o=await Tt(r,{method:"POST",body:{queries:n,timeout:t}});return Object.entries(o).reduce(((e,t)=>{const[n,r]=t,o=Ke.deserializeState(r),i=new St(o,this._apiUrl,this._config.syncInterval);return e[n]=this.buildStreamFromDocument(i),e}),{})}loadStreamCommits(e){const t=j(e);return St.loadStreamCommits(t,this._apiUrl)}async applyCommit(e,t,n={}){n={...Lr,...n};const r=j(e),o=await St.applyCommit(this._apiUrl,r,t,n,this._config.syncInterval);return this.buildStreamFromDocument(o)}async requestAnchor(e,t={}){t={...Ur,...t};const{anchorStatus:n}=await Tt(`${this._apiUrl}/streams/${e.toString()}/anchor`,{method:"POST",body:{opts:t}});return n}addStreamHandler(e){this._streamConstructors[e.name]=e.stream_constructor}buildStreamFromState(e){const t=new St(e,this._apiUrl,this._config.syncInterval);return this.buildStreamFromDocument(t)}buildStreamFromDocument(e){const t=e.state.type,n=this._streamConstructors[t];if(!n)throw new Error(`Failed to find constructor for stream ${t}`);return new n(e,this.context)}async setDID(e){this.context.did=e}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:e}=await Tt(this._apiUrl+"/node/chains");return this._supportedChains=e,e}async close(){}}async function Vr(e,t){const n=function(e){const{after:t,before:n,first:r,last:o,...i}=e;let s;if(null!=r?(s={first:r},null!=t&&(s.after=t)):null!=o&&(s={last:o},null!=n&&(s.before=n)),null==s)throw new Error('Missing "first" or "last" connection argument');return{...i,...s}}(t),r=await e.index.query(n);return function(e,t){return{edges:(t.edges??[]).map((({cursor:t,node:n})=>({cursor:t,node:n?e.buildStreamFromState(n):null}))),pageInfo:{...t.pageInfo,startCursor:t.pageInfo.startCursor??null,endCursor:t.pageInfo.endCursor??null}}}(e,r)}const qr=["greaterThan","greaterThanOrEqualTo"],zr=["lessThan","lessThanOrEqualTo"];function Gr(e){if(null==e)throw new Error("No value filter provided");const t=Object.keys(e);if(0===t.length)throw new Error("Invalid empty value filter");if(t.length>2)throw new Error("Too many conditions provided in value filter");if(2===t.length){if(n=t[0],r=t[1],qr.includes(n)&&zr.includes(r)||qr.includes(r)&&zr.includes(n))return;throw new Error("Invalid range conditions in value filter")}var n,r;const o=t[0],i=e[o];switch(o){case"in":case"notIn":if(!Array.isArray(i))throw new Error(`Invalid value for condition "${o}": must be an array`);return;case"isNull":case"equalTo":case"notEqualTo":return;default:if(qr.includes(o)||zr.includes(o))return;throw new Error(`Unexpected condition "${o}" in value filter`)}}function Kr(e){if(null==e)throw new Error("No query filters provided");const t=Object.keys(e);if(1!==t.length)throw new Error("Invalid query filters: a single key must be provided");const n=t[0],r=e[n];if(null==r)throw new Error("Invalid query filters: missing filter value");switch(n){case"where":return void function(e){if(null==e)throw new Error("No object filter provided");const t=Object.values(e);if(0===t.length)throw new Error("Empty object filter");t.forEach(Gr)}(r);case"not":return void Kr(r);case"and":case"or":if(!Array.isArray(r))throw new Error(`Invalid value for "${n}" filter: must be an array`);return void r.forEach(Kr);default:throw new Error(`Invalid query filter type: expecting "where", "and", "or" or "not" key but got "${n}"`)}}function Jr(e,t,n){const r={where:{[e]:{equalTo:t}}};return null==n?r:(Kr(n),{and:[r,n]})}var Hr=n(5933);function Qr(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Wr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Qr(e,t,"get"))}function Yr(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Xr(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Qr(e,t,"set"),n),n}function Zr(e){return"string"===typeof e?bn.from(e).toString():e.toString()}const eo=()=>Promise.resolve([]);var to=new WeakMap,no=new WeakMap;class ro extends Hr{cache(e){if(!Wr(this,no))return!1;const t=e.id.toString();return this.clear(t).prime(t,e),!0}async create(e,t,{controller:n,...r}={}){const o={controller:n,model:e instanceof P?e:P.fromString(e)},i=await kr.create(Wr(this,to),t,o,r);return this.cache(i),i}async load(e){return await super.load(e)}async single(e,t,n){const r={controller:e,model:t instanceof P?t:P.fromString(t)},o=await kr.single(Wr(this,to),r,n);return this.cache(o),o}async update(e,t,{replace:n,version:r,...o}={}){const i=Zr(e);this.clear(i);const s=await this.load(i);if(null!=r&&s.commitId.toString()!==r)throw new Error("Stream version mismatch");const a=n?t:{...s.content,...t};return await s.replace(a,o),s}constructor(e){super(eo,{cache:!0,cacheKeyFn:Zr,cacheMap:null!=e.cache&&"boolean"!==typeof e.cache?e.cache:void 0}),Yr(this,to,{writable:!0,value:void 0}),Yr(this,no,{writable:!0,value:void 0}),this._batchLoadFn=async t=>{e.cache||this.clearAll();const n=await e.ceramic.multiQuery(t.map(Zr).map((e=>({streamId:e}))),e.multiqueryTimeout);return t.map((e=>{const t=Zr(e),r=n[t];return r||new Error(`Failed to load document: ${t}`)}))},Xr(this,to,e.ceramic),Xr(this,no,!!e.cache)}}function oo(e){const{cache:t,ceramic:n,fallbackViewerID:r}=e,o=e.loader??new ro({ceramic:n,cache:t});function i(){const e=n.did;return e?e.hasParent?e.parent:e.id:r??null}return{ceramic:n,loader:o,getViewerID:i,isAuthenticated:()=>n.did?.authenticated??!1,loadDoc:async(e,t=!1)=>(t&&o.clear(e),await o.load(e)),createDoc:async(e,t)=>await o.create(e,t),createSingle:async(e,t,n)=>{const r=i();if(null==r)throw new Error("Document can only be created with an authenticated account");const s=await o.single(r,e,n);return await s.replace(t),s},updateDoc:async(e,t,n)=>await o.update(e,t,n),queryConnection:async e=>await Vr(n,e),queryCount:async e=>await n.index.count(e),querySingle:async e=>await async function(e,t){const n={...t,last:1},r=(await e.index.query(n)).edges?.[0]?.node;return r?e.buildStreamFromState(r):null}(n,e)}}var io=n(6584),so=n(4296),ao=n(4275),co=n(3801),uo=n(4454),lo=n(7359),fo=n(5944),ho=n(8087);function po(e,t){return fo.A.major>=17?new ho.__(e,t):new ho.__(e,null===t||void 0===t?void 0:t.nodes,null===t||void 0===t?void 0:t.source,null===t||void 0===t?void 0:t.positions,null===t||void 0===t?void 0:t.path,null===t||void 0===t?void 0:t.originalError,null===t||void 0===t?void 0:t.extensions)}const mo=/^(AD|AE|AF|AG|AI|AL|AM|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BL|BM|BN|BO|BQ|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CF|CG|CH|CI|CK|CL|CM|CN|CO|CR|CU|CV|CW|CX|CY|CZ|DE|DJ|DK|DM|DO|DZ|EC|EE|EG|EH|ER|ES|ET|FI|FJ|FK|FM|FO|FR|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MF|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|SS|ST|SV|SX|SY|SZ|TC|TD|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TR|TT|TV|TW|TZ|UA|UG|UM|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|XK|YE|YT|ZA|ZM|ZW)$/i,yo=(e,t)=>{if("string"!==typeof e)throw po(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!mo.test(e))throw po(`Value is not a valid country code: ${e}`,t?{nodes:t}:void 0);return e},go=new uo.n2({name:"CountryCode",description:"A country code as defined by ISO 3166-1 alpha-2",serialize:e=>yo(e),parseValue:e=>yo(e),parseLiteral(e){if(e.kind!==lo.h.STRING)throw po(`Can only validate strings as country codes but got a: ${e.kind}`,{nodes:[e]});return yo(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"CountryCode",type:"string",pattern:mo.source}}}),vo=/^did:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*:?[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]*$/,bo=(e,t)=>{if("string"!==typeof e)throw po(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!vo.test(e))throw po(`Value is not a valid DID: ${e}`,t?{nodes:t}:void 0);return e},wo="https://www.w3.org/TR/did-core/",Eo={name:"DID",description:"A field whose value conforms to the standard DID format as specified in did-core: https://www.w3.org/TR/did-core/.",serialize:bo,parseValue:bo,parseLiteral(e){if(e.kind!==lo.h.STRING)throw po(`Can only validate strings as DID but got a: ${e.kind}`,{nodes:e});return bo(e.value,e)},specifiedByURL:wo,specifiedByUrl:wo,extensions:{codegenScalarType:"string",jsonSchema:{title:"DID",type:"string",pattern:vo.source}}},_o=new uo.n2(Eo),To=/^(-|\+)?P(?!$)((-|\+)?\d+(?:(\.|,)\d+)?Y)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?W)?((-|\+)?\d+(?:(\.|,)\d+)?D)?(T(?=(-|\+)?\d)((-|\+)?\d+(?:(\.|,)\d+)?H)?((-|\+)?\d+(?:(\.|,)\d+)?M)?((-|\+)?\d+(?:(\.|,)\d+)?S)?)?$/,So={name:"Duration",description:"\n    A string representing a duration conforming to the ISO8601 standard,\n    such as: P1W1DT13H23M34S\n    P is the duration designator (for period) placed at the start of the duration representation.\n    Y is the year designator that follows the value for the number of years.\n    M is the month designator that follows the value for the number of months.\n    W is the week designator that follows the value for the number of weeks.\n    D is the day designator that follows the value for the number of days.\n    T is the time designator that precedes the time components of the representation.\n    H is the hour designator that follows the value for the number of hours.\n    M is the minute designator that follows the value for the number of minutes.\n    S is the second designator that follows the value for the number of seconds.\n\n    Note the time designator, T, that precedes the time value.\n\n    Matches moment.js, Luxon and DateFns implementations\n    ,/. is valid for decimal places and +/- is a valid prefix\n  ",serialize(e){if("string"!==typeof e)throw po(`Value is not string: ${e}`);if(!To.test(e))throw po(`Value is not a valid ISO Duration: ${e}`);return e},parseValue(e){if("string"!==typeof e)throw po(`Value is not string: ${e}`);if(!To.test(e))throw po(`Value is not a valid ISO Duration: ${e}`);return e},parseLiteral(e){if(e.kind!==lo.h.STRING)throw po(`Can only validate strings as ISO Durations but got a: ${e.kind}`,{nodes:e});if(!To.test(e.value))throw po(`Value is not a valid ISO Duration: ${e.value}`,{nodes:e});return e.value},extensions:{codegenScalarType:"string",jsonSchema:{title:"Duration",type:"string",pattern:To.source}}},Io=new uo.n2({...So,name:"Duration"});var No,Oo;!function(e){e[e.NEGATIVE=0]="NEGATIVE",e[e.NON_NEGATIVE=1]="NON_NEGATIVE",e[e.POSITIVE=2]="POSITIVE",e[e.NON_POSITIVE=3]="NON_POSITIVE"}(No||(No={})),function(e){e[e.INT=0]="INT",e[e.FLOAT=1]="FLOAT"}(Oo||(Oo={}));const Ao=/^([0-9]{1,3})\xb0\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['\u2032]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["\u2033]\s*)?([NEOSW]?)$/;No.NON_POSITIVE,Oo.INT,No.POSITIVE,Oo.INT,No.NON_NEGATIVE,Oo.INT,No.NEGATIVE,Oo.INT,No.NON_POSITIVE,Oo.FLOAT,No.POSITIVE,Oo.FLOAT,No.NON_NEGATIVE,Oo.FLOAT,No.NEGATIVE,Oo.FLOAT;function xo(e){const t=e.toString().trim();return!Number.isNaN(Number.parseFloat(t))&&Number.parseFloat(t)===Number(t)}function ko(e){return"string"===typeof e&&Ao.test(e.toString().trim())}function $o(e){const t=Ao.exec(e);if("undefined"===typeof t||null===t)throw po(`Value is not in sexagesimal format: ${e}`);const n=Number(t[2])/60||0,r=Number(t[4])/3600||0,o=Number.parseFloat(t[1])+n+r;return["S","W"].includes(t[7])?-o:o}const Co=(e,t)=>{if("string"!==typeof e&&"number"!==typeof e||null===e||"undefined"===typeof e||Number.isNaN(e))throw po(`Value is neither a number nor a string: ${e}`,t?{nodes:t}:void 0);if(xo(e)){const n="string"===typeof e?Number.parseFloat(e):e;if(n<-90||n>90)throw po(`Value must be between -90 and 90: ${e}`,t?{nodes:t}:void 0);return Number.parseFloat(n.toFixed(8))}if(ko(e))return Co($o(e));throw po(`Value is not a valid latitude: ${e}`,t?{nodes:t}:void 0)},Ro=new uo.n2({name:"Latitude",description:"A field whose value is a valid decimal degrees latitude number (53.471): https://en.wikipedia.org/wiki/Latitude",serialize:e=>Co(e),parseValue:e=>Co(e),parseLiteral(e){if(e.kind!==lo.h.FLOAT&&e.kind!==lo.h.STRING)throw po(`Can only validate floats or strings as latitude but got a: ${e.kind}`,{nodes:[e]});return Co(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"Latitude",type:"number",minimum:-90,maximum:90}}}),Do=/^\d{4}-\d{2}-\d{2}$/;function Po(e,t){if("string"!==typeof e)throw po(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Do.test(e))throw po(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);const n=new Date(e);if(!!isNaN(n.getTime()))throw po(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);if(!(n.toISOString()===`${e}T00:00:00.000Z`))throw po(`Value is not a valid LocalDate: ${e}`,t?{nodes:t}:void 0);return e}const jo=new uo.n2({name:"LocalDate",description:"A local date string (i.e., with no associated timezone) in `YYYY-MM-DD` format, e.g. `2020-01-01`.",serialize:e=>Po(e),parseValue:e=>Po(e),parseLiteral(e){if(e.kind!==lo.h.STRING)throw po(`Can only validate strings as local dates but got a: ${e.kind}`,{nodes:e});return Po(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalDate",type:"string",pattern:Do.source}}}),Mo=/^(((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+))$/;function Lo(e,t){if(!e)throw po(`Value is not a valid string. Received: ${e}`,t?{nodes:t}:void 0);if(!Mo.test(e))throw po(`Value is not a valid BCP-47 standard formatted string. Received: ${e}`,t?{nodes:t}:void 0);return e}const Fo=new uo.n2({name:"Locale",description:"The locale in the format of a BCP 47 (RFC 5646) standard string",serialize:Lo,parseValue:Lo,parseLiteral(e){if(e.kind===lo.h.STRING)return Lo(e.value,e);throw po(`Value is not a string. Received: ${e.kind}`,{nodes:e})},extensions:{codegenScalarType:"string",jsonSchema:{title:"Locale",type:"string",pattern:Mo.source}}}),Uo=/^([0-1][0-9]|2[0-3]):([0-5][0-9])(:[0-5][0-9](\.\d{3})?)?$/;function Bo(e,t){if("string"!==typeof e)throw po(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Uo.test(e))throw po(`Value is not a valid LocalTime: ${e}`,t?{nodes:t}:void 0);return e}const Vo=new uo.n2({name:"LocalTime",description:"A local time string (i.e., with no associated timezone) in 24-hr `HH:mm[:ss[.SSS]]` format, e.g. `14:25` or `14:25:06` or `14:25:06.123`.",serialize:e=>Bo(e),parseValue:e=>Bo(e),parseLiteral(e){if(e.kind!==lo.h.STRING)throw po(`Can only validate strings as local times but got a: ${e.kind}`,{nodes:e});return Bo(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"LocalTime",type:"string",pattern:Uo.source}}}),qo=-180,zo=(e,t)=>{if("string"!==typeof e&&"number"!==typeof e||null===e||"undefined"===typeof e||Number.isNaN(e))throw po(`Value is neither a number nor a string: ${e}`,t?{nodes:t}:void 0);if(xo(e)){const n="string"===typeof e?Number.parseFloat(e):e;if(n<qo||n>180)throw po(`Value must be between -180 and 180: ${e}`,t?{nodes:t}:void 0);return Number.parseFloat(n.toFixed(8))}if(ko(e))return zo($o(e));throw po(`Value is not a valid longitude: ${e}`,t?{nodes:t}:void 0)},Go=new uo.n2({name:"Longitude",description:"A field whose value is a valid decimal degrees longitude number (53.471): https://en.wikipedia.org/wiki/Longitude",serialize:e=>zo(e),parseValue:e=>zo(e),parseLiteral(e){if(e.kind!==lo.h.FLOAT&&e.kind!==lo.h.STRING)throw po(`Can only validate floats or strings as longitude but got a: ${e.kind}`,{nodes:[e]});return zo(e.value,e)},extensions:{codegenScalarType:"string | number",jsonSchema:{type:"number",minimum:qo,maximum:180}}}),Ko=(e,t)=>{if(!(null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat().resolvedOptions().timeZone))throw po("Time zones are not available in this environment",t?{nodes:t}:void 0);try{return Intl.DateTimeFormat(void 0,{timeZone:e}),e}catch(n){throw n instanceof RangeError?po(`Value is not a valid IANA time zone: ${e}`,t?{nodes:t}:void 0):po("Could not validate time zone.",t?{nodes:t}:void 0)}},Jo=new uo.n2({name:"TimeZone",description:"A field whose value exists in the standard IANA Time Zone Database: https://www.iana.org/time-zones",serialize:Ko,parseValue:Ko,parseLiteral(e){if(e.kind!==lo.h.STRING)throw po(`Can only sanitize time zone strings, but got: ${e.kind}`);return Ko(e.value)},extensions:{codegenScalarType:"string",jsonSchema:{title:"TimeZone",type:"string",pattern:"^(?:[A-Za-z0-9_]|(?:%[0-9A-Fa-f]{2}))+"}}}),Ho=/^([+-]?)(\d{2}):(\d{2})$/,Qo=(e,t)=>{if("string"!==typeof e)throw po(`Value is not string: ${e}`,t?{nodes:t}:void 0);if(!Ho.test(e))throw po(`Value is not a valid UTC Offset: ${e}`,t?{nodes:t}:void 0);return e},Wo=new uo.n2({name:"UtcOffset",description:"A field whose value is a UTC Offset: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",serialize:Qo,parseValue:Qo,parseLiteral(e){if(e.kind!==lo.h.STRING)throw po(`Can only validate strings as UTC Offset but got a: ${e.kind}`,{nodes:e});return Qo(e.value,e)},extensions:{codegenScalarType:"string",jsonSchema:{title:"UtcOffset",type:"string",pattern:Ho.source}}});function Yo(e){return yn.fromString(e).toString()}function Xo(e){return P.fromString(e).toString()}const Zo=new uo.n2({name:"CeramicCommitID",description:"A Ceramic Commit ID",specifiedByURL:"https://github.com/ceramicnetwork/CIP/blob/main/CIPs/CIP-59/CIP-59.md#commitid",serialize:Yo,parseValue:Yo,parseLiteral(e){if(e.kind!==lo.h.STRING)throw new ho.__(`Can only validate strings as CommitID but got a: ${e.kind}`);return Yo(e.value)}}),ei=new uo.n2({name:"CeramicStreamID",description:"A Ceramic Stream ID",specifiedByURL:"https://github.com/ceramicnetwork/CIP/blob/main/CIPs/CIP-59/CIP-59.md#streamid",serialize:Xo,parseValue:Xo,parseLiteral(e){if(e.kind!==lo.h.STRING)throw new ho.__(`Can only validate strings as StreamID but got a: ${e.kind}`);return Xo(e.value)}});function ti(e){return new $n.hX(e).toString()}function ni(e){return new $n.a_(e).toString()}const ri=new uo.n2({name:"ChainAgnosticAccountID",description:"A Chain Agnostic AccountId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md",serialize:ti,parseValue:ti,parseLiteral(e){if(e.kind!==lo.h.STRING)throw new ho.__(`Can only validate strings as ChainAgnosticAccountID but got a: ${e.kind}`);return ti(e.value)}}),oi=new uo.n2({name:"ChainAgnosticChainID",description:"A Chain Agnostic ChainId",specifiedByURL:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md",serialize:ni,parseValue:ni,parseLiteral(e){if(e.kind!==lo.h.STRING)throw new ho.__(`Can only validate strings as ChainAgnosticAccountID but got a: ${e.kind}`);return ni(e.value)}});function ii(e){e=e?.toUpperCase();return/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(e)}function si(e){if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))$/.test(e))return!1;const t=Number(e.substring(0,4)),n=Number(e.substring(5,2)),r=Number(e.substring(8,2));switch(n){case 2:return!((t%4===0&&t%100!==0||t%400===0)&&r>29)&&!((t%4===0&&t%100!==0||t%400===0)&&r>28);case 4:case 6:case 9:case 11:if(r>30)return!1}return!0}function ai(e){e=e?.toUpperCase();if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60))(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(e))return!1;const t=Date.parse(e);if(Number.isNaN(t))return!1;const n=e.indexOf("T"),r=e.substring(0,n),o=e.substring(n+1);return si(r)&&ii(o)}const ci=new uo.n2({name:"Date",description:"A date string, such as 2007-12-03, compliant with the `full-date` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:e=>{if("string"===typeof e&&si(e))return e;throw new TypeError(`Date cannot represent an invalid date-string ${String(e)}.`)},parseValue:e=>{if("string"===typeof e&&si(e))return e;throw new TypeError(`Date cannot represent an invalid date-string ${String(e)}.`)},parseLiteral:e=>{if(e.kind!==lo.h.STRING)throw new TypeError("Date cannot represent non string or Date type");const{value:t}=e;if(si(t))return t;throw new TypeError(`Date cannot represent an invalid date-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date"}}}),ui=new uo.n2({name:"DateTime",description:"A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize:e=>{if("string"===typeof e&&ai(e)){if(-1!==e.indexOf("Z"))return e;throw new TypeError(`DateTime string must be formatted to UTC time ${String(e)}.`)}throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(e)}.`)},parseValue:e=>{if("string"===typeof e&&ai(e))return e;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(e)}.`)},parseLiteral:e=>{if(e.kind!==lo.h.STRING)throw new TypeError("DateTime cannot represent non string or Date type");const{value:t}=e;if(ai(t))return t;throw new TypeError(`DateTime cannot represent an invalid date-time-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"date-time"}}}),li=new uo.n2({name:"Time",description:"A time string at UTC, such as 10:15:30Z, compliant with the `full-time` format outlined in section 5.6 of the RFC 3339profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize(e){if(e instanceof Date){const t=e.toISOString();return t.substring(t.indexOf("T")+1)}if("string"===typeof e){if(ii(e))return e;throw new TypeError(`Time cannot represent an invalid time-string ${e}.`)}throw new TypeError("Time cannot be serialized from a non string, or non Date type "+JSON.stringify(e))},parseValue(e){if("string"!==typeof e)throw new TypeError(`Time cannot represent non string type ${JSON.stringify(e)}`);if(ii(e))return e;throw new TypeError(`Time cannot represent an invalid time-string ${e}.`)},parseLiteral(e){if(e.kind!==lo.h.STRING)throw new TypeError(`Time cannot represent non string type: ${e.kind}`);const t=e.value;if(ii(t))return t;throw new TypeError(`Time cannot represent an invalid time-string ${String(t)}.`)},extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"time"}}});var fi=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const di=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class hi{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class pi{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return yi(this,e)}}class mi{constructor(e){this.decoders=e}or(e){return yi(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yi=(e,t)=>new mi({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class gi{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new hi(e,t,n),this.decoder=new pi(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vi=({name:e,prefix:t,encode:n,decode:r})=>new gi(e,t,n,r),bi=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=fi(n,t);return vi({prefix:e,name:t,encode:r,decode:e=>di(o(e))})},wi=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>vi({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Ei=wi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_i=(wi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),bi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));bi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ti=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=Si;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},Si=Math.pow(2,31);var Ii=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var Ni=Math.pow(2,7),Oi=Math.pow(2,14),Ai=Math.pow(2,21),xi=Math.pow(2,28),ki=Math.pow(2,35),$i=Math.pow(2,42),Ci=Math.pow(2,49),Ri=Math.pow(2,56),Di=Math.pow(2,63),Pi={encode:Ti,decode:Ii,encodingLength:function(e){return e<Ni?1:e<Oi?2:e<Ai?3:e<xi?4:e<ki?5:e<$i?6:e<Ci?7:e<Ri?8:e<Di?9:10}};const ji=(e,t=0)=>[Pi.decode(e,t),Pi.decode.bytes],Mi=(e,t,n=0)=>(Pi.encode(e,t,n),t),Li=e=>Pi.encodingLength(e);class Fi{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Ui=(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return Gi(n,Vi(e),t||_i.encoder);default:return Ki(n,Vi(e),t||Ei.encoder)}},Bi=new WeakMap,Vi=e=>{const t=Bi.get(e);if(null==t){const t=new Map;return Bi.set(e,t),t}return t};class qi{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==Ji)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Hi)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return qi.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Li(e),o=r+Li(n),i=new Uint8Array(o+n);return Mi(e,i,0),Mi(n,i,r),i.set(t,o),new Fi(e,n,t,i)})(e,t);return qi.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return qi.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&((e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(e.bytes,n.bytes)}})(e.multihash,n.multihash)}toString(e){return Ui(this,e)}toJSON(){return{"/":Ui(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof qi)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new qi(e,n,r,o||Qi(e,n,r.bytes))}if(!0===t[Wi]){const{version:e,multihash:n,code:r}=t,o=(e=>{const t=di(e),[n,r]=ji(t),[o,i]=ji(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Fi(n,o,s,t)})(n);return qi.create(e,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==Ji)throw new Error(`Version 0 CID must use dag-pb (code: ${Ji}) block encoding`);return new qi(e,t,n,n.bytes);case 1:{const r=Qi(e,t,n.bytes);return new qi(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return qi.create(0,Ji,e)}static createV1(e,t){return qi.create(1,e,t)}static decode(e){const[t,n]=qi.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=qi.inspectBytes(e),n=t.size-t.multihashSize,r=di(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new Fi(t.multihashCode,t.digestSize,o,r);return[0===t.version?qi.createV0(i):qi.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=ji(e.subarray(t));return t+=r,n};let r=n(),o=Ji;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=zi(e,t),o=qi.decode(r);if(0===o.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return Vi(o).set(n,e),o}}const zi=(e,t)=>{switch(e[0]){case"Q":{const n=t||_i;return[_i.prefix,n.decode(`${_i.prefix}${e}`)]}case _i.prefix:{const n=t||_i;return[_i.prefix,n.decode(e)]}case Ei.prefix:{const n=t||Ei;return[Ei.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Gi=(e,t,n)=>{const{prefix:r}=n;if(r!==_i.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},Ki=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},Ji=112,Hi=18,Qi=(e,t,n)=>{const r=Li(e),o=r+Li(t),i=new Uint8Array(o+n.byteLength);return Mi(e,i,0),Mi(t,i,r),i.set(n,o),i},Wi=Symbol.for("@ipld/js-cid/CID");function Yi(e){const t="string"===typeof e?qi.parse(e):qi.asCID(e);if(null==t)throw new ho.__(`Could not parse input as CID: ${e}`);return t.toV1().toString()}const Xi=new uo.n2({name:"InterPlanetaryCID",description:"A IPLD CID",specifiedByURL:"https://github.com/multiformats/cid",serialize:Yi,parseValue:Yi,parseLiteral(e){if(e.kind!==lo.h.STRING)throw new ho.__(`Can only validate strings as CID but got a: ${e.kind}`);return Yi(e.value)}}),Zi=new uo.n2({name:"URI",description:"A field whose value conforms to the standard Uniform Resource Identifier (URI) format as specified in RFC3986.",specifiedByURL:"https://www.ietf.org/rfc/rfc3986.txt",parseValue:e=>e,parseLiteral(e){if(e.kind!==lo.h.STRING)throw new ho.__(`Can only validate strings as URIs but got a: ${e.kind}`);return e.value},extensions:{jsonSchema:{type:"string",format:"uri"}}}),es={accountid:ri,boolean:co.EZ,chainid:oi,cid:Xi,commitid:Zo,countrycode:go,date:ci,datetime:ui,did:_o,duration:Io,float:co.av,id:co.km,integer:co._o,latitude:Ro,localdate:jo,locale:Fo,localtime:Vo,longitude:Go,streamid:ei,string:co.kH,time:li,timezone:Jo,uri:Zi,utcoffset:Wo},ts=Object.keys(es);function ns(e){if(function(e){return ts.includes(e)}(e))return es[e];throw new Error(`Unsupported scalar type: ${e}`)}var rs=n(9655),os=n(9678),is=n(8863);function ss(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function as(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ss(e,t,"get"))}function cs(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function us(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ss(e,t,"set"),n),n}const ls=["meta","reference","list","view"];function fs(e){return!ls.includes(e.type)}const ds=["enum","node"];function hs(e){return"reference"===e.type&&ds.includes(e.refType)}function ps(e,t,n,r){const o={model:e};return"account"===n.type?o.queryFilters=Jr(n.property,t,r):(o.account=t,null!=r&&(Kr(r),o.queryFilters=r)),o}const ms={...is.Zd,account:{type:co.km,description:"Returns only documents created by the provided account"}},ys=new uo.sR({name:"SetOptionsInput",fields:{syncTimeout:{type:co._o,description:"Maximum amount of time to lookup the stream over the network, in seconds - see https://developers.ceramic.network/reference/typescript/interfaces/_ceramicnetwork_common.CreateOpts.html#syncTimeoutSeconds"}}}),gs=new uo.sR({name:"UpdateOptionsInput",fields:{replace:{type:co.EZ,defaultValue:!1,description:"Fully replace the document contents instead of performing a shallow merge"},version:{type:Zo,description:"Only perform mutation if the document matches the provided version"}}}),vs=new uo.mR({name:"SortOrder",values:{ASC:{value:"ASC"},DESC:{value:"DESC"}}});function bs(e){return new uo.sR({name:`${e.name}ValueFilterInput`,fields:{isNull:{type:co.EZ},equalTo:{type:e},notEqualTo:{type:e},in:{type:new uo.p2(new uo.bM(e))},notIn:{type:new uo.p2(new uo.bM(e))}}})}function ws(e){return new uo.sR({name:`${e.name}ValueFilterInput`,fields:{isNull:{type:co.EZ},equalTo:{type:e},notEqualTo:{type:e},in:{type:new uo.p2(new uo.bM(e))},notIn:{type:new uo.p2(new uo.bM(e))},lessThan:{type:e},lessThanOrEqualTo:{type:e},greaterThan:{type:e},greaterThanOrEqualTo:{type:e}}})}const Es={BooleanValueFilter:new uo.sR({name:"BooleanValueFilterInput",fields:{isNull:{type:co.EZ},equalTo:{type:co.EZ}}}),FloatValueFilter:ws(co.av),IntValueFilter:ws(co._o),StringValueFilter:ws(co.kH)},_s={boolean:"BooleanValueFilter",float:"FloatValueFilter",integer:"IntValueFilter",string:"StringValueFilter"};var Ts=new WeakMap,Ss=new WeakMap,Is=new WeakMap,Ns=new WeakMap,Os=new WeakMap,As=new WeakMap;class xs{build(){this._buildEnums();const e=this._createSharedDefinitions();this._buildObjects(e),this._buildConnections();const t=this._createSchema(e);return(0,rs.J)(t),t}_createSharedDefinitions(){const e=(0,is.SX)((async(e,t)=>e.startsWith("did:")?e:await t.loadDoc(e)),(e=>"string"===typeof e?"CeramicAccount":as(this,As)[e.metadata.model?.toString()])),t=new uo.h6({name:"CeramicAccount",interfaces:[e.nodeInterface],fields:()=>{const e={id:{type:new uo.bM(co.km),description:"Globally unique identifier of the account (DID string)",resolve:e=>e},isViewer:{type:new uo.bM(co.EZ),description:"Whether the Ceramic instance is currently authenticated with this account or not",resolve:(e,t,n)=>n.isAuthenticated()&&n.getViewerID()===e}};for(const[t,n]of Object.entries(as(this,Ts).accountData??{})){const r=as(this,Ts).models[n.name];if(null==r)throw new Error(`Missing model for reference name: ${n.name}`);if("node"===n.type)e[t]={type:as(this,Is)[n.name],resolve:async(e,t,n)=>await n.querySingle({account:e,model:r.id})};else{if("account"!==n.type&&"connection"!==n.type)throw new Error(`Unsupported reference type: ${n.type}`);{const o=as(this,Ns)[`${n.name}Filters`],i=as(this,Ns)[`${n.name}Sorting`],s={...is.Zd};o&&i&&(s.filters={type:o},s.sorting={type:i}),e[t]={type:as(this,Is)[`${n.name}Connection`],args:s,resolve:async(e,{filters:t,...o},i)=>{const s=ps(r.id,e,n,t);return await i.queryConnection({...s,...o})}},e[`${t}Count`]={type:new uo.bM(co._o),args:o?{filters:{type:o}}:{},resolve:async(e,{filters:t},o)=>{const i=ps(r.id,e,n,t);return await o.queryCount(i)}}}}}return e}}),n={node:e.nodeField,viewer:{type:t,description:"Account currently authenticated on the Ceramic instance, if set",resolve:(e,t,n)=>n.getViewerID()}};return{...e,accountObject:t,queryFields:n}}_buildEnums(){for(const[e,t]of Object.entries(as(this,Ts).enums))as(this,Is)[e]=new uo.mR({name:e,values:t.reduce(((e,t)=>(e[t]={value:t},e)),{})})}_buildObjects(e){for(const[t,n]of Object.entries(as(this,Ts).objects))this._buildObjectType({definitions:e,name:t,fields:n})}_buildObjectType(e){const t=as(this,Ts).models[e.name];return t?this._buildDocumentObjectType({model:t,...e}):this._buildEmbeddedObjectType(e)}_buildDocumentObjectType({model:e,definitions:t,name:n,fields:r}){as(this,Is)[n]=new uo.h6({name:n,interfaces:[t.nodeInterface],isTypeOf:t=>t.metadata.model.toString()===e.id,fields:()=>{const e={id:{type:new uo.bM(co.km),resolve:e=>e.id.toString()}};for(const[n,o]of Object.entries(r))switch(o.type){case"meta":continue;case"reference":e[n]=this._buildDocumentObjectReferenceField(n,o);break;case"list":e[n]={type:this._buildObjectListFieldType(t,o),resolve:e=>e.content?.[n]};break;case"view":{const i=this._buildDocumentObjectViewField(n,t,o,r);i&&(e[n]=i);break}default:e[n]={type:this._buildScalarFieldType(t,o),resolve:e=>e.content?.[n]}}return e}}),this._buildFiltersType(n,r),this._buildSortingType(n,r),as(this,Ss)||(this._buildInputObjectType(n,r),this._buildNodeMutations(t.queryFields,n,e))}_buildEmbeddedObjectType({definitions:e,name:t,fields:n}){as(this,Is)[t]=new uo.h6({name:t,fields:()=>{const r={};for(const[o,i]of Object.entries(n))switch(i.type){case"meta":continue;case"reference":r[o]=this._buildEmbeddedObjectReferenceField(o,i);break;case"list":r[o]={type:this._buildObjectListFieldType(e,i),resolve:e=>e[o]};break;case"view":throw new Error(`Unsupported view field ${o} on embedded object ${t}`);default:r[o]={type:this._buildScalarFieldType(e,i),resolve:e=>e[o]}}return r}}),as(this,Ss)||this._buildInputObjectType(t,n)}_buildConnections(){for(const e of Object.keys(as(this,Ts).models)){const t=as(this,Is)[e];if(null==t)throw new Error(`Missing object type for connection: ${e}`);const{connectionType:n,edgeType:r}=(0,is.Tr)({nodeType:t});as(this,Is)[`${e}Connection`]=n,as(this,Is)[`${e}Edge`]=r}}_buildDocumentObjectReferenceField(e,t){const n="connection"===t.refType?t.refName+"Connection":t.refName,r=as(this,Is)[n];if(null==r)throw new Error(`Missing type: ${n}`);const o=t.required?new uo.bM(r):r;switch(t.refType){case"connection":return{type:o,args:is.Zd,resolve:(e,t,n)=>{throw new Error("Not implemented")}};case"node":return{type:o,args:is.Zd,resolve:async(t,n,r)=>await r.loadDoc(t.content[e])};case"enum":case"object":return{type:o,resolve:t=>t.content[e]};default:throw new Error(`Unsupported reference type on document object: ${t.refType}`)}}_buildEmbeddedObjectReferenceField(e,t){const n=as(this,Is)[t.refName];if(null==n)throw new Error(`Missing type: ${t.refName}`);const r=t.required?new uo.bM(n):n;switch(t.refType){case"enum":case"object":return{type:r,resolve:t=>t[e]};default:throw new Error(`Unsupported reference type on embedded object: ${t.refType}`)}}_buildObjectListFieldType(e,t){let n;if("reference"===t.item.type){if(n=as(this,Is)[t.item.refName],null==n)throw new Error(`Missing referenced object type: ${t.item.refName}`)}else n="did"===t.item.type?e.accountObject:ns(t.item.type);t.item.required&&(n=new uo.bM(n));const r=new uo.p2(n);return t.required?new uo.bM(r):r}_buildDocumentObjectRelation(e,t,n){const r=as(this,As)[t.model];if(null==r)throw new Error(`Model alias not found for relation with ID ${t.model} on field ${e}`);switch(t.source){case"document":if(null==n[t.property])throw new Error(`Missing reference field ${t.property} for relation defined on field ${e}`);return{type:as(this,Is)[r],resolve:async(e,n,r)=>{const o=e.content?.[t.property];if(null==o)return null;const i=await r.loadDoc(o);if(null==i)return null;const s=i.metadata.model.toString();return null!=t.model&&s!==t.model?(console.warn(`Ignoring unexpected model ${s} for document ${o}, expected model ${t.model}`),null):i}};case"queryConnection":{const e=as(this,Ns)[`${r}Filters`],n=as(this,Ns)[`${r}Sorting`],o={...ms};return e&&n&&(o.filters={type:e},o.sorting={type:n}),{type:new uo.bM(as(this,Is)[`${r}Connection`]),args:o,resolve:async(e,n,r)=>{const o="documentAccount"===n.account?e.metadata.controller:n.account,i=Jr(t.property,e.id.toString(),n.filters);return await r.queryConnection({...n,account:o,model:t.model,queryFilters:i})}}}case"queryCount":{const e=as(this,Ns)[`${r}Filters`],n={account:{type:co.km,description:"Counts only documents created by the provided account"}};return e&&(n.filters={type:e}),{type:new uo.bM(co._o),args:n,resolve:async(e,n,r)=>{const o="documentAccount"===n.account?e.metadata.controller:n.account,i=Jr(t.property,e.id.toString(),n.filters);return await r.queryCount({account:o,model:t.model,queryFilters:i})}}}default:throw new Error(`Unsupported relation source: ${t.source}`)}}_buildDocumentObjectViewField(e,t,n,r){switch(n.viewType){case"documentAccount":return{type:new uo.bM(t.accountObject),description:"Account controlling the document",resolve:e=>e.metadata.controller};case"documentVersion":return{type:new uo.bM(Zo),description:"Current version of the document",resolve:e=>e.commitId.toString()};case"relation":return this._buildDocumentObjectRelation(e,n.relation,r);default:throw new Error(`Unsupported view type: ${n.viewType}`)}}_buildScalarFieldType(e,t){const n="did"===t.type?e.accountObject:ns(t.type);return t.required?new uo.bM(n):n}_buildFiltersType(e,t){const n=`${e}ObjectFilter`,r=`${e}Filters`,o={};for(const[i,s]of Object.entries(t)){let e;if("reference"===s.type&&s.indexed)if("enum"===s.refType){e=bs(as(this,Is)[s.refName]),as(this,Ns)[e.name]=e}else"node"===s.refType&&(e=as(this,Ns).StringValueFilter);else fs(s)&&s.indexed&&(e=as(this,Ns)[_s[s.type]??"StringValueFilter"]);null!=e&&(o[i]={type:e})}Object.keys(o).length>0&&(as(this,Ns)[n]=new uo.sR({name:`${n}Input`,fields:()=>o}),as(this,Ns)[r]=new uo.sR({name:`${r}Input`,fields:()=>({where:{type:as(this,Ns)[n]},and:{type:new uo.p2(new uo.bM(as(this,Ns)[r]))},or:{type:new uo.p2(new uo.bM(as(this,Ns)[r]))},not:{type:as(this,Ns)[r]}})}))}_buildSortingType(e,t){const n=`${e}Sorting`,r={};for(const[o,i]of Object.entries(t))(hs(i)||fs(i))&&i.indexed&&(r[o]={type:vs});Object.keys(r).length>0&&(as(this,Ns)[n]=new uo.sR({name:`${n}Input`,fields:()=>r}))}_buildInputObjectType(e,t){const n=null!=as(this,Ts).models[e],r=e=>{const r={},o=n||e?"":"Partial";for(const[n,i]of Object.entries(t)){let t;switch(i.type){case"meta":case"view":continue;case"reference":switch(i.refType){case"connection":continue;case"enum":t=as(this,Is)[i.refName];break;case"node":t=co.km;break;case"object":if(t=as(this,Ns)[o+i.refName],null==t)throw new Error(`Missing referenced input type: ${o+i.refName}`)}break;case"list":{let e;if("reference"===i.item.type){if(e=as(this,Ns)[o+i.item.refName],null==e)throw new Error(`Missing referenced input type: ${o+i.item.refName}`)}else e=ns(i.item.type);t=new uo.p2(e);break}default:t=ns(i.type)}null!=t&&(r[n]={type:e&&i.required?new uo.bM(t):t})}return r};as(this,Ns)[e]=new uo.sR({name:`${e}Input`,fields:()=>r(!0)}),n&&(as(this,Ns)[`Partial${e}`]=new uo.sR({name:`Partial${e}Input`,fields:()=>r(!1)}))}_buildNodeMutations(e,t,n){"single"===n.accountRelation.type?as(this,Os)[`create${t}`]=(0,is.Fj)({name:`Create${t}`,inputFields:()=>({content:{type:new uo.bM(as(this,Ns)[t])},options:{type:ys}}),outputFields:()=>({...e,document:{type:new uo.bM(as(this,Is)[t])}}),mutateAndGetPayload:async(e,t)=>{if(null==t.ceramic.did||!t.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:await t.createSingle(n.id,e.content,{syncTimeoutSeconds:e.options?.syncTimeout})}}}):as(this,Os)[`create${t}`]=(0,is.Fj)({name:`Create${t}`,inputFields:()=>({content:{type:new uo.bM(as(this,Ns)[t])}}),outputFields:()=>({...e,document:{type:new uo.bM(as(this,Is)[t])}}),mutateAndGetPayload:async(e,t)=>{if(null==t.ceramic.did||!t.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:await t.createDoc(n.id,e.content)}}}),as(this,Os)[`update${t}`]=(0,is.Fj)({name:`Update${t}`,inputFields:()=>({id:{type:new uo.bM(co.km)},content:{type:new uo.bM(as(this,Ns)[`Partial${t}`])},options:{type:gs}}),outputFields:()=>({...e,document:{type:new uo.bM(as(this,Is)[t])}}),mutateAndGetPayload:async(e,t)=>{if(null==t.ceramic.did||!t.ceramic.did.authenticated)throw new Error("Ceramic instance is not authenticated");return{document:await t.updateDoc(e.id,e.content,e.options)}}})}_createSchema(e){const t={nodes:e.nodesField,...e.queryFields};for(const[r,o]of Object.entries(as(this,Ts).models)){const e=r[0].toLowerCase(),n=r.slice(1),i=as(this,Ns)[`${r}Filters`],s=as(this,Ns)[`${r}Sorting`],a={...is.Zd};i&&s&&(a.filters={type:i},a.sorting={type:s}),t[`${e}${n}Index`]={type:as(this,Is)[`${r}Connection`],args:a,resolve:async(e,{filters:t,...n},r)=>(null!=t&&Kr(t),await r.queryConnection({...n,queryFilters:t,model:o.id}))},t[`${e}${n}Count`]={type:new uo.bM(co._o),args:i?{filters:{type:i}}:{},resolve:async(e,{filters:t},n)=>(null!=t&&Kr(t),await n.queryCount({queryFilters:t,model:o.id}))}}const n={query:new uo.h6({name:"Query",fields:t})};return as(this,Ss)||0===Object.keys(as(this,Os)).length||(n.mutation=new uo.h6({name:"Mutation",fields:as(this,Os)})),new os.XO(n)}constructor(e){cs(this,Ts,{writable:!0,value:void 0}),cs(this,Ss,{writable:!0,value:void 0}),cs(this,Is,{writable:!0,value:{SortOrder:vs}}),cs(this,Ns,{writable:!0,value:{...Es}}),cs(this,Os,{writable:!0,value:{}}),cs(this,As,{writable:!0,value:void 0}),us(this,Ts,e.definition),us(this,Ss,!!e.readonly),us(this,As,Object.entries(as(this,Ts).models).reduce(((e,[t,n])=>(e[n.id]=t,e)),{}))}}function ks(e){return new xs(e).build()}function $s(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Cs(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,$s(e,t,"get"))}function Rs(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Ds(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,$s(e,t,"set"),n),n}var Ps=new WeakMap,js=new WeakMap;class Ms{get context(){return Cs(this,Ps)}async execute(e,t){const n=(0,io.Gu)(Cs(this,js),e);return n.length>0?{errors:n}:await(0,so.ht)({document:e,variableValues:t,contextValue:Cs(this,Ps),schema:Cs(this,js)})}async executeQuery(e,t){let n;try{n=(0,ao.Qc)(e)}catch(r){return{errors:[r]}}return await this.execute(n,t)}constructor(e){Rs(this,Ps,{writable:!0,value:void 0}),Rs(this,js,{writable:!0,value:void 0});const{ceramic:t,context:n,definition:r,readonly:o,schema:i,...s}=e,a="string"===typeof t?new Br(t):t;Ds(this,Ps,n??oo({...s,ceramic:a})),Ds(this,js,function(e){const{definition:t,readonly:n,schema:r}=e;if(null!=r)return r;if(null==t)throw new Error("Invalid parameters to get schema: missing definition or schema");return ks({definition:t,readonly:n})}({definition:r,readonly:o,schema:i}))}}const Ls=e=>{throw e};class Fs{state;constructor(e){let t;try{t=e()}catch(r){return void(this.state={status:"rejected",value:r})}var n;null==(n=t)||"function"!==typeof n.then?this.state={status:"fulfilled",value:t}:this.state={status:"pending",value:t}}then(e,t){const n=this.state;if("pending"===n.status)return new Fs((()=>n.value.then(e,t)));const r="function"===typeof t?t:Ls;if("rejected"===n.status)return new Fs((()=>r(n.value)));try{const t="function"===typeof e?e:void 0;return new Fs(void 0===t?()=>n.value:()=>t(n.value))}catch(o){return new Fs((()=>r(o)))}}catch(e){return this.then(void 0,e)}resolve(){const e=this.state;if("pending"===e.status)return Promise.resolve(e.value);if("rejected"===e.status)throw e.value;return e.value}static all(e){let t,n=!1,r=!1;const o=[];for(const i of e){const e=i.state;if("rejected"!==e.status)"pending"===e.status&&(r=!0),o.push(e.value);else{if(n)continue;n=!0,t=e.value}}return r?n?(Promise.all(o).catch((()=>{})),new Fs((()=>{throw t}))):new Fs((()=>Promise.all(o))):new Fs((()=>o))}}var Us=n(2100);function Bs(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0===r){const r=e(n);return t.set(n,r),r}return r}}function Vs(e){const t=new WeakMap;return function(n,r){let o=t.get(n);if(!o){o=new WeakMap,t.set(n,o);const i=e(n,r);return o.set(r,i),i}const i=o.get(r);if(void 0===i){const t=e(n,r);return o.set(r,t),t}return i}}function qs(e){const t=new WeakMap;return function(n,r,o){let i=t.get(n);if(!i){i=new WeakMap,t.set(n,i);const s=new WeakMap;i.set(r,s);const a=e(n,r,o);return s.set(o,a),a}let s=i.get(r);if(!s){s=new WeakMap,i.set(r,s);const t=e(n,r,o);return s.set(o,t),t}const a=s.get(o);if(void 0===a){const t=e(n,r,o);return s.set(o,t),t}return a}}function zs(e){const t=new WeakMap;return function(n,r,o,i,s){let a=t.get(n);if(!a){a=new WeakMap,t.set(n,a);const c=new WeakMap;a.set(r,c);const u=new WeakMap;c.set(o,u);const l=new WeakMap;u.set(i,l);const f=e(n,r,o,i,s);return l.set(s,f),f}let c=a.get(r);if(!c){c=new WeakMap,a.set(r,c);const t=new WeakMap;c.set(o,t);const u=new WeakMap;t.set(i,u);const l=e(n,r,o,i,s);return u.set(s,l),l}let u=c.get(o);if(!u){u=new WeakMap,c.set(o,u);const t=new WeakMap;u.set(i,t);const a=e(n,r,o,i,s);return t.set(s,a),a}let l=u.get(i);if(!l){l=new WeakMap,u.set(i,l);const t=e(n,r,o,i,s);return l.set(s,t),t}const f=l.get(s);if(void 0===f){const t=e(n,r,o,i,s);return l.set(s,t),t}return f}}const Gs=Bs((function(e){return function(e,t){const n=(0,Us.S)(e,t);if(!n)throw new Error(`Cannot infer operation ${t||""}`);return n}(e.document,e.operationName)}));function Ks(e){return null!=e?.[Symbol.asyncIterator]}var Js=n(7304);function Hs(e){return`_${e}_`}function Qs(e){const t=/^_(\d+)_(.*)$/.exec(e);return t&&3===t.length&&!isNaN(Number(t[1]))&&t[2]?{index:Number(t[1]),originalKey:t[2]}:null}function Ws(e){const t=Qs(e);if(!t)throw new Error(`Key ${e} is not correctly prefixed`);return t}function Ys(e){let t=0,n=null;for(;!n&&t<e.length;t++){const r=e[t];"string"===typeof r&&(n=Qs(r))}if(!n)throw new Error(`Path ${e.join(".")} does not contain correctly prefixed key`);return{...n,keyOffset:t}}function Xs(e,t){const n=t.variables??{};function r(t){return ta(t,e)}let o=function(e,t){const n={[lo.h.OPERATION_DEFINITION]:n=>{const{selections:r}=n.selectionSet;return{...n,selectionSet:{...n.selectionSet,selections:Zs(e,r,t)}}}};return(0,Js.Vn)(t,n,{[lo.h.DOCUMENT]:["definitions"]})}(e,t.document);const i=Object.keys(n),s=t.document.definitions.some((e=>ra(e))),a={};(i.length>0||s)&&(o=(0,Js.Vn)(o,{[lo.h.VARIABLE]:r,[lo.h.FRAGMENT_DEFINITION]:r,[lo.h.FRAGMENT_SPREAD]:t=>(t=ta(t,e),a[t.name.value]=!0,t)}));const c={};for(const u of i)c[e+u]=n[u];return s&&(o={...o,definitions:o.definitions.filter((e=>!ra(e)||a[e.name.value]))}),{document:o,variables:c}}function Zs(e,t,n){return t.map((t=>{switch(t.kind){case lo.h.INLINE_FRAGMENT:return ea(e,t,n);case lo.h.FRAGMENT_SPREAD:{const r=function(e,t){const n=t.definitions.find((t=>ra(t)&&t.name.value===e.name.value));if(!n)throw new Error(`Fragment ${e.name.value} does not exist`);const{typeCondition:r,selectionSet:o}=n;return{kind:lo.h.INLINE_FRAGMENT,typeCondition:r,selectionSet:o,directives:e.directives}}(t,n);return ea(e,r,n)}case lo.h.FIELD:default:return function(e,t){const n=e.alias?e.alias:e.name;return{...e,alias:{...n,value:t+n.value}}}(t,e)}}))}function ea(e,t,n){const{selections:r}=t.selectionSet;return{...t,selectionSet:{...t.selectionSet,selections:Zs(e,r,n)}}}function ta(e,t){return{...e,name:{...e.name,value:t+e.name.value}}}function na(e){return e.kind===lo.h.OPERATION_DEFINITION}function ra(e){return e.kind===lo.h.FRAGMENT_DEFINITION}const oa=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions"];function ia(e,t){var n;return!t?.originalError||t.originalError instanceof Error||(null==(n=t.originalError)||"object"!==typeof n||!Object.keys(n).every((e=>oa.includes(e))))||(t.originalError=ia(t.originalError.message,t.originalError)),fo.A.major>=17?new ho.__(e,t):new ho.__(e,t?.nodes,t?.source,t?.positions,t?.path,t?.originalError,t?.extensions)}function sa(e,t){return ia(e.message,{nodes:e.nodes,source:e.source,positions:e.positions,path:null==t?e.path:t,originalError:e,extensions:e.extensions})}function aa(e,t,n=ca){const r=function(e,t){return function(n){if(1===n.length)return new Fs((()=>e(n[0]))).then((e=>[e])).catch((e=>[e]));const r=function(e,t){const n=Object.create(null),r=[],o=[],i=[];let s=Object.create(null);for(const f in e){const a=e[f],c=Xs(Hs(f),a);for(const e of c.document.definitions)na(e)&&(o.push(...e.selectionSet.selections),e.variableDefinitions&&r.push(...e.variableDefinitions)),ra(e)&&i.push(e);Object.assign(n,c.variables),s=t(s,a)}const a=e[0],c=a.operationType??Gs(a).operation,u={kind:lo.h.OPERATION_DEFINITION,operation:c,variableDefinitions:r,selectionSet:{kind:lo.h.SELECTION_SET,selections:o}},l=a.operationName??a.info?.operation?.name?.value;return l&&(u.name={kind:lo.h.NAME,value:l}),{document:{kind:lo.h.DOCUMENT,definitions:[u,...i]},variables:n,extensions:s,context:e[0].context,info:e[0].info,operationType:c,rootValue:e[0].rootValue}}(n,t);return new Fs((()=>e(r))).then((e=>{if(Ks(e))throw new Error("Executor must not return incremental results for batching");return function({data:e,errors:t},n){const r=[];for(let o=0;o<n;o++)r.push({});if(e)for(const o in e){const{index:t,originalKey:n}=Ws(o),i=r[t];null!=i&&(null==i.data?i.data={[n]:e[o]}:i.data[n]=e[o])}if(t)for(const o of t)if(o.path){const{index:e,originalKey:t,keyOffset:n}=Ys(o.path),i=sa(o,[t,...o.path.slice(n)]);(r[e].errors=r[e].errors||[]).push(i)}else r.forEach((e=>{(e.errors=e.errors||[]).push(o)}));return r}(e,n.length)}))}}(e,n),o=new Hr(r,t),i=new Hr(r,t);return function(t){const n=t.operationType??Gs(t)?.operation;switch(n){case"query":return o.load(t);case"mutation":return i.load(t);case"subscription":return e(t);default:throw new Error(`Invalid operation type "${n}"`)}}}function ca(e,t){const n=t.extensions;return null!=n&&Object.assign(e,n),e}var ua=n(8238),la=n(9557);function fa(e){return null!=e.fieldNodes[0].alias?e.fieldNodes[0].alias.value:e.fieldName}var da=n(1394),ha=n(9380);function pa(e){return null!=e&&"object"===typeof e&&Symbol.iterator in e}function ma(e){return"object"===typeof e&&null!==e}function ya(e){return null!=e?.then}function ga(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var va=n(6422),ba=n(77);class wa extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(e,t){const n=this.get(e);void 0===n?this.set(e,[t]):n.push(t)}}var Ea=n(9878);const _a=new ua.NZ({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[Ea.B.FRAGMENT_SPREAD,Ea.B.INLINE_FRAGMENT],args:{if:{type:new uo.bM(co.EZ),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:co.kH,description:"Unique name"}}}),Ta=new ua.NZ({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[Ea.B.FIELD],args:{if:{type:new uo.bM(co.EZ),description:"Stream when true or undefined.",defaultValue:!0},label:{type:co.kH,description:"Unique name"},initialCount:{defaultValue:0,type:co._o,description:"Number of items to return immediately"}}});function Sa(e,t,n,r,o,i,s,a){for(const u of o.selections)switch(u.kind){case lo.h.FIELD:if(!Na(n,u))continue;i.add((c=u).alias?c.alias.value:c.name.value,u);break;case lo.h.INLINE_FRAGMENT:{if(!Na(n,u)||!Oa(e,u,r))continue;const o=Aa(n,u);if(o){const i=new wa;Sa(e,t,n,r,u.selectionSet,i,s,a),s.push({label:o.label,fields:i})}else Sa(e,t,n,r,u.selectionSet,i,s,a);break}case lo.h.FRAGMENT_SPREAD:{const o=u.name.value;if(!Na(n,u))continue;const c=Aa(n,u);if(a.has(o)&&!c)continue;const l=t[o];if(!l||!Oa(e,l,r))continue;if(c||a.add(o),c){const o=new wa;Sa(e,t,n,r,l.selectionSet,o,s,a),s.push({label:c.label,fields:o})}else Sa(e,t,n,r,l.selectionSet,i,s,a);break}}var c}function Ia(e,t,n,r,o){const i=new wa,s=[];return Sa(e,t,n,r,o,i,s,new Set),{fields:i,patches:s}}function Na(e,t){if(!0===(0,va.zu)(ua.QE,t,e)?.if)return!1;return!1!==(0,va.zu)(ua.Yf,t,e)?.if}function Oa(e,t,n){const r=t.typeCondition;if(!r)return!0;const o=(0,ba._)(e,r);if(o===n)return!0;if((0,uo.m0)(o)){return e.getPossibleTypes(o).includes(n)}return!1}function Aa(e,t){const n=(0,va.zu)(_a,t,e);if(n&&!1!==n.if)return{label:"string"===typeof n.label?n.label:void 0}}const xa=zs((function(e,t,n,r,o){const i=new wa,s=new Set,a=[],c={fields:i,patches:a};for(const u of o)u.selectionSet&&Sa(e,t,n,r,u.selectionSet,i,a,s);return c})),ka=Symbol.for("subschemaErrors"),$a=Symbol.for("initialSubschema"),Ca=Symbol.for("subschemaMap");function Ra(e){return void 0!==e[ka]}function Da(e,t){return e[Ca][t]??e[$a]}function Pa(e){return e[ka]}const ja=[],Ma=Object.create(null),La=Bs((function(e){return[e]}));function Fa(e,t,n,r,o){const i=e.delegationPlanBuilder(o.schema,n,null!=o.variableValues&&Object.keys(o.variableValues).length>0?o.variableValues:Ma,null!=o.fragments&&Object.keys(o.fragments).length>0?o.fragments:Ma,o.fieldNodes?.length?1===o.fieldNodes.length?La(o.fieldNodes[0]):o.fieldNodes:ja).reduce(((n,i)=>{function s(){return function(e,t,n,r,o){const i=n[ka],s=(0,ha.N)(o.path),a=n[Ca],c=[];for(const[l,f]of t){const t=(l.transformedSchema||o.schema).getType(n.__typename),d=e.resolvers.get(l);if(d)try{const e=d(n,r,o,l,f,void 0,t);ya(e)?c.push(e.then((e=>Ua(e,l,f,n,a,o,s,i))).catch((e=>Ua(e,l,f,n,a,o,s,i)))):Ua(e,l,f,n,a,o,s,i)}catch(u){Ua(u,l,f,n,a,o,s,i)}}if(c.length)return 1===c.length?c[0]:Promise.all(c)}(e,i,t,r,o)}return ya(n)?n.then(s):s()}),void 0);return ya(i)?i.then((()=>t)):t}function Ua(e,t,n,r,o,i,s,a){if(e instanceof Error||null==e){const o=t.transformedSchema||i.schema,a=o.getType(r.__typename),{fields:c}=Ia(o,Ma,Ma,a,n),u={};for(const[t,n]of c){const r=[...s,t];e instanceof ho.__?u[t]=sa(e,r):e instanceof Error?u[t]=(0,da.y)(e,n,r):u[t]=null}e=u}else e[ka]&&a.push(...e[ka]);const c=e[$a],u=e[Ca];for(const l in e){if("__proto__"===l)continue;const t=r[l],n=e[l];null==n&&null!=t||(r[l]=n),o[l]=u?.[l]??c}}function Ba(e,t,n,r,o,i=function(e){if(null==e)throw new Error("Return type cannot be inferred without a source schema.");return e.returnType}(o),s){const a=(0,uo.tf)(i);return e instanceof Error?e:null==e?function(e){if(e.length){const t=[];for(const n of e)Va.has(n)||(t.push(n),Va.set(n,!0));if(t.length){if(1===t.length)return t[0];const e=new AggregateError(t,t.map((e=>e.message)).join(", \n"));return(0,da.y)(e,void 0,t[0].path)}}return null}(t):"parseValue"in a?a.parseValue(e):(0,uo.Gv)(a)?function(e,t,n,r,o,i,s){Ra(t)||function(e,t,n,r){Object.defineProperties(e,{[$a]:{value:n},[Ca]:{value:r},[ka]:{value:t}})}(t,n,r,Object.create(null));if(s||null==i)return t;const a=i.schema.extensions?.stitchingInfo;if(null==a)return t;const c=(0,uo.m0)(e)?t.__typename:e.name,u=a.mergedTypes[c];let l;null!=u&&(l=u.targetSubschemas.get(r));if(!l||!l.length)return t;return Fa(u,t,r,o,i)}(a,e,t,n,r,o,s):(0,uo.HG)(a)?Array.isArray(e)?function(e,t,n,r,o,i,s){return t.map((t=>Ba(t,n,r,o,i,e.ofType,s)))}(a,e,t,n,r,o,s):Ba(e,t,n,r,o,a.ofType,s):void 0}const Va=new WeakMap;function qa(e,t,n,r){if(!e)return null;const o=fa(r);if(!Ra(e))return(0,so.El)(e,t,n,r);return Ba(e[o],Pa(e),Da(e,o),n,r)}function za(e){return Boolean(e?.schema)}function Ga(e){const t={...e,transforms:null!=e.transforms?[...e.transforms]:void 0};if(null!=t.merge){t.merge={...e.merge};for(const n in t.merge){const r=t.merge[n]={...e.merge?.[n]??{}};if(null!=r.entryPoints&&(r.entryPoints=r.entryPoints.map((e=>({...e})))),null!=r.fields){const e=r.fields={...r.fields};for(const t in e)e[t]={...e[t]}}}}return t}const Ka=Vs((function(e,t){const n=t.transforms;return null==n?e:n.reduce(((e,n)=>n.transformSchema?.(e,t)||e),e)}));class Ja{constructor(e){this.schema=e.schema,this.executor=e.executor,this.batch=e.batch,this.batchingOptions=e.batchingOptions,this.createProxyingResolver=e.createProxyingResolver,this.transforms=e.transforms??[],this.merge=e.merge}get transformedSchema(){return this._transformedSchema||(null!=globalThis.process?.env?.DEBUG&&console.warn("Transformed schema is not set yet. Returning a dummy one."),this._transformedSchema=Ka(this.schema,this)),this._transformedSchema}set transformedSchema(e){this._transformedSchema=e}}function Ha(e){let t;return"alias"in e&&(t=e.alias?.value),null==t&&"name"in e&&(t=e.name?.value),null==t&&(t=e.kind),t}function Qa(e,t,n){const r=Ha(e),o=Ha(t);return"function"===typeof n?n(r,o):function(e,t){return String(e)<String(t)?-1:String(e)>String(t)?1:0}(r,o)}function Wa(e){return null!=e}function Ya(e,t=!1,n=!1){const r=e[0]||{},o={};t&&Object.setPrototypeOf(o,Object.create(Object.getPrototypeOf(r)));for(const i of e)if(Xa(r)&&Xa(i)){if(t){const e=Object.getPrototypeOf(o),t=Object.getPrototypeOf(i);if(t)for(const n of Object.getOwnPropertyNames(t)){const r=Object.getOwnPropertyDescriptor(t,n);Wa(r)&&Object.defineProperty(e,n,r)}}for(const e in i)Xa(i[e])?e in o?o[e]=Ya([o[e],i[e]],t,n):Object.assign(o,{[e]:i[e]}):n&&Array.isArray(o[e])?Array.isArray(i[e])?o[e].push(...i[e]):o[e].push(i[e]):Object.assign(o,{[e]:i[e]})}else if(n&&Array.isArray(r))Array.isArray(i)?r.push(...i):r.push(i);else if(n&&Array.isArray(i))return[r,...i];return o}function Xa(e){return e&&"object"===typeof e&&!Array.isArray(e)}function Za(e,t){if(!e||Array.isArray(e)&&0===e.length)return{};if(!Array.isArray(e))return e;if(1===e.length)return e[0]||{};const n=new Array;for(let o of e)Array.isArray(o)&&(o=Za(o)),"object"===typeof o&&o&&n.push(o);const r=Ya(n,!0);if(t?.exclusions)for(const o of t.exclusions){const[e,t]=o.split(".");t&&"*"!==t?r[e]&&delete r[e][t]:delete r[e]}return r}function ec(e,t){e&&(e.extensions=Ya([e.extensions||{},t||{}],!1,!0))}function tc(e,t){const n={},r=e.getTypeMap();for(const o in r){const e=r[o];if("getInterfaces"in e){n[o]={};for(const i of e.getInterfaces())if(t[i.name])for(const e in t[i.name])"__isTypeOf"!==e&&e.startsWith("__")||(n[o][e]=t[i.name][e]);const r=t[o];n[o]={...n[o],...r}}else{const e=t[o];null!=e&&(n[o]=e)}}return n}function nc(e,t){const n=e.getTypeMap();for(const r in n){const e=n[r];if(!(0,uo.xC)(e).name.startsWith("__"))if((0,uo.lp)(e)){const n=e.getFields();for(const e in n){const r=n[e];for(const e of r.args)e.defaultValue=t(e.type,e.defaultValue)}}else if((0,uo.hL)(e)){const n=e.getFields();for(const e in n){const r=n[e];r.defaultValue=t(r.type,r.defaultValue)}}}}function rc(e,t,n=null,r=null){if(null==t)return t;const o=(0,uo.tf)(e);if((0,uo.UT)(o))return null!=n?n(o,t):t;if((0,uo.HG)(o))return(i=t,Array.isArray(i)?i:i?[i]:[]).map((e=>rc(o.ofType,e,n,r)));if((0,uo.hL)(o)){const e=o.getFields(),i={};for(const o in t){const s=e[o];null!=s&&(i[o]=rc(s.type,t[o],n,r))}return null!=r?r(o,i):i}var i}function oc(e,t){return rc(e,t,((e,t)=>{try{return e.serialize(t)}catch{return t}}))}function ic(e,t){return rc(e,t,((e,t)=>{try{return e.parseValue(t)}catch{return t}}))}function sc(e){return function(e,t){const n=Object.create(null);for(const u in e){const t=e[u];if(null==t||u.startsWith("__"))continue;const r=t.name;r.startsWith("__")||(null==n[r]?n[r]=t:console.warn(`Duplicate schema type name ${r} found; keeping the existing one found in the schema`))}for(const u in n){const t=n[u];e[u]=t}for(const u of t)u.args=u.args.filter((e=>(e.type=c(e.type),null!==e.type)));for(const u in e){const t=e[u];!u.startsWith("__")&&u in n&&null!=t&&r(t)}for(const u in e)u.startsWith("__")||u in n||delete e[u];function r(e){if((0,uo.lp)(e))return o(e),void i(e);if((0,uo.oT)(e))return o(e),void("getInterfaces"in e&&i(e));if((0,uo.EN)(e))a(e);else if((0,uo.hL)(e))s(e);else if(!(0,uo.UT)(e))throw new Error(`Unexpected schema type: ${e}`)}function o(e){const t=e.getFields();for(const[n,r]of Object.entries(t))r.args.map((e=>(e.type=c(e.type),null===e.type?null:e))).filter(Boolean),r.type=c(r.type),null===r.type&&delete t[n]}function i(e){if("getInterfaces"in e){const t=e.getInterfaces();t.push(...t.splice(0).map((e=>c(e))).filter(Boolean))}}function s(e){const t=e.getFields();for(const[n,r]of Object.entries(t))r.type=c(r.type),null===r.type&&delete t[n]}function a(e){const t=e.getTypes();t.push(...t.splice(0).map((e=>c(e))).filter(Boolean))}function c(t){if((0,uo.HG)(t)){const e=c(t.ofType);return null!=e?new uo.p2(e):null}if((0,uo.zM)(t)){const e=c(t.ofType);return null!=e?new uo.bM(e):null}if((0,uo.Zs)(t)){const n=e[t.name];if(n&&t!==n)return n}return t}}(e.getTypeMap(),e.getDirectives()),e}function ac(e,t){const n=e.getTypeMap();for(const r in n){const e=n[r];if(!(0,uo.xC)(e).name.startsWith("__")&&(0,uo.lp)(e)){const n=e.getFields();for(const e in n){t(n[e],r,e)}}}}function cc(e,t){if(t){const n=e[t.name];if((0,uo.lp)(n))return n}}var uc;function lc(e,t){let n;return n="object"===t?uo.h6:"interface"===t?uo.oW:uo.sR,new n({name:e,fields:{_fake:{type:co.kH}}})}function fc(e,t){switch(e.kind){case lo.h.LIST_TYPE:return new uo.p2(fc(e.type,t));case lo.h.NON_NULL_TYPE:return new uo.bM(fc(e.type,t));default:return lc(e.name.value,"output"===t?"object":"input")}}function dc(e,t){const n=Object.create(null);for(const l in e)n[l]=e[l];const r=Object.create(null);for(const l in n){const e=n[l];if(null==e||l.startsWith("__"))continue;const t=e.name;t.startsWith("__")||(null==r[t]?r[t]=e:console.warn(`Duplicate schema type name ${t} found; keeping the existing one found in the schema`))}for(const l in r)r[l]=s(r[l]);const o=t.map((e=>function(e){if((0,ua.xg)(e))return e;const t=e.toConfig();return t.args=i(t.args),new ua.NZ(t)}(e)));return{typeMap:r,directives:o};function i(e){const t={};for(const n in e){const r=e[n],o=u(r.type);null!=o&&(r.type=o,t[n]=r)}return t}function s(e){if((0,uo.lp)(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields),interfaces:()=>c(t.interfaces)};return new uo.h6(n)}if((0,uo.oT)(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields)};return"interfaces"in n&&(n.interfaces=()=>c(t.interfaces)),new uo.oW(n)}if((0,uo.EN)(e)){const t=e.toConfig(),n={...t,types:()=>c(t.types)};return new uo.Gp(n)}if((0,uo.hL)(e)){const t=e.toConfig(),n={...t,fields:()=>function(e){const t={};for(const n in e){const r=e[n],o=u(r.type);null!=o&&(r.type=o,t[n]=r)}return t}(t.fields)};return new uo.sR(n)}if((0,uo.EM)(e)){const t=e.toConfig();return new uo.mR(t)}if((0,uo.KA)(e)){if((0,co.u1)(e))return e;const t=e.toConfig();return new uo.n2(t)}throw new Error(`Unexpected schema type: ${e}`)}function a(e){const t={};for(const n in e){const r=e[n],o=u(r.type);null!=o&&r.args&&(r.type=o,r.args=i(r.args),t[n]=r)}return t}function c(e){const t=[];for(const n of e){const e=u(n);null!=e&&t.push(e)}return t}function u(e){if((0,uo.HG)(e)){const t=u(e.ofType);return null!=t?new uo.p2(t):null}if((0,uo.zM)(e)){const t=u(e.ofType);return null!=t?new uo.bM(t):null}if((0,uo.Zs)(e)){let t=n[e.name];return void 0===t&&(t=function(e){if("getFields"in e){const t=e.getFields();for(const e in t)return"_fake"===t[e].name}return!1}(e)?function(e){switch(e.name){case co._o.name:return co._o;case co.av.name:return co.av;case co.kH.name:return co.kH;case co.EZ.name:return co.EZ;case co.km.name:return co.km;default:return e}}(e):s(e),r[t.name]=n[e.name]=t),null!=t?r[t.name]:null}return null}}function hc(e,t={}){const n=vc(gc(pc(mc(function(e,t,n){const r=function(e){const t=e[uc.ENUM_VALUE];return null!=t?t:null}(n);if(!r)return e;return pc(e,t,{[uc.ENUM_TYPE]:e=>{const n=e.toConfig(),o=n.values,i={};for(const s in o){const n=o[s],a=r(n,e.name,t,s);if(void 0===a)i[s]=n;else if(Array.isArray(a)){const[e,t]=a;i[e]=void 0===t?n:t}else null!==a&&(i[s]=a)}return _c(new uo.mR({...n,values:i}))}},(e=>(0,uo.EM)(e)))}(pc(mc(e.getTypeMap(),e,oc),e,t,(e=>(0,uo.UT)(e))),e,t),e,ic),e,t,(e=>!(0,uo.UT)(e))),e,t),e,t),r=function(e,t,n){const r=function(e){const t=e[uc.DIRECTIVE];return null!=t?t:null}(n);if(null==r)return e.slice();const o=[];for(const i of e){const e=r(i,t);void 0===e?o.push(i):null!==e&&o.push(e)}return o}(e.getDirectives(),e,t),{typeMap:o,directives:i}=dc(n,r);return new os.XO({...e.toConfig(),query:cc(o,cc(n,e.getQueryType())),mutation:cc(o,cc(n,e.getMutationType())),subscription:cc(o,cc(n,e.getSubscriptionType())),types:Object.values(o),directives:i})}function pc(e,t,n,r=(()=>!0)){const o={};for(const i in e)if(!i.startsWith("__")){const s=e[i];if(null==s||!r(s)){o[i]=s;continue}const a=bc(t,n,i);if(null==a){o[i]=s;continue}const c=a(s,t);if(void 0===c){o[i]=s;continue}o[i]=c}return o}function mc(e,t,n){const r=vc(e,t,{[uc.ARGUMENT]:t=>{if(void 0===t.defaultValue)return t;const r=yc(e,t.type);return null!=r?{...t,defaultValue:n(r,t.defaultValue)}:void 0}});return gc(r,t,{[uc.INPUT_OBJECT_FIELD]:e=>{if(void 0===e.defaultValue)return e;const t=yc(r,e.type);return null!=t?{...e,defaultValue:n(t,e.defaultValue)}:void 0}})}function yc(e,t){if((0,uo.HG)(t)){const n=yc(e,t.ofType);return null!=n?new uo.p2(n):null}if((0,uo.zM)(t)){const n=yc(e,t.ofType);return null!=n?new uo.bM(n):null}if((0,uo.Zs)(t)){const n=e[t.name];return null!=n?n:null}return null}function gc(e,t,n){const r={};for(const o in e)if(!o.startsWith("__")){const i=e[o];if(!(0,uo.lp)(i)&&!(0,uo.oT)(i)&&!(0,uo.hL)(i)){r[o]=i;continue}const s=wc(t,n,o);if(null==s){r[o]=i;continue}const a=i.toConfig(),c=a.fields,u={};for(const e in c){const n=c[e],r=s(n,e,o,t);if(void 0===r)u[e]=n;else if(Array.isArray(r)){const[e,t]=r;null!=t.astNode&&(t.astNode={...t.astNode,name:{...t.astNode.name,value:e}}),u[e]=void 0===t?n:t}else null!==r&&(u[e]=r)}(0,uo.lp)(i)?r[o]=_c(new uo.h6({...a,fields:u})):(0,uo.oT)(i)?r[o]=_c(new uo.oW({...a,fields:u})):r[o]=_c(new uo.sR({...a,fields:u}))}return r}function vc(e,t,n){const r={};for(const o in e)if(!o.startsWith("__")){const i=e[o];if(!(0,uo.lp)(i)&&!(0,uo.oT)(i)){r[o]=i;continue}const s=Ec(n);if(null==s){r[o]=i;continue}const a=i.toConfig(),c=a.fields,u={};for(const e in c){const n=c[e],r=n.args;if(null==r){u[e]=n;continue}const i=Object.keys(r);if(!i.length){u[e]=n;continue}const a={};for(const c of i){const n=r[c],i=s(n,e,o,t);if(void 0===i)a[c]=n;else if(Array.isArray(i)){const[e,t]=i;a[e]=t}else null!==i&&(a[c]=i)}u[e]={...n,args:a}}(0,uo.lp)(i)?r[o]=new uo.h6({...a,fields:u}):(0,uo.oT)(i)?r[o]=new uo.oW({...a,fields:u}):r[o]=new uo.sR({...a,fields:u})}return r}function bc(e,t,n){let r;const o=[...function(e,t){const n=e.getType(t),r=[uc.TYPE];return(0,uo.lp)(n)?(r.push(uc.COMPOSITE_TYPE,uc.OBJECT_TYPE),t===e.getQueryType()?.name?r.push(uc.ROOT_OBJECT,uc.QUERY):t===e.getMutationType()?.name?r.push(uc.ROOT_OBJECT,uc.MUTATION):t===e.getSubscriptionType()?.name&&r.push(uc.ROOT_OBJECT,uc.SUBSCRIPTION)):(0,uo.hL)(n)?r.push(uc.INPUT_OBJECT_TYPE):(0,uo.oT)(n)?r.push(uc.COMPOSITE_TYPE,uc.ABSTRACT_TYPE,uc.INTERFACE_TYPE):(0,uo.EN)(n)?r.push(uc.COMPOSITE_TYPE,uc.ABSTRACT_TYPE,uc.UNION_TYPE):(0,uo.EM)(n)?r.push(uc.ENUM_TYPE):(0,uo.KA)(n)&&r.push(uc.SCALAR_TYPE),r}(e,n)];for(;!r&&o.length>0;){r=t[o.pop()]}return null!=r?r:null}function wc(e,t,n){let r;const o=[...function(e,t){const n=e.getType(t),r=[uc.FIELD];return(0,uo.lp)(n)?(r.push(uc.COMPOSITE_FIELD,uc.OBJECT_FIELD),t===e.getQueryType()?.name?r.push(uc.ROOT_FIELD,uc.QUERY_ROOT_FIELD):t===e.getMutationType()?.name?r.push(uc.ROOT_FIELD,uc.MUTATION_ROOT_FIELD):t===e.getSubscriptionType()?.name&&r.push(uc.ROOT_FIELD,uc.SUBSCRIPTION_ROOT_FIELD)):(0,uo.oT)(n)?r.push(uc.COMPOSITE_FIELD,uc.INTERFACE_FIELD):(0,uo.hL)(n)&&r.push(uc.INPUT_OBJECT_FIELD),r}(e,n)];for(;!r&&o.length>0;){r=t[o.pop()]}return r??null}function Ec(e){const t=e[uc.ARGUMENT];return null!=t?t:null}function _c(e){if((0,uo.lp)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:lo.h.OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:lo.h.OBJECT_TYPE_EXTENSION,fields:void 0})))),new uo.h6(t)}if((0,uo.oT)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:lo.h.INTERFACE_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:lo.h.INTERFACE_TYPE_EXTENSION,fields:void 0})))),new uo.oW(t)}if((0,uo.hL)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:lo.h.INPUT_OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:lo.h.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0})))),new uo.sR(t)}if((0,uo.EM)(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.values){const r=t.values[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,values:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,values:void 0})))),new uo.mR(t)}return e}function Tc({schema:e,resolvers:t,defaultFieldResolver:n,resolverValidationOptions:r={},inheritResolversFromInterfaces:o=!1,updateResolversInPlace:i=!1}){const{requireResolversToMatchSchema:s="error",requireResolversForResolveType:a}=r,c=o?tc(e,t):t;for(const u in c){const t=c[u];if("object"!==typeof t)throw new Error(`"${u}" defined in resolvers, but has invalid value "${t}". The resolver's value must be of type object.`);const n=e.getType(u);if(null==n){if("ignore"===s)continue;throw new Error(`"${u}" defined in resolvers, but not in schema`)}if((0,co.u1)(n))for(const e in t)e.startsWith("__")?n[e.substring(2)]=t[e]:n[e]=t[e];else if((0,uo.EM)(n)){const e=n.getValues();for(const r in t)if(!r.startsWith("__")&&!e.some((e=>e.name===r))&&s&&"ignore"!==s)throw new Error(`${n.name}.${r} was defined in resolvers, but not present within ${n.name}`)}else if((0,uo.EN)(n)){for(const e in t)if(!e.startsWith("__")&&s&&"ignore"!==s)throw new Error(`${n.name}.${e} was defined in resolvers, but ${n.name} is not an object or interface type`)}else if((0,uo.lp)(n)||(0,uo.oT)(n))for(const e in t)if(!e.startsWith("__")){if(null==n.getFields()[e]){if(s&&"ignore"!==s)throw new Error(`${u}.${e} defined in resolvers, but not in schema`)}else{const n=t[e];if("function"!==typeof n&&"object"!==typeof n)throw new Error(`Resolver ${u}.${e} must be object or function`)}}}return e=i?function(e,t,n){const r=e.getTypeMap();for(const o in t){const n=e.getType(o),i=t[o];if((0,uo.KA)(n))for(const e in i)e.startsWith("__")?n[e.substring(2)]=i[e]:"astNode"===e&&null!=n.astNode?n.astNode={...n.astNode,description:i?.astNode?.description??n.astNode.description,directives:(n.astNode.directives??[]).concat(i?.astNode?.directives??[])}:"extensionASTNodes"===e&&null!=n.extensionASTNodes?n.extensionASTNodes=n.extensionASTNodes.concat(i?.extensionASTNodes??[]):"extensions"===e&&null!=n.extensions&&null!=i.extensions?n.extensions=Object.assign(Object.create(null),n.extensions,i.extensions):n[e]=i[e];else if((0,uo.EM)(n)){const e=n.toConfig(),t=e.values;for(const r in i)r.startsWith("__")?e[r.substring(2)]=i[r]:"astNode"===r&&null!=e.astNode?e.astNode={...e.astNode,description:i?.astNode?.description??e.astNode.description,directives:(e.astNode.directives??[]).concat(i?.astNode?.directives??[])}:"extensionASTNodes"===r&&null!=e.extensionASTNodes?e.extensionASTNodes=e.extensionASTNodes.concat(i?.extensionASTNodes??[]):"extensions"===r&&null!=n.extensions&&null!=i.extensions?n.extensions=Object.assign(Object.create(null),n.extensions,i.extensions):t[r]&&(t[r].value=i[r]);r[o]=new uo.mR(e)}else if((0,uo.EN)(n))for(const e in i)e.startsWith("__")&&(n[e.substring(2)]=i[e]);else if((0,uo.lp)(n)||(0,uo.oT)(n))for(const e in i){if(e.startsWith("__")){n[e.substring(2)]=i[e];continue}const t=n.getFields()[e];if(null!=t){const n=i[e];"function"===typeof n?t.resolve=n.bind(i):Sc(t,n)}}}nc(e,oc),sc(e),nc(e,ic),null!=n&&ac(e,(e=>{e.resolve||(e.resolve=n)}));return e}(e,c,n):function(e,t,n){e=hc(e,{[uc.SCALAR_TYPE]:e=>{const n=e.toConfig(),r=t[e.name];if(!(0,co.u1)(e)&&null!=r){for(const t in r)t.startsWith("__")?n[t.substring(2)]=r[t]:"astNode"===t&&null!=n.astNode?n.astNode={...n.astNode,description:r?.astNode?.description??n.astNode.description,directives:(n.astNode.directives??[]).concat(r?.astNode?.directives??[])}:"extensionASTNodes"===t&&null!=n.extensionASTNodes?n.extensionASTNodes=n.extensionASTNodes.concat(r?.extensionASTNodes??[]):"extensions"===t&&null!=n.extensions&&null!=r.extensions?n.extensions=Object.assign(Object.create(null),e.extensions,r.extensions):n[t]=r[t];return new uo.n2(n)}},[uc.ENUM_TYPE]:e=>{const n=t[e.name],r=e.toConfig(),o=r.values;if(null!=n){for(const t in n)t.startsWith("__")?r[t.substring(2)]=n[t]:"astNode"===t&&null!=r.astNode?r.astNode={...r.astNode,description:n?.astNode?.description??r.astNode.description,directives:(r.astNode.directives??[]).concat(n?.astNode?.directives??[])}:"extensionASTNodes"===t&&null!=r.extensionASTNodes?r.extensionASTNodes=r.extensionASTNodes.concat(n?.extensionASTNodes??[]):"extensions"===t&&null!=r.extensions&&null!=n.extensions?r.extensions=Object.assign(Object.create(null),e.extensions,n.extensions):o[t]&&(o[t].value=n[t]);return new uo.mR(r)}},[uc.UNION_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new uo.Gp(t)}},[uc.OBJECT_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__isTypeOf&&(t.isTypeOf=n.__isTypeOf),new uo.h6(t)}},[uc.INTERFACE_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new uo.oW(t)}},[uc.COMPOSITE_FIELD]:(e,n,r)=>{const o=t[r];if(null!=o){const t=o[n];if(null!=t){const n={...e};return"function"===typeof t?n.resolve=t.bind(o):Sc(n,t),n}}}}),null!=n&&(e=hc(e,{[uc.OBJECT_FIELD]:e=>({...e,resolve:null!=e.resolve?e.resolve:n})}));return e}(e,c,n),a&&"ignore"!==a&&function(e,t){hc(e,{[uc.ABSTRACT_TYPE]:e=>{if(!e.resolveType){const n=`Type "${e.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}})}(e,a),e}function Sc(e,t){for(const n in t)e[n]=t[n]}function Ic(e,t,n,r,o){if(n.resolve){if("function"!==typeof n.resolve)throw new Error(`Resolver "${r}.${o}" must be a function`)}else{const n=`Resolver missing for "${r}.${o}".\nTo disable this validator, use:\n  resolverValidationOptions: {\n    ${e}: 'ignore'\n  }`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}!function(e){e.TYPE="MapperKind.TYPE",e.SCALAR_TYPE="MapperKind.SCALAR_TYPE",e.ENUM_TYPE="MapperKind.ENUM_TYPE",e.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",e.OBJECT_TYPE="MapperKind.OBJECT_TYPE",e.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",e.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",e.UNION_TYPE="MapperKind.UNION_TYPE",e.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",e.ROOT_OBJECT="MapperKind.ROOT_OBJECT",e.QUERY="MapperKind.QUERY",e.MUTATION="MapperKind.MUTATION",e.SUBSCRIPTION="MapperKind.SUBSCRIPTION",e.DIRECTIVE="MapperKind.DIRECTIVE",e.FIELD="MapperKind.FIELD",e.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",e.OBJECT_FIELD="MapperKind.OBJECT_FIELD",e.ROOT_FIELD="MapperKind.ROOT_FIELD",e.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",e.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",e.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",e.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",e.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",e.ARGUMENT="MapperKind.ARGUMENT",e.ENUM_VALUE="MapperKind.ENUM_VALUE"}(uc||(uc={}));var Nc=n(6918);function Oc(e,t){return(0,ao.Qc)(e,t).definitions[0].selectionSet}function Ac(e,t,n,r){const{selectionSets:o,fieldSelectionSets:i,uniqueFields:s,nonUniqueFields:a}=e,c=[],u=[];for(const d of n){const n=o.get(d),s=i.get(d);(null==n||Cc(e,t,n))&&(null==s||r.every((n=>{const r=n.name.value,o=s[r];return null==o||Cc(e,t,o)})))?c.push(d):u.push(d)}const l=[],f=new Map;for(const d of r){if("__typename"===d.name.value)continue;const e=s[d.name.value];if(null!=e){if(!c.includes(e)){l.push(d);continue}const t=f.get(e)?.selections;null!=t?t.push(d):f.set(e,{kind:lo.h.SELECTION_SET,selections:[d]});continue}let t=a[d.name.value];if(null==t){l.push(d);continue}if(t=t.filter((e=>c.includes(e))),!t.length){l.push(d);continue}const n=t.find((e=>f.has(e)));null!=n?f.get(n).selections.push(d):f.set(t[0],{kind:lo.h.SELECTION_SET,selections:[d]})}return{delegationMap:f,proxiableSubschemas:c,nonProxiableSubschemas:u,unproxiableFieldNodes:l}}function xc(e){return zs((function(t,n,r,o,i){const s=function(e){const t=e.extensions?.stitchingInfo;if(!t)throw new Error("Schema is not a stitched schema.");return t}(t),a=e?.targetSubschemas.get(n);if(!a||!a.length)return[];const c=e.typeName,u=function(e,t,n,r,o,i,s){const{fields:a}=xa(e,i,s,n,o),c=t?.fieldNodesByField,u=r.getFields(),l=new Set;for(const[,f]of a){const e=f[0].name.value;if(!u[e])for(const n of f)l.add(n);const t=c?.[n.name]?.[e];if(t)for(const n of t)u[n.name.value]||l.add(n)}return Array.from(l)}(t,s,t.getType(c),e.typeMaps.get(n)?.[c],i,o,r);if(!u.length)return[];const l=[];let f=kc(n),d=Ac(e,f,a,u),{delegationMap:h}=d;for(;h.size;){l.push(h);const{proxiableSubschemas:t,nonProxiableSubschemas:n,unproxiableFieldNodes:r}=d;f=$c(f,t),d=Ac(e,f,n,r),h=d.delegationMap}return l}))}const kc=Bs((function(e){return[e]})),$c=Vs((function(e,t){return e.concat(t)})),Cc=qs((function(e,t,n){return Rc(t.map((t=>t.transformedSchema.getType(e.typeName))),n)}));function Rc(e,t){const n=e.map((e=>e.getFields()));for(const r of t.selections)if(r.kind===lo.h.FIELD){const e=n.map((e=>e[r.name.value])).filter((e=>null!=e));if(!e.length)return!1;if(null!=r.selectionSet)return Rc(e.map((e=>(0,uo.xC)(e.type))),r.selectionSet)}else if(r.kind===lo.h.INLINE_FRAGMENT&&r.typeCondition?.name.value===e[0].name)return Rc(e,r.selectionSet);return!0}const Dc=function(e){const t=new WeakMap;return function(n,r,o,i){let s=t.get(n);if(!s){s=new WeakMap,t.set(n,s);const a=e(n,r,o,i);return s.set(r,a),a}const a=s.get(r);if(void 0===a){const t=e(n,r,o,i);return s.set(r,t),t}return a}}((function(e,t,n,r){return aa(t,n,r)}));var Pc=n(2433);function jc(e,t,n){const r=Fc(e).get(t);if(null==r)throw ia(`Schema is not configured to execute ${t} operation.`,{nodes:n});return r}const Mc=Bs((function(e){const t=Lc(e);return new Set([...t].map((e=>e.name)))})),Lc=Bs((function(e){const t=Fc(e);return new Set(t.values())})),Fc=Bs((function(e){const t=new Map,n=e.getQueryType();n&&t.set("query",n);const r=e.getMutationType();r&&t.set("mutation",r);const o=e.getSubscriptionType();return o&&t.set("subscription",o),t}));function Uc(e,t,n){return{prev:e,key:t,typename:n}}function Bc(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}function Vc(e){return e.map((e=>"number"===typeof e?"["+e.toString()+"]":"."+e)).join("")}function qc(e){return zc(e,[])}function zc(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(e instanceof Error)return"AggregateError"===e.name?Gc(e)+"\n"+Kc(e.errors,t):Gc(e);if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:zc(t,n)}else if(Array.isArray(e))return Kc(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>3)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";return"{ "+n.map((([e,n])=>e+": "+zc(n,t))).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function Gc(e){return(e.name="GraphQLError")?e.toString():`${e.name}: ${e.message};\n ${e.stack}`}function Kc(e,t){if(0===e.length)return"[]";if(t.length>3)return"[Array]";const n=e.length,r=[];for(let o=0;o<n;++o)r.push(zc(e[o],t));return"["+r.join(", ")+"]"}var Jc=n(2221);function Hc(e,t,n={}){const r={},o=(t.arguments??[]).reduce(((e,t)=>({...e,[t.name.value]:t})),{});for(const{name:i,type:s,defaultValue:a}of e.args){const e=o[i];if(!e){if(void 0!==a)r[i]=a;else if((0,uo.zM)(s))throw ia(`Argument "${i}" of required type "${qc(s)}" was not provided.`,{nodes:[t]});continue}const c=e.value;let u=c.kind===lo.h.NULL;if(c.kind===lo.h.VARIABLE){const e=c.name.value;if(null==n||!ga(n,e)){if(void 0!==a)r[i]=a;else if((0,uo.zM)(s))throw ia(`Argument "${i}" of required type "${qc(s)}" was provided the variable "$${e}" which was not provided a runtime value.`,{nodes:[c]});continue}u=null==n[e]}if(u&&(0,uo.zM)(s))throw ia(`Argument "${i}" of non-null type "${qc(s)}" must not be null.`,{nodes:[c]});const l=(0,Jc.u)(c,s,n);if(void 0===l)throw ia(`Argument "${i}" has invalid value ${(0,Nc.S)(c)}.`,{nodes:[c]});r[i]=l}return r}function Qc(e,t,n){let r,o,i;function s(e){return e.done?e:Wc(e.value,t).then(Yc,o)}if("function"===typeof e.return&&(r=e.return,o=t=>{const n=()=>Promise.reject(t);return r.call(e).then(n,n)}),n){const e=n;i=t=>Wc(t,e).then(Yc,o)}return{next:()=>e.next().then(s,i),return:()=>r?r.call(e).then(s,i):Promise.resolve({value:void 0,done:!0}),throw:t=>"function"===typeof e.throw?e.throw(t).then(s,i):Promise.reject(t).catch(o),[Symbol.asyncIterator](){return this}}}function Wc(e,t){return new Promise((n=>n(t(e))))}function Yc(e){return{value:e,done:!1}}function Xc(e,t){if(!e)throw new Error(null!=t?t:"Unexpected invariant triggered.")}async function Zc(e,t){const n=Object.create(null);return await new Promise(((r,o)=>{t?.addEventListener("abort",(()=>{r()})),Promise.all(Object.entries(e).map((async([e,t])=>{n[e]=await t}))).then((()=>r()),o)})),n}var eu=n(7816);function tu(e,t,n,r){const o=[],i=r?.maxErrors;try{const r=function(e,t,n,r){const o={};for(const i of t){const t=i.variable.name.value,s=(0,ba._)(e,i.type);if(!(0,uo.j$)(s)){const e=(0,Nc.S)(i.type);r(ia(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:i.type}));continue}if(!ga(n,t)){if(i.defaultValue)o[t]=(0,Jc.u)(i.defaultValue,s);else if((0,uo.zM)(s)){const e=qc(s);r(ia(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:i}))}continue}const a=n[t];if(null===a&&(0,uo.zM)(s)){const e=qc(s);r(ia(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:i}))}else o[t]=(0,eu.K)(a,s,((e,n,o)=>{let s=`Variable "$${t}" got invalid value `+qc(n);e.length>0&&(s+=` at "${t}${Vc(e)}"`),r(ia(s+"; "+o.message,{nodes:i,originalError:o.originalError}))}))}return o}(e,t,n,(e=>{if(null!=i&&o.length>=i)throw ia("Too many errors processing variables, error limit reached. Execution aborted.");o.push(e)}));if(0===o.length)return{coerced:r}}catch(s){o.push(s)}return{errors:o}}const nu=qs(((e,t,n)=>xa(e.schema,e.fragments,e.variableValues,t,n)));function ru(e){const t=au(e);return"schema"in t?ou(t):{errors:t.map((e=>(Object.defineProperty(e,"extensions",{value:{...e.extensions,http:{...e.extensions?.http,status:400}}}),e)))}}function ou(e){return new Fs((()=>function(e){const{operation:t,schema:n,fragments:r,variableValues:o,rootValue:i}=e,s=jc(n,t.operation,[t]);null==s&&ia(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const{fields:a,patches:c}=Ia(n,r,o,s,t.selectionSet),u=void 0;let l;l="mutation"===t.operation?function(e,t,n,r,o){let i=!1;return function(e,t,n){let r=n;for(const o of e)r=ya(r)?r.then((e=>t(e,o))):t(r,o);return r}(o,((o,[s,a])=>{const c=Uc(r,s,t.name);return e.signal?.aborted?(o[s]=null,o):new Fs((()=>uu(e,t,n,a,c))).then((t=>(void 0===t||(o[s]=t,e.signal?.aborted&&!i&&(e.errors.push(ia("Execution aborted",{nodes:a,path:Bc(c),originalError:e.signal?.reason})),i=!0)),o)))}),Object.create(null)).resolve()}(e,s,i,u,a):cu(e,s,i,u,a);for(const f of c){const{label:t,fields:n}=f;Iu(e,s,i,n,t,u)}return l}(e))).then((t=>{const n=iu(t,e.errors);return e.subsequentPayloads.size>0?{initialResult:{...n,hasNext:!0},subsequentResults:ku(e)}:n}),(t=>(e.errors.push(t),iu(null,e.errors)))).resolve()}function iu(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}const su=Bs((function(e){const t=Object.create(null);for(const n of e.definitions)n.kind===lo.h.FRAGMENT_DEFINITION&&(t[n.name.value]=n);return t}));function au(e){const{schema:t,document:n,rootValue:r,contextValue:o,variableValues:i,operationName:s,fieldResolver:a,typeResolver:c,subscribeFieldResolver:u,signal:l}=e;(0,rs.J)(t);const f=su(n);let d;for(const p of n.definitions)switch(p.kind){case lo.h.OPERATION_DEFINITION:if(null==s){if(void 0!==d)return[ia("Must provide operation name if query contains multiple operations.")];d=p}else p.name?.value===s&&(d=p)}if(null==d)return null!=s?[ia(`Unknown operation named "${s}".`)]:[ia("Must provide an operation.")];const h=tu(t,d.variableDefinitions??[],i??{},{maxErrors:50});return h.errors?h.errors:{schema:t,fragments:f,rootValue:r,contextValue:o,operation:d,variableValues:h.coerced,fieldResolver:a??wu,typeResolver:c??bu,subscribeFieldResolver:u??wu,subsequentPayloads:new Set,errors:[],signal:l}}function cu(e,t,n,r,o,i){const s=Object.create(null);let a=!1,c=!1;try{for(const[u,l]of o){if(e.signal?.aborted){s[u]=null;continue}const o=Uc(r,u,t.name),f=uu(e,t,n,l,o,i);void 0!==f&&(s[u]=f,ya(f)&&(a=!0)),e.signal?.aborted&&!c&&(e.errors.push(ia("Execution aborted",{nodes:l,path:Bc(o),originalError:e.signal?.reason})),c=!0)}}catch(u){if(a)return Zc(s,e.signal).finally((()=>{throw u}));throw u}return a?Zc(s,e.signal):s}function uu(e,t,n,r,o,i){const s=i?.errors??e.errors,a=Du(e.schema,t,r[0]);if(!a)return;const c=a.type,u=a.resolve??e.fieldResolver,l=lu(e,a,r,t,o);try{const t=Hc(a,r[0],e.variableValues),f=u(n,t,e.contextValue,l);let d;return d=ya(f)?f.then((t=>du(e,c,r,l,o,t,i))):du(e,c,r,l,o,f,i),ya(d)?d.then(void 0,(t=>{const n=fu((0,da.y)(t,r,Bc(o)),c,s);return xu(e,o,i),n})):d}catch(f){const t=fu((0,da.y)(f,r,Bc(o)),c,s);return xu(e,o,i),t}}function lu(e,t,n,r,o){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:o,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function fu(e,t,n){if((0,uo.zM)(t))throw e;return n.push(e),null}function du(e,t,n,r,o,i,s){if(i instanceof Error)throw i;if((0,uo.zM)(t)){const a=du(e,t.ofType,n,r,o,i,s);if(null===a)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return a}return null==i?null:(0,uo.HG)(t)?function(e,t,n,r,o,i,s){const a=t.ofType,c=s?.errors??e.errors;if(Ks(i)){return async function(e,t,n,r,o,i,s){e.signal?.addEventListener("abort",(()=>{i.return?.(),e.errors.push(ia("Execution aborted",{nodes:n,path:Bc(o),originalError:e.signal?.reason}))}));const a=s?.errors??e.errors,c=hu(e,n,o);let u=!1;const l=[];let f=0;for(;;){if(c&&"number"===typeof c.initialCount&&f>=c.initialCount){Au(f,i,e,n,r,t,o,c.label,s);break}const h=Uc(o,f,void 0);let p;try{if(p=await i.next(),p.done)break}catch(d){const e=(0,da.y)(d,n,Bc(h));l.push(fu(e,t,a));break}pu(p.value,l,a,e,t,n,r,h,s)&&(u=!0),f+=1}return u?Promise.all(l):l}(e,a,n,r,o,i[Symbol.asyncIterator](),s)}if(!pa(i))throw ia(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const u=hu(e,n,o);let l=!1,f=s;const d=[];let h=0;for(const p of i){const t=Uc(o,h,void 0);u&&"number"===typeof u.initialCount&&h>=u.initialCount?(f=Nu(o,t,p,e,n,r,a,u.label,f),h++):(pu(p,d,c,e,a,n,r,t,s)&&(l=!0),h++)}return l?Promise.all(d):d}(e,t,n,r,o,i,s):(0,uo.UT)(t)?function(e,t){let n;try{n=e.serialize(t)}catch(r){if(r instanceof ho.__)throw new Error(r.message);throw r}if(null==n)throw new Error(`Expected \`${qc(e)}.serialize(${qc(t)})\` to return non-nullable value, returned: ${qc(n)}`);return n}(t,i):(0,uo.m0)(t)?function(e,t,n,r,o,i,s){const a=t.resolveType??e.typeResolver,c=e.contextValue,u=a(i,c,r,t);if(ya(u))return u.then((a=>yu(e,mu(a,e,t,n,r,i),n,r,o,i,s)));return yu(e,mu(u,e,t,n,r,i),n,r,o,i,s)}(e,t,n,r,o,i,s):(0,uo.lp)(t)?yu(e,t,n,r,o,i,s):void console.assert(!1,"Cannot complete value of unexpected output type: "+qc(t))}function hu(e,t,n){if("number"===typeof n.key)return;const r=(0,va.zu)(Ta,t[0],e.variableValues);return r&&!1!==r.if?(Xc("number"===typeof r.initialCount,"initialCount must be a number"),Xc(r.initialCount>=0,"initialCount must be a positive integer"),{initialCount:r.initialCount,label:"string"===typeof r.label?r.label:void 0}):void 0}function pu(e,t,n,r,o,i,s,a,c){try{let u;if(u=ya(e)?e.then((e=>du(r,o,i,s,a,e,c))):du(r,o,i,s,a,e,c),ya(u))return t.push(u.then(void 0,(e=>{const t=fu((0,da.y)(e,i,Bc(a)),o,n);return xu(r,a,c),t}))),!0;t.push(u)}catch(u){const e=fu((0,da.y)(u,i,Bc(a)),o,n);xu(r,a,c),t.push(e)}return!1}function mu(e,t,n,r,o,i){if(null==e)throw ia(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,{nodes:r});if((0,uo.lp)(e))throw ia("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!==typeof e)throw ia(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${o.parentType.name}.${o.fieldName}" with value ${qc(i)}, received "${qc(e)}".`);const s=t.schema.getType(e);if(null==s)throw ia(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!(0,uo.lp)(s))throw ia(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,s))throw ia(`Runtime Object type "${s.name}" is not a possible type for "${n.name}".`,{nodes:r});return s}function yu(e,t,n,r,o,i,s){if(t.isTypeOf){const a=t.isTypeOf(i,e.contextValue,r);if(ya(a))return a.then((r=>{if(!r)throw gu(t,i,n);return vu(e,t,n,o,i,s)}));if(!a)throw gu(t,i,n)}return vu(e,t,n,o,i,s)}function gu(e,t,n){return ia(`Expected value of type "${e.name}" but got: ${qc(t)}.`,{nodes:n})}function vu(e,t,n,r,o,i){const{fields:s,patches:a}=nu(e,t,n),c=cu(e,t,o,r,s,i);for(const u of a){const{label:n,fields:s}=u;Iu(e,t,o,s,n,r,i)}return c}const bu=function(e,t,n,r){if(ma(e)&&"string"===typeof e.__typename)return e.__typename;const o=n.schema.getPossibleTypes(r),i=[];for(let s=0;s<o.length;s++){const r=o[s];if(r.isTypeOf){const o=r.isTypeOf(e,t,n);if(ya(o))i[s]=o;else if(o)return r.name}}return i.length?Promise.all(i).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return o[t].name})):void 0},wu=function(e,t,n,r){if(ma(e)||"function"===typeof e){const o=e[r.fieldName];return"function"===typeof o?e[r.fieldName](t,n,r):o}};function Eu(e){const t=au(e);if(!("schema"in t))return{errors:t.map((e=>(Object.defineProperty(e,"extensions",{value:{...e.extensions,http:{...e.extensions?.http,status:400}}}),e)))};const n=function(e){try{const t=function(e){const{schema:t,fragments:n,operation:r,variableValues:o,rootValue:i}=e,s=t.getSubscriptionType();if(null==s)throw ia("Schema is not configured to execute subscription operation.",{nodes:r});const{fields:a}=Ia(t,n,o,s,r.selectionSet),[c,u]=[...a.entries()][0],l=u[0].name.value,f=Du(t,s,u[0]);if(!f)throw ia(`The subscription field "${l}" is not defined.`,{nodes:u});const d=Uc(void 0,c,s.name),h=lu(e,f,u,s,d);try{const t=Hc(f,u[0],o),n=e.contextValue,r=(f.subscribe??e.subscribeFieldResolver)(i,t,n,h);return ya(r)?r.then(Su).then(void 0,(e=>{throw(0,da.y)(e,u,Bc(d))})):Su(r,e.signal)}catch(p){throw(0,da.y)(p,u,Bc(d))}}(e);return ya(t)?t.then(void 0,(e=>({errors:[e]}))):t}catch(t){return{errors:[t]}}}(t);return ya(n)?n.then((e=>Tu(t,e))):Tu(t,n)}function _u(e,t){const n=e.subsequentResults;let r=!1,o=!1;return t?.addEventListener("abort",(()=>{o=!0,n.throw?.(t?.reason)})),{[Symbol.asyncIterator](){return this},next:()=>o?Promise.resolve({value:void 0,done:o}):r?n.next():(r=!0,Promise.resolve({value:e.initialResult,done:o})),return:()=>(o=!0,n.return()),throw:e=>(o=!0,n.throw(e))}}function Tu(e,t){return Ks(t)?function(e){const t=e[Symbol.asyncIterator]();let n,r,o=!1;return{next:async function e(){if(o)return{value:void 0,done:!0};try{if(!n){if(r)return await r,await e();let i;r=new Promise((e=>{i=e}));const s=await t.next();return s.done?(o=!0,await e()):(n=s.value[Symbol.asyncIterator](),r=void 0,i(),await e())}const i=n,s=await n.next();return s.done?(n===i&&(n=void 0),await e()):s}catch(i){throw o=!0,i}},return:async()=>(o=!0,await Promise.all([n?.return?.(),t.return?.()]),{value:void 0,done:!0}),async throw(e){throw o=!0,await Promise.all([n?.throw?.(e),t.throw?.(e)]),e},[Symbol.asyncIterator](){return this}}}(Qc(t[Symbol.asyncIterator](),(async t=>async function*(e,t){"initialResult"in e?yield*_u(e,t):yield e}(await ou(function(e,t){return{...e,rootValue:t,subsequentPayloads:new Set,errors:[]}}(e,t)),e.signal)),(async function*(t){const n=ia(t.message,{originalError:t,nodes:[e.operation]});yield{errors:[n]}}))):t}function Su(e,t){if(e instanceof Error)throw e;if(!Ks(e))throw ia(`Subscription field must return Async Iterable. Received: ${qc(e)}.`);return{[Symbol.asyncIterator](){const n=e[Symbol.asyncIterator]();return t?.addEventListener("abort",(()=>{n.return?.()})),n}}}function Iu(e,t,n,r,o,i,s){const a=new $u({label:o,path:i,parentContext:s,exeContext:e});let c;try{c=cu(e,t,n,i,r,a),ya(c)&&(c=c.then(null,(e=>(a.errors.push(e),null))))}catch(u){a.errors.push(u),c=null}a.addData(c)}function Nu(e,t,n,r,o,i,s,a,c){const u=new Cu({label:a,path:t,parentContext:c,exeContext:r});let l,f;try{try{l=ya(n)?n.then((e=>du(r,s,o,i,t,e,u))):du(r,s,o,i,t,n,u),ya(l)&&(l=l.then(void 0,(e=>{const n=fu((0,da.y)(e,o,Bc(t)),s,u.errors);return xu(r,t,u),n})))}catch(d){l=fu((0,da.y)(d,o,Bc(t)),s,u.errors),xu(r,t,u)}}catch(h){return u.errors.push(h),xu(r,e,u),u.addItems(null),u}return f=ya(l)?l.then((e=>[e]),(t=>(u.errors.push(t),xu(r,e,u),null))):[l],u.addItems(f),u}async function Ou(e,t,n,r,o,i,s){let a,c;try{const{value:t,done:n}=await e.next();if(n)return i.setIsCompletedIterator(),{done:n,value:void 0};a=t}catch(u){return{done:!0,value:fu((0,da.y)(u,n,Bc(s)),o,i.errors)}}try{return c=du(t,o,n,r,s,a,i),ya(c)&&(c=c.then(void 0,(e=>{const r=fu((0,da.y)(e,n,Bc(s)),o,i.errors);return xu(t,s,i),r}))),{done:!1,value:c}}catch(u){const e=fu((0,da.y)(u,n,Bc(s)),o,i.errors);return xu(t,s,i),{done:!1,value:e}}}async function Au(e,t,n,r,o,i,s,a,c){let u=e,l=c??void 0;for(;;){const e=Uc(s,u,void 0),c=new Cu({label:a,path:e,parentContext:l,iterator:t,exeContext:n});let d;try{d=await Ou(t,n,r,o,i,c,e)}catch(f){return c.errors.push(f),xu(n,s,c),c.addItems(null),void(t?.return&&t.return().catch((()=>{})))}const{done:h,value:p}=d;let m;if(m=ya(p)?p.then((e=>[e]),(e=>(c.errors.push(e),xu(n,s,c),null))):[p],c.addItems(m),h)break;l=c,u++}}function xu(e,t,n){const r=Bc(t);e.subsequentPayloads.forEach((t=>{if(t!==n){for(let e=0;e<r.length;e++)if(t.path[e]!==r[e])return;Ru(t)&&t.iterator?.return&&t.iterator.return().catch((()=>{})),e.subsequentPayloads.delete(t)}}))}function ku(e){let t=!1;function n(){const t=[];return e.subsequentPayloads.forEach((e=>{Ru(e)&&e.iterator?.return&&t.push(e.iterator.return())})),Promise.all(t)}return{[Symbol.asyncIterator](){return this},next:async function n(){if(t)return{value:void 0,done:!0};if(await Promise.race(Array.from(e.subsequentPayloads).map((e=>e.promise))),t)return{value:void 0,done:!0};const r=function(e){const t=[];for(const n of e.subsequentPayloads){const r={};if(n.isCompleted){if(e.subsequentPayloads.delete(n),Ru(n)){const e=n.items;if(n.isCompletedIterator)continue;r.items=e}else{const e=n.data;r.data=e??null}r.path=n.path,n.label&&(r.label=n.label),n.errors.length>0&&(r.errors=n.errors),t.push(r)}}return t}(e),o=e.subsequentPayloads.size>0;return!r.length&&o?n():(o||(t=!0),{value:r.length?{incremental:r,hasNext:o}:{hasNext:o},done:!1})},return:async()=>(await n(),t=!0,{value:void 0,done:!0}),throw:async e=>(await n(),t=!0,Promise.reject(e))}}class $u{constructor(e){this.type="defer",this.label=e.label,this.path=Bc(e.path),this.parentContext=e.parentContext,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.data=null,this.promise=new Promise((e=>{this._resolve=t=>{e(t)}})).then((e=>{this.data=e,this.isCompleted=!0}))}addData(e){const t=this.parentContext?.promise;t?this._resolve?.(t.then((()=>e))):this._resolve?.(e)}}class Cu{constructor(e){this.type="stream",this.items=null,this.label=e.label,this.path=Bc(e.path),this.parentContext=e.parentContext,this.iterator=e.iterator,this.errors=[],this._exeContext=e.exeContext,this._exeContext.subsequentPayloads.add(this),this.isCompleted=!1,this.items=null,this.promise=new Promise((e=>{this._resolve=t=>{e(t)}})).then((e=>{this.items=e,this.isCompleted=!0}))}addItems(e){const t=this.parentContext?.promise;t?this._resolve?.(t.then((()=>e))):this._resolve?.(e)}setIsCompletedIterator(){this.isCompletedIterator=!0}}function Ru(e){return"stream"===e.type}function Du(e,t,n){const r=n.name.value;return r===Pc.Az.name&&e.getQueryType()===t?Pc.Az:r===Pc.tF.name&&e.getQueryType()===t?Pc.tF:r===Pc.hU.name?Pc.hU:t.getFields()[r]}function Pu(e){if((0,uo.zM)(e)){const t=Pu(e.ofType);if(t.kind===lo.h.NON_NULL_TYPE)throw new Error(`Invalid type node ${qc(e)}. Inner type of non-null type cannot be a non-null type.`);return{kind:lo.h.NON_NULL_TYPE,type:t}}return(0,uo.HG)(e)?{kind:lo.h.LIST_TYPE,type:Pu(e.ofType)}:{kind:lo.h.NAMED_TYPE,name:{kind:lo.h.NAME,value:e.name}}}function ju(e,t,n,r,o,i,s){e[r]={kind:lo.h.ARGUMENT,name:{kind:lo.h.NAME,value:r},value:{kind:lo.h.VARIABLE,name:{kind:lo.h.NAME,value:o}}},t[o]={kind:lo.h.VARIABLE_DEFINITION,variable:{kind:lo.h.VARIABLE,name:{kind:lo.h.NAME,value:o}},type:Pu(i)},void 0===s?o in n&&delete n[o]:n[o]=s}function Mu(e){let t=0;return n=>{let r;do{r=`_v${(t++).toString()}_${n}`}while(r in e);return r}}function Lu(e,t){return e===t.getMutationType()?"mutation":e===t.getSubscriptionType()?"subscription":"query"}function Fu({sourceSchema:e,sourceParentType:t,sourceFieldName:n,fragments:r,variableDefinitions:o,variableValues:i,targetRootValue:s,targetOperationName:a,targetOperation:c,targetFieldName:u,selectionSet:l,fieldNodes:f,context:d,info:h}){let p;const m=Object.create(null);if(null!=l)p=l;else{const e=[];for(const n of f||[])if(n.selectionSet)for(const t of n.selectionSet.selections)e.push(t);p=e.length?{kind:lo.h.SELECTION_SET,selections:e}:void 0;const t=f?.[0]?.arguments;if(t)for(const n of t)m[n.name.value]=n}const y=Object.create(null),g=Object.create(null);if(null!=e&&null!=o)for(const _ of o){const t=_.variable.name.value;g[t]=_;const n=oc((0,ba._)(e,_.type),i?.[t]);void 0!==n&&(y[t]=n)}null!=t&&null!=n&&function(e,t,n,r,o){const i=Mu(r),s=e.getFields()[t];if(!s)throw new Error(`Field "${t}" was not found in type "${e}".`);for(const a of s.args){const e=a.name,t=a.type;if(void 0===n[e]){const s=a.defaultValue;void 0!==s&&ju(n,r,o,e,i(e),t,oc(t,s))}}}(t,n,m,g,y);const v=u??f?.[0]?.name.value;if(void 0===v)throw new Error('Either "targetFieldName" or a non empty "fieldNodes" array must be provided.');const b={kind:lo.h.FIELD,arguments:Object.values(m),name:{kind:lo.h.NAME,value:v},selectionSet:p},w=a?{kind:lo.h.NAME,value:a}:void 0,E=[{kind:lo.h.OPERATION_DEFINITION,name:w,operation:c,variableDefinitions:Object.values(g),selectionSet:{kind:lo.h.SELECTION_SET,selections:[b]}}];if(null!=r)for(const _ in r){const e=r[_];E.push(e)}return{document:{kind:lo.h.DOCUMENT,definitions:E},variables:y,rootValue:s,operationName:a,context:d,info:h,operationType:c}}function Uu(e={data:null,errors:[]},t){const{context:n,info:r,fieldName:o=Vu(r),subschema:i,returnType:s=qu(r),skipTypeMerging:a,onLocatedError:c}=t,{data:u,unpathedErrors:l}=Bu(null==e.data?void 0:e.data[o],null==e.errors?[]:e.errors,null!=r&&r.path?(0,ha.N)(r.path):void 0,c);return Ba(u,l,i,n,r,s,a)}function Bu(e,t,n,r,o=1){if(null==e){if(!t.length)return{data:null,unpathedErrors:[]};if(1===t.length){const e=r?r(t[0]):t[0],o=void 0===n?e.path:e.path?n.concat(e.path.slice(1)):n;return{data:sa(t[0],o),unpathedErrors:[]}}const e=new AggregateError(t,t.map((e=>e.message)).join(", \n"));return{data:(0,da.y)(e,void 0,n),unpathedErrors:[]}}if(!t.length)return{data:e,unpathedErrors:[]};const i=[],s=new Map;for(const a of t){const e=a.path?.[o];if(null!=e){let t=s.get(e);void 0===t?(t=[a],s.set(e,t)):t.push(a)}else i.push(a)}for(const[a,c]of s)if(void 0!==e[a]){const{data:t,unpathedErrors:s}=Bu(e[a],c,n,r,o+1);e[a]=t,i.push(...s)}else i.push(...c);return{data:e,unpathedErrors:i}}function Vu(e){if(null==e)throw new Error("Data cannot be extracted from result without an explicit key or source schema.");return fa(e)}function qu(e){if(null==e)throw new Error("Return type cannot be inferred without a source schema.");return e.returnType}var zu=n(2676),Gu=n(316);function Ku(e,t,n){return null!=n&&null!=t&&(t===n||!(!(0,uo.Gv)(t)||!(0,uo.Gv)(n))&&(0,Gu.zR)(e,t,n))}function Ju(e){const t=[],n=[],r=new Set;for(let o=0;o<e.definitions.length;o++){const i=e.definitions[o];i.kind===lo.h.FRAGMENT_DEFINITION?(n.push(i),r.add(i.name.value)):i.kind===lo.h.OPERATION_DEFINITION&&t.push(i)}return{operations:t,fragments:n,fragmentNames:r}}function Hu(e,t){let{document:n,variables:r}=e,{operations:o,fragments:i}=Ju(n);const{targetSchema:s,args:a}=t;if(a){const e=function(e,t,n){const r=Object.create(null);return{newOperations:t.map((t=>{const o=(t.variableDefinitions??[]).reduce(((e,t)=>({...e,[t.variable.name.value]:t})),{}),i=jc(e,t.operation),s=[];for(const e of t.selectionSet.selections)if(e.kind===lo.h.FIELD){const t=(e.arguments??[]).reduce(((e,t)=>({...e,[t.name.value]:t})),{}),a=i.getFields()[e.name.value];null!=a&&Qu(a,t,o,r,n),s.push({...e,arguments:Object.values(t)})}else s.push(e);const a={kind:lo.h.SELECTION_SET,selections:s};return{...t,variableDefinitions:Object.values(o),selectionSet:a}})),newVariables:r}}(s,o,a);o=e.newOperations,r=Object.assign({},r??{},e.newVariables)}const{usedVariables:c,newDocument:u}=function(e,t,n){let r=[],o=[];const i=[];let s=[];const a=[],c=Object.create(null);for(const l of t){const t=l.typeCondition.name.value,n=e.getType(t);null!=n&&(a.push(l),c[l.name.value]=n)}let u=Object.create(null);for(const l of n){const t=jc(e,l.operation),{selectionSet:n,usedFragments:f,usedVariables:d}=Zu(e,t,c,l.selectionSet);o=el(o,f);const{usedVariables:h,newFragments:p,fragmentSet:m}=Wu(e,u,a,c,o),y=el(d,h);r=el(r,y),s=p,u=m;const g=(l.variableDefinitions??[]).filter((e=>-1!==y.indexOf(e.variable.name.value)));"subscription"===l.operation&&(n.selections=n.selections.filter((e=>e.kind!==lo.h.FIELD||"__typename"!==e.name.value))),i.push({kind:lo.h.OPERATION_DEFINITION,operation:l.operation,name:l.name,directives:l.directives,variableDefinitions:g,selectionSet:n})}return{usedVariables:r,newDocument:{kind:lo.h.DOCUMENT,definitions:[...i,...s]}}}(s,i,o),l={};if(null!=r)for(const f of c){const e=r[f];void 0!==e&&(l[f]=e)}return{...e,document:u,variables:l}}function Qu(e,t,n,r,o){const i=Mu(n);for(const s of e.args){const e=s.name,a=s.type;e in o&&ju(t,n,r,e,i(e),a,oc(a,o[e]))}}function Wu(e,t,n,r,o){let i=o.slice(),s=[];const a=[];for(;0!==i.length;){const o=i.pop(),c=n.find((e=>e.name.value===o));if(null!=c){const n=o,u=c.typeCondition.name.value,l=e.getType(u);if(null==l)throw new Error(`Fragment reference type "${u}", but the type is not contained within the target schema.`);const{selectionSet:f,usedFragments:d,usedVariables:h}=Zu(e,l,r,c.selectionSet);i=el(i,d),s=el(s,h),n&&!(n in t)&&(t[n]=!0,a.push({kind:lo.h.FRAGMENT_DEFINITION,name:{kind:lo.h.NAME,value:n},typeCondition:c.typeCondition,selectionSet:f}))}}return{usedVariables:s,newFragments:a,fragmentSet:t}}const Yu={SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]},Xu={SelectionSet:["selections"],Field:["arguments","directives","selectionSet"],Argument:["value"],InlineFragment:["directives","selectionSet"],FragmentSpread:["directives"],FragmentDefinition:["selectionSet"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["arguments"],ListValue:["values"]};function Zu(e,t,n,r){const o=[],i=[],s=fo.A.major<16?new zu.a(e,void 0,t):new zu.a(e,t),a=(0,Js.Vn)(r,(0,zu.y)(s,{[lo.h.FIELD]:{enter:e=>{const t=s.getParentType();if((0,uo.lp)(t)||(0,uo.oT)(t)){const n=t.getFields(),r="__typename"===e.name.value?Pc.hU:n[e.name.value];if(!r)return null;const o=null!=r.args?r.args:[],i=Object.create(null);for(const e of o)i[e.name]=e;if(null!=e.arguments){const t=[];for(const n of e.arguments)n.name.value in i&&t.push(n);if(t.length!==e.arguments.length)return{...e,arguments:t}}}},leave:t=>{const n=s.getType();if(null==n)throw new Error(`No type was found for field node ${qc(t)}.`);const r=(0,uo.xC)(n);if(null==!e.getType(r.name))return null;if((0,uo.lp)(r)||(0,uo.oT)(r)){const e=null!=t.selectionSet?t.selectionSet.selections:null;if(null==e||0===e.length)return null}}},[lo.h.FRAGMENT_SPREAD]:{enter:t=>{if(!(t.name.value in n))return null;const r=s.getParentType(),i=n[t.name.value];if(!Ku(e,r,i))return null;o.push(t.name.value)}},[lo.h.INLINE_FRAGMENT]:{enter:t=>{if(null!=t.typeCondition){const n=s.getParentType(),r=e.getType(t.typeCondition.name.value);if(!Ku(e,n,r))return null}}},[lo.h.SELECTION_SET]:{leave:e=>{const t=s.getParentType();if(null!=t&&(0,uo.m0)(t)){const t=e.selections.concat([{kind:lo.h.FIELD,name:{kind:lo.h.NAME,value:"__typename"}}]);return{...e,selections:t}}}}}),Yu);return(0,Js.Vn)(a,{[lo.h.VARIABLE]:e=>{i.push(e.name.value)}},Xu),{selectionSet:a,usedFragments:o,usedVariables:i}}function el(...e){const t=Object.create(null),n=[];for(const r of e)for(const e of r)e in t||(t[e]=!0,n.push(e));return n}function tl(e,t,n,r){const o=function(e,t,n){const r=(0,uo.xC)(e);if(!(0,uo.Gv)(r))return n;const o=Mc(t),i=new zu.a(t),s={Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]};return(0,Js.Vn)(n,(0,zu.y)(i,{[lo.h.FRAGMENT_DEFINITION]:e=>{const t=e.typeCondition.name.value;if(!o.has(t))return!1},[lo.h.FIELD]:e=>{const t=i.getType();if(null!=t&&(0,uo.m0)((0,uo.xC)(t)))return{...e,selectionSet:{kind:lo.h.SELECTION_SET,selections:[{kind:lo.h.INLINE_FRAGMENT,typeCondition:{kind:lo.h.NAMED_TYPE,name:{kind:lo.h.NAME,value:r.name}},selectionSet:e.selectionSet}]}}}}),s)}(n,t,e);if(null==r)return o;const{possibleTypesMap:i,reversePossibleTypesMap:s,interfaceExtensionsMap:a,fieldNodesByType:c,fieldNodesByField:u,dynamicSelectionSetsByField:l}=rl(r,t),{operations:f,fragments:d,fragmentNames:h}=Ju(o),{expandedFragments:p,fragmentReplacements:m}=function(e,t,n){let r=0;function o(e){let n;do{n=`_${e}_Fragment${r.toString()}`,r++}while(t.has(n));return n}const i=[],s=Object.create(null);for(const a of e){const e=n[a.typeCondition.name.value];if(null!=e){const n=a.name.value;s[n]=[];for(const r of e){const e=o(r);t.add(e),i.push({kind:lo.h.FRAGMENT_DEFINITION,name:{kind:lo.h.NAME,value:e},typeCondition:{kind:lo.h.NAMED_TYPE,name:{kind:lo.h.NAME,value:r}},selectionSet:a.selectionSet}),s[n].push({fragmentName:e,typeName:r})}}}return{expandedFragments:i,fragmentReplacements:s}}(d,h,i),y=new zu.a(t),g={kind:lo.h.DOCUMENT,definitions:[...f,...d,...p]};return(0,Js.Vn)(g,(0,zu.y)(y,{[lo.h.SELECTION_SET]:e=>function(e,t,n,r,o,i,s,a,c,u){const l=new Set,f=r.getParentType();if(null!=f){const r=(0,uo.xC)(f),d=r.name,h=a[d];if(h)for(const e of h)l.add(e);const p=s[r.name],m=[];for(const i of e.selections)if(i.kind===lo.h.INLINE_FRAGMENT){if(null!=i.typeCondition){const e=o[i.typeCondition.name.value];if(null==e){l.add(i);continue}for(const t of e){const e=n.getType(t);null!=e&&Ku(n,r,e)&&l.add(nl(t,i.selectionSet))}}}else if(i.kind===lo.h.FRAGMENT_SPREAD){const e=i.name.value;if(!t[e]){l.add(i);continue}for(const o of t[e]){const e=o.typeName;null!=n.getType(e)&&Ku(n,r,f)&&l.add({kind:lo.h.FRAGMENT_SPREAD,name:{kind:lo.h.NAME,value:o.fragmentName}})}}else{const e=i.name.value,t=c[d]?.[e];if(null!=t)for(const r of t)l.add(r);const n=u[d]?.[e];if(null!=n)for(const r of n){const e=r(i);if(null!=e)for(const t of e.selections)l.add(t)}p?.[e]?m.push(i):l.add(i)}if(i[r.name]&&l.add({kind:lo.h.FIELD,name:{kind:lo.h.NAME,value:"__typename"}}),m.length){const e=o[r.name];if(null!=e)for(const t of e)l.add(nl(t,{kind:lo.h.SELECTION_SET,selections:m}))}return{...e,selections:Array.from(l)}}return e}(e,m,t,y,i,s,a,c,u,l)}),{Document:["definitions"],OperationDefinition:["selectionSet"],SelectionSet:["selections"],Field:["selectionSet"],InlineFragment:["selectionSet"],FragmentDefinition:["selectionSet"]})}function nl(e,t){return{kind:lo.h.INLINE_FRAGMENT,typeCondition:{kind:lo.h.NAMED_TYPE,name:{kind:lo.h.NAME,value:e}},selectionSet:t}}const rl=Vs(((e,t)=>{const n=e.getTypeMap(),r=t.getTypeMap(),o=Object.create(null),i=Object.create(null);for(const a in n){const t=n[a];if((0,uo.m0)(t)){const n=r[a];if((0,uo.oT)(t)&&(0,uo.oT)(n)){const e=n.getFields(),r=t.getFields(),o=Object.create(null);let s=!0;for(const t in r)e[t]||(o[t]=!0,s=!1);s||(i[a]=o)}if(i[a]||!(0,uo.m0)(n)){const n=e.getPossibleTypes(t);o[a]=[];for(const e of n)r[e.name]&&o[a].push(e.name)}}}const s=e.extensions?.stitchingInfo;return{possibleTypesMap:o,reversePossibleTypesMap:ol(o),interfaceExtensionsMap:i,fieldNodesByType:s?.fieldNodesByType??{},fieldNodesByField:s?.fieldNodesByField??{},dynamicSelectionSetsByField:s?.dynamicSelectionSetsByField??{}}}));function ol(e){const t=Object.create(null);for(const n in e){const r=e[n];for(const e of r)t[e]||(t[e]=[]),t[e].push(n)}return t}class il{constructor(e){this.transformations=[],this.delegationContext=e;const t=e.transforms.slice().reverse();for(const n of t)this.addTransform(n,{})}addTransform(e,t={}){this.transformations.push({transform:e,context:t})}transformRequest(e){let t={...e,document:tl(e.document,this.delegationContext.transformedSchema,this.delegationContext.returnType,this.delegationContext.info?.schema)};for(const n of this.transformations)n.transform.transformRequest&&(t=n.transform.transformRequest(t,this.delegationContext,n.context));return Hu(t,this.delegationContext)}transformResult(e){let t=e;for(let n=this.transformations.length-1;n>=0;n--){const e=this.transformations[n];e.transform.transformResult&&(t=e.transform.transformResult(t,this.delegationContext,e.context))}return Uu(t,this.delegationContext)}}function sl(e){const{info:t,schema:n,rootValue:r=n.rootValue??t.rootValue,operationName:o=t.operation.name?.value,operation:i=Lu(t.parentType,t.schema),fieldName:s=t.fieldName,selectionSet:a,fieldNodes:c=t.fieldNodes,context:u}=e,l=Fu({sourceSchema:t.schema,sourceParentType:t.parentType,sourceFieldName:t.fieldName,fragments:t.fragments,variableDefinitions:t.operation.variableDefinitions,variableValues:t.variableValues,targetRootValue:r,targetOperationName:o,targetOperation:i,targetFieldName:s,selectionSet:a,fieldNodes:c,context:u,info:t});return function(e){const t=function({request:e,schema:t,fieldName:n,returnType:r,args:o,info:i,transforms:s=[],transformedSchema:a,skipTypeMerging:c=!1}){const u=Gs(e);let l;l=null==n?u.selectionSet.selections[0].name.value:n;const f=i?.schema.extensions?.stitchingInfo,d=f?.subschemaMap.get(t)??t,h=u.operation;if(za(d)){const n=d.schema;return{subschema:t,subschemaConfig:d,targetSchema:n,operation:h,fieldName:l,args:o,context:e.context,info:i,returnType:r??i?.returnType??al(n,h,l),transforms:null!=d.transforms?d.transforms.concat(s):s,transformedSchema:a??(d instanceof Ja?d.transformedSchema:Ka(n,d)),skipTypeMerging:c}}return{subschema:t,subschemaConfig:void 0,targetSchema:d,operation:h,fieldName:l,args:o,context:e.context,info:i,returnType:r??i?.returnType??al(d,h,l),transforms:s,transformedSchema:a??d,skipTypeMerging:c}}(e),n=new il(t),r=n.transformRequest(e.request);e.validateRequest&&function(e,t){const n=(0,io.Gu)(e.targetSchema,t);if(n.length>0){if(n.length>1){throw new AggregateError(n,n.map((e=>e.message)).join(", \n"))}const e=n[0];throw e.originalError||e}}(t,r.document);const o=function(e){const{subschemaConfig:t,targetSchema:n,context:r}=e;let o=t?.executor||ul(n);if(t?.batch){const e=t?.batchingOptions;o=Dc(r??cl,o,e?.dataLoaderOptions,e?.extensionsReducer)}return o}(t)(r);function i(e){if(Ks(e)){return Qc(e[Symbol.asyncIterator](),(e=>n.transformResult(e)))}return n.transformResult(e)}if(ya(o))return o.then(i);return i(o)}({...e,request:l})}function al(e,t,n){const r=jc(e,t),o=r.getFields()[n];if(!o)throw new Error(`Unable to find field '${n}' in type '${r}'.`);return o.type}const cl={};const ul=Bs((function(e){return function(t){return function(e){const t=(0,Us.S)(e.document,e.operationName);if(null==t)throw new Error("Must provide an operation.");return"subscription"===t.operation?Eu(e):new Fs((()=>ru(e))).then((t=>"initialResult"in t?_u(t,e.signal):t)).resolve()}({schema:e,document:t.document,rootValue:t.rootValue,contextValue:t.context,variableValues:t.variables,operationName:t.operationName})}}));const ll=Vs((function(e,t){return new Map})),fl={},dl=Bs((function(e){return JSON.stringify(e)})),hl=Bs(Nc.S);function pl(e){return"object"===typeof e?dl(e):e}function ml(e){const{schema:t,context:n,info:r,fieldName:o=r.fieldName,dataLoaderOptions:i,fieldNodes:s=La(r.fieldNodes[0]),selectionSet:a=s[0].selectionSet}=e,c=ll(n??fl,t);let u=o;null!=a&&(u+=hl(a));let l=c.get(u);if(void 0===l){const t=function(e){const t=e.argsFromKeys??(e=>({ids:e})),n=e.fieldName??e.info.fieldName,{valuesFromResults:r,lazyOptionsFn:o}=e;return function(i){return new Fs((()=>sl({returnType:new uo.p2((0,uo.xC)(e.info.returnType)),onLocatedError:e=>{if(null==e.path)return e;const[t,r]=e.path;return t!==n||"number"!==typeof r?e:sa(e,e.path.slice(0,0).concat(e.path.slice(2)))},args:t(i),...null==o?e:o(e,i)}))).then((e=>{if(e instanceof Error)return i.map((()=>e));const t=null==r?e:r(e,i);return Array.isArray(t)?t:i.map((()=>t))}))}}(e);l=new Hr(t,{cacheKeyFn:pl,...i}),c.set(u,l)}return l}function yl(e){const{fieldName:t,argsFromKeys:n,valuesFromResults:r,args:o}=e;return null!=n?function(o,i,s,a,c,u,l=(0,uo.xC)(s.returnType)){return function(e){const t=e.key;if(null==t)return null;if(Array.isArray(t)&&!t.length)return[];const n=ml(e);return Array.isArray(t)?n.loadMany(t):n.load(t)}({schema:a,operation:"query",fieldName:t,returnType:new uo.p2(l),key:u,argsFromKeys:n,valuesFromResults:r,selectionSet:c,context:i,info:s,skipTypeMerging:!0,dataLoaderOptions:e.dataLoaderOptions})}:null!=o?function(e,n,r,i,s,a,c=(0,uo.xC)(r.returnType)){return sl({schema:i,operation:"query",fieldName:t,returnType:c,args:o(e),selectionSet:s,context:n,info:r,skipTypeMerging:!0})}:void 0}function gl(e,t,n){const r=function(e,t){const n=Object.create(null);for(const r in e)if(e[r].length>1&&((0,uo.lp)(e[r][0].type)||(0,uo.oT)(e[r][0].type))){const o=e[r].filter((e=>null!=e.transformedSubschema&&null!=e.transformedSubschema.merge&&r in e.transformedSubschema.merge));if(!0===t||"function"===typeof t&&t(e[r],r)||Array.isArray(t)&&t.includes(r)||o.length){const t=[],o=new Map,i=Object.create({}),s=new Map,a=new Map,c=new Map;for(const n of e[r]){const e=n.transformedSubschema;if(null==e)continue;o.set(e,e.transformedSchema.getTypeMap());const u=e?.merge?.[r];if(null==u)continue;if(u.selectionSet){const t=Oc(u.selectionSet,{noLocation:!0});s.set(e,t)}if(u.fields){const t=Object.create(null);for(const e in u.fields)if(u.fields[e].selectionSet){const n=u.fields[e].selectionSet;t[e]=n?Oc(n,{noLocation:!0}):void 0}a.set(e,t)}const l=u.resolve??yl(u);if(null==l)continue;const f=u.key;c.set(e,f?function(e,t,n,r,o,i){return new Fs((()=>f(e))).then((s=>l(e,t,n,r,o,s,i))).resolve()}:l),t.push(e);const d=e.transformedSchema.getType(r).getFields(),h=s.get(e);for(const t in d){const n=d[t],r=(0,uo.xC)(n.type);h&&(0,uo.UT)(r)&&wl(h,t)||(t in i||(i[t]=[]),i[t].push(e))}}const u=e[r].map((e=>e?.transformedSubschema)).filter(Wa),l=new Map;for(const e of u){const n=t.filter((t=>t!==e));n.length&&l.set(e,n)}n[r]={typeName:r,targetSubschemas:l,typeMaps:o,selectionSets:s,fieldSelectionSets:a,uniqueFields:Object.create({}),nonUniqueFields:Object.create({}),resolvers:c},n[r].delegationPlanBuilder=xc(n[r]);for(const e in i)1===i[e].length?n[r].uniqueFields[e]=i[e][0]:n[r].nonUniqueFields[e]=i[e]}}return n}(t,n);return{subschemaMap:e,fieldNodesByType:Object.create(null),fieldNodesByField:Object.create(null),dynamicSelectionSetsByField:Object.create(null),mergedTypes:r}}function vl(e,t,n,r,o){if(o){bl(e,t,n,r,Oc("{ __typename }",{noLocation:!0}))}else bl(e,t,n,r)}function bl(e,t,n,r,o){if(null==e[t]){const i=void 0===o?[r]:[o,r];e[t]={[n]:i}}else if(null==e[t][n]){const i=void 0===o?[r]:[o,r];e[t][n]=i}else e[t][n].push(r)}function wl(e,t){return e.selections.some((e=>e.kind===lo.h.FIELD&&e.name.value===t))}function El(e,t){const n=t.getTypeMap(),r=[];for(const o in n){const t=n[o];if((0,uo.lp)(t)){t.getInterfaces().find((t=>t.name===e))&&r.push(t.name)}}return r}function _l(e,t={}){const{skipEmptyCompositeTypePruning:n,skipEmptyUnionPruning:r,skipPruning:o,skipUnimplementedInterfacesPruning:i,skipUnusedTypesPruning:s}=t;let a=[],c=e;do{let e=Tl(c);if(o){const t=[];for(const e in c.getTypeMap()){if(e.startsWith("__"))continue;const n=c.getType(e);n&&o(n)&&t.push(e)}e=Sl(t,c,e)}a=[],c=hc(c,{[uc.TYPE]:t=>{if(!e.has(t.name)&&!(0,co.u1)(t)){if((0,uo.EN)(t)||(0,uo.hL)(t)||(0,uo.oT)(t)||(0,uo.lp)(t)||(0,uo.KA)(t)){if(s)return t;if((0,uo.EN)(t)&&r&&!Object.keys(t.getTypes()).length)return t;if(((0,uo.hL)(t)||(0,uo.oT)(t)||(0,uo.lp)(t))&&n&&!Object.keys(t.getFields()).length)return t;if((0,uo.oT)(t)&&i)return t}return a.push(t.name),e.delete(t.name),null}return t}})}while(a.length);return c}function Tl(e){const t=[];for(const n of Lc(e))t.push(n.name);return Sl(t,e)}function Sl(e,t,n=new Set){const r=new Map;for(;e.length;){const o=e.pop();if(n.has(o)&&!0!==r[o])continue;const i=t.getType(o);if(i){if((0,uo.EN)(i)&&e.push(...i.getTypes().map((e=>e.name))),(0,uo.oT)(i)&&!0===r[o]&&(e.push(...El(i.name,t)),r[o]=!1),(0,uo.EM)(i)&&e.push(...i.getValues().flatMap((e=>e.astNode?Il(t,e.astNode):[]))),"getInterfaces"in i&&e.push(...i.getInterfaces().map((e=>e.name))),"getFields"in i){const n=i.getFields(),o=Object.entries(n);if(!o.length)continue;for(const[,s]of o){(0,uo.lp)(i)&&e.push(...s.args.flatMap((e=>{const n=[(0,uo.xC)(e.type).name];return e.astNode&&n.push(...Il(t,e.astNode)),n})));const n=(0,uo.xC)(s.type);e.push(n.name),s.astNode&&e.push(...Il(t,s.astNode)),(0,uo.oT)(n)&&!(n.name in r)&&(r[n.name]=!0)}}i.astNode&&e.push(...Il(t,i.astNode)),n.add(o)}}return n}function Il(e,t){return(t.directives??[]).flatMap((t=>e.getDirective(t.name.value)?.args.map((e=>(0,uo.xC)(e.type).name))??[]))}function Nl({schema:e,typeFilter:t=(()=>!0),fieldFilter:n,rootFieldFilter:r,objectFieldFilter:o,interfaceFieldFilter:i,inputObjectFieldFilter:s,argumentFilter:a}){return hc(e,{[uc.QUERY]:e=>Ol(e,"Query",r,a),[uc.MUTATION]:e=>Ol(e,"Mutation",r,a),[uc.SUBSCRIPTION]:e=>Ol(e,"Subscription",r,a),[uc.OBJECT_TYPE]:e=>t(e.name,e)?Al(uo.h6,e,o||n,a):null,[uc.INTERFACE_TYPE]:e=>t(e.name,e)?Al(uo.oW,e,i||n,a):null,[uc.INPUT_OBJECT_TYPE]:e=>t(e.name,e)?Al(uo.sR,e,s||n):null,[uc.UNION_TYPE]:e=>t(e.name,e)?void 0:null,[uc.ENUM_TYPE]:e=>t(e.name,e)?void 0:null,[uc.SCALAR_TYPE]:e=>t(e.name,e)?void 0:null})}function Ol(e,t,n,r){if(n||r){const o=e.toConfig();for(const e in o.fields){const i=o.fields[e];if(n&&!n(t,e,o.fields[e]))delete o.fields[e];else if(r&&i.args)for(const n in i.args)r(t,e,n,i.args[n])||delete i.args[n]}return new uo.h6(o)}return e}function Al(e,t,n,r){if(n||r){const o=t.toConfig();for(const e in o.fields){const i=o.fields[e];if(n&&!n(t.name,e,o.fields[e]))delete o.fields[e];else if(r&&"args"in i)for(const n in i.args)r(t.name,e,n,i.args[n])||delete i.args[n]}return new e(o)}}function xl(e,t,n){if(Array.isArray(e))return e.map((e=>xl(e,t,n)));if("object"===typeof e){const r=null!=t?t(e):e;if(null!=r)for(const e in r){const o=r[e];Object.defineProperty(r,e,{value:xl(o,t,n)})}return null!=n?n(r):r}return e}class kl{constructor(e,t,n,r){this.fieldTransformer=e,this.fieldNodeTransformer=t,this.dataTransformer=n,this.errorsTransformer=r,this.mapping={}}_getTypeInfo(){const e=this.typeInfo;if(void 0===e)throw new Error('The TransformCompositeFields transform\'s  "transformRequest" and "transformResult" methods cannot be used without first calling "transformSchema".');return e}transformSchema(e,t){return this.transformedSchema=hc(e,{[uc.COMPOSITE_FIELD]:(e,t,n)=>{const r=this.fieldTransformer(n,t,e);if(Array.isArray(r)){const e=r[0];e!==t&&(n in this.mapping||(this.mapping[n]={}),this.mapping[n][e]=t)}return r}}),this.typeInfo=new zu.a(this.transformedSchema),this.subscriptionTypeName=e.getSubscriptionType()?.name,this.transformedSchema}transformRequest(e,t,n){const r=e.document;return{...e,document:this.transformDocument(r,n)}}transformResult(e,t,n){const r=this.dataTransformer;return null!=r&&(e.data=xl(e.data,(e=>r(e,n)))),null!=this.errorsTransformer&&Array.isArray(e.errors)&&(e.errors=this.errorsTransformer(e.errors,n)),e}transformDocument(e,t){const n=Object.create(null);for(const r of e.definitions)r.kind===lo.h.FRAGMENT_DEFINITION&&(n[r.name.value]=r);return(0,Js.Vn)(e,(0,zu.y)(this._getTypeInfo(),{[lo.h.SELECTION_SET]:{leave:e=>this.transformSelectionSet(e,this._getTypeInfo(),n,t)}}))}transformSelectionSet(e,t,n,r){const o=t.getParentType();if(null==o)return;const i=o.name;let s=[],a=e.selections.some((e=>e.kind===lo.h.FIELD&&"__typename"===e.name.value));for(const c of e.selections){if(c.kind!==lo.h.FIELD||"__typename"===c.name.value){s.push(c);continue}const e=c.name.value;let t;if(a||null==this.dataTransformer&&null==this.errorsTransformer||null!=this.subscriptionTypeName&&i===this.subscriptionTypeName||(s.push({kind:lo.h.FIELD,name:{kind:lo.h.NAME,value:"__typename"}}),a=!0),null==this.fieldNodeTransformer?t=c:(t=this.fieldNodeTransformer(i,e,c,n,r),t=void 0===t?c:t),null==t)continue;if(Array.isArray(t)){s=s.concat(t);continue}if(t.kind!==lo.h.FIELD){s.push(t);continue}if(null==this.mapping[i]){s.push(t);continue}const o=this.mapping[i][e];null!=o?s.push({...t,name:{kind:lo.h.NAME,value:o},alias:{kind:lo.h.NAME,value:t.alias?.value??e}}):s.push(t)}return{...e,selections:s}}}function $l(e,t){const n=e.schema,r={},o=_l(Nl({schema:n,objectFieldFilter:(e,n)=>!t[e]?.fields?.[n],interfaceFieldFilter:(e,o)=>(r[e]||(r[e]=El(e,n)),!r[e].some((e=>t[e]?.fields?.[o])))})),i={};for(const u in o.getTypeMap()){const e=o.getType(u);if((0,uo.lp)(e)||(0,uo.oT)(e)){i[u]={__typename:!0};const t=e.getFields();for(const e in t)i[u][e]=!0}}const s={...e,merge:e.merge?{...e.merge}:void 0,transforms:(e.transforms??[]).concat([new kl(((e,t)=>i[e]?.[t]?void 0:null),((e,t)=>i[e]?.[t]?void 0:null))])},a=o.getTypeMap(),c=s.merge;if(c){for(const e in c)a[e]||delete c[e];Object.keys(c).length||delete s.merge}return s}function Cl(e){const t={};for(const i in e.merge){const n=e.merge[i],r=n.entryPoints??[n];for(const e of r)null!=e.fieldName&&(t[e.fieldName]=!0)}const n={};for(const i in e.merge){const t=e.schema.getType(i);if(!t||!("getInterfaces"in t))throw new Error(`${i} expected to have 'getInterfaces' method`);for(const r of t.getInterfaces()){const t=e.schema.getType(r.name);if(!t||!("getFields"in t))throw new Error(`${r.name} expected to have 'getFields' method`);for(const o in t.getFields())e.merge[i].fields?.[o]&&(n[r.name]=n[r.name]||{},n[r.name][o]=!0)}}const r=_l(Nl({schema:e.schema,rootFieldFilter:(e,n)=>"Query"===e&&null!=t[n],objectFieldFilter:(t,n)=>null==e.merge[t]||null!=e.merge[t].fields?.[n],interfaceFieldFilter:(e,t)=>null!=n[e]?.[t]})),o={};for(const i in r.getTypeMap()){const e=r.getType(i);if((0,uo.lp)(e)||(0,uo.oT)(e)){o[i]={__typename:!0};const t=e.getFields();for(const e in t)o[i][e]=!0}}return{...e,transforms:(e.transforms??[]).concat([new kl(((e,t)=>o[e]?.[t]?void 0:null),((e,t)=>o[e]?.[t]?void 0:null))])}}var Rl=n(5844),Dl=n(4635);let Pl={};function jl(){Pl={}}function Ml(e){const t=e.name?.value;if(null!=t)switch(Ll(e,t),e.kind){case"EnumTypeDefinition":if(e.values)for(const n of e.values)Ll(n,t,n.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields)for(const n of e.fields)if(Ll(n,t,n.name.value),Jl(n)&&n.arguments)for(const e of n.arguments)Ll(e,t,n.name.value,e.name.value)}}function Ll(e,t,n,r){const o=Ql(e);if("string"!==typeof o||0===o.length)return;const i=[t];n&&(i.push(n),r&&i.push(r));const s=i.join(".");Pl[s]||(Pl[s]=[]),Pl[s].push(o)}function Fl(e){return"\n# "+e.replace(/\n/g,"\n# ")}function Ul(e,t){return e?e.filter((e=>e)).join(t||""):""}function Bl(e){return e?.some((e=>e.includes("\n")))??!1}function Vl(e){return e&&`  ${e.replace(/\n/g,"\n  ")}`}function ql(e){return e&&0!==e.length?`{\n${Vl(Ul(e,"\n"))}\n}`:""}function zl(e,t,n){return t?e+t+(n||""):""}const Gl={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Ul(e.definitions,"\n\n")},OperationDefinition:{leave:e=>{const t=zl("(",Ul(e.variableDefinitions,", "),")");return Ul([e.operation,Ul([e.name,t]),Ul(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+zl(" = ",n)+zl(" ",Ul(r," "))},SelectionSet:{leave:({selections:e})=>ql(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:o}){const i=zl("",e,": ")+t;let s=i+zl("(",Ul(n,", "),")");return s.length>80&&(s=i+zl("(\n",Vl(Ul(n,"\n")),"\n)")),Ul([s,Ul(r," "),o]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+zl(" ",Ul(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Ul(["...",zl("on ",e),Ul(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:o})=>`fragment ${e}${zl("(",Ul(n,", "),")")} on ${t} ${zl("",Ul(r," ")," ")}`+o},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t=!1){const n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?`"""\n${t?n:Vl(n)}\n"""`:`"""${n.replace(/"$/,'"\n')}"""`}(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Ul(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Ul(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+zl("(",Ul(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>Ul(["schema",Ul(e," "),ql(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>Ul(["scalar",e,Ul(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ul(["type",e,zl("implements ",Ul(t," & ")),Ul(n," "),ql(r)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:n,directives:r})=>e+(Bl(t)?zl("(\n",Vl(Ul(t,"\n")),"\n)"):zl("(",Ul(t,", "),")"))+": "+n+zl(" ",Ul(r," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:n,directives:r})=>Ul([e+": "+t,zl("= ",n),Ul(r," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ul(["interface",e,zl("implements ",Ul(t," & ")),Ul(n," "),ql(r)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:n})=>Ul(["union",e,Ul(t," "),zl("= ",Ul(n," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:n})=>Ul(["enum",e,Ul(t," "),ql(n)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>Ul([e,Ul(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:n})=>Ul(["input",e,Ul(t," "),ql(n)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:n,locations:r})=>"directive @"+e+(Bl(t)?zl("(\n",Vl(Ul(t,"\n")),"\n)"):zl("(",Ul(t,", "),")"))+(n?" repeatable":"")+" on "+Ul(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Ul(["extend schema",Ul(e," "),ql(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Ul(["extend scalar",e,Ul(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ul(["extend type",e,zl("implements ",Ul(t," & ")),Ul(n," "),ql(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ul(["extend interface",e,zl("implements ",Ul(t," & ")),Ul(n," "),ql(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Ul(["extend union",e,Ul(t," "),zl("= ",Ul(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Ul(["extend enum",e,Ul(t," "),ql(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Ul(["extend input",e,Ul(t," "),ql(n)]," ")}},Kl=Object.keys(Gl).reduce(((e,t)=>{return{...e,[t]:{leave:(n=Gl[t].leave,(e,t,r,o,i)=>{const s=[],a=o.reduce(((e,t)=>(["fields","arguments","values"].includes(t)&&e.name&&s.push(e.name.value),e[t])),i[0]),c=[...s,a?.name?.value].filter(Boolean).join("."),u=[];return e.kind.includes("Definition")&&Pl[c]&&u.push(...Pl[c]),Ul([...u.map(Fl),e.description,n(e,t,r,o,i)],"\n")})}};var n}),{});function Jl(e){return"FieldDefinition"===e.kind}function Hl(e,t){return null!=e.description?e.description.value:t?.commentDescriptions?Ql(e):void 0}function Ql(e){const t=function(e){const t=e.loc;if(!t)return;const n=[];let r=t.startToken.prev;for(;null!=r&&r.kind===Dl.T.COMMENT&&null!=r.next&&null!=r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){const e=String(r.value);n.push(e),r=r.prev}return n.length>0?n.reverse().join("\n"):void 0}(e);if(void 0!==t)return function(e){const t=e.split(/\r\n|[\n\r]/g),n=function(e){let t=null;for(let n=1;n<e.length;n++){const r=e[n],o=Wl(r);if(o!==r.length&&((null===t||o<t)&&(t=o,0===t)))break}return null===t?0:t}(t);if(0!==n)for(let r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&Yl(t[0]);)t.shift();for(;t.length>0&&Yl(t[t.length-1]);)t.pop();return t.join("\n")}(`\n${t}`)}function Wl(e){let t=0;for(;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function Yl(e){return Wl(e)===e.length}function Xl(e){if(null===e)return{kind:lo.h.NULL};if(void 0===e)return null;if(Array.isArray(e)){const t=[];for(const n of e){const e=Xl(n);null!=e&&t.push(e)}return{kind:lo.h.LIST,values:t}}if("object"===typeof e){const t=[];for(const n in e){const r=Xl(e[n]);r&&t.push({kind:lo.h.OBJECT_FIELD,name:{kind:lo.h.NAME,value:n},value:r})}return{kind:lo.h.OBJECT,fields:t}}if("boolean"===typeof e)return{kind:lo.h.BOOLEAN,value:e};if("bigint"===typeof e)return{kind:lo.h.INT,value:String(e)};if("number"===typeof e&&isFinite(e)){const t=String(e);return Zl.test(t)?{kind:lo.h.INT,value:t}:{kind:lo.h.FLOAT,value:t}}if("string"===typeof e)return{kind:lo.h.STRING,value:e};throw new TypeError(`Cannot convert value to AST: ${e}.`)}const Zl=/^-?(?:0|[1-9][0-9]*)$/;function ef(e,t){if((0,uo.zM)(t)){const n=ef(e,t.ofType);return n?.kind===lo.h.NULL?null:n}if(null===e)return{kind:lo.h.NULL};if(void 0===e)return null;if((0,uo.HG)(t)){const n=t.ofType;if(pa(e)){const t=[];for(const r of e){const e=ef(r,n);null!=e&&t.push(e)}return{kind:lo.h.LIST,values:t}}return ef(e,n)}if((0,uo.hL)(t)){if(!ma(e))return null;const n=[];for(const r of Object.values(t.getFields())){const t=ef(e[r.name],r.type);t&&n.push({kind:lo.h.OBJECT_FIELD,name:{kind:lo.h.NAME,value:r.name},value:t})}return{kind:lo.h.OBJECT,fields:n}}if((0,uo.UT)(t)){const n=t.serialize(e);return null==n?null:(0,uo.EM)(t)?{kind:lo.h.ENUM,value:n}:"ID"===t.name&&"string"===typeof n&&tf.test(n)?{kind:lo.h.INT,value:n}:Xl(n)}console.assert(!1,"Unexpected input type: "+qc(t))}const tf=/^-?(?:0|[1-9][0-9]*)$/;function nf(e,t=["directives"]){return t.reduce(((e,t)=>null==e?e:e[t]),e?.extensions)}function rf(e,t={}){const n=t.pathToDirectivesInExtensions,r=e.getTypeMap(),o=function(e,t){const n=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),r=[];null!=e.astNode&&r.push(e.astNode);if(null!=e.extensionASTNodes)for(const c of e.extensionASTNodes)r.push(c);for(const c of r)if(c.operationTypes)for(const e of c.operationTypes)n.set(e.operation,e);const o=Fc(e);for(const[c,u]of n){const e=o.get(c);if(null!=e){const t=Pu(e);null!=u?u.type=t:n.set(c,{kind:lo.h.OPERATION_TYPE_DEFINITION,operation:c,type:t})}}const i=[...n.values()].filter(Wa),s=sf(e,e,t);if(!i.length&&!s.length)return null;const a={kind:null!=i?lo.h.SCHEMA_DEFINITION:lo.h.SCHEMA_EXTENSION,operationTypes:i,directives:s};return a.description=e.astNode?.description??null!=e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0,a}(e,n),i=null!=o?[o]:[],s=e.getDirectives();for(const a of s)(0,ua.xg)(a)||i.push(of(a,e,n));for(const a in r){const t=r[a],o=(0,co.u1)(t),s=(0,Pc.s9)(t);if(!o&&!s)if((0,uo.lp)(t))i.push(uf(t,e,n));else if((0,uo.oT)(t))i.push(lf(t,e,n));else if((0,uo.EN)(t))i.push(ff(t,e,n));else if((0,uo.hL)(t))i.push(df(t,e,n));else if((0,uo.EM)(t))i.push(hf(t,e,n));else{if(!(0,uo.KA)(t))throw new Error(`Unknown type ${t}.`);i.push(pf(t,e,n))}}return{kind:lo.h.DOCUMENT,definitions:i}}function of(e,t,n){return{kind:lo.h.DIRECTIVE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description}:void 0),name:{kind:lo.h.NAME,value:e.name},arguments:e.args?.map((e=>cf(e,t,n))),repeatable:e.isRepeatable,locations:e.locations?.map((e=>({kind:lo.h.NAME,value:e})))||[]}}function sf(e,t,n){const r=nf(e,n);let o,i=[];if(null!=e.astNode&&i.push(e.astNode),"extensionASTNodes"in e&&null!=e.extensionASTNodes&&(i=i.concat(e.extensionASTNodes)),null!=r)o=gf(t,r);else{o=[];for(const e of i)e.directives&&o.push(...e.directives)}return o}function af(e,t,n){let r=[],o=null;const i=nf(e,n);let s;return s=null!=i?gf(t,i):e.astNode?.directives,null!=s&&(r=s.filter((e=>"deprecated"!==e.name.value)),null!=e.deprecationReason&&(o=s.filter((e=>"deprecated"===e.name.value))?.[0])),null!=e.deprecationReason&&null==o&&(o=yf("deprecated",{reason:e.deprecationReason},ua.fg)),null==o?r:[o].concat(r)}function cf(e,t,n){return{kind:lo.h.INPUT_VALUE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},type:Pu(e.type),defaultValue:void 0!==e.defaultValue?ef(e.defaultValue,e.type)??void 0:void 0,directives:af(e,t,n)}}function uf(e,t,n){return{kind:lo.h.OBJECT_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>mf(e,t,n))),interfaces:Object.values(e.getInterfaces()).map((e=>Pu(e))),directives:sf(e,t,n)}}function lf(e,t,n){const r={kind:lo.h.INTERFACE_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>mf(e,t,n))),directives:sf(e,t,n)};return"getInterfaces"in e&&(r.interfaces=Object.values(e.getInterfaces()).map((e=>Pu(e)))),r}function ff(e,t,n){return{kind:lo.h.UNION_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},directives:sf(e,t,n),types:e.getTypes().map((e=>Pu(e)))}}function df(e,t,n){return{kind:lo.h.INPUT_OBJECT_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>function(e,t,n){return{kind:lo.h.INPUT_VALUE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},type:Pu(e.type),directives:af(e,t,n),defaultValue:ef(e.defaultValue,e.type)??void 0}}(e,t,n))),directives:sf(e,t,n)}}function hf(e,t,n){return{kind:lo.h.ENUM_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},values:Object.values(e.getValues()).map((e=>function(e,t,n){return{kind:lo.h.ENUM_VALUE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},directives:af(e,t,n)}}(e,t,n))),directives:sf(e,t,n)}}function pf(e,t,n){const r=nf(e,n),o=r?gf(t,r):e.astNode?.directives||[],i=e.specifiedByUrl||e.specifiedByURL;if(i&&!o.some((e=>"specifiedBy"===e.name.value))){const e={url:i};o.push(yf("specifiedBy",e))}return{kind:lo.h.SCALAR_TYPE_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},directives:o}}function mf(e,t,n){return{kind:lo.h.FIELD_DEFINITION,description:e.astNode?.description??(e.description?{kind:lo.h.STRING,value:e.description,block:!0}:void 0),name:{kind:lo.h.NAME,value:e.name},arguments:e.args.map((e=>cf(e,t,n))),type:Pu(e.type),directives:af(e,t,n)}}function yf(e,t,n){const r=[];if(null!=n)for(const o of n.args){const e=o.name,n=t[e];if(void 0!==n){const t=ef(n,o.type);t&&r.push({kind:lo.h.ARGUMENT,name:{kind:lo.h.NAME,value:e},value:t})}}else for(const o in t){const e=Xl(t[o]);e&&r.push({kind:lo.h.ARGUMENT,name:{kind:lo.h.NAME,value:o},value:e})}return{kind:lo.h.DIRECTIVE,name:{kind:lo.h.NAME,value:e},arguments:r}}function gf(e,t){const n=[];for(const r in t){const o=t[r],i=e?.getDirective(r);if(Array.isArray(o))for(const e of o)n.push(yf(r,e,i));else n.push(yf(r,o,i))}return n}function vf(e,t){return!!e.find((e=>e.name.value===t.name.value))}function bf(e,t){return!!t?.[e.name.value]?.repeatable}function wf(e,t){const n=[...t];for(const r of e){const e=n.findIndex((e=>e.name.value===r.name.value));if(e>-1){const t=n[e];if("ListValue"===t.value.kind){const e=t.value.values,n=r.value.values;t.value.values=Tf(e,n,((e,t)=>{const n=e.value;return!n||!t.some((e=>e.value===n))}))}else t.value=r.value}else n.push(r)}return n}function Ef(e=[],t=[],n,r){const o=n&&n.reverseDirectives,i=o?t:e,s=function(e,t){return e.map(((e,n,r)=>{const o=r.findIndex((t=>t.name.value===e.name.value));if(o!==n&&!bf(e,t)){const t=r[o];return e.arguments=wf(e.arguments,t.arguments),null}return e})).filter(Wa)}([...o?e:t],r);for(const a of i)if(vf(s,a)&&!bf(a,r)){const e=s.findIndex((e=>e.name.value===a.name.value)),t=s[e];s[e].arguments=wf(a.arguments||[],t.arguments||[])}else s.push(a);return s}function _f(e,t){return t?(function(e,t){const n=(0,Nc.S)({...e,description:void 0}),r=(0,Nc.S)({...t,description:void 0}),o=new RegExp("(directive @w*d*)|( on .*$)","g");if(n.replace(o,"")!==r.replace(o,""))throw new Error(`Unable to merge GraphQL directive "${e.name.value}". \nExisting directive:  \n\t${r} \nReceived directive: \n\t${n}`)}(e,t),{...e,locations:[...t.locations,...e.locations.filter((e=>!function(e,t){return t.some((({value:t})=>t===e.value))}(e,t.locations)))]}):e}function Tf(e,t,n){return e.concat(t.filter((t=>n(t,e))))}function Sf(e,t,n,r){if(n?.consistentEnumMerge){const n=[];e&&n.push(...e),e=t,t=n}const o=new Map;if(e)for(const s of e)o.set(s.name.value,s);if(t)for(const s of t){const e=s.name.value;if(o.has(e)){const t=o.get(e);t.description=s.description||t.description,t.directives=Ef(s.directives,t.directives,r)}else o.set(e,s)}const i=[...o.values()];return n&&n.sort&&i.sort(Qa),i}function If(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"EnumTypeDefinition"===e.kind||"EnumTypeDefinition"===t.kind?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:Ef(e.directives,t.directives,n,r),values:Sf(e.values,t.values,n)}:n?.convertExtensions?{...e,kind:lo.h.ENUM_TYPE_DEFINITION}:e}function Nf(e,t,n){const r=function(e,t){return e.reduce(((e,n)=>{const r=e.findIndex((e=>e.name.value===n.name.value));return-1===r?e.concat([n]):(t?.reverseArguments||(e[r]=n),e)}),[])}([...t,...e].filter(Wa),n);return n&&n.sort&&r.sort(Qa),r}var Of,Af=n(7926);function xf(e){let t=e;for(;t.kind===lo.h.LIST_TYPE||"NonNullType"===t.kind;)t=t.type;return t}function kf(e){return e.kind!==lo.h.NAMED_TYPE}function $f(e){return e.kind===lo.h.LIST_TYPE}function Cf(e){return e.kind===lo.h.NON_NULL_TYPE}function Rf(e){return $f(e)?`[${Rf(e.type)}]`:Cf(e)?`${Rf(e.type)}!`:e.name.value}function Df(e,t){return null==e&&null==t?Of.A_EQUALS_B:null==e?Of.A_SMALLER_THAN_B:null==t?Of.A_GREATER_THAN_B:e<t?Of.A_SMALLER_THAN_B:e>t?Of.A_GREATER_THAN_B:Of.A_EQUALS_B}function Pf(e,t){const n=e.findIndex((e=>e.name.value===t.name.value));return[n>-1?e[n]:null,n]}function jf(e,t,n,r,o){const i=[];if(null!=n&&i.push(...n),null!=t)for(const s of t){const[t,n]=Pf(i,s);if(t&&!r?.ignoreFieldConflicts){const a=r?.onFieldTypeConflict&&r.onFieldTypeConflict(t,s,e,r?.throwOnConflict)||Mf(e,t,s,r?.throwOnConflict);a.arguments=Nf(s.arguments||[],t.arguments||[],r),a.directives=Ef(s.directives,t.directives,r,o),a.description=s.description||t.description,i[n]=a}else i.push(s)}if(r&&r.sort&&i.sort(Qa),r&&r.exclusions){const t=r.exclusions;return i.filter((n=>!t.includes(`${e.name.value}.${n.name.value}`)))}return i}function Mf(e,t,n,r=!1){const o=Rf(t.type),i=Rf(n.type);if(o!==i){const s=xf(t.type),a=xf(n.type);if(s.name.value!==a.name.value)throw new Error(`Field "${n.name.value}" already defined with a different type. Declared as "${s.name.value}", but you tried to override with "${a.name.value}"`);if(!Lf(t.type,n.type,!r))throw new Error(`Field '${e.name.value}.${t.name.value}' changed type from '${o}' to '${i}'`)}return Cf(n.type)&&!Cf(t.type)&&(t.type=n.type),t}function Lf(e,t,n=!1){if(!kf(e)&&!kf(t))return e.toString()===t.toString();if(Cf(t)){return Lf(Cf(e)?e.type:e,t.type)}return Cf(e)?Lf(t,e,n):!!$f(e)&&($f(t)&&Lf(e.type,t.type)||Cf(t)&&Lf(e,t.type))}function Ff(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"InputObjectTypeDefinition"===e.kind||"InputObjectTypeDefinition"===t.kind?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:jf(e,e.fields,t.fields,n),directives:Ef(e.directives,t.directives,n,r)}}catch(o){throw new Error(`Unable to merge GraphQL input type "${e.name.value}": ${o.message}`)}return n?.convertExtensions?{...e,kind:lo.h.INPUT_OBJECT_TYPE_DEFINITION}:e}function Uf(e=[],t=[],n={}){const r=[...t,...e.filter((e=>{return n=e,!t.find((e=>e.name.value===n.name.value));var n}))];return n&&n.sort&&r.sort(Qa),r}function Bf(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"InterfaceTypeDefinition"===e.kind||"InterfaceTypeDefinition"===t.kind?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:jf(e,e.fields,t.fields,n),directives:Ef(e.directives,t.directives,n,r),interfaces:e.interfaces?Uf(e.interfaces,t.interfaces,n):void 0}}catch(o){throw new Error(`Unable to merge GraphQL interface "${e.name.value}": ${o.message}`)}return n?.convertExtensions?{...e,kind:lo.h.INTERFACE_TYPE_DEFINITION}:e}function Vf(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"ScalarTypeDefinition"===e.kind||"ScalarTypeDefinition"===t.kind?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:Ef(e.directives,t.directives,n,r)}:n?.convertExtensions?{...e,kind:lo.h.SCALAR_TYPE_DEFINITION}:e}!function(e){e[e.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",e[e.A_EQUALS_B=0]="A_EQUALS_B",e[e.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"}(Of||(Of={}));const qf={query:"Query",mutation:"Mutation",subscription:"Subscription"};function zf(e=[],t=[]){const n=[];for(const r in qf){const o=e.find((e=>e.operation===r))||t.find((e=>e.operation===r));o&&n.push(o)}return n}function Gf(e,t,n,r){return t?{kind:e.kind===lo.h.SCHEMA_DEFINITION||t.kind===lo.h.SCHEMA_DEFINITION?lo.h.SCHEMA_DEFINITION:lo.h.SCHEMA_EXTENSION,description:e.description||t.description,directives:Ef(e.directives,t.directives,n,r),operationTypes:zf(e.operationTypes,t.operationTypes)}:n?.convertExtensions?{...e,kind:lo.h.SCHEMA_DEFINITION}:e}function Kf(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n?.convertExtensions||"ObjectTypeDefinition"===e.kind||"ObjectTypeDefinition"===t.kind?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:jf(e,e.fields,t.fields,n),directives:Ef(e.directives,t.directives,n,r),interfaces:Uf(e.interfaces,t.interfaces,n)}}catch(o){throw new Error(`Unable to merge GraphQL type "${e.name.value}": ${o.message}`)}return n?.convertExtensions?{...e,kind:lo.h.OBJECT_TYPE_DEFINITION}:e}function Jf(e,t,n,r){return t?{name:e.name,description:e.description||t.description,directives:Ef(e.directives,t.directives,n,r),kind:n?.convertExtensions||"UnionTypeDefinition"===e.kind||"UnionTypeDefinition"===t.kind?lo.h.UNION_TYPE_DEFINITION:lo.h.UNION_TYPE_EXTENSION,loc:e.loc,types:Uf(e.types,t.types,n)}:n?.convertExtensions?{...e,kind:lo.h.UNION_TYPE_DEFINITION}:e}const Hf="SCHEMA_DEF_SYMBOL";function Qf(e,t,n={}){const r=n;for(const o of e)if("name"in o){const e=o.name?.value;if(t?.commentDescriptions&&Ml(o),null==e)continue;if(t?.exclusions?.includes(e+".*")||t?.exclusions?.includes(e))delete r[e];else switch(o.kind){case lo.h.OBJECT_TYPE_DEFINITION:case lo.h.OBJECT_TYPE_EXTENSION:r[e]=Kf(o,r[e],t,n);break;case lo.h.ENUM_TYPE_DEFINITION:case lo.h.ENUM_TYPE_EXTENSION:r[e]=If(o,r[e],t,n);break;case lo.h.UNION_TYPE_DEFINITION:case lo.h.UNION_TYPE_EXTENSION:r[e]=Jf(o,r[e],t,n);break;case lo.h.SCALAR_TYPE_DEFINITION:case lo.h.SCALAR_TYPE_EXTENSION:r[e]=Vf(o,r[e],t,n);break;case lo.h.INPUT_OBJECT_TYPE_DEFINITION:case lo.h.INPUT_OBJECT_TYPE_EXTENSION:r[e]=Ff(o,r[e],t,n);break;case lo.h.INTERFACE_TYPE_DEFINITION:case lo.h.INTERFACE_TYPE_EXTENSION:r[e]=Bf(o,r[e],t,n);break;case lo.h.DIRECTIVE_DEFINITION:r[e]=_f(o,r[e])}}else o.kind!==lo.h.SCHEMA_DEFINITION&&o.kind!==lo.h.SCHEMA_EXTENSION||(r[Hf]=Gf(o,r[Hf],t));return r}function Wf(e,t){jl();const n={kind:lo.h.DOCUMENT,definitions:Xf(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};let r;var o;return t?.commentDescriptions?(o=n,r=(0,Js.Vn)(o,Kl)):r=n,jl(),r}function Yf(e,t,n=[],r=[],o=new Set){if(e&&!o.has(e))if(o.add(e),"function"===typeof e)Yf(e(),t,n,r,o);else if(Array.isArray(e))for(const s of e)Yf(s,t,n,r,o);else if((0,os.nN)(e)){Yf(rf(e,t).definitions,t,n,r,o)}else if("string"===typeof e||function(e){return e instanceof Af.H}(e)){Yf((0,ao.Qc)(e,t).definitions,t,n,r,o)}else if("object"===typeof e&&(0,Rl.Ir)(e))e.kind===lo.h.DIRECTIVE_DEFINITION?n.push(e):r.push(e);else{if(!(i=e)||"object"!==typeof i||!("kind"in i)||i.kind!==lo.h.DOCUMENT)throw new Error("typeDefs must contain only strings, documents, schemas, or functions, got "+typeof e);Yf(e.definitions,t,n,r,o)}var i;return{allDirectives:n,allNodes:r}}function Xf(e,t){jl();const{allDirectives:n,allNodes:r}=Yf(e,t),o=Qf(n,t),i=Qf(r,t,o);if(t?.useSchemaDefinition){const e=i[Hf]||{kind:lo.h.SCHEMA_DEFINITION,operationTypes:[]},t=e.operationTypes;for(const n in qf){if(!t.find((e=>e.operation===n))){const e=i[qf[n]];null!=e&&null!=e.name&&t.push({kind:lo.h.OPERATION_TYPE_DEFINITION,type:{kind:lo.h.NAMED_TYPE,name:e.name},operation:n})}}null!=e?.operationTypes?.length&&e.operationTypes.length>0&&(i[Hf]=e)}t?.forceSchemaDefinition&&!i[Hf]?.operationTypes?.length&&(i[Hf]={kind:lo.h.SCHEMA_DEFINITION,operationTypes:[{kind:lo.h.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:lo.h.NAMED_TYPE,name:{kind:lo.h.NAME,value:"Query"}}}]});const s=Object.values(i);if(t?.sort){const e="function"===typeof t.sort?t.sort:Df;s.sort(((t,n)=>e(t.name?.value,n.name?.value)))}return s}function Zf(e){return e}function ed(e,t){return function(n,r,o,i){if(null!=n){const t=fa(i);if(Ra(n)){const r=Pa(n),s=Da(n,t);if(e===s&&void 0!==n[t])return Ba(n[t],r,s,o,i)}}return t(n,r,o,i)}}function td({subschemaConfig:e,operation:t}){return function(n,r,o,i){return sl({schema:e,operation:t,context:o,info:i})}}const nd=Bs((function(e){const t=function(e,t){return hc(e,{[uc.ROOT_FIELD]:(e,n,r)=>({...e,...t[r]?.[n]}),[uc.OBJECT_FIELD]:e=>({...e,resolve:qa,subscribe:void 0}),[uc.OBJECT_TYPE]:e=>{const t=e.toConfig();return new uo.h6({...t,isTypeOf:void 0})},[uc.INTERFACE_TYPE]:e=>{const t=e.toConfig();return new uo.oW({...t,resolveType:void 0})},[uc.UNION_TYPE]:e=>{const t=e.toConfig();return new uo.Gp({...t,resolveType:void 0})},[uc.ENUM_VALUE]:e=>({...e,value:void 0})})}(e.schema,function(e){const t=e.schema,n=e.createProxyingResolver??td,r=Fc(t),o={};for(const[i,s]of r.entries()){const t=s.name,r=s.getFields();o[t]={};for(const s in r){const r=ed(e,n({subschemaConfig:e,operation:i,fieldName:s}));o[t][s]="subscription"===i?{subscribe:r,resolve:Zf}:{resolve:r}}}return o}(e));return Ka(t,e)}));var rd;function od(e,t,n){const r=`${t[0].type.name}.${t[0].fieldName}`,o=t.map((e=>e.inputFieldConfig)),i=(0,uo.xC)(e.type),s=(0,uo.zM)(e.type);id(e,o,"input field",r,n),ud(r,n).strictNullComparison&&t.some((e=>s!==(0,uo.zM)(e.inputFieldConfig.type)))?cd(`Nullability of input field "${r}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,r,n):!s&&t.some((e=>(0,uo.zM)(e.inputFieldConfig.type)))&&cd(`Canonical definition of input field "${r}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,r,n),(0,uo.EM)(i)&&ad(i,o,n)}function id(e,t,n,r,o){const i=(0,uo.xC)(e.type),s=(0,uo.KA)(i),a=sd(e.type);for(const c of t){if(a!==sd(c.type))throw new Error(`Definitions of ${n} "${r}" implement inconsistent list types across subschemas and cannot be merged.`);const e=(0,uo.xC)(c.type);if(i.toString()!==e.toString()){const t=!!o?.validationSettings?.proxiableScalars?.[i.toString()]?.includes(e.toString()),a=s&&(0,uo.KA)(e),c=t&&a;if(t&&!a)throw new Error(`Types ${i} and ${e} are not proxiable scalars.`);c||cd(`Definitions of ${n} "${r}" implement inconsistent named types across subschemas. This will be an automatic error in future versions.`,r,o)}}}function sd(e){return(0,uo.HG)((0,uo.tf)(e))}function ad(e,t,n){const r=Object.create(null);for(const o of t){const e=(0,uo.xC)(o.type);if((0,uo.EM)(e))for(const{value:t}of e.getValues())r[t]=r[t]||0,r[t]+=1}Object.values(r).some((e=>t.length!==e))&&cd(`Enum "${e.name}" is used as an input with inconsistent values across subschemas. This will be an automatic error in future versions.`,e.name,n)}function cd(e,t,n){const r=`typeMergingOptions.validationScopes['${t}'].validationLevel`;switch(ud(t,n).validationLevel??rd.Warn){case rd.Off:return;case rd.Error:throw new Error(`${e} If this is intentional, you may disable this error by setting ${r} = "warn|off"`);default:console.warn(`${e} To disable this warning or elevate it to an error, set ${r} = "error|off"`)}}function ud(e,t){return{...t?.validationSettings??{},...t?.validationScopes?.[e]??{}}}function ld(e,t,n){const r=t[0].type;if(t.some((e=>e.type.constructor!==r.constructor)))throw new Error(`Cannot merge different type categories into common type ${e}.`);if((0,uo.lp)(r))return function(e,t,n){const r=md(t=hd(t,n),n),o=gd(t,n),i=t.map((e=>e.type.toConfig())).map((e=>e.interfaces)).reduce(((e,t)=>{if(null!=t)for(const n of t)e[n.name]=n;return e}),Object.create(null)),s=Object.values(i),a=fd("astNode",t),c=Ed(t).map((e=>o[e]?.astNode)).filter((e=>null!=e));a.length>1&&c.length&&a.push({...a[a.length-1],fields:JSON.parse(JSON.stringify(c))});const u=a.slice(1).reduce(((e,t)=>Kf(t,e,{ignoreFieldConflicts:!0})),a[0]),l=fd("extensionASTNodes",t),f=Object.assign({},...fd("extensions",t)),d={name:e,description:r,fields:o,interfaces:s,astNode:u,extensionASTNodes:l,extensions:f};return new uo.h6(d)}(e,t,n);if((0,uo.hL)(r))return function(e,t,n){const r=md(t=hd(t,n),n),o=function(e,t){const n=Object.create(null),r=Object.create(null);for(const i of e){const e=i.type.toConfig().fields;for(const t in e){const o=e[t];r[t]=r[t]||0,r[t]+=1;const s={inputFieldConfig:o,fieldName:t,type:i.type,subschema:i.subschema,transformedSubschema:i.transformedSubschema};t in n?n[t].push(s):n[t]=[s]}}!function(e,t,n){for(const r in e){const o=e[r];if(t.length!==o){const e=`${t[0].type.name}.${r}`;cd(`Definition of input field "${e}" is not implemented by all subschemas. Input may be filtered from some requests.`,e,n)}}}(r,e,t);const o=Object.create(null);for(const i in n){const e=t?.inputFieldConfigMerger??wd;o[i]=e(n[i]),od(o[i],n[i],t)}return o}(t,n),i=fd("astNode",t),s=Ed(t).map((e=>o[e]?.astNode)).filter((e=>null!=e));i.length>1&&s.length&&i.push({...i[i.length-1],fields:JSON.parse(JSON.stringify(s))});const a=i.slice(1).reduce(((e,t)=>Ff(t,e,{ignoreFieldConflicts:!0})),i[0]),c=fd("extensionASTNodes",t),u=Object.assign({},...fd("extensions",t)),l={name:e,description:r,fields:o,astNode:a,extensionASTNodes:c,extensions:u};return new uo.sR(l)}(e,t,n);if((0,uo.oT)(r))return function(e,t,n){const r=md(t=hd(t,n),n),o=gd(t,n),i=t.map((e=>e.type.toConfig())).map((e=>"interfaces"in e?e.interfaces:[])).reduce(((e,t)=>{if(null!=t)for(const n of t)e[n.name]=n;return e}),Object.create(null)),s=Object.values(i),a=fd("astNode",t),c=Ed(t).map((e=>o[e]?.astNode)).filter((e=>null!=e));a.length>1&&c.length&&a.push({...a[a.length-1],fields:JSON.parse(JSON.stringify(c))});const u=a.slice(1).reduce(((e,t)=>Bf(t,e,{ignoreFieldConflicts:!0})),a[0]),l=fd("extensionASTNodes",t),f=Object.assign({},...fd("extensions",t)),d={name:e,description:r,fields:o,interfaces:s,astNode:u,extensionASTNodes:l,extensions:f};return new uo.oW(d)}(e,t,n);if((0,uo.EN)(r))return function(e,t,n){const r=md(t=hd(t,n),n),o=t.map((e=>{if(!(0,uo.EN)(e.type))throw new Error(`Expected ${e.type} to be a union type!`);return e.type.toConfig()})).reduce(((e,t)=>{for(const n of t.types)e[n.name]=n;return e}),Object.create(null)),i=Object.values(o),s=fd("astNode",t),a=s.slice(1).reduce(((e,t)=>Jf(t,e)),s[0]),c=fd("extensionASTNodes",t),u=Object.assign({},...fd("extensions",t)),l={name:e,description:r,types:i,astNode:a,extensionASTNodes:c,extensions:u};return new uo.Gp(l)}(e,t,n);if((0,uo.EM)(r))return function(e,t,n){const r=md(t=hd(t,n),n),o=function(e,t){const n=Object.create(null);for(const o of e){const e=o.type.toConfig().values;for(const t in e){const r={enumValueConfig:e[t],enumValue:t,type:o.type,subschema:o.subschema,transformedSubschema:o.transformedSubschema};t in n?n[t].push(r):n[t]=[r]}}const r=Object.create(null);for(const o in n){const e=t?.enumValueConfigMerger??dd;r[o]=e(n[o])}return r}(t,n),i=fd("astNode",t),s=i.slice(1).reduce(((e,t)=>If(t,e,{consistentEnumMerge:!0})),i[0]),a=fd("extensionASTNodes",t),c=Object.assign({},...fd("extensions",t)),u={name:e,description:r,values:o,astNode:s,extensionASTNodes:a,extensions:c};return new uo.mR(u)}(e,t,n);if((0,uo.KA)(r))return function(e,t,n){const r=md(t=hd(t,n),n),o=fd("serialize",t),i=o[o.length-1],s=fd("parseValue",t),a=s[s.length-1],c=fd("parseLiteral",t),u=c[c.length-1],l=fd("astNode",t),f=l.slice(1).reduce(((e,t)=>Vf(t,e)),l[0]),d=fd("extensionASTNodes",t),h=Object.assign({},...fd("extensions",t)),p={name:e,description:r,serialize:i,parseValue:a,parseLiteral:u,astNode:f,extensionASTNodes:d,extensions:h};return new uo.n2(p)}(e,t,n);throw new Error(`Type ${e} has unknown GraphQL type.`)}function fd(e,t){return t.map((t=>t.type[e])).filter((e=>null!=e))}function dd(e){return(e.find((({type:e,transformedSubschema:t})=>za(t)&&t.merge?.[e.name]?.canonical))||e[e.length-1]).enumValueConfig}function hd(e,t){const n=(t?.typeCandidateMerger??pd)(e);return e.filter((e=>e!==n)).concat([n])}function pd(e){const t=e.filter((({type:e,transformedSubschema:t})=>!!za(t)&&t.merge?.[e.name]?.canonical));if(t.length>1)throw new Error(`Multiple canonical definitions for "${t[0].type.name}"`);return t.length?t[0]:e[e.length-1]}function md(e,t){return(t?.typeDescriptionsMerger??yd)(e)}function yd(e){return e[e.length-1].type.description}function gd(e,t){const n=Object.create(null);for(const o of e){const e=o.type.toConfig().fields;for(const t in e){const r={fieldConfig:e[t],fieldName:t,type:o.type,subschema:o.subschema,transformedSubschema:o.transformedSubschema};t in n?n[t].push(r):n[t]=[r]}}const r=Object.create(null);for(const o in n)r[o]=vd(n[o],t);return r}function vd(e,t){const n=(t?.fieldConfigMerger??bd)(e);return function(e,t,n){const r=`${t[0].type.name}.${t[0].fieldName}`,o=(0,uo.zM)(e.type);id(e,t.map((e=>e.fieldConfig)),"field",r,n),ud(r,n).strictNullComparison&&t.some((e=>o!==(0,uo.zM)(e.fieldConfig.type)))?cd(`Nullability of field "${r}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,r,n):o&&t.some((e=>!(0,uo.zM)(e.fieldConfig.type)))&&cd(`Canonical definition of field "${r}" is not-null while some subschemas permit null. This will be an automatic error in future versions.`,r,n);const i=Object.create(null);for(const{fieldConfig:s}of t)if(null!=s.args)for(const e in s.args){const t=s.args[e];i[e]=i[e]||[],i[e].push(t)}Object.values(i).some((e=>t.length!==e.length))&&cd(`Canonical definition of field "${r}" implements inconsistent argument names across subschemas. Input may be filtered from some requests.`,r,n);for(const s in i){if(null==e.args)continue;const t=i[s],o=`${r}.${s}`,a=e.args[s]||t[t.length-1],c=(0,uo.xC)(a.type),u=(0,uo.zM)(a.type);id(a,t,"argument",o,n),ud(o,n).strictNullComparison&&t.some((e=>u!==(0,uo.zM)(e.type)))?cd(`Nullability of argument "${o}" does not match across subschemas. Disable typeMergingOptions.validationSettings.strictNullComparison to permit safe divergences.`,o,n):!u&&t.some((e=>(0,uo.zM)(e.type)))&&cd(`Canonical definition of argument "${o}" permits null while some subschemas require not-null. This will be an automatic error in future versions.`,o,n),(0,uo.EM)(c)&&ad(c,t,n)}}(n,e,t),n}function bd(e){const t=[],n=[];for(const{type:r,fieldName:o,fieldConfig:i,transformedSubschema:s}of e)za(s)&&(s.merge?.[r.name]?.fields?.[o]?.canonical?t.push(i):s.merge?.[r.name]?.canonical&&n.push(i));if(t.length>1)throw new Error(`Multiple canonical definitions for "${e[0].type.name}.${e[0].fieldName}"`);return t.length?t[0]:n.length?n[0]:e[e.length-1].fieldConfig}function wd(e){const t=[],n=[];for(const{type:r,fieldName:o,inputFieldConfig:i,transformedSubschema:s}of e)za(s)&&(s.merge?.[r.name]?.fields?.[o]?.canonical?t.push(i):s.merge?.[r.name]?.canonical&&n.push(i));if(t.length>1)throw new Error(`Multiple canonical definitions for "${e[0].type.name}.${e[0].fieldName}"`);return t.length?t[0]:n.length?n[0]:e[e.length-1].inputFieldConfig}function Ed(e){const t=Object.create(null);for(const{type:n,transformedSubschema:r}of e){if(!za(r))continue;const e=r.merge?.[n.name];if(null!=e&&null!=e.fields&&!e.canonical)for(const n in e.fields){e.fields[n].canonical&&(t[n]=!0)}}return Object.keys(t)}!function(e){e.Error="error",e.Warn="warn",e.Off="off"}(rd||(rd={}));var _d=n(2319);const Td={commentDescriptions:!0};var Sd=function(e){switch(e.kind){case lo.h.OBJECT_TYPE_DEFINITION:return function(e){const t={name:e.name.value,description:Hl(e,Td),interfaces:()=>e.interfaces?.map((e=>lc(e.name.value,"interface")))||[],fields:()=>null!=e.fields?Id(e.fields):{},astNode:e};return new uo.h6(t)}(e);case lo.h.INTERFACE_TYPE_DEFINITION:return function(e){const t={name:e.name.value,description:Hl(e,Td),interfaces:()=>e.interfaces?.map((e=>lc(e.name.value,"interface"))),fields:()=>null!=e.fields?Id(e.fields):{},astNode:e};return new uo.oW(t)}(e);case lo.h.ENUM_TYPE_DEFINITION:return function(e){const t=e.values?.reduce(((e,t)=>({...e,[t.name.value]:{description:Hl(t,Td),deprecationReason:Ad(t),astNode:t}})),{})??{};return new uo.mR({name:e.name.value,description:Hl(e,Td),values:t,astNode:e})}(e);case lo.h.UNION_TYPE_DEFINITION:return function(e){return new uo.Gp({name:e.name.value,description:Hl(e,Td),types:()=>e.types?.map((e=>lc(e.name.value,"object")))??[],astNode:e})}(e);case lo.h.SCALAR_TYPE_DEFINITION:return function(e){return new uo.n2({name:e.name.value,description:Hl(e,Td),astNode:e,serialize:e=>e})}(e);case lo.h.INPUT_OBJECT_TYPE_DEFINITION:return function(e){return new uo.sR({name:e.name.value,description:Hl(e,Td),fields:()=>e.fields?Nd(e.fields):{},astNode:e})}(e);case lo.h.DIRECTIVE_DEFINITION:return function(e){const t=[];for(const n of e.locations){const e=n.value;Od(e)&&t.push(e)}return new ua.NZ({name:e.name.value,description:null!=e.description?e.description.value:null,locations:t,isRepeatable:e.repeatable,args:Nd(e.arguments??[]),astNode:e})}(e);default:return null}};function Id(e){return e.reduce(((e,t)=>({...e,[t.name.value]:{type:fc(t.type,"output"),description:Hl(t,Td),args:Nd(t.arguments??[]),deprecationReason:Ad(t),astNode:t}})),{})}function Nd(e){return e.reduce(((e,t)=>({...e,[t.name.value]:{type:fc(t.type,"input"),defaultValue:void 0!==t.defaultValue?(0,_d.M)(t.defaultValue):void 0,description:Hl(t,Td),astNode:t}})),{})}function Od(e){return e in Ea.B}function Ad(e){return(0,va.zu)(ua.fg,e)?.reason}function xd({subschemas:e,originalSubschemaMap:t,types:n,typeDefs:r,parseOptions:o,directiveMap:i,schemaDefs:s,mergeDirectives:a}){const c=[],u=Object.create(null);let l,f,d,h=[];(r&&!Array.isArray(r)||Array.isArray(r)&&r.length)&&(f=Wf(r,o),d=function(e){const t=[],n=[],r=[],o=[],i=[];for(const s of e.definitions)switch(s.kind){case lo.h.OBJECT_TYPE_DEFINITION:case lo.h.INTERFACE_TYPE_DEFINITION:case lo.h.INPUT_OBJECT_TYPE_DEFINITION:case lo.h.UNION_TYPE_DEFINITION:case lo.h.ENUM_TYPE_DEFINITION:case lo.h.SCALAR_TYPE_DEFINITION:t.push(s);break;case lo.h.DIRECTIVE_DEFINITION:n.push(s);break;case lo.h.SCHEMA_DEFINITION:r.push(s);break;case lo.h.SCHEMA_EXTENSION:o.push(s);break;case lo.h.OBJECT_TYPE_EXTENSION:case lo.h.INTERFACE_TYPE_EXTENSION:case lo.h.INPUT_OBJECT_TYPE_EXTENSION:case lo.h.UNION_TYPE_EXTENSION:case lo.h.ENUM_TYPE_EXTENSION:case lo.h.SCALAR_TYPE_EXTENSION:i.push(s)}return{typeDefinitions:t,directiveDefs:n,schemaDefs:r,schemaExtensions:o,extensionDefs:i}}(f),l=d.schemaDefs[0],h=h.concat(d.schemaExtensions)),s.schemaDef=l??s.schemaDef,s.schemaExtensions=h;const p=function({schemaDef:e,schemaExtensions:t}){const n={query:"Query",mutation:"Mutation",subscription:"Subscription"},r=t.slice();null!=e&&r.unshift(e);for(const o of r)if(null!=o.operationTypes)for(const e of o.operationTypes)n[e.operation]=e.type.name.value;return n}(s);for(const m of e){const e=m.transformedSchema=nd(m),n=Fc(e),r=Lc(e);for(const[i,s]of n.entries())kd(u,p[i],{type:s,subschema:t.get(m),transformedSubschema:m});if(!0===a)for(const t of e.getDirectives())i[t.name]=t;const o=e.getTypeMap();for(const i in o){const e=o[i];(0,uo.Zs)(e)&&"__"!==(0,uo.xC)(e).name.slice(0,2)&&!r.has(e)&&kd(u,e.name,{type:e,subschema:t.get(m),transformedSubschema:m})}}if(null!=f&&null!=d){for(const e of d.typeDefinitions){const t=Sd(e);if(!(0,uo.Zs)(t))throw new Error(`Expected to get named typed but got ${qc(e)}`);null!=t&&kd(u,t.name,{type:t})}for(const e of d.directiveDefs){const t=Sd(e);if(!(0,ua.wX)(t))throw new Error(`Expected to get directive type but got ${qc(e)}`);i[t.name]=t}d.extensionDefs.length>0&&c.push({...f,definitions:d.extensionDefs})}for(const m of n)kd(u,m.name,{type:m});return[u,p,c]}function kd(e,t,n){t in e||(e[t]=[]),e[t].push(n)}function $d(e){return t=>t.reduce(((t,n)=>{const r=e(t.type,n.type,{left:{subschema:t.subschema,transformedSubschema:t.transformedSubschema},right:{subschema:n.subschema,transformedSubschema:n.transformedSubschema}});return t.type===r?t:n.type===r?n:{schemaName:"unknown",type:r}}))}function Cd({subschemas:e=[],types:t=[],typeDefs:n=[],onTypeConflict:r,mergeDirectives:o,mergeTypes:i=!0,typeMergingOptions:s,subschemaConfigTransforms:a=[],resolvers:c={},inheritResolversFromInterfaces:u=!1,resolverValidationOptions:l={},updateResolversInPlace:f=!0,schemaExtensions:d,...h}){const p=[],m=new Map,y=new Map;for(const x of e)for(const e of Dd(a,x,m,y))p.push(e);const g=Object.create(null);for(const x of ua.V4)g[x.name]=x;const v=Object.create(null),[b,w,E]=xd({subschemas:p,originalSubschemaMap:y,types:t,typeDefs:n||[],parseOptions:h,directiveMap:g,schemaDefs:v,mergeDirectives:o});let _=gl(m,b,i);const{typeMap:T,directives:S}=function({typeCandidates:e,directives:t,stitchingInfo:n,rootTypeNames:r,onTypeConflict:o,mergeTypes:i,typeMergingOptions:s}){const a=Object.create(null);for(const c in e)if(r.includes(c)||!0===i&&!e[c].some((e=>(0,co.u1)(e.type)))||"function"===typeof i&&i(e[c],c)||Array.isArray(i)&&i.includes(c)||null!=n&&c in n.mergedTypes)a[c]=ld(c,e[c],s);else{const t=null!=o?$d(o):e=>e[e.length-1];a[c]=t(e[c]).type}return dc(a,t)}({typeCandidates:b,directives:Object.values(g),stitchingInfo:_,rootTypeNames:Object.values(w),onTypeConflict:r,mergeTypes:i,typeMergingOptions:s});let I=new os.XO({query:T[w.query],mutation:T[w.mutation],subscription:T[w.subscription],types:Object.values(T),directives:S,astNode:v.schemaDef,extensionASTNodes:v.schemaExtensions,extensions:null});for(const x of E)I=(0,la.a)(I,x,{commentDescriptions:!0});const N=Za(c),O=u?tc(I,N):N;_=function(e,t,n){const{fieldNodesByType:r,fieldNodesByField:o,dynamicSelectionSetsByField:i,mergedTypes:s}=e,a=[n.getQueryType(),n.getMutationType()];for(const d of a)d&&(r[d.name]=[Oc("{ __typename }",{noLocation:!0}).selections[0]]);const c=Object.create(null);for(const d in s){const e=s[d];if(null!=e.selectionSets||null!=e.fieldSelectionSets){for(const[t,n]of e.selectionSets){const e=t.transformedSchema.getType(d).getFields();for(const t in e){const r=e[t],o=(0,uo.xC)(r.type);n&&(0,uo.UT)(o)&&wl(n,t)||vl(c,d,t,n,!0)}}for(const[,t]of e.fieldSelectionSets)for(const e in t)vl(c,d,e,t[e],!0)}}for(const d in t){const e=n.getType(d);if(void 0===e||(0,uo.UT)(e)||(0,uo.hL)(e)||(0,uo.EN)(e))continue;const r=t[d];for(const t in r){const e=r[t];"function"===typeof e.selectionSet?(d in i||(i[d]=Object.create(null)),t in i[d]||(i[d][t]=[]),i[d][t].push(e.selectionSet)):e.selectionSet&&vl(c,d,t,Oc(e.selectionSet,{noLocation:!0}))}}const u=Object.create(null),l=Object.create(null),f=Object.create(null);for(const d in c){const e=n.getType(d);for(const t in c[d])for(const r of c[d][t]){const{fields:i}=Ia(n,l,u,e,r);for(const[,e]of i)for(const n of e){const e=(0,Nc.S)(n);null==f[e]?(f[e]=n,bl(o,d,t,n)):bl(o,d,t,f[e])}}}return e}(_,O,I),I=Tc({schema:I,defaultFieldResolver:qa,resolvers:O,resolverValidationOptions:l,inheritResolversFromInterfaces:!1,updateResolversInPlace:f});const A=Object.entries(l);return A.length>0&&A.some((([,e])=>"ignore"!==e))&&function(e,t={}){const{requireResolversForArgs:n,requireResolversForNonScalar:r,requireResolversForAllFields:o}=t;if(o&&(n||r))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");ac(e,((e,t,i)=>{o&&Ic("requireResolversForAllFields",o,e,t,i),n&&e.args.length>0&&Ic("requireResolversForArgs",n,e,t,i),"ignore"===r||(0,uo.KA)((0,uo.xC)(e.type))||Ic("requireResolversForNonScalar",r,e,t,i)}))}(I,l),function(e,t){e.extensions={...e.extensions,stitchingInfo:t}}(I,_),d&&(Array.isArray(d)&&(d=function(e){return Ya(e,!1,!0)}(d)),function(e,t){ec(e,t.schemaExtensions);for(const[n,r]of Object.entries(t.types||{})){const t=e.getType(n);if(t)if(ec(t,r.extensions),"object"===r.type||"interface"===r.type)for(const[e,n]of Object.entries(r.fields)){const r=t.getFields()[e];if(r){ec(r,n.extensions);for(const[e,t]of Object.entries(n.arguments))ec(r.args.find((t=>t.name===e)),t)}}else if("input"===r.type)for(const[e,n]of Object.entries(r.fields))ec(t.getFields()[e],n.extensions);else if("enum"===r.type)for(const[e,n]of Object.entries(r.values))ec(t.getValue(e),n)}}(I,d)),I}const Rd=[function(e){if(null==e.merge)return[e];const t=Object.create(null),n=Object.create(null);for(const r in e.merge){const o=e.merge[r];if(t[r]=o,o.fields){const i=Object.create(null),s=Object.create(null);for(const e in o.fields){const t=o.fields[e];if(t.computed&&t.selectionSet)s[e]=t;else{if(t.computed)throw new Error(`A selectionSet is required for computed field "${r}.${e}"`);i[e]=t}}const a=Object.keys(s).length,c=e.schema.getType(r);a&&a!==Object.keys(c.getFields()).length&&(t[r]={...o,fields:i},n[r]={...o,fields:s,canonical:void 0})}}return Object.keys(n).length?[$l({...e,merge:t},n),Cl({...e,merge:n})]:[e]},function(e){if(!e.merge)return[e];const t=Object.values(e.merge).reduce(((e,t)=>Math.max(e,t?.entryPoints?.length??0)),0);if(0===t)return[e];const n=[];for(let r=0;r<t;r+=1){const t=Ga(e),o=t.merge??Object.create(null);let i=o;r>0&&(t.merge=i=Object.create(null));for(const e in o){const t=o[e],n=t?.entryPoints?.[r];if(n){if(t.selectionSet??t.fieldName??t.resolve)throw new Error(`Merged type ${e} may not define entryPoints in addition to selectionSet, fieldName, or resolve`);if(Object.assign(t,n),delete t.entryPoints,r>0&&(delete t.canonical,null!=t.fields))for(const e in t.fields){delete t.fields[e].canonical}i[e]=t}}n.push(t)}return n}];function Dd(e,t,n,r){let o;if(za(t))o=t;else{if(!(t instanceof os.XO))throw new TypeError("Received invalid input.");o={schema:t}}const i=e.concat(Rd).reduce(((e,t)=>e.flatMap((e=>t(e)))),[o]).map((e=>new Ja(e))),s=i[0];n.set(t,s);for(const a of i)r.set(a,t);return i}function Pd(e){const{definition:t,getViewerID:n,remoteExecutor:r,serverURL:o}=e;let i;if("function"===typeof r)i=r;else{if("function"!==typeof n||"string"!==typeof o)throw new Error("Invalid parameters to create hybrid schema: missing `remoteExecutor` or `getViewerID` and `serverURL` parameters");i=function(e,t){return aa((async({document:n,variables:r})=>{const o=t(),i=o?{"ComposeDB-ViewerID":o}:{};return await Tt(e,{method:"POST",headers:i,body:{query:(0,Nc.S)(n),variables:r}})}))}(o,n)}const s={executor:i,schema:ks({definition:t,readonly:!0})};return Cd({subschemas:[ks({definition:t}),s],mergeTypes:!1,onTypeConflict:(e,t,n)=>n?.left.subschema===s?e:t})}function jd(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Md(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,jd(e,t,"get"))}function Ld(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Fd(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,jd(e,t,"set"),n),n}var Ud=new WeakMap,Bd=new WeakMap,Vd=new WeakMap;var qd=new Br("http://localhost:7007"),zd=new class{get context(){return Md(this,Ud)}get did(){return Md(this,Ud).ceramic.did}get id(){return Md(this,Ud).getViewerID()}get resources(){return Md(this,Bd)}setDID(e){Md(this,Ud).ceramic.did=e}async execute(e,t){return await Md(this,Vd).execute(e,t)}async executeQuery(e,t){return await Md(this,Vd).executeQuery(e,t)}constructor(e){Ld(this,Ud,{writable:!0,value:void 0}),Ld(this,Bd,{writable:!0,value:void 0}),Ld(this,Vd,{writable:!0,value:void 0});const{ceramic:t,definition:n,remoteExecutor:r,serverURL:o,...i}=e,s="string"===typeof t?new Br(t):t;Fd(this,Ud,oo({...i,ceramic:s})),Fd(this,Bd,Object.values(n.models).map((e=>`ceramic://*?model=${e.id}`)));const a={ceramic:s,context:Md(this,Ud),definition:n};null==r&&null==o||(a.schema=Pd({definition:n,getViewerID:()=>this.id,remoteExecutor:r,serverURL:o})),Fd(this,Vd,new Ms(a))}}({ceramic:"http://localhost:7007",definition:{models:{IcarusResource:{id:"kjzl6hvfrbw6c8grga35wz1aq9yg52lnuap4pimcmtrkvpz94rqubcqwy7i7239",accountRelation:{type:"list"}},AccountResources:{id:"kjzl6hvfrbw6c9ra7nw6wvjdlu89gmqzz8x2ra4h9yttjsf30o24f89ov1ngcql",accountRelation:{type:"list"}},Card:{id:"kjzl6hvfrbw6c6cdsofc19nczvmyofzx5ileatfgaqcbr68cvpguzy76iqkteed",accountRelation:{type:"list"}},IcarusProfile:{id:"kjzl6hvfrbw6c6q83f1r39rb7nl2zyqsoatu7th8dogluiq0rlaoii3py535q86",accountRelation:{type:"single"}}},objects:{IcarusResource:{cid:{type:"string",required:!1},doi:{type:"string",required:!1},url:{type:"string",required:!1,indexed:!0},isbn:{type:"string",required:!1},title:{type:"string",required:!1,indexed:!0},author:{type:"string",required:!1},createdAt:{type:"datetime",required:!1},mediaType:{type:"string",required:!1},updatedAt:{type:"datetime",required:!1},description:{type:"string",required:!1},publishedAt:{type:"date",required:!1},clientMutationId:{type:"string",required:!1},cards:{type:"view",viewType:"relation",relation:{source:"queryConnection",model:"kjzl6hvfrbw6c6cdsofc19nczvmyofzx5ileatfgaqcbr68cvpguzy76iqkteed",property:"cardId"}}},AccountResources:{url:{type:"string",required:!1,indexed:!0},createdAt:{type:"datetime",required:!1},recipient:{type:"did",required:!0,indexed:!0},updatedAt:{type:"datetime",required:!1},resourceId:{type:"streamid",required:!1},resource:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6c8grga35wz1aq9yg52lnuap4pimcmtrkvpz94rqubcqwy7i7239",property:"resourceId"}}},Card:{cid:{type:"string",required:!1},url:{type:"string",required:!1,indexed:!0},quote:{type:"string",required:!1},altText:{type:"string",required:!1},deleted:{type:"boolean",required:!1,indexed:!0},pinSize:{type:"integer",required:!1},mimeType:{type:"string",required:!1},createdAt:{type:"datetime",required:!1},updatedAt:{type:"datetime",required:!1},videoTime:{type:"string",required:!1},annotation:{type:"string",required:!1},resourceId:{type:"streamid",required:!1},pageYOffset:{type:"float",required:!1},scrollHeight:{type:"float",required:!1},account:{type:"view",viewType:"documentAccount"},resource:{type:"view",viewType:"relation",relation:{source:"document",model:"kjzl6hvfrbw6c8grga35wz1aq9yg52lnuap4pimcmtrkvpz94rqubcqwy7i7239",property:"resourceId"}}},IcarusProfile:{bio:{type:"string",required:!0},createdAt:{type:"datetime",required:!0},updatedAt:{type:"datetime",required:!0},pictureUrl:{type:"string",required:!1},displayName:{type:"string",required:!0}}},enums:{},accountData:{icarusResourceList:{type:"connection",name:"IcarusResource"},accountResourcesList:{type:"connection",name:"AccountResources"},cardList:{type:"connection",name:"Card"},icarusProfile:{type:"node",name:"IcarusProfile"}}}}),Gd=(0,s.createContext)({ceramic:qd,composeClient:zd}),Kd=function(e){var t=e.children;return(0,i.jsx)(Gd.Provider,{value:{ceramic:qd,composeClient:zd},children:t})},Jd=function(){return(0,s.useContext)(Gd)}},5599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Xr}});var r=n(4051),o=n.n(r),i=n(5893),s=(n(906),n(4122)),a=n(7294),c=n(7706),u=n(8287);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=function(){return"function"===typeof Symbol},m=function(e){return p()&&Boolean(Symbol[e])},y=function(e){return m(e)?Symbol[e]:"@@"+e};p()&&!m("observable")&&(Symbol.observable=Symbol("observable"));var g=y("iterator"),v=y("observable"),b=y("species");function w(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function E(e){var t=e.constructor;return void 0!==t&&null===(t=t[b])&&(t=void 0),void 0!==t?t:$}function _(e){return e instanceof $}function T(e){T.log?T.log(e):setTimeout((function(){throw e}))}function S(e){Promise.resolve().then((function(){try{e()}catch(t){T(t)}}))}function I(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=w(t,"unsubscribe");n&&n.call(t)}}catch(r){T(r)}}function N(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function O(e,t,n){e._state="running";var r=e._observer;try{var o=w(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(N(e),!o)throw n;o.call(r,n);break;case"complete":N(e),o&&o.call(r)}}catch(i){T(i)}"closed"===e._state?I(e):"running"===e._state&&(e._state="ready")}function A(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void S((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(O(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void O(e,t,n);e._queue.push({type:t,value:n})}}var x=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new k(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(N(this),I(this))},h(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),k=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){A(this._subscription,"next",e)},t.error=function(e){A(this._subscription,"error",e)},t.complete=function(){A(this._subscription,"complete")},h(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),$=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new x(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(n){r(n),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(E(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(E(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=E(this),r=arguments.length>1,o=!1,i=arguments[1],s=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{s=e(s,t)}catch(a){return n.error(a)}else s=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=E(this);return new o((function(t){var r,i=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=E(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),s()}});o.push(i)},error:function(e){r.error(e)},complete:function(){s()}});function s(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))},t[v]=function(){return this},e.from=function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=w(t,v);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return _(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(m("iterator")&&(r=w(t,g)))return new n((function(e){S((function(){if(!e.closed){for(var n,o=l(r.call(t));!(n=o()).done;){var i=n.value;if(e.next(i),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){S((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"===typeof this?this:e;return new o((function(e){S((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},h(e,null,[{key:b,get:function(){return this}}]),e}();p()&&Object.defineProperty($,Symbol("extensions"),{value:{symbol:v,hostReportError:T},configurable:!0});var C=n(7582);var R=n(3154);function D(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw(0,u._K)(70,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&((0,u.kG)(1===r.length,71,r.length),n=r[0].name.value),(0,C.pi)((0,C.pi)({},e),{definitions:(0,C.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function P(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function j(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"===typeof t)return t(n);var r=t&&t[n];return(0,u.kG)(r,72,n),r||null;default:return null}}function M(e){return{__ref:String(e)}}function L(e){return Boolean(e&&"object"===typeof e&&"string"===typeof e.__ref)}function F(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return F(o,e.name,e.value,r)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return F(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw(0,u._K)(81,t.value,n.kind);e[t.value]=null}}var U=["connection","include","skip","client","rest","export","nonreactive"],B=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o={};return r.forEach((function(e){o[e]=t[e]})),"".concat(n.connection.key,"(").concat(V(o),")")}return n.connection.key}var i=e;if(t){var s=V(t);i+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===U.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?i+="@".concat(e,"(").concat(V(n[e]),")"):i+="@".concat(e))})),i}),{setStringify:function(e){var t=V;return V=e,t}}),V=function(e){return JSON.stringify(e,q)};function q(e,t){return(0,R.s)(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function z(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,o=e.value;return F(n,r,o,t)})),n}return null}function G(e){return e.alias?e.alias.value:e.name.value}function K(e,t,n){for(var r,o=0,i=t.selections;o<i.length;o++){if(J(c=i[o])){if("__typename"===c.name.value)return e[G(c)]}else r?r.push(c):r=[c]}if("string"===typeof e.__typename)return e.__typename;if(r)for(var s=0,a=r;s<a.length;s++){var c,u=K(e,j(c=a[s],n).selectionSet,n);if("string"===typeof u)return u}}function J(e){return"Field"===e.kind}function H(e){(0,u.kG)(e&&"Document"===e.kind,73);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw(0,u._K)(74,e.kind);return e}));return(0,u.kG)(t.length<=1,75,t.length),e}function Q(e){return H(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function W(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function Y(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function X(e){var t=Q(e);return(0,u.kG)(t&&"query"===t.operation,76),t}function Z(e){var t;H(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var i=o.operation;if("query"===i||"mutation"===i||"subscription"===i)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw(0,u._K)(80)}function ee(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&F(t,e.variable.name,e.defaultValue)})),t}function te(e,t){return t?t(e):$.of()}function ne(e){return"function"===typeof e?new oe(e):e}function re(e){return e.request.length<=1}var oe=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return $.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(ne).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var o=ne(n),i=ne(r||new e(te));return re(o)&&re(i)?new e((function(e){return t(e)?o.request(e)||$.of():i.request(e)||$.of()})):new e((function(e,n){return t(e)?o.request(e,n)||$.of():i.request(e,n)||$.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=(0,C.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"===typeof e?(0,C.pi)((0,C.pi)({},n),e(n)):(0,C.pi)((0,C.pi)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,C.pi)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?W(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw(0,u._K)(43,o)}return e}(t))))||$.of()},e.concat=function(t,n){var r=ne(t);if(re(r))return!1!==globalThis.__DEV__&&u.kG.warn(35,r),r;var o=ne(n);return re(o)?new e((function(e){return r.request(e,(function(e){return o.request(e)||$.of()}))||$.of()})):new e((function(e,t){return r.request(e,(function(e){return o.request(e,t)||$.of()}))||$.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(te)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw(0,u._K)(36)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),ie=oe.execute,se=n(9379),ae=n(7304);function ce(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;(0,u.kG)(n&&1===n.length,67,r);var o=n[0];(0,u.kG)(o.name&&"if"===o.name.value,68,r);var i=o.value;(0,u.kG)(i&&("Variable"===i.kind||"BooleanValue"===i.kind),69,r),t.push({directive:e,ifArgument:o})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t&&t[r.value.name.value],(0,u.kG)(void 0!==o,66,n.name.value)):o=r.value.value,"skip"===n.name.value?!o:o}))}function ue(e,t,n){var r=new Set(e),o=r.size;return(0,ae.Vn)(t,{Directive:function(e){if(r.delete(e.name.value)&&(!n||!r.size))return ae.$_}}),n?!r.size:r.size<o}function le(e){return e&&ue(["client","export"],e,!0)}var fe=function(e,t){var n;try{n=JSON.stringify(e)}catch(o){var r=(0,u._K)(39,t,o.message);throw r.parseError=o,r}return n},de=n(320);function he(e){var t=null,n=null,r=!1,o=[],i=[];function s(e){if(!n){if(i.length){var t=i.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}o.push(e)}}function a(e){n=e,i.slice().forEach((function(t){t[1](e)})),!t||t()}function c(){r=!0,i.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",c),e.removeListener("finish",c),e.removeListener("close",c)},e.on("data",s),e.on("error",a),e.on("end",c),e.on("finish",c),e.on("close",c);var u={next:function(){return new Promise((function(e,t){return n?t(n):o.length?e({value:o.shift(),done:!1}):r?e({value:void 0,done:!0}):void i.push([e,t])}))}};return de.DN&&(u[Symbol.asyncIterator]=function(){return this}),u}function pe(e){var t={next:function(){return e.read()}};return de.DN&&(t[Symbol.asyncIterator]=function(){return this}),t}function me(e){var t=e;if(e.body&&(t=e.body),function(e){return!(!de.DN||!e[Symbol.asyncIterator])}(t))return function(e){var t,n=e[Symbol.asyncIterator]();return(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t}(t);if(function(e){return!!e.getReader}(t))return pe(t.getReader());if(function(e){return!!e.stream}(t))return pe(t.stream().getReader());if(function(e){return!!e.arrayBuffer}(t))return function(e){var t=!1,n={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise((function(t,n){e.then((function(e){t({value:e,done:!1})})).catch(n)})))}};return de.DN&&(n[Symbol.asyncIterator]=function(){return this}),n}(t.arrayBuffer());if(function(e){return!!e.pipe}(t))return he(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var ye=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},ge=n(990),ve=n(1436),be=Object.prototype.hasOwnProperty;function we(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ee(e)}function Ee(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Te,o=1;o<n;++o)t=r.merge(t,e[o]);return t}var _e=function(e,t,n){return this.merge(e[n],t[n])},Te=function(){function e(e){void 0===e&&(e=_e),this.reconciler=e,this.isObject=R.s,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return(0,R.s)(t)&&(0,R.s)(e)?(Object.keys(t).forEach((function(o){if(be.call(e,o)){var i=e[o];if(t[o]!==i){var s=n.reconciler.apply(n,(0,C.ev)([e,t,o],r,!1));s!==i&&((e=n.shallowCopyForMerge(e))[o]=s)}}else(e=n.shallowCopyForMerge(e))[o]=t[o]})),e):t},e.prototype.shallowCopyForMerge=function(e){return(0,R.s)(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):(0,C.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function Se(e){return"incremental"in e}function Ie(e){return(0,R.s)(e)&&"payload"in e}function Ne(e,t){var n=e,r=new Te;return Se(t)&&(0,ve.O)(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,o=e.path,i=o.length-1;i>=0;--i){var s=o[i],a=!isNaN(+s)?[]:{};a[s]=t,t=a}n=r.merge(n,t)})),n}var Oe=Object.prototype.hasOwnProperty;function Ae(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var r=e.slice(0,n).trim().toLowerCase(),o=e.slice(n+1).trim();t[r]=o}})),t}function xe(e,t){if(e.status>=300){ye(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}var ke=n(6918),$e=de.mr?new WeakMap:void 0,Ce=function(e){var t;return(t=null===$e||void 0===$e?void 0:$e.get(e))||(t=(0,ke.S)(e),null===$e||void 0===$e||$e.set(e,t)),t},Re={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},De=function(e,t){return t(e)};function Pe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={},i={};n.forEach((function(e){o=(0,C.pi)((0,C.pi)((0,C.pi)({},o),e.options),{headers:(0,C.pi)((0,C.pi)({},o.headers),e.headers)}),e.credentials&&(o.credentials=e.credentials),i=(0,C.pi)((0,C.pi)({},i),e.http)})),o.headers&&(o.headers=je(o.headers,i.preserveHeaderCase));var s=e.operationName,a=e.extensions,c=e.variables,u=e.query,l={operationName:s,variables:c};return i.includeExtensions&&(l.extensions=a),i.includeQuery&&(l.query=t(u,Ce)),{options:o,body:l}}function je(e,t){if(!t){var n=Object.create(null);return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var r=Object.create(null);Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]={originalName:t,value:e[t]}}));var o=Object.create(null);return Object.keys(r).forEach((function(e){o[r[e].originalName]=r[e].value})),o}function Me(e){return new $((function(t){t.error(e)}))}var Le=n(7359),Fe={kind:Le.h.FIELD,name:{kind:Le.h.NAME,value:"__typename"}};function Ue(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===Le.h.FRAGMENT_SPREAD&&Ue(t[e.name.value],t)}))}function Be(e){return Ue(Q(e)||function(e){(0,u.kG)("Document"===e.kind,77),(0,u.kG)(e.definitions.length<=1,78);var t=e.definitions[0];return(0,u.kG)("FragmentDefinition"===t.kind,79),t}(e),P(Y(e)))?null:e}function Ve(e){var t=new Map,n=new Map;return e.forEach((function(e){e&&(e.name?t.set(e.name,e):e.test&&n.set(e.test,e))})),function(e){var r=t.get(e.name.value);return!r&&n.size&&n.forEach((function(t,n){n(e)&&(r=t)})),r}}function qe(e){var t=new Map;return function(n){void 0===n&&(n=e);var r=t.get(n);return r||t.set(n,r={variables:new Set,fragmentSpreads:new Set}),r}}function ze(e,t){H(t);for(var n=qe(""),r=qe(""),o=function(e){for(var t=0,o=void 0;t<e.length&&(o=e[t]);++t)if(!(0,ve.k)(o)){if(o.kind===Le.h.OPERATION_DEFINITION)return n(o.name&&o.name.value);if(o.kind===Le.h.FRAGMENT_DEFINITION)return r(o.name.value)}return!1!==globalThis.__DEV__&&u.kG.error(82),null},i=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===Le.h.OPERATION_DEFINITION&&++i;var a=Ve(e),c=function(e){return(0,ve.O)(e)&&e.map(a).some((function(e){return e&&e.remove}))},l=new Map,f=!1,d={enter:function(e){if(c(e.directives))return f=!0,null}},h=(0,ae.Vn)(t,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,n,r,i){var s=o(i);s&&s.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,n,r,i){if(c(e.directives))return f=!0,null;var s=o(i);s&&s.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,n,r){l.set(JSON.stringify(r),e)},leave:function(e,t,n,o){return e===l.get(JSON.stringify(o))?e:i>0&&e.selectionSet.selections.every((function(e){return e.kind===Le.h.FIELD&&"__typename"===e.name.value}))?(r(e.name.value).removed=!0,f=!0,null):void 0}},Directive:{leave:function(e){if(a(e))return f=!0,null}}});if(!f)return t;var p=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){p(r(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},m=new Set;h.definitions.forEach((function(e){e.kind===Le.h.OPERATION_DEFINITION?p(n(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){m.add(e)})):e.kind!==Le.h.FRAGMENT_DEFINITION||0!==i||r(e.name.value).removed||m.add(e.name.value)})),m.forEach((function(e){p(r(e)).fragmentSpreads.forEach((function(e){m.add(e)}))}));var y={enter:function(e){if(t=e.name.value,!m.has(t)||r(t).removed)return null;var t}};return Be((0,ae.Vn)(h,{FragmentSpread:y,FragmentDefinition:y,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=p(n(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return(0,C.pi)((0,C.pi)({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var Ge=Object.assign((function(e){return(0,ae.Vn)(e,{SelectionSet:{enter:function(e,t,n){if(!n||n.kind!==Le.h.OPERATION_DEFINITION){var r=e.selections;if(r)if(!r.some((function(e){return J(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var o=n;if(!(J(o)&&o.directives&&o.directives.some((function(e){return"export"===e.name.value}))))return(0,C.pi)((0,C.pi)({},e),{selections:(0,C.ev)((0,C.ev)([],r,!0),[Fe],!1)})}}}}})}),{added:function(e){return e===Fe}});function Ke(e){return"query"===Z(e).operation?e:(0,ae.Vn)(e,{OperationDefinition:{enter:function(e){return(0,C.pi)((0,C.pi)({},e),{operation:"query"})}}})}function Je(e){return H(e),ze([{test:function(e){return"client"===e.name.value},remove:!0}],e)}var He=(0,u.wY)((function(){return fetch})),Qe=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,o=e.print,i=void 0===o?De:o,s=e.includeExtensions,a=e.preserveHeaderCase,c=e.useGETForQueries,l=e.includeUnusedVariables,f=void 0!==l&&l,d=(0,C._T)(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw(0,u._K)(37)}(r||He);var h={http:{includeExtensions:s,preserveHeaderCase:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new oe((function(e){var t=function(e,t){return e.getContext().uri||("function"===typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),s={};if(o.clientAwareness){var a=o.clientAwareness,l=a.name,d=a.version;l&&(s["apollographql-client-name"]=l),d&&(s["apollographql-client-version"]=d)}var p=(0,C.pi)((0,C.pi)({},s),o.headers),m={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:p};if(ue(["client"],e.query)){var y=Je(e.query);if(!y)return Me(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=y}var g,v=Pe(e,i,Re,h,m),b=v.options,w=v.body;w.variables&&!f&&(w.variables=function(e,t){var n=(0,C.pi)({},e),r=new Set(Object.keys(e));return(0,ae.Vn)(t,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&r.delete(e.name.value)}}),r.forEach((function(e){delete n[e]})),n}(w.variables,e.query)),b.signal||"undefined"===typeof AbortController||(g=new AbortController,b.signal=g.signal);var E,_="OperationDefinition"===(E=Z(e.query)).kind&&"subscription"===E.operation,T=ue(["defer"],e.query);if(c&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(b.method="GET"),T||_){b.headers=b.headers||{};var S="multipart/mixed;";_&&T&&!1!==globalThis.__DEV__&&u.kG.warn(38),_?S+="boundary=graphql;subscriptionSpec=1.0,application/json":T&&(S+="deferSpec=20220824,application/json"),b.headers.accept=S}if("GET"===b.method){var I=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var o=void 0;try{o=fe(t.variables,"Variables map")}catch(O){return{parseError:O}}r("variables",o)}if(t.extensions){var i=void 0;try{i=fe(t.extensions,"Extensions map")}catch(O){return{parseError:O}}r("extensions",i)}var s="",a=e,c=e.indexOf("#");-1!==c&&(s=e.substr(c),a=e.substr(0,c));var u=-1===a.indexOf("?")?"?":"&";return{newURI:a+u+n.join("&")+s}}(t,w),N=I.newURI,O=I.parseError;if(O)return Me(O);t=N}else try{b.body=fe(w,"Payload")}catch(O){return Me(O)}return new $((function(n){var o=r||(0,u.wY)((function(){return fetch}))||He,i=n.next.bind(n);return o(t,b).then((function(t){var n;e.setContext({response:t});var r,o=null===(n=t.headers)||void 0===n?void 0:n.get("content-type");return null!==o&&/^multipart\/mixed/i.test(o)?function(e,t){var n;return(0,C.mG)(this,void 0,void 0,(function(){var r,o,i,s,a,c,u,l,f,d,h,p,m,y,g,v,b,w,E,_,T,S,I;return(0,C.Jh)(this,(function(N){switch(N.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),o=null===(n=e.headers)||void 0===n?void 0:n.get("content-type"),i="boundary=",s=(null===o||void 0===o?void 0:o.includes(i))?null===o||void 0===o?void 0:o.substring((null===o||void 0===o?void 0:o.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",a="\r\n--".concat(s),c="",u=me(e),l=!0,N.label=1;case 1:return l?[4,u.next()]:[3,3];case 2:for(f=N.sent(),d=f.value,h=f.done,p="string"===typeof d?d:r.decode(d),m=c.length-a.length+1,l=!h,y=(c+=p).indexOf(a,m);y>-1;){if(g=void 0,S=[c.slice(0,y),c.slice(y+a.length)],c=S[1],v=(g=S[0]).indexOf("\r\n\r\n"),b=Ae(g.slice(0,v)),(w=b["content-type"])&&-1===w.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(E=g.slice(v))if(_=xe(e,E),Object.keys(_).length>1||"data"in _||"incremental"in _||"errors"in _||"payload"in _)Ie(_)?(T={},"payload"in _&&(T=(0,C.pi)({},_.payload)),"errors"in _&&(T=(0,C.pi)((0,C.pi)({},T),{extensions:(0,C.pi)((0,C.pi)({},"extensions"in T?T.extensions:null),(I={},I[ge.YG]=_.errors,I))})),t(T)):t(_);else if(1===Object.keys(_).length&&"hasNext"in _&&!_.hasNext)return[2];y=c.indexOf(a)}return[3,1];case 3:return[2]}}))}))}(t,i):(r=e,function(e){return e.text().then((function(t){return xe(e,t)})).then((function(t){return e.status>=300&&ye(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||Oe.call(t,"data")||Oe.call(t,"errors")||ye(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName,"'.")),t}))})(t).then(i)})).then((function(){g=void 0,n.complete()})).catch((function(e){g=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,n)})),function(){g&&g.abort()}}))}))},We=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Qe(t).request)||this;return n.options=t,n}return(0,C.ZT)(t,e),t}(oe),Ye=n(20);const Xe=()=>Object.create(null),{forEach:Ze,slice:et}=Array.prototype,{hasOwnProperty:tt}=Object.prototype;class nt{constructor(e=!0,t=Xe){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return Ze.call(e,(e=>t=t.getChildTrie(e))),tt.call(t,"data")?t.data:t.data=this.makeData(et.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=t.mapFor(e[n],!1);t=r&&r.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],r=this.mapFor(n,!1),o=r&&r.get(n);o&&(t=o.removeArray(et.call(e,1)),o.data||o.weak||o.strong&&o.strong.size||r.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new nt(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}var rt,ot,it=function(){function e(){this.known=new(de.sy?WeakSet:Set),this.pool=new nt(de.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return(0,R.s)(e)&&this.known.has(e)},e.prototype.pass=function(e){if((0,R.s)(e)){var t=function(e){return(0,R.s)(e)?(0,ve.k)(e)?e.slice(0):(0,C.pi)({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if((0,R.s)(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(a=this.pool.lookupArray(r)).array||(this.known.add(a.array=r),!1!==globalThis.__DEV__&&Object.freeze(r)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var o=Object.getPrototypeOf(e),i=[o],s=this.sortedKeys(e);i.push(s.json);var a,c=i.length;if(s.sorted.forEach((function(n){i.push(t.admit(e[n]))})),!(a=this.pool.lookupArray(i)).object){var u=a.object=Object.create(o);this.known.add(u),s.sorted.forEach((function(e,t){u[e]=i[c+t]})),!1!==globalThis.__DEV__&&Object.freeze(u)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),st=Object.assign((function(e){if((0,R.s)(e)){void 0===rt&&at();var t=rt.admit(e),n=ot.get(t);return void 0===n&&ot.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:at});function at(){rt=new it,ot=new(de.mr?WeakMap:Map)}function ct(e){return e}var ut=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=de.sy?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),!1!==t.cache&&(this.stableCacheKeys=new nt(de.mr,(function(e){return{key:e}})))}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(ct,{cache:!1})},e.split=function(t,n,r){return void 0===r&&(r=e.identity()),new e((function(e){return(t(e)?n:r).transformDocument(e)}),{cache:!1})},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.getStableCacheEntry(e);if(t&&t.value)return t.value;H(e);var n=this.transform(e);return this.resultCache.add(n),t&&(t.value=n),n},e.prototype.concat=function(t){var n=this;return new e((function(e){return t.transformDocument(n.transformDocument(e))}),{cache:!1})},e.prototype.getStableCacheEntry=function(e){if(this.stableCacheKeys){var t=this.getCacheKey(e);return t?((0,u.kG)(Array.isArray(t),65),this.stableCacheKeys.lookupArray(t)):void 0}},e}();function lt(e,t,n){return new $((function(r){var o={then:function(e){return new Promise((function(t){return t(e())}))}};function i(e,t){return function(n){if(e){var i=function(){return r.closed?0:e(n)};o=o.then(i,i).then((function(e){return r.next(e)}),(function(e){return r.error(e)}))}else r[t](n)}}var s={next:i(t,"next"),error:i(n,"error"),complete:function(){o.then((function(){return r.complete()}))}},a=e.subscribe(s);return function(){return a.unsubscribe()}}))}function ft(e){var t=dt(e);return(0,ve.O)(t)}function dt(e){var t=(0,ve.O)(e.errors)?e.errors.slice(0):[];return Se(e)&&(0,ve.O)(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}var ht=n(897);function pt(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function mt(e){function t(t){Object.defineProperty(e,t,{value:$})}return de.aS&&Symbol.species&&t(Symbol.species),t("@@species"),e}function yt(e){return e&&"function"===typeof e.then}var gt=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),pt(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),pt(n.observers,"error",e))},complete:function(){var e=n,t=e.sub,r=e.sources;if(null!==t){var o=(void 0===r?[]:r).shift();o?yt(o)?o.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=o.subscribe(n.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),pt(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new $(t)]),yt(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,C.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,r){t||(t=!0,e(n,r))}))},t}($);mt(gt);var vt=n(773),bt=n(3712),wt=Object.prototype.toString;function Et(e){return _t(e)}function _t(e,t){switch(wt.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=_t(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=_t(e[n],t)})),r;default:return e}}function Tt(e,t,n,r){var o=t.data,i=(0,C._T)(t,["data"]),s=n.data,a=(0,C._T)(n,["data"]);return(0,Ye.Z)(i,a)&&St(Z(e).selectionSet,o,s,{fragmentMap:P(Y(e)),variables:r})}function St(e,t,n,r){if(t===n)return!0;var o=new Set;return e.selections.every((function(e){if(o.has(e))return!0;if(o.add(e),!ce(e,r.variables))return!0;if(It(e))return!0;if(J(e)){var i=G(e),s=t&&t[i],a=n&&n[i],c=e.selectionSet;if(!c)return(0,Ye.Z)(s,a);var u=Array.isArray(s),l=Array.isArray(a);if(u!==l)return!1;if(u&&l){var f=s.length;if(a.length!==f)return!1;for(var d=0;d<f;++d)if(!St(c,s[d],a[d],r))return!1;return!0}return St(c,s,a,r)}var h=j(e,r.fragmentMap);return h?!!It(h)||St(h.selectionSet,t,n,r):void 0}))}function It(e){return!!e.directives&&e.directives.some(Nt)}function Nt(e){return"nonreactive"===e.name.value}var Ot=Object.assign,At=Object.hasOwnProperty,xt=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,o=t.options,i=e.call(this,(function(e){try{var n=e._subscription._observer;n&&!n.error&&(n.error=$t)}catch(t){}var r=!i.observers.size;i.observers.add(e);var o=i.last;return o&&o.error?e.error&&e.error(o.error):o&&o.result&&e.next&&e.next(o.result),r&&i.reobserve().catch((function(){})),function(){i.observers.delete(e)&&!i.observers.size&&i.tearDownQuery()}}))||this;i.observers=new Set,i.subscriptions=new Set,i.queryInfo=r,i.queryManager=n,i.waitForOwnResult=Rt(o.fetchPolicy),i.isTornDown=!1;var s=n.defaultOptions.watchQuery,a=(void 0===s?{}:s).fetchPolicy,c=void 0===a?"cache-first":a,u=o.fetchPolicy,l=void 0===u?c:u,f=o.initialFetchPolicy,d=void 0===f?"standby"===l?c:l:f;i.options=(0,C.pi)((0,C.pi)({},o),{initialFetchPolicy:d,fetchPolicy:l}),i.queryId=r.queryId||n.generateQueryId();var h=Q(i.query);return i.queryName=h&&h.name&&h.name.value,i}return(0,C.ZT)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:n},o=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||vt.Ie.ready,r=(0,C.pi)((0,C.pi)({},t),{loading:(0,vt.Oj)(n),networkStatus:n}),o=this.options.fetchPolicy,i=void 0===o?"cache-first":o;if(Rt(i)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(r.data=s.result),(0,Ye.D)(r.data,{})&&(r.data=void 0),s.complete?(delete r.partial,!s.complete||r.networkStatus!==vt.Ie.loading||"cache-first"!==i&&"cache-only"!==i||(r.networkStatus=vt.Ie.ready,r.loading=!1)):r.partial=!0,!1===globalThis.__DEV__||s.complete||this.options.partialRefetch||r.loading||r.data||r.error||Ct(s.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||((this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!Tt(this.query,this.last.result,e,this.variables):!(0,Ye.D)(this.last.result,e))||t&&!(0,Ye.D)(this.last.variables,t))},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||(0,Ye.D)(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&At.call(e,"variables")){var o=X(this.query),i=o.variableDefinitions;i&&i.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&u.kG.warn(20,e,(null===(t=o.name)||void 0===t?void 0:t.value)||o)}return e&&!(0,Ye.D)(this.options.variables,e)&&(n.variables=this.options.variables=(0,C.pi)((0,C.pi)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,vt.Ie.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,C.pi)((0,C.pi)({},e.query?e:(0,C.pi)((0,C.pi)((0,C.pi)((0,C.pi)({},this.options),{query:this.options.query}),e),{variables:(0,C.pi)((0,C.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});n.query=this.transformDocument(n.query);var r=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):n.query;var o=this.queryInfo,i=o.networkStatus;o.networkStatus=vt.Ie.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var s=new Set;return this.queryManager.fetchQuery(r,n,vt.Ie.fetchMore).then((function(a){return t.queryManager.removeQuery(r),o.networkStatus===vt.Ie.fetchMore&&(o.networkStatus=i),t.queryManager.cache.batch({update:function(r){var o=e.updateQuery;o?r.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return o(e,{fetchMoreResult:a.data,variables:n.variables})})):r.writeQuery({query:n.query,variables:n.variables,data:a.data})},onWatchUpdated:function(e){s.add(e.query)}}),a})).finally((function(){s.has(t.query)||kt(t)}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var o=t.variables;return r(e,{subscriptionData:n,variables:o})}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&u.kG.error(21,t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=(0,bt.o)(this.options,e||{});Ot(this.options,t)},t.prototype.setVariables=function(e){return(0,Ye.D)(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},vt.Ie.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,o=t.initialFetchPolicy,i=void 0===o?r:o;"standby"===r||("function"===typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:i}):t.fetchPolicy="variables-changed"===e?i:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t,n)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){(0,u.kG)(n,22),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&((0,vt.Oj)(e.queryInfo.networkStatus)?o():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},vt.Ie.poll).then(o,o))},o=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};o()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var n=this.getLastError();return n&&this.last&&!(0,Ye.D)(t,this.last.variables)&&(n=void 0),this.last=(0,C.pi)({result:this.queryManager.assumeImmutableResults?e:Et(e),variables:t},n?{error:n}:null)},t.prototype.reobserveAsConcast=function(e,t){var n=this;this.isTornDown=!1;var r=t===vt.Ie.refetch||t===vt.Ie.fetchMore||t===vt.Ie.poll,o=this.options.variables,i=this.options.fetchPolicy,s=(0,bt.o)(this.options,e||{}),a=r?s:Ot(this.options,s),c=this.transformDocument(a.query);this.lastQuery=c,r||(this.updatePolling(),e&&e.variables&&!(0,Ye.D)(e.variables,o)&&"standby"!==a.fetchPolicy&&a.fetchPolicy===i&&(this.applyNextFetchPolicy("variables-changed",a),void 0===t&&(t=vt.Ie.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=Rt(a.fetchPolicy));var u=function(){n.concast===d&&(n.waitForOwnResult=!1)},l=a.variables&&(0,C.pi)({},a.variables),f=this.fetch(a,t,c),d=f.concast,h=f.fromLink,p={next:function(e){u(),n.reportResult(e,l)},error:function(e){u(),n.reportError(e,l)}};return r||!h&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=d,this.observer=p),d.addObserver(p),d},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.last;this.resetLastResults();var r=this.subscribe.apply(this,e);return this.last=n,r},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError(),r=this.isDifferentFromLastResult(e,t);(n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(n||r)&&pt(this.observers,"next",e)},t.prototype.reportError=function(e,t){var n=(0,C.pi)((0,C.pi)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:vt.Ie.error,loading:!1});this.updateLastResult(n,t),pt(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}($);function kt(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return"cache-and-network"===n||"network-only"===n?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,t){return this.nextFetchPolicy=r,"function"===typeof this.nextFetchPolicy?this.nextFetchPolicy(e,t):n}}):e.reobserve()}function $t(e){!1!==globalThis.__DEV__&&u.kG.error(23,e.message,e.stack)}function Ct(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&u.kG.debug(24,e)}function Rt(e){return"network-only"===e||"no-cache"===e||"standby"===e}mt(xt);var Dt=n(5844);const Pt=()=>Object.create(null),{forEach:jt,slice:Mt}=Array.prototype,{hasOwnProperty:Lt}=Object.prototype;class Ft{constructor(e=!0,t=Pt){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return jt.call(e,(e=>t=t.getChildTrie(e))),Lt.call(t,"data")?t.data:t.data=this.makeData(Mt.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=this.weakness&&Ut(e[n])?t.weak:t.strong;t=r&&r.get(e[n])}return t&&t.data}getChildTrie(e){const t=this.weakness&&Ut(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=t.get(e);return n||t.set(e,n=new Ft(this.weakness,this.makeData)),n}}function Ut(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}function Bt(){}class Vt{constructor(e=1/0,t=Bt){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}let qt=null;const zt={};let Gt=1;function Kt(e){try{return e()}catch(t){}}const Jt="@wry/context:Slot",Ht=Kt((()=>globalThis))||Kt((()=>global))||Object.create(null),Qt=Ht[Jt]||Array[Jt]||function(e){try{Object.defineProperty(Ht,Jt,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",Gt++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=qt;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===zt)break;return e!==qt&&(qt.slots[this.id]=t),!0}return qt&&(qt.slots[this.id]=zt),!1}getValue(){if(this.hasValue())return qt.slots[this.id]}withValue(e,t,n,r){const o={__proto__:null,[this.id]:e},i=qt;qt={parent:i,slots:o};try{return t.apply(r,n)}finally{qt=i}}static bind(e){const t=qt;return function(){const n=qt;try{return qt=t,e.apply(this,arguments)}finally{qt=n}}}static noContext(e,t,n){if(!qt)return e.apply(n,t);{const r=qt;try{return qt=null,e.apply(n,t)}finally{qt=r}}}}),{bind:Wt,noContext:Yt}=Qt;const Xt=new Qt;const{hasOwnProperty:Zt}=Object.prototype,en=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function tn(e){const{unsubscribe:t}=e;"function"===typeof t&&(e.unsubscribe=void 0,t())}const nn=[];function rn(e,t){if(!e)throw new Error(t||"assertion failure")}function on(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function sn(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function an(e){return e.slice(0)}class cn{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++cn.count}peek(){if(1===this.value.length&&!fn(this))return un(this),this.value[0]}recompute(e){return rn(!this.recomputing,"already recomputing"),un(this),fn(this)?function(e,t){vn(e),Xt.withValue(e,ln,[e,t]),function(e,t){if("function"===typeof e.subscribe)try{tn(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,fn(e))return;hn(e)}(e);return sn(e.value)}(this,e):sn(this.value)}setDirty(){this.dirty||(this.dirty=!0,dn(this),tn(this))}dispose(){this.setDirty(),vn(this),pn(this,((e,t)=>{e.setDirty(),bn(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=nn.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(en(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),nn.push(this.deps),this.deps=null)}}function un(e){const t=Xt.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),fn(e)?mn(t,e):yn(t,e),t}function ln(e,t){e.recomputing=!0;const{normalizeResult:n}=e;let r;n&&1===e.value.length&&(r=an(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!on(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch(o){}}catch(i){e.value[1]=i}e.recomputing=!1}function fn(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function dn(e){pn(e,mn)}function hn(e){pn(e,yn)}function pn(e,t){const n=e.parents.size;if(n){const r=en(e.parents);for(let o=0;o<n;++o)t(r[o],e)}}function mn(e,t){rn(e.childValues.has(t)),rn(fn(t));const n=!fn(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=nn.pop()||new Set;e.dirtyChildren.add(t),n&&dn(e)}function yn(e,t){rn(e.childValues.has(t)),rn(!fn(t));const n=e.childValues.get(t);0===n.length?e.childValues.set(t,an(t.value)):on(n,t.value)||e.setDirty(),gn(e,t),fn(e)||hn(e)}function gn(e,t){const n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(nn.length<100&&nn.push(n),e.dirtyChildren=null))}function vn(e){e.childValues.size>0&&e.childValues.forEach(((t,n)=>{bn(e,n)})),e.forgetDeps(),rn(null===e.dirtyChildren)}function bn(e,t){t.parents.delete(e),e.childValues.delete(t),gn(e,t)}cn.count=0;const wn={setDirty:!0,dispose:!0,forget:!0};function En(e){const t=new Map,n=e&&e.subscribe;function r(e){const r=Xt.getValue();if(r){let o=t.get(e);o||t.set(e,o=new Set),r.dependOn(o),"function"===typeof n&&(tn(o),o.unsubscribe=n(e))}}return r.dirty=function(e,n){const r=t.get(e);if(r){const o=n&&Zt.call(wn,n)?n:"setDirty";en(r).forEach((e=>e[o]())),t.delete(e),tn(r)}},r}let _n;function Tn(...e){return(_n||(_n=new Ft("function"===typeof WeakMap))).lookupArray(e)}const Sn=new Set;function In(e,{max:t=Math.pow(2,16),keyArgs:n,makeCacheKey:r=Tn,normalizeResult:o,subscribe:i,cache:s=Vt}=Object.create(null)){const a="function"===typeof s?new s(t,(e=>e.dispose())):s,c=function(){const t=r.apply(null,n?n.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let s=a.get(t);s||(a.set(t,s=new cn(e)),s.normalizeResult=o,s.subscribe=i,s.forget=()=>a.delete(t));const c=s.recompute(Array.prototype.slice.call(arguments));return a.set(t,s),Sn.add(a),Xt.hasValue()||(Sn.forEach((e=>e.clean())),Sn.clear()),c};function u(e){const t=e&&a.get(e);t&&t.setDirty()}function l(e){const t=e&&a.get(e);if(t)return t.peek()}function f(e){return!!e&&a.delete(e)}return Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:t,keyArgs:n,makeCacheKey:r,normalizeResult:o,subscribe:i,cache:a}),c.dirtyKey=u,c.dirty=function(){u(r.apply(null,arguments))},c.peekKey=l,c.peek=function(){return l(r.apply(null,arguments))},c.forgetKey=f,c.forget=function(){return f(r.apply(null,arguments))},c.makeCacheKey=r,c.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(c)}var Nn=new Qt,On=new WeakMap;function An(e){var t=On.get(e);return t||On.set(e,t={vars:new Set,dep:En()}),t}function xn(e){An(e).vars.forEach((function(t){return t.forgetCache(e)}))}function kn(e){var t=new Set,n=new Set,r=function(i){if(arguments.length>0){if(e!==i){e=i,t.forEach((function(e){An(e).dep.dirty(r),$n(e)}));var s=Array.from(n);n.clear(),s.forEach((function(t){return t(e)}))}}else{var a=Nn.getValue();a&&(o(a),An(a).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var o=r.attachCache=function(e){return t.add(e),An(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function $n(e){e.broadcastWatches&&e.broadcastWatches()}var Cn=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=we(t.resolvers,e)})):this.resolvers=we(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,i=e.onlyRunForcedResolvers,s=void 0!==i&&i;return(0,C.mG)(this,void 0,void 0,(function(){return(0,C.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,s).then((function(e){return(0,C.pi)((0,C.pi)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return ue(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return Je(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,C.pi)((0,C.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,C.mG)(this,void 0,void 0,(function(){return(0,C.Jh)(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,C.pi)((0,C.pi)({},t),e.exportedVariables)}))]:[2,(0,C.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,ae.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return ae.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Ke(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,o,i){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===i&&(i=!1),(0,C.mG)(this,void 0,void 0,(function(){var s,a,c,u,l,f,d,h,p,m;return(0,C.Jh)(this,(function(y){return s=Z(e),a=Y(e),c=P(a),u=this.collectSelectionsToResolve(s,c),l=s.operation,f=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",h=(d=this).cache,p=d.client,m={fragmentMap:c,context:(0,C.pi)((0,C.pi)({},n),{cache:h,client:p}),variables:r,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:i},!1,[2,this.resolveSelectionSet(s.selectionSet,false,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n,r){return(0,C.mG)(this,void 0,void 0,(function(){var o,i,s,a,c,l=this;return(0,C.Jh)(this,(function(f){return o=r.fragmentMap,i=r.context,s=r.variables,a=[n],c=function(e){return(0,C.mG)(l,void 0,void 0,(function(){var c,l;return(0,C.Jh)(this,(function(f){return(t||r.selectionsToResolve.has(e))&&ce(e,s)?J(e)?[2,this.resolveField(e,t,n,r).then((function(t){var n;"undefined"!==typeof t&&a.push(((n={})[G(e)]=t,n))}))]:(!function(e){return"InlineFragment"===e.kind}(e)?(c=o[e.name.value],(0,u.kG)(c,18,e.name.value)):c=e,c&&c.typeCondition&&(l=c.typeCondition.name.value,r.fragmentMatcher(n,l,i))?[2,this.resolveSelectionSet(c.selectionSet,t,n,r).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(c)).then((function(){return Ee(a)}))]}))}))},e.prototype.resolveField=function(e,t,n,r){return(0,C.mG)(this,void 0,void 0,(function(){var o,i,s,a,c,u,l,f,d,h=this;return(0,C.Jh)(this,(function(p){return n?(o=r.variables,i=e.name.value,s=G(e),a=i!==s,c=n[s]||n[i],u=Promise.resolve(c),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=n.__typename||r.defaultOperationType,(f=this.resolvers&&this.resolvers[l])&&(d=f[a?i:s])&&(u=Promise.resolve(Nn.withValue(this.cache,d,[n,z(e,o),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,u.then((function(n){var o,i;if(void 0===n&&(n=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=n)}))})),!e.selectionSet)return n;if(null==n)return n;var s=null!==(i=null===(o=e.directives)||void 0===o?void 0:o.some((function(e){return"client"===e.name.value})))&&void 0!==i&&i;return Array.isArray(n)?h.resolveSubSelectedArray(e,t||s,n,r):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t||s,n,r):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n,r){var o=this;return Promise.all(n.map((function(n){return null===n?null:Array.isArray(n)?o.resolveSubSelectedArray(e,t,n,r):e.selectionSet?o.resolveSelectionSet(e.selectionSet,t,n,r):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var n=function(e){return!Array.isArray(e)},r=this.selectionsToResolveCache;return function e(o){if(!r.has(o)){var i=new Set;r.set(o,i),(0,ae.Vn)(o,{Directive:function(e,t,r,o,s){"client"===e.name.value&&s.forEach((function(e){n(e)&&(0,Dt.pO)(e)&&i.add(e)}))},FragmentSpread:function(r,o,s,a,c){var l=t[r.name.value];(0,u.kG)(l,19,r.name.value);var f=e(l);f.size>0&&(c.forEach((function(e){n(e)&&(0,Dt.pO)(e)&&i.add(e)})),i.add(r),f.forEach((function(e){i.add(e)})))}})}return r.get(o)}(e)},e}(),Rn=new(de.mr?WeakMap:Map);function Dn(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return Rn.set(e,(Rn.get(e)+1)%1e15),n.apply(this,arguments)})}function Pn(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var jn=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Rn.has(n)||(Rn.set(n,0),Dn(n,"evict"),Dn(n,"modify"),Dn(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||vt.Ie.loading;return this.variables&&this.networkStatus!==vt.Ie.loading&&!(0,Ye.D)(this.variables,e.variables)&&(t=vt.Ie.setVariables),(0,Ye.D)(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){Pn(this),this.dirty=!1},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&(0,Ye.D)(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var n=this.cache.diff(e);return this.updateLastDiff(n,e),n},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||(0,Ye.D)(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():kt(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;Pn(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if((0,vt.Oj)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel;var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=(0,C.pi)((0,C.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,Ye.D)(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Rn.get(this.cache)&&(0,Ye.D)(t,n.variables)&&(0,Ye.D)(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,r){var o=this,i=new Te,s=(0,ve.O)(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&(0,ve.O)(e.incremental)){var a=Ne(this.getDiff().result,e);e.data=a}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=i.merge(c.result,e.data)}this.graphQLErrors=s,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(Mn(e,n.errorPolicy)?this.cache.performTransaction((function(i){if(o.shouldWrite(e,n.variables))i.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===r}),o.lastWrite={result:e,variables:n.variables,dmCount:Rn.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete)return void(e.data=o.lastDiff.diff.result);var s=o.getDiffOptions(n.variables),a=i.diff(s);!o.stopped&&(0,Ye.D)(o.variables,n.variables)&&o.updateWatch(n.variables),o.updateLastDiff(a,s),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=vt.Ie.ready},e.prototype.markError=function(e){return this.networkStatus=vt.Ie.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function Mn(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!ft(e);return!r&&n&&e.data&&(r=!0),r}var Ln=Object.prototype.hasOwnProperty,Fn=function(){function e(e){var t=e.cache,n=e.link,r=e.defaultOptions,o=e.documentTransform,i=e.queryDeduplication,s=void 0!==i&&i,a=e.onBroadcast,c=e.ssrMode,u=void 0!==c&&c,l=e.clientAwareness,f=void 0===l?{}:l,d=e.localState,h=e.assumeImmutableResults,p=void 0===h?!!t.assumeImmutableResults:h,m=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(de.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map;var y=new ut((function(e){return m.cache.transformDocument(e)}),{cache:!1});this.cache=t,this.link=n,this.defaultOptions=r||Object.create(null),this.queryDeduplication=s,this.clientAwareness=f,this.localState=d||new Cn({cache:t}),this.ssrMode=u,this.assumeImmutableResults=p,this.documentTransform=o?y.concat(o).concat(y):y,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches((0,u._K)(25))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,n,r=e.mutation,o=e.variables,i=e.optimisticResponse,s=e.updateQueries,a=e.refetchQueries,c=void 0===a?[]:a,l=e.awaitRefetchQueries,f=void 0!==l&&l,d=e.update,h=e.onQueryUpdated,p=e.fetchPolicy,m=void 0===p?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":p,y=e.errorPolicy,g=void 0===y?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":y,v=e.keepRootFields,b=e.context;return(0,C.mG)(this,void 0,void 0,(function(){var e,t,n,a;return(0,C.Jh)(this,(function(l){switch(l.label){case 0:return(0,u.kG)(r,26),(0,u.kG)("network-only"===m||"no-cache"===m,27),e=this.generateMutationId(),r=this.cache.transformForLink(this.transform(r)),t=this.getDocumentInfo(r).hasClientExports,o=this.getVariables(r,o),t?[4,this.localState.addExportedVariables(r,o,b)]:[3,2];case 1:o=l.sent(),l.label=2;case 2:return n=this.mutationStore&&(this.mutationStore[e]={mutation:r,variables:o,loading:!0,error:null}),i&&this.markMutationOptimistic(i,{mutationId:e,document:r,variables:o,fetchPolicy:m,errorPolicy:g,context:b,updateQueries:s,update:d,keepRootFields:v}),this.broadcastQueries(),a=this,[2,new Promise((function(t,u){return lt(a.getObservableFromLink(r,(0,C.pi)((0,C.pi)({},b),{optimisticResponse:i}),o,!1),(function(t){if(ft(t)&&"none"===g)throw new ge.cA({graphQLErrors:dt(t)});n&&(n.loading=!1,n.error=null);var u=(0,C.pi)({},t);return"function"===typeof c&&(c=c(u)),"ignore"===g&&ft(u)&&delete u.errors,a.markMutationResult({mutationId:e,result:u,document:r,variables:o,fetchPolicy:m,errorPolicy:g,context:b,update:d,updateQueries:s,awaitRefetchQueries:f,refetchQueries:c,removeOptimistic:i?e:void 0,onQueryUpdated:h,keepRootFields:v})})).subscribe({next:function(e){a.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){n&&(n.loading=!1,n.error=t),i&&a.cache.removeOptimistic(e),a.broadcastQueries(),u(t instanceof ge.cA?t:new ge.cA({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,o=[],i="no-cache"===e.fetchPolicy;if(!i&&Mn(r,e.errorPolicy)){if(Se(r)||o.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Se(r)&&(0,ve.O)(r.incremental)){var s=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),a=void 0;s.result&&(a=Ne(s.result,r)),"undefined"!==typeof a&&(r.data=a,o.push({result:a,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach((function(e,i){var s=e.observableQuery,a=s&&s.queryName;if(a&&Ln.call(c,a)){var u=c[a],l=n.queries.get(i),f=l.document,d=l.variables,h=t.diff({query:f,variables:d,returnPartialData:!0,optimistic:!1}),p=h.result;if(h.complete&&p){var m=u(p,{mutationResult:r,queryName:f&&W(f)||void 0,queryVariables:d});m&&o.push({result:m,dataId:"ROOT_QUERY",query:f,variables:d})}}}))}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(t){i||o.forEach((function(e){return t.write(e)}));var s,a=e.update,c=!(Se(s=r)||function(e){return"hasNext"in e&&"data"in e}(s))||Se(r)&&!r.hasNext;if(a){if(!i){var u=t.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});u.complete&&("incremental"in(r=(0,C.pi)((0,C.pi)({},r),{data:u.result}))&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}c&&a(t,r,{context:e.context,variables:e.variables})}i||e.keepRootFields||!c||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return u.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(u).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,C.pi)((0,C.pi)({},t),{result:{data:r}}),e)}catch(o){!1!==globalThis.__DEV__&&u.kG.error(o)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchConcastWithInfo(e,t,n).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var n={hasClientExports:le(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:ue(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:ze([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:ee(Q(e)),asQuery:(0,C.pi)((0,C.pi)({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,C.pi)((0,C.pi)({},e),{operation:"query"}):e}))})};t.set(e,n)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,C.pi)((0,C.pi)({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);"undefined"===typeof(e=(0,C.pi)((0,C.pi)({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new jn(this),r=new xt({queryManager:this,queryInfo:n,options:e});return r.lastQuery=t,this.queries.set(r.queryId,n),n.init({document:t,observableQuery:r,variables:r.variables}),r},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),(0,u.kG)(e.query,28),(0,u.kG)("Document"===e.query.kind,29),(0,u.kG)(!e.returnPartialData,30),(0,u.kG)(!e.pollInterval,31),this.fetchQuery(t,(0,C.pi)((0,C.pi)({},e),{query:this.transform(e.query)})).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches((0,u._K)(32)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=vt.Ie.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,o=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"===typeof e?r.set(e,!1):(n=e,(0,R.s)(n)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e),!1):(0,R.s)(e)&&e.query&&o.add(e))})),this.queries.forEach((function(t,o){var i=t.observableQuery,s=t.document;if(i){if("all"===e)return void n.set(o,i);var a=i.queryName;if("standby"===i.options.fetchPolicy||"active"===e&&!i.hasObservers())return;("active"===e||a&&r.has(a)||s&&r.has(s))&&(n.set(o,i),a&&r.set(a,!0),s&&r.set(s,!0))}})),o.size&&o.forEach((function(e){var r=(0,ht.X)("legacyOneTimeQuery"),o=t.getQuery(r).init({document:e.query,variables:e.variables}),i=new xt({queryManager:t,queryInfo:o,options:(0,C.pi)((0,C.pi)({},e),{fetchPolicy:"network-only"})});(0,u.kG)(i.queryId===r),o.setObservableQuery(i),n.set(r,i)})),!1!==globalThis.__DEV__&&r.size&&r.forEach((function(e,t){e||!1!==globalThis.__DEV__&&u.kG.warn("string"===typeof t?33:34,t)})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,o){var i=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==i&&"cache-only"!==i)&&n.push(r.refetch()),t.getQuery(o).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.errorPolicy,i=void 0===o?"none":o,s=e.variables,a=e.context,c=void 0===a?{}:a;n=this.transform(n),s=this.getVariables(n,s);var u=function(e){return t.getObservableFromLink(n,c,e).map((function(o){"no-cache"!==r&&(Mn(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var s=ft(o),a=(0,ge.ls)(o);if(s||a){var c={};if(s&&(c.graphQLErrors=o.errors),a&&(c.protocolErrors=o.extensions[ge.YG]),"none"===i||a)throw new ge.cA(c)}return"ignore"===i&&delete o.errors,o}))};if(this.getDocumentInfo(n).hasClientExports){var l=this.localState.addExportedVariables(n,s,c).then(u);return new $((function(e){var t=null;return l.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(s)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var o,i,s=this;void 0===r&&(r=null!==(o=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var a=this.getDocumentInfo(e),c=a.serverQuery,u=a.clientQuery;if(c){var l=this.inFlightLinkObservables,f=this.link,d={query:c,variables:n,operationName:W(c)||void 0,context:this.prepareContext((0,C.pi)((0,C.pi)({},t),{forceFetch:!r}))};if(t=d.context,r){var h=Ce(c),p=l.get(h)||new Map;l.set(h,p);var m=st(n);if(!(i=p.get(m))){var y=new gt([ie(f,d)]);p.set(m,i=y),y.beforeNext((function(){p.delete(m)&&p.size<1&&l.delete(h)}))}}else i=new gt([ie(f,d)])}else i=new gt([$.of({data:{}})]),t=this.prepareContext(t);return u&&(i=lt(i,(function(e){return s.localState.runResolvers({document:u,remoteResult:e,context:t,variables:n})}))),i},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(n.query);return lt(this.getObservableFromLink(o,n.context,n.variables),(function(i){var s=dt(i),a=s.length>0;if(r>=e.lastRequestId){if(a&&"none"===n.errorPolicy)throw e.markError(new ge.cA({graphQLErrors:s}));e.markResult(i,o,n,t),e.markReady()}var c={data:i.data,loading:!1,networkStatus:vt.Ie.ready};return a&&"ignore"!==n.errorPolicy&&(c.errors=s,c.networkStatus=vt.Ie.error),c}),(function(t){var n=(0,ge.MS)(t)?t:new ge.cA({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchConcastWithInfo=function(e,t,n,r){var o=this;void 0===n&&(n=vt.Ie.loading),void 0===r&&(r=t.query);var i,s,a=this.getVariables(r,t.variables),c=this.getQuery(e),u=this.defaultOptions.watchQuery,l=t.fetchPolicy,f=void 0===l?u&&u.fetchPolicy||"cache-first":l,d=t.errorPolicy,h=void 0===d?u&&u.errorPolicy||"none":d,p=t.returnPartialData,m=void 0!==p&&p,y=t.notifyOnNetworkStatusChange,g=void 0!==y&&y,v=t.context,b=void 0===v?{}:v,w=Object.assign({},t,{query:r,variables:a,fetchPolicy:f,errorPolicy:h,returnPartialData:m,notifyOnNetworkStatusChange:g,context:b}),E=function(e){w.variables=e;var r=o.fetchQueryByPolicy(c,w,n);return"standby"!==w.fetchPolicy&&r.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),r},_=function(){return o.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,(function(e){_(),setTimeout((function(){return i.cancel(e)}))})),this.getDocumentInfo(w.query).hasClientExports)i=new gt(this.localState.addExportedVariables(w.query,w.variables,w.context).then(E).then((function(e){return e.sources}))),s=!0;else{var T=E(w.variables);s=T.fromLink,i=new gt(T.sources)}return i.promise.then(_,_),{concast:i,fromLink:s}},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,o=e.optimistic,i=void 0!==o&&o,s=e.removeOptimistic,a=void 0===s?i?(0,ht.X)("refetchQueries"):void 0:s,c=e.onQueryUpdated,u=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){u.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:i&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof jn&&e.watcher.observableQuery;if(r){if(c){u.delete(r.queryId);var o=c(r,t,n);return!0===o&&(o=r.refetch()),!1!==o&&l.set(r,o),o}null!==c&&u.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),u.size&&u.forEach((function(e,n){var r,o=e.oq,i=e.lastDiff,s=e.diff;if(c){if(!s){var a=o.queryInfo;a.reset(),s=a.getDiff()}r=c(o,s,i)}c&&!0!==r||(r=o.refetch()),!1!==r&&l.set(o,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,o=t.query,i=t.variables,s=t.fetchPolicy,a=t.refetchWritePolicy,c=t.errorPolicy,u=t.returnPartialData,l=t.context,f=t.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:o,variables:i,networkStatus:n});var h=function(){return e.getDiff()},p=function(t,n){void 0===n&&(n=e.networkStatus||vt.Ie.loading);var s=t.result;!1===globalThis.__DEV__||u||(0,Ye.D)(s,{})||Ct(t.missing);var a=function(e){return $.of((0,C.pi)({data:e,loading:(0,vt.Oj)(n),networkStatus:n},t.complete?null:{partial:!0}))};return s&&r.getDocumentInfo(o).hasForcedResolvers?r.localState.runResolvers({document:o,remoteResult:{data:s},context:l,variables:i,onlyRunForcedResolvers:!0}).then((function(e){return a(e.data||void 0)})):"none"===c&&n===vt.Ie.refetch&&Array.isArray(t.missing)?a(void 0):a(s)},m="no-cache"===s?0:n===vt.Ie.refetch&&"merge"!==a?1:2,y=function(){return r.getResultsFromLink(e,m,{query:o,variables:i,context:l,fetchPolicy:s,errorPolicy:c})},g=f&&"number"===typeof d&&d!==n&&(0,vt.Oj)(n);switch(s){default:case"cache-first":return(v=h()).complete?{fromLink:!1,sources:[p(v,e.markReady())]}:u||g?{fromLink:!0,sources:[p(v),y()]}:{fromLink:!0,sources:[y()]};case"cache-and-network":var v;return(v=h()).complete||u||g?{fromLink:!0,sources:[p(v),y()]}:{fromLink:!0,sources:[y()]};case"cache-only":return{fromLink:!1,sources:[p(h(),e.markReady())]};case"network-only":return g?{fromLink:!0,sources:[p(h()),y()]}:{fromLink:!0,sources:[y()]};case"no-cache":return g?{fromLink:!0,sources:[p(e.getDiff()),y()]}:{fromLink:!0,sources:[y()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new jn(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,C.pi)((0,C.pi)({},t),{clientAwareness:this.clientAwareness})},e}(),Un=n(4012),Bn=!1,Vn=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw(0,u._K)(15);var n=e.uri,r=e.credentials,o=e.headers,i=e.cache,s=e.documentTransform,a=e.ssrMode,c=void 0!==a&&a,l=e.ssrForceFetchDelay,f=void 0===l?0:l,d=e.connectToDevTools,h=void 0===d?"object"===typeof window&&!window.__APOLLO_CLIENT__&&!1!==globalThis.__DEV__:d,p=e.queryDeduplication,m=void 0===p||p,y=e.defaultOptions,g=e.assumeImmutableResults,v=void 0===g?i.assumeImmutableResults:g,b=e.resolvers,w=e.typeDefs,E=e.fragmentMatcher,_=e.name,T=e.version,S=e.link;S||(S=n?new We({uri:n,credentials:r,headers:o}):oe.empty()),this.link=S,this.cache=i,this.disableNetworkFetches=c||f>0,this.queryDeduplication=m,this.defaultOptions=y||Object.create(null),this.typeDefs=w,f&&setTimeout((function(){return t.disableNetworkFetches=!1}),f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=se.i,this.localState=new Cn({cache:i,client:this,resolvers:b,fragmentMatcher:E}),this.queryManager=new Fn({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,documentTransform:s,queryDeduplication:m,ssrMode:c,clientAwareness:{name:_,version:T},localState:this.localState,assumeImmutableResults:v,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),h&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("object"===typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}Bn||!1===globalThis.__DEV__||(Bn=!0,setTimeout((function(){if("undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,n=void 0;"string"===typeof t&&(t.indexOf("Chrome/")>-1?n="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(n="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),n&&!1!==globalThis.__DEV__&&u.kG.log("Download the Apollo DevTools for a better development experience: %s",n)}}),1e4))},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=(0,Un.J)(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,C.pi)((0,C.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=(0,Un.J)(this.defaultOptions.query,e)),(0,u.kG)("cache-and-network"!==e.fetchPolicy,16),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,C.pi)((0,C.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=(0,Un.J)(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return ie(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var o=Promise.all(r);return o.queries=n,o.results=r,o.catch((function(e){!1!==globalThis.__DEV__&&u.kG.debug(17,e)})),o},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),qn=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=In(D)}return e.prototype.batch=function(e){var t,n=this,r="string"===typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,C.pi)((0,C.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,C.pi)((0,C.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=(0,C._T)(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,o=e.fragmentName,i=(0,C._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(i,{query:this.getFragmentDoc(r,o),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),o=t(r);return void 0===o||null===o?r:(n.writeQuery((0,C.pi)((0,C.pi)({},e),{data:o})),o)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),o=t(r);return void 0===o||null===o?r:(n.writeFragment((0,C.pi)((0,C.pi)({},e),{data:o})),o)}})},e}(),zn=function(e){function t(n,r,o,i){var s,a=e.call(this,n)||this;if(a.message=n,a.path=r,a.query=o,a.variables=i,Array.isArray(a.path)){a.missing=a.message;for(var c=a.path.length-1;c>=0;--c)a.missing=((s={})[a.path[c]]=a.missing,s)}else a.missing=a.path;return a.__proto__=t.prototype,a}return(0,C.ZT)(t,e),t}(Error),Gn=n(8702),Kn=Object.prototype.hasOwnProperty;function Jn(e){return null===e||void 0===e}function Hn(e,t){var n=e.__typename,r=e.id,o=e._id;if("string"===typeof n&&(t&&(t.keyObject=Jn(r)?Jn(o)?void 0:{_id:o}:{id:r}),Jn(r)&&!Jn(o)&&(r=o),!Jn(r)))return"".concat(n,":").concat("number"===typeof r||"string"===typeof r?r:JSON.stringify(r))}var Qn={dataIdFromObject:Hn,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Wn(e){var t=e.canonizeResults;return void 0===t?Qn.canonizeResults:t}var Yn=/^[_a-z][_0-9a-z]*/i;function Xn(e){var t=e.match(Yn);return t?t[0]:e}function Zn(e,t,n){return!!(0,R.s)(t)&&((0,ve.k)(t)?t.every((function(t){return Zn(e,t,n)})):e.selections.every((function(e){if(J(e)&&ce(e,n)){var r=G(e);return Kn.call(t,r)&&(!e.selectionSet||Zn(e.selectionSet,t[r],n))}return!0})))}function er(e){return(0,R.s)(e)&&!L(e)&&!(0,ve.k)(e)}function tr(e,t){var n=P(Y(e));return{fragmentMap:n,lookupFragment:function(e){var r=n[e];return!r&&t&&(r=t.lookup(e)),r||null}}}var nr=Object.create(null),rr=function(){return nr},or=Object.create(null),ir=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,Gn.J)(L(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return L(e)?n.has(e.__ref):"object"===typeof e},this.toReference=function(e,t){if("string"===typeof e)return M(e);if(L(e))return e;var r=n.policies.identify(e)[0];if(r){var o=M(r);return t&&n.merge(r,e),o}}}return e.prototype.toObject=function(){return(0,C.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),Kn.call(this.data,e)){var n=this.data[e];if(n&&Kn.call(n,t))return n[t]}return"__typename"===t&&Kn.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof ur?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Kn.call(this.data,e)?this.data[e]:this instanceof ur?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;L(e)&&(e=e.__ref),L(t)&&(t=t.__ref);var o="string"===typeof e?this.lookup(n=e):e,i="string"===typeof t?this.lookup(n=t):t;if(i){(0,u.kG)("string"===typeof n,1);var s=new Te(fr).merge(o,i);if(this.data[n]=s,s!==o&&(delete this.refs[n],this.group.caching)){var a=Object.create(null);o||(a.__exists=1),Object.keys(i).forEach((function(e){if(!o||o[e]!==s[e]){a[e]=1;var t=Xn(e);t===e||r.policies.hasKeyArgs(s.__typename,t)||(a[t]=1),void 0!==s[e]||r instanceof ur||delete s[e]}})),!a.__typename||o&&o.__typename||this.policies.rootTypenamesById[n]!==s.__typename||delete a.__typename,Object.keys(a).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var o=Object.create(null),i=!1,s=!0,a={DELETE:nr,INVALIDATE:or,isReference:L,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"===typeof t?{fieldName:t,from:r||M(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(c){var l=Xn(c),f=r[c];if(void 0!==f){var d="function"===typeof t?t:t[c]||t[l];if(d){var h=d===rr?nr:d((0,Gn.J)(f),(0,C.pi)((0,C.pi)({},a),{fieldName:l,storeFieldName:c,storage:n.getStorage(e,c)}));if(h===or)n.group.dirty(e,c);else if(h===nr&&(h=void 0),h!==f&&(o[c]=h,i=!0,f=h,!1!==globalThis.__DEV__)){var p=function(e){if(void 0===n.lookup(e.__ref))return!1!==globalThis.__DEV__&&u.kG.warn(2,e),!0};if(L(h))p(h);else if(Array.isArray(h))for(var m=!1,y=void 0,g=0,v=h;g<v.length;g++){var b=v[g];if(L(b)){if(m=!0,p(b))break}else if("object"===typeof b&&b)n.policies.identify(b)[0]&&(y=b);if(m&&void 0!==y){!1!==globalThis.__DEV__&&u.kG.warn(3,y);break}}}}void 0!==f&&(s=!1)}})),i)return this.merge(e,o),s&&(this instanceof ur?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,o=this.lookup(e);if(o){var i=this.getFieldValue(o,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:i,fieldName:t,args:n}):t;return this.modify(e,s?((r={})[s]=rr,r):rr)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(Kn.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof ur&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){Kn.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&Kn.call(e,n)||t.delete(n)})),e){var n=e.__META,r=(0,C._T)(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof ur?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){Kn.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var o=this;o instanceof ur;)o=o.parent;r.forEach((function(e){return o.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!Kn.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){L(e)&&(t[e.__ref]=!0),(0,R.s)(e)&&Object.keys(e).forEach((function(t){var n=e[t];(0,R.s)(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),sr=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?En():null,this.keyMaker=new nt(de.mr)},e.prototype.depend=function(e,t){if(this.d){this.d(ar(e,t));var n=Xn(t);n!==t&&this.d(ar(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(ar(e,t),"__exists"===t?"forget":"setDirty")},e}();function ar(e,t){return t+"#"+e}function cr(e,t){dr(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,o=void 0===r||r,i=t.seed,s=e.call(this,n,new sr(o))||this;return s.stump=new lr(s),s.storageTrie=new nt(de.mr),i&&s.replace(i),s}return(0,C.ZT)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(ir||(ir={}));var ur=function(e){function t(t,n,r,o){var i=e.call(this,n.policies,o)||this;return i.id=t,i.parent=n,i.replay=r,i.group=o,r(i),i}return(0,C.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],o=n.lookup(e);o?r?r!==o&&Object.keys(r).forEach((function(n){(0,Ye.D)(r[n],o[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(o).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,C.pi)((0,C.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return Kn.call(this.data,t)?(0,C.pi)((0,C.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(ir),lr=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new sr(t.group.caching,t.group))||this}return(0,C.ZT)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,t){return this.parent.merge(e,t)},t}(ur);function fr(e,t,n){var r=e[n],o=t[n];return(0,Ye.D)(r,o)?r:o}function dr(e){return!!(e instanceof ir&&e.group.caching)}function hr(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var pr=function(){function e(e){var t=this;this.knownResults=new(de.mr?WeakMap:Map),this.config=(0,bt.o)(e,{addTypename:!1!==e.addTypename,canonizeResults:Wn(e)}),this.canon=e.canon||new it,this.executeSelectionSet=In((function(e){var n,r=e.context.canonizeResults,o=hr(e);o[3]=!r;var i=(n=t.executeSelectionSet).peek.apply(n,o);return i?r?(0,C.pi)((0,C.pi)({},i),{result:t.canon.admit(i.result)}):i:(cr(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:hr,makeCacheKey:function(e,t,n,r){if(dr(n.store))return n.store.makeCacheKey(e,L(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=In((function(e){return cr(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(dr(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new it},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,o=void 0===r?"ROOT_QUERY":r,i=e.variables,s=e.returnPartialData,a=void 0===s||s,c=e.canonizeResults,u=void 0===c?this.config.canonizeResults:c,l=this.config.cache.policies;i=(0,C.pi)((0,C.pi)({},ee(X(n))),i);var f,d=M(o),h=this.executeSelectionSet({selectionSet:Z(n).selectionSet,objectOrReference:d,enclosingRef:d,context:(0,C.pi)({store:t,query:n,policies:l,variables:i,varString:st(i),canonizeResults:u},tr(n,this.config.fragments))});if(h.missing&&(f=[new zn(mr(h.missing),h.missing,n,i)],!a))throw f[0];return{result:h.result,complete:!f,missing:f}},e.prototype.isFresh=function(e,t,n,r){if(dr(r.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,o=e.enclosingRef,i=e.context;if(L(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var s,a=i.variables,c=i.policies,l=i.store.getFieldValue(r,"__typename"),f=[],d=new Te;function h(e,t){var n;return e.missing&&(s=d.merge(s,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"===typeof l&&!c.rootIdsByTypename[l]&&f.push({__typename:l});var p=new Set(n.selections);p.forEach((function(e){var n,m;if(ce(e,a))if(J(e)){var y=c.readField({fieldName:e.name.value,field:e,variables:i.variables,from:r},i),g=G(e);void 0===y?Ge.added(e)||(s=d.merge(s,((n={})[g]="Can't find field '".concat(e.name.value,"' on ").concat(L(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):(0,ve.k)(y)?y=h(t.executeSubSelectedArray({field:e,array:y,enclosingRef:o,context:i}),g):e.selectionSet?null!=y&&(y=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:y,enclosingRef:L(y)?y:o,context:i}),g)):i.canonizeResults&&(y=t.canon.pass(y)),void 0!==y&&f.push(((m={})[g]=y,m))}else{var v=j(e,i.lookupFragment);if(!v&&e.kind===Le.h.FRAGMENT_SPREAD)throw(0,u._K)(9,e.name.value);v&&c.fragmentMatches(v,l)&&v.selectionSet.selections.forEach(p.add,p)}}));var m={result:Ee(f),missing:s},y=i.canonizeResults?this.canon.admit(m):(0,Gn.J)(m);return y.result&&this.knownResults.set(y.result,n),y},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,o=e.array,i=e.enclosingRef,s=e.context,a=new Te;function c(e,n){var r;return e.missing&&(t=a.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(o=o.filter(s.store.canRead)),o=o.map((function(e,t){return null===e?null:(0,ve.k)(e)?c(n.executeSubSelectedArray({field:r,array:e,enclosingRef:i,context:s}),t):r.selectionSet?c(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:L(e)?e:i,context:s}),t):(!1!==globalThis.__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){(0,R.s)(n)&&((0,u.kG)(!L(n),10,function(e,t){return L(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n),t.name.value),Object.values(n).forEach(r.add,r))}))}}(s.store,r,e),e)})),{result:s.canonizeResults?this.canon.admit(o):o,missing:t}},e}();function mr(e){try{JSON.stringify(e,(function(e,t){if("string"===typeof t)throw t;return t}))}catch(t){return t}}var yr=n(3887),gr=Object.create(null);function vr(e){var t=JSON.stringify(e);return gr[t]||(gr[t]=Object.create(null))}function br(e){var t=vr(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},o=n.keyObject=Er(e,(function(e){var o=Sr(n.storeObject,e,r);return void 0===o&&t!==n.storeObject&&Kn.call(t,e[0])&&(o=Sr(t,e,Tr)),(0,u.kG)(void 0!==o,4,e.join("."),t),o}));return"".concat(n.typename,":").concat(JSON.stringify(o))})}function wr(e){var t=vr(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,o=n.variables,i=n.fieldName,s=Er(e,(function(e){var n=e[0],i=n.charAt(0);if("@"!==i)if("$"!==i){if(t)return Sr(t,e)}else{var s=n.slice(1);if(o&&Kn.call(o,s)){var a=e.slice(0);return a[0]=s,Sr(o,a)}}else if(r&&(0,ve.O)(r.directives)){var c=n.slice(1),u=r.directives.find((function(e){return e.name.value===c})),l=u&&z(u,o);return l&&Sr(l,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(i+=":"+a),i})}function Er(e,t){var n=new Te;return _r(e).reduce((function(e,r){var o,i=t(r);if(void 0!==i){for(var s=r.length-1;s>=0;--s)(o={})[r[s]]=i,i=o;e=n.merge(e,i)}return e}),Object.create(null))}function _r(e){var t=vr(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,o){(0,ve.k)(t)?(_r(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),(0,ve.k)(e[o+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function Tr(e,t){return e[t]}function Sr(e,t,n){return n=n||Tr,Ir(t.reduce((function e(t,r){return(0,ve.k)(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function Ir(e){return(0,R.s)(e)?(0,ve.k)(e)?e.map(Ir):Er(Object.keys(e).sort(),(function(t){return Sr(e,t)})):e}function Nr(e){return void 0!==e.args?e.args:e.field?z(e.field,e.variables):null}B.setStringify(st);var Or=function(){},Ar=function(e,t){return t.fieldName},xr=function(e,t,n){return(0,n.mergeObjects)(e,t)},kr=function(e,t){return t},$r=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,C.pi)({dataIdFromObject:Hn},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,o=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var i,s=t&&t.storeObject||e,a=(0,C.pi)((0,C.pi)({},t),{typename:o,storeObject:s,readField:t&&t.readField||function(){var e=Rr(arguments,s);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),c=o&&this.getTypePolicy(o),u=c&&c.keyFn||this.config.dataIdFromObject;u;){var l=u((0,C.pi)((0,C.pi)({},e),s),a);if(!(0,ve.k)(l)){i=l;break}u=br(l)}return i=i?String(i):void 0,a.keyObject?[i,a.keyObject]:[i]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],o=r.queryType,i=r.mutationType,s=r.subscriptionType,a=(0,C._T)(r,["queryType","mutationType","subscriptionType"]);o&&t.setRootTypename("Query",n),i&&t.setRootTypename("Mutation",n),s&&t.setRootTypename("Subscription",n),Kn.call(t.toBeAdded,n)?t.toBeAdded[n].push(a):t.toBeAdded[n]=[a]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),o=t.keyFields,i=t.fields;function s(e,t){e.merge="function"===typeof t?t:!0===t?xr:!1===t?kr:e.merge}s(r,t.merge),r.keyFn=!1===o?Or:(0,ve.k)(o)?br(o):"function"===typeof o?o:r.keyFn,i&&Object.keys(i).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),o=i[t];if("function"===typeof o)r.read=o;else{var a=o.keyArgs,c=o.read,u=o.merge;r.keyFn=!1===a?Ar:(0,ve.k)(a)?wr(a):"function"===typeof a?a:r.keyFn,"function"===typeof c&&(r.read=c),s(r,u)}r.read&&r.merge&&(r.keyFn=r.keyFn||Ar)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&((0,u.kG)(!r||r===e,5,e),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(Yn);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!Kn.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);!r&&this.fuzzySubtypes.size&&(r=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((function(n,o){if(n.test(e)){var i=t.supertypeMap.get(o);i&&i.forEach((function(e){return r.add(e)}))}}))),r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),o=r.fields,i=(0,C._T)(r,["fields"]);Object.assign(n,i),Object.assign(n.fields,o)}))}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var o=this;if(!e.typeCondition)return!0;if(!t)return!1;var i=e.typeCondition.name.value;if(t===i)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(i))for(var s=this.getSupertypeSet(t,!0),a=[s],c=function(e){var t=o.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},l=!(!n||!this.fuzzySubtypes.size),f=!1,d=0;d<a.length;++d){var h=a[d];if(h.has(i))return s.has(i)||(f&&!1!==globalThis.__DEV__&&u.kG.warn(6,t,i),s.add(i)),!0;h.forEach(c),l&&d===a.length-1&&Zn(e.selectionSet,n,r)&&(l=!1,f=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&c(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,o=this.getFieldPolicy(n,r,!1),i=o&&o.keyFn;if(i&&n)for(var s={typename:n,fieldName:r,field:e.field||null,variables:e.variables},a=Nr(e);i;){var c=i(a,s);if(!(0,ve.k)(c)){t=c||r;break}i=wr(c)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var o=r.name,i=r.value;return F(n[e.name.value],o,i,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,o=e.value;return F(r,n,o,t)}))),B(e.name.value,r,n)}(e.field,e.variables):B(r,Nr(e))),!1===t?r:r===Xn(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var o=this.getStoreFieldName(e),i=Xn(o),s=t.store.getFieldValue(n,o),a=this.getFieldPolicy(e.typename,i,!1),c=a&&a.read;if(c){var u=Cr(this,n,e,t,t.store.getStorage(L(n)?n.__ref:n,o));return Nn.withValue(this.cache,c,[s,u])}return s}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),o=r&&r.merge;return!o&&n&&(o=(r=this.getTypePolicy(n))&&r.merge),o},e.prototype.runMergeFunction=function(e,t,n,r,o){var i=n.field,s=n.typename,a=n.merge;return a===xr?Dr(r.store)(e,t):a===kr?t:(r.overwrite&&(e=void 0),a(e,t,Cr(this,void 0,{typename:s,fieldName:i.name.value,field:i,variables:r.variables},r,o||Object.create(null))))},e}();function Cr(e,t,n,r,o){var i=e.getStoreFieldName(n),s=Xn(i),a=n.variables||r.variables,c=r.store,u=c.toReference,l=c.canRead;return{args:Nr(n),field:n.field||null,fieldName:s,storeFieldName:i,variables:a,isReference:L,toReference:u,storage:o,cache:e.cache,canRead:l,readField:function(){return e.readField(Rr(arguments,t,a),r)},mergeObjects:Dr(r.store)}}function Rr(e,t,n){var r,o=e[0],i=e[1],s=e.length;return"string"===typeof o?r={fieldName:o,from:s>1?i:t}:(r=(0,C.pi)({},o),Kn.call(r,"from")||(r.from=t)),!1!==globalThis.__DEV__&&void 0===r.from&&!1!==globalThis.__DEV__&&u.kG.warn(7,(0,yr.v)(Array.from(e))),void 0===r.variables&&(r.variables=n),r}function Dr(e){return function(t,n){if((0,ve.k)(t)||(0,ve.k)(n))throw(0,u._K)(8);if((0,R.s)(t)&&(0,R.s)(n)){var r=e.getFieldValue(t,"__typename"),o=e.getFieldValue(n,"__typename");if(r&&o&&r!==o)return n;if(L(t)&&er(n))return e.merge(t.__ref,n),t;if(er(t)&&L(n))return e.merge(t,n.__ref),n;if(er(t)&&er(n))return(0,C.pi)((0,C.pi)({},t),n)}return n}}function Pr(e,t,n){var r="".concat(t).concat(n),o=e.flavors.get(r);return o||e.flavors.set(r,o=e.clientOnly===t&&e.deferred===n?e:(0,C.pi)((0,C.pi)({},e),{clientOnly:t,deferred:n})),o}var jr=function(){function e(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,o=t.result,i=t.dataId,s=t.variables,a=t.overwrite,c=Q(r),l=new Te;s=(0,C.pi)((0,C.pi)({},ee(c)),s);var f=(0,C.pi)((0,C.pi)({store:e,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:s,varString:st(s)},tr(r,this.fragments)),{overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:o||Object.create(null),dataId:i,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:f});if(!L(d))throw(0,u._K)(11,o);return f.incomingById.forEach((function(t,r){var o=t.storeObject,i=t.mergeTree,s=t.fieldNodeSet,a=M(r);if(i&&i.map.size){var c=n.applyMerges(i,a,o,f);if(L(c))return;o=c}if(!1!==globalThis.__DEV__&&!f.overwrite){var l=Object.create(null);s.forEach((function(e){e.selectionSet&&(l[e.name.value]=!0)}));Object.keys(o).forEach((function(e){(function(e){return!0===l[Xn(e)]})(e)&&!function(e){var t=i&&i.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var o=function(e){var t=r.getFieldValue(e,n);return"object"===typeof t&&t},i=o(e);if(!i)return;var s=o(t);if(!s)return;if(L(i))return;if((0,Ye.D)(i,s))return;if(Object.keys(i).every((function(e){return void 0!==r.getFieldValue(s,e)})))return;var a=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),c=Xn(n),l="".concat(a,".").concat(c);if(Vr.has(l))return;Vr.add(l);var f=[];(0,ve.k)(i)||(0,ve.k)(s)||[i,s].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!==typeof t||f.includes(t)||f.push(t)}));!1!==globalThis.__DEV__&&u.kG.warn(14,c,a,f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"",l,i,s)}(a,o,e,f.store)}))}e.merge(r,o)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,o=e.selectionSet,i=e.context,s=e.mergeTree,a=this.cache.policies,c=Object.create(null),l=n&&a.rootTypenamesById[n]||K(r,o,i.fragmentMap)||n&&i.store.get(n,"__typename");"string"===typeof l&&(c.__typename=l);var f=function(){var e=Rr(arguments,c,i.variables);if(L(e.from)){var t=i.incomingById.get(e.from.__ref);if(t){var n=a.readField((0,C.pi)((0,C.pi)({},e),{from:t.storeObject}),i);if(void 0!==n)return n}}return a.readField(e,i)},d=new Set;this.flattenFields(o,r,i,l).forEach((function(e,n){var o,i=G(n),h=r[i];if(d.add(n),void 0!==h){var p=a.getStoreFieldName({typename:l,fieldName:n.name.value,field:n,variables:e.variables}),m=Lr(s,p),y=t.processFieldValue(h,n,n.selectionSet?Pr(e,!1,!1):e,m),g=void 0;n.selectionSet&&(L(y)||er(y))&&(g=f("__typename",y));var v=a.getMergeFunction(l,n.name.value,g);v?m.info={field:n,typename:l,merge:v}:Br(s,p),c=e.merge(c,((o={})[p]=y,o))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||Ge.added(n)||a.getReadFunction(l,n.name.value)||!1!==globalThis.__DEV__&&u.kG.error(12,G(n),r)}));try{var h=a.identify(r,{typename:l,selectionSet:o,fragmentMap:i.fragmentMap,storeObject:c,readField:f}),p=h[0],m=h[1];n=n||p,m&&(c=i.merge(c,m))}catch(b){if(!n)throw b}if("string"===typeof n){var y=M(n),g=i.written[n]||(i.written[n]=[]);if(g.indexOf(o)>=0)return y;if(g.push(o),this.reader&&this.reader.isFresh(r,y,o,i))return y;var v=i.incomingById.get(n);return v?(v.storeObject=i.merge(v.storeObject,c),v.mergeTree=Fr(v.mergeTree,s),d.forEach((function(e){return v.fieldNodeSet.add(e)}))):i.incomingById.set(n,{storeObject:c,mergeTree:Ur(s)?void 0:s,fieldNodeSet:d}),y}return c},e.prototype.processFieldValue=function(e,t,n,r){var o=this;return t.selectionSet&&null!==e?(0,ve.k)(e)?e.map((function(e,i){var s=o.processFieldValue(e,t,n,Lr(r,i));return Br(r,i),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):!1!==globalThis.__DEV__?Et(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=K(t,e,n.fragmentMap));var o=new Map,i=this.cache.policies,s=new nt(!1);return function e(a,c){var l=s.lookup(a,c.clientOnly,c.deferred);l.visited||(l.visited=!0,a.selections.forEach((function(s){if(ce(s,n.variables)){var a=c.clientOnly,l=c.deferred;if(a&&l||!(0,ve.O)(s.directives)||s.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(a=!0),"defer"===t){var r=z(e,n.variables);r&&!1===r.if||(l=!0)}})),J(s)){var f=o.get(s);f&&(a=a&&f.clientOnly,l=l&&f.deferred),o.set(s,Pr(n,a,l))}else{var d=j(s,n.lookupFragment);if(!d&&s.kind===Le.h.FRAGMENT_SPREAD)throw(0,u._K)(13,s.name.value);d&&i.fragmentMatches(d,r,t,n.variables)&&e(d.selectionSet,Pr(n,a,l))}}})))}(e,n),o},e.prototype.applyMerges=function(e,t,n,r,o){var i,s=this;if(e.map.size&&!L(n)){var a,c=(0,ve.k)(n)||!L(t)&&!er(t)?void 0:t,l=n;c&&!o&&(o=[L(c)?c.__ref:c]);var f=function(e,t){return(0,ve.k)(e)?"number"===typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=f(c,t),i=f(l,t);if(void 0!==i){o&&o.push(t);var d=s.applyMerges(e,n,i,r,o);d!==i&&(a=a||new Map).set(t,d),o&&(0,u.kG)(o.pop()===t)}})),a&&(n=(0,ve.k)(l)?l.slice(0):(0,C.pi)({},l),a.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,o&&(i=r.store).getStorage.apply(i,o)):n},e}(),Mr=[];function Lr(e,t){var n=e.map;return n.has(t)||n.set(t,Mr.pop()||{map:new Map}),n.get(t)}function Fr(e,t){if(e===t||!t||Ur(t))return e;if(!e||Ur(e))return t;var n=e.info&&t.info?(0,C.pi)((0,C.pi)({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,o={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var i=new Set(t.map.keys());e.map.forEach((function(e,n){o.map.set(n,Fr(e,t.map.get(n))),i.delete(n)})),i.forEach((function(n){o.map.set(n,Fr(t.map.get(n),e.map.get(n)))}))}return o}function Ur(e){return!e||!(e.info||e.map.size)}function Br(e,t){var n=e.map,r=n.get(t);r&&Ur(r)&&(Mr.push(r),n.delete(t))}var Vr=new Set;var qr=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new ut(Ge),n.assumeImmutableResults=!0,n.makeVar=kn,n.txCount=0,n.config=function(e){return(0,bt.o)(Qn,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new $r({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,C.ZT)(t,e),t.prototype.init=function(){var e=this.data=new ir.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new jr(this,this.storeReader=new pr({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Wn(this.config),canon:e?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=In((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(dr(n)){var r=e.optimistic,o=e.id,i=e.variables;return n.makeCacheKey(e.query,e.callback,st({optimistic:r,id:o,variables:i}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore((0,C.pi)((0,C.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof zn)return null;throw r}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(Kn.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,C.pi)((0,C.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,n=this;return this.watches.size||An(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&xn(n),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){st.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(L(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(t){!1!==globalThis.__DEV__&&u.kG.warn(t)}},t.prototype.evict=function(e){if(!e.id){if(Kn.call(e,"id"))return!1;e=(0,C.pi)((0,C.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),st.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),xn(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,o=e.optimistic,i=void 0===o||o,s=e.removeOptimistic,a=e.onWatchUpdated,c=function(e){var o=n,i=o.data,s=o.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=i,n.optimisticData=s}},u=new Set;return a&&!this.txCount&&this.broadcastWatches((0,C.pi)((0,C.pi)({},e),{onWatchUpdated:function(e){return u.add(e),!1}})),"string"===typeof i?this.optimisticData=this.optimisticData.addLayer(i,c):!1===i?c(this.data):c(),"string"===typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),a&&u.size?(this.broadcastWatches((0,C.pi)((0,C.pi)({},e),{onWatchUpdated:function(e,t){var n=a.call(this,e,t);return!1!==n&&u.delete(e),n}})),u.size&&u.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"===typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&(0,Ye.D)(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(qn),zr=n(5317),Gr=function(e){var t=e.client,n=e.children,r=(0,zr.K)(),o=a.useContext(r),i=a.useMemo((function(){return(0,C.pi)((0,C.pi)({},o),{client:t||o.client})}),[o,t]);return(0,u.kG)(i.client,46),a.createElement(r.Provider,{value:i},n)};var Kr=function(e){return(0,C._T)(e,Jr)},Jr=["edges","pageInfo"];function Hr(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function Qr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Hr(i,r,o,s,a,"next",e)}function a(e){Hr(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wr(e,t,n[t])}))}return e}var Xr=function(e){var t,n=e.Component,r=e.pageProps,u=(0,s.c)(),l=u.ceramic,f=u.composeClient,d=(0,a.useState)(!0),h=d[0],p=d[1],m=new oe((function(e){return new $((function(t){f.execute(e.query,e.variables).then((function(e){t.next(e),t.complete()}),(function(e){t.error(e)}))}))})),y=new Vn({cache:new qr({typePolicies:{CeramicAccount:{fields:{cardList:(void 0===t&&(t=!1),{keyArgs:t,read:function(e,t){var n=t.canRead,r=t.readField;if(!e)return e;var o=[],i="",s="";e.edges.forEach((function(e){n(r("node",e))&&(o.push(e),e.cursor&&(i=i||e.cursor||"",s=e.cursor||s))})),o.length>1&&i===s&&(i="");var a=e.pageInfo||{},c=a.startCursor,u=a.endCursor;return(0,C.pi)((0,C.pi)({},Kr(e)),{edges:o,pageInfo:(0,C.pi)((0,C.pi)({},e.pageInfo),{startCursor:c||i,endCursor:u||s})})},merge:function(e,t,n){var r=n.args,o=n.isReference,i=n.readField;if(e||(e={edges:[],pageInfo:{hasPreviousPage:!1,hasNextPage:!0,startCursor:"",endCursor:""}}),!t)return e;var s=t.edges?t.edges.map((function(e){return o(e=(0,C.pi)({},e))&&(e.cursor=i("cursor",e)),e})):[];if(t.pageInfo){var a=t.pageInfo,c=a.startCursor,u=a.endCursor,l=s[0],f=s[s.length-1];l&&c&&(l.cursor=c),f&&u&&(f.cursor=u);var d=l&&l.cursor;d&&!c&&(t=we(t,{pageInfo:{startCursor:d}}));var h=f&&f.cursor;h&&!u&&(t=we(t,{pageInfo:{endCursor:h}}))}var p=e.edges,m=[];if(r&&r.after)(y=p.findIndex((function(e){return e.cursor===r.after})))>=0&&(p=p.slice(0,y+1));else if(r&&r.before){var y;m=(y=p.findIndex((function(e){return e.cursor===r.before})))<0?p:p.slice(y),p=[]}else t.edges&&(p=[]);var g=(0,C.ev)((0,C.ev)((0,C.ev)([],p,!0),s,!0),m,!0),v=(0,C.pi)((0,C.pi)({},t.pageInfo),e.pageInfo);if(t.pageInfo){var b=t.pageInfo,w=b.hasPreviousPage,E=b.hasNextPage,_=(c=b.startCursor,u=b.endCursor,(0,C._T)(b,["hasPreviousPage","hasNextPage","startCursor","endCursor"]));Object.assign(v,_),p.length||(void 0!==w&&(v.hasPreviousPage=w),void 0!==c&&(v.startCursor=c)),m.length||(void 0!==E&&(v.hasNextPage=E),void 0!==u&&(v.endCursor=u))}return(0,C.pi)((0,C.pi)((0,C.pi)({},Kr(e)),Kr(t)),{edges:g,pageInfo:v})}})}}}}),link:m}),g=function(){var e=Qr(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.M)(l,f);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){localStorage.getItem("logged_in")?(g(),function(){var e=function(){var e=function(e){var t=document.createElement("span");return t.style.backgroundColor="#EEEE00",t.style.color="#111111",t.classList.add("sdwh-highlight"),t.setAttribute("sdwh-highlight-id",e),t.style.fontSize="1.1em",t},t=function(e){if(e.nextSibling)return n(e.nextSibling);for(;e.parentNode&&!e.parentNode.nextSibling;)e=e.parentNode;return e.parentNode?n(e.parentNode.nextSibling):null},n=function(e){for(;e&&e.firstChild;)e=e.firstChild;return e},r=function(e,t){var n=document.createRange();n.selectNode(e);var r=t.compareBoundaryPoints(Range.END_TO_START,n)<=0,o=t.compareBoundaryPoints(Range.START_TO_END,n)>=0;return r&&o},o=window.getSelection(),i=Date.now().toString(36)+Math.random().toString(36).substring(2,10);if(o){var s=o.getRangeAt(0),a=s.getBoundingClientRect(),c=-(document.body.parentNode.getBoundingClientRect().top-a.top),u=document.body.scrollHeight;if(s.startContainer===s.endContainer){var l=e(i);return s.surroundContents(l),{scrollY:c,scrollHeight:u}}for(var f,d=s.startContainer,h=[];d&&r(d,s);)d.nodeType===Node.TEXT_NODE&&""!==d.textContent.trim()&&(f=d,"none"!==window.getComputedStyle(f.parentNode,null).display)&&h.push(d),d=d===s.endContainer?null:t(d);return h.forEach((function(t){var n=document.createRange();t===s.startContainer?(n.setStart(t,s.startOffset),n.setEnd(t,t.length)):t===s.endContainer?(n.setStart(t,0),n.setEnd(t,s.endOffset)):n.selectNodeContents(t);var r=e(i);n.surroundContents(r)})),{scrollY:c,scrollHeight:u}}},t=function(){var t=Qr(o().mark((function t(n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.scripting.executeScript({target:{tabId:n.id},func:e});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var e=Qr(o().mark((function e(t,n){var r,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("http://localhost:3000/api/createNewResource",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientMutationId:n,url:t.url,title:t.title,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})});case 3:if((i=e.sent).ok){e.next=6;break}throw new Error("Server responded with an error: "+i.status);case 6:return e.next=8,i.json();case 8:return s=e.sent,console.log(s),e.abrupt("return",null===(r=s.newResourceId.data)||void 0===r?void 0:r.createIcarusResource.document.id);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=Qr(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/saveImgUrl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imgUrl:t})});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Server responded with an error: "+n.status);case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.rootCid);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();chrome.contextMenus.create({id:"save-to-wakeful",title:"Save to Wakeful",contexts:["image","selection"]}),chrome.contextMenus.onClicked.addListener(function(){var e=Qr(o().mark((function e(i,s){var a,c,u,d,h,p,m,y,g,v,b,w,E,_,T,S,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==l.did){e.next=2;break}return e.abrupt("return");case 2:return a=f.id,e.next=5,f.executeQuery('\n        query {\n          icarusResourceIndex(first: 2, filters:{ where: { url: { equalTo: "'.concat(s.url,'" }}}) {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n        }\n      '));case 5:if(0!==(null===(c=e.sent)||void 0===c?void 0:c.data.icarusResourceIndex.edges.length)){e.next=14;break}return e.next=10,n(s,a);case 10:m=e.sent,u=m,e.next=15;break;case 14:u=c.data.icarusResourceIndex.edges[0].node.id;case 15:if(y=i.srcUrl,g=i.selectionText,v=i.pageUrl,b=(new Date).toISOString(),!y){e.next=23;break}return e.next=20,r(y);case 20:d=e.sent,e.next=29;break;case 23:return e.next=25,t(s);case 25:w=e.sent,E=w[0].result,h=parseInt(E.scrollY),p=parseInt(E.scrollHeight);case 29:for(T in _={createdAt:b,updatedAt:b,resourceId:u,quote:g,pageYOffset:h,scrollHeight:p,cid:d,deleted:!1,url:v})void 0!==_[T]&&null!==_[T]||delete _[T];return S={i:{content:_}},e.next=34,f.executeQuery("\n      mutation CreateNewCard ($i: CreateCardInput!) {\n        createCard(\n          input: $i\n        ) {\n          document {\n            id\n          }\n        }\n      }\n      ",S);case 34:(I=e.sent).errors?console.log("Error creating card",I.errors):I.data&&console.log("successfully created a card");case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}()):(p(!1),chrome.contextMenus.remove("save-to-wakeful"))}),[]),(0,i.jsx)("div",{children:(0,i.jsx)(Gr,{client:y,children:(0,i.jsx)("div",{children:(0,i.jsx)(s.B,{children:(0,i.jsx)("div",{children:(0,i.jsx)(n,Yr({},r,{loggedIn:h,setLoggedIn:p}))})})})})})}},7706:function(e,t,n){"use strict";n.d(t,{M:function(){return Id}});var r={};n.r(r),n.d(r,{bitGet:function(){return Le},bitLen:function(){return Me},bitMask:function(){return Ue},bitSet:function(){return Fe},bytesToHex:function(){return ge},bytesToNumberBE:function(){return Ae},bytesToNumberLE:function(){return xe},concatBytes:function(){return De},createHmacDrbg:function(){return qe},ensureBytes:function(){return Re},equalBytes:function(){return Pe},hexToBytes:function(){return Oe},hexToNumber:function(){return be},isBytes:function(){return me},numberToBytesBE:function(){return ke},numberToBytesLE:function(){return $e},numberToHexUnpadded:function(){return ve},numberToVarBytesBE:function(){return Ce},utf8ToBytes:function(){return je},validateObject:function(){return Ge}});var o={};n.r(o),n.d(o,{identity:function(){return Zt}});var i={};n.r(i),n.d(i,{base2:function(){return en}});var s={};n.r(s),n.d(s,{base8:function(){return tn}});var a={};n.r(a),n.d(a,{base10:function(){return nn}});var c={};n.r(c),n.d(c,{base16:function(){return rn},base16upper:function(){return on}});var u={};n.r(u),n.d(u,{base32:function(){return sn},base32hex:function(){return ln},base32hexpad:function(){return dn},base32hexpadupper:function(){return hn},base32hexupper:function(){return fn},base32pad:function(){return cn},base32padupper:function(){return un},base32upper:function(){return an},base32z:function(){return pn}});var l={};n.r(l),n.d(l,{base36:function(){return mn},base36upper:function(){return yn}});var f={};n.r(f),n.d(f,{base58btc:function(){return gn},base58flickr:function(){return vn}});var d={};n.r(d),n.d(d,{base64:function(){return bn},base64pad:function(){return wn},base64url:function(){return En},base64urlpad:function(){return _n}});var h={};n.r(h),n.d(h,{base256emoji:function(){return Nn}});var p={};n.r(p),n.d(p,{sha256:function(){return Jn},sha512:function(){return Hn}});var m={};n.r(m),n.d(m,{identity:function(){return Wn}});var y={};n.r(y),n.d(y,{code:function(){return Xn},decode:function(){return er},encode:function(){return Zn},name:function(){return Yn}});var g={};n.r(g),n.d(g,{code:function(){return or},decode:function(){return sr},encode:function(){return ir},name:function(){return rr}});var v={};n.r(v),n.d(v,{keyToDidDoc:function(){return ia}});var b={};n.r(b),n.d(b,{keyToDidDoc:function(){return ca}});var w={};n.r(w),n.d(w,{keyToDidDoc:function(){return Ea},pubKeyBytesToXY:function(){return _a}});var E={};n.r(E),n.d(E,{keyToDidDoc:function(){return Ta},pubKeyBytesToXY:function(){return Sa}});var _={};n.r(_),n.d(_,{keyToDidDoc:function(){return Ia},pubKeyBytesToXY:function(){return Na}});var T={};n.r(T),n.d(T,{code:function(){return rl},decode:function(){return il},encode:function(){return ol},name:function(){return nl}});var S=n(4051),I=n.n(S);function N(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function O(e,...t){if(!function(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function A(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");N(e.outputLen),N(e.blockLen)}function x(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function k(e,t){O(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function C(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}const R=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),D=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const P=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function j(e){if(!C(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=P[e[n]];return t}const M=48,L=57,F=65,U=70,B=97,V=102;function q(e){return e>=M&&e<=L?e-M:e>=F&&e<=U?e-(F-10):e>=B&&e<=V?e-(B-10):void 0}function z(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function G(e){if("string"===typeof e&&(e=z(e)),!C(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function K(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!C(n))throw new Error("Uint8Array expected");t+=n.length}const n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const t=e[r];n.set(t,o),o+=t.length}return n}class J{clone(){return this._cloneInto()}}function H(e){const t=t=>e().update(G(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Q(e=32){if($&&"function"===typeof $.getRandomValues)return $.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class W extends J{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=R(this.buffer)}update(e){x(this);const{view:t,buffer:n,blockLen:r}=this,o=(e=G(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=R(e);for(;r<=o-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){x(this),k(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let l=i;l<r;l++)t[l]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),o),this.process(n,0);const s=R(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)s.setUint32(4*l,u[l],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}const Y=BigInt(2**32-1),X=BigInt(32);function Z(e,t=!1){return t?{h:Number(e&Y),l:Number(e>>X&Y)}:{h:0|Number(e>>X&Y),l:0|Number(e&Y)}}function ee(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=Z(e[o],t);[n[o],r[o]]=[i,s]}return[n,r]}const te=(e,t,n)=>e<<n|t>>>32-n,ne=(e,t,n)=>t<<n|e>>>32-n,re=(e,t,n)=>t<<n-32|e>>>64-n,oe=(e,t,n)=>e<<n-32|t>>>64-n;var ie={fromBig:Z,split:ee,toBig:(e,t)=>BigInt(e>>>0)<<X|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:te,rotlSL:ne,rotlBH:re,rotlBL:oe,add:function(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};const[se,ae]=(()=>ie.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),ce=new Uint32Array(80),ue=new Uint32Array(80);class le extends W{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:f,Gh:d,Gl:h,Hh:p,Hl:m}=this;return[e,t,n,r,o,i,s,a,c,u,l,f,d,h,p,m]}set(e,t,n,r,o,i,s,a,c,u,l,f,d,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let v=0;v<16;v++,t+=4)ce[v]=e.getUint32(t),ue[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|ce[v-15],t=0|ue[v-15],n=ie.rotrSH(e,t,1)^ie.rotrSH(e,t,8)^ie.shrSH(e,t,7),r=ie.rotrSL(e,t,1)^ie.rotrSL(e,t,8)^ie.shrSL(e,t,7),o=0|ce[v-2],i=0|ue[v-2],s=ie.rotrSH(o,i,19)^ie.rotrBH(o,i,61)^ie.shrSH(o,i,6),a=ie.rotrSL(o,i,19)^ie.rotrBL(o,i,61)^ie.shrSL(o,i,6),c=ie.add4L(r,a,ue[v-7],ue[v-16]),u=ie.add4H(c,n,s,ce[v-7],ce[v-16]);ce[v]=0|u,ue[v]=0|c}let{Ah:n,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:l,El:f,Fh:d,Fl:h,Gh:p,Gl:m,Hh:y,Hl:g}=this;for(let v=0;v<80;v++){const e=ie.rotrSH(l,f,14)^ie.rotrSH(l,f,18)^ie.rotrBH(l,f,41),t=ie.rotrSL(l,f,14)^ie.rotrSL(l,f,18)^ie.rotrBL(l,f,41),b=l&d^~l&p,w=f&h^~f&m,E=ie.add5L(g,t,w,ae[v],ue[v]),_=ie.add5H(E,y,e,b,se[v],ce[v]),T=0|E,S=ie.rotrSH(n,r,28)^ie.rotrBH(n,r,34)^ie.rotrBH(n,r,39),I=ie.rotrSL(n,r,28)^ie.rotrBL(n,r,34)^ie.rotrBL(n,r,39),N=n&o^n&s^o&s,O=r&i^r&a^i&a;y=0|p,g=0|m,p=0|d,m=0|h,d=0|l,h=0|f,({h:l,l:f}=ie.add(0|c,0|u,0|_,0|T)),c=0|s,u=0|a,s=0|o,a=0|i,o=0|n,i=0|r;const A=ie.add3L(T,I,O);n=ie.add3H(A,_,S,N),r=0|A}({h:n,l:r}=ie.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:i}=ie.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=ie.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=ie.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:f}=ie.add(0|this.Eh,0|this.El,0|l,0|f)),({h:d,l:h}=ie.add(0|this.Fh,0|this.Fl,0|d,0|h)),({h:p,l:m}=ie.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:y,l:g}=ie.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,o,i,s,a,c,u,l,f,d,h,p,m,y,g)}roundClean(){ce.fill(0),ue.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fe=H((()=>new le)),de=BigInt(0),he=BigInt(1),pe=BigInt(2);function me(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}const ye=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ge(e){if(!me(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ye[e[n]];return t}function ve(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function be(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const we=48,Ee=57,_e=65,Te=70,Se=97,Ie=102;function Ne(e){return e>=we&&e<=Ee?e-we:e>=_e&&e<=Te?e-(_e-10):e>=Se&&e<=Ie?e-(Se-10):void 0}function Oe(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const t=Ne(e.charCodeAt(i)),n=Ne(e.charCodeAt(i+1));if(void 0===t||void 0===n){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[o]=16*t+n}return r}function Ae(e){return be(ge(e))}function xe(e){if(!me(e))throw new Error("Uint8Array expected");return be(ge(Uint8Array.from(e).reverse()))}function ke(e,t){return Oe(e.toString(16).padStart(2*t,"0"))}function $e(e,t){return ke(e,t).reverse()}function Ce(e){return Oe(ve(e))}function Re(e,t,n){let r;if("string"===typeof t)try{r=Oe(t)}catch(ga){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${ga}`)}else{if(!me(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const o=r.length;if("number"===typeof n&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function De(...e){let t=0;for(let o=0;o<e.length;o++){const n=e[o];if(!me(n))throw new Error("Uint8Array expected");t+=n.length}let n=new Uint8Array(t),r=0;for(let o=0;o<e.length;o++){const t=e[o];n.set(t,r),r+=t.length}return n}function Pe(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}function je(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Me(e){let t;for(t=0;e>de;e>>=he,t+=1);return t}function Le(e,t){return e>>BigInt(t)&he}const Fe=(e,t,n)=>e|(n?he:de)<<BigInt(t),Ue=e=>(pe<<BigInt(e-1))-he,Be=e=>new Uint8Array(e),Ve=e=>Uint8Array.from(e);function qe(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Be(e),o=Be(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...e)=>n(o,r,...e),c=(e=Be())=>{o=a(Ve([0]),e),r=a(),0!==e.length&&(o=a(Ve([1]),e),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return De(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(u()));)c();return s(),n}}const ze={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||me(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Ge(e,t,n={}){const r=(t,n,r)=>{const o=ze[n];if("function"!==typeof o)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if((!r||void 0!==i)&&!o(i,e))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return e}const Ke=BigInt(0),Je=BigInt(1),He=BigInt(2),Qe=BigInt(3),We=BigInt(4),Ye=BigInt(5),Xe=BigInt(8);BigInt(9),BigInt(16);function Ze(e,t){const n=e%t;return n>=Ke?n:t+n}function et(e,t,n){if(n<=Ke||t<Ke)throw new Error("Expected power/modulo > 0");if(n===Je)return Ke;let r=Je;for(;t>Ke;)t&Je&&(r=r*e%n),e=e*e%n,t>>=Je;return r}function tt(e,t,n){let r=e;for(;t-- >Ke;)r*=r,r%=n;return r}function nt(e,t){if(e===Ke||t<=Ke)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ze(e,t),r=t,o=Ke,i=Je,s=Je,a=Ke;for(;n!==Ke;){const e=r/n,t=r%n,c=o-s*e,u=i-a*e;r=n,n=t,o=s,i=a,s=c,a=u}if(r!==Je)throw new Error("invert: does not exist");return Ze(o,t)}function rt(e){if(e%We===Qe){const t=(e+Je)/We;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Xe===Ye){const t=(e-Ye)/Xe;return function(e,n){const r=e.mul(n,He),o=e.pow(r,t),i=e.mul(n,o),s=e.mul(e.mul(i,He),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Je)/He;let n,r,o;for(n=e-Je,r=0;n%He===Ke;n/=He,r++);for(o=He;o<e&&et(o,t,e)!==e-Je;o++);if(1===r){const t=(e+Je)/We;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+Je)/He;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,o),n),u=e.pow(s,i),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Je<<BigInt(a-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),a=t}return u}}(e)}const ot=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function it(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function st(e,t,n=!1,r={}){if(e<=Ke)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=it(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=rt(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:Ue(o),ZERO:Ke,ONE:Je,create:t=>Ze(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Ke<=t&&t<e},is0:e=>e===Ke,isOdd:e=>(e&Je)===Je,neg:t=>Ze(-t,e),eql:(e,t)=>e===t,sqr:t=>Ze(t*t,e),add:(t,n)=>Ze(t+n,e),sub:(t,n)=>Ze(t-n,e),mul:(t,n)=>Ze(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Ke)throw new Error("Expected power > 0");if(n===Ke)return e.ONE;if(n===Je)return t;let r=e.ONE,o=t;for(;n>Ke;)n&Je&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Je;return r}(a,e,t),div:(t,n)=>Ze(t*nt(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>nt(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,o)=>e.is0(r)?t:(n[o]=t,e.mul(t,r))),e.ONE),o=e.inv(r);return t.reduceRight(((t,r,o)=>e.is0(r)?t:(n[o]=e.mul(t,n[o]),e.mul(t,r))),o),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?$e(e,i):ke(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?xe(e):Ae(e)}});return Object.freeze(a)}function at(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ct(e){const t=at(e);return t+Math.ceil(t/2)}const ut=BigInt(0),lt=BigInt(1);function ft(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,o=t;for(;n>ut;)n&lt&&(r=r.add(o)),o=o.double(),n>>=lt;return r},precomputeWindow(e,t){const{windows:n,windowSize:o}=r(t),i=[];let s=e,a=s;for(let r=0;r<n;r++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(t,o,i){const{windows:s,windowSize:a}=r(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),f=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(i&l);i>>=d,r>a&&(r-=f,i+=lt);const s=t,h=t+Math.abs(r)-1,p=e%2!==0,m=r<0;0===r?u=u.add(n(p,o[s])):c=c.add(n(m,o[h]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,r(i))),this.wNAF(o,i,n)}}}function dt(e){return Ge(e.Fp,ot.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ge(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...it(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const ht=BigInt(0),pt=BigInt(1),mt=BigInt(2),yt=BigInt(8),gt={zip215:!0};function vt(e){const t=function(e){const t=dt(e);return Ge(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:c}=t,u=mt<<BigInt(8*a)-pt,l=n.create,f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(ga){return{isValid:!1,value:ht}}}),d=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,n)=>{if(t.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"===typeof e&&ht<e,m=(e,t)=>p(e)&&p(t)&&e<t,y=e=>e===ht||m(e,u);function g(e,t){if(m(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function v(e){return e===ht?e:g(e,r)}const b=new Map;function w(e){if(!(e instanceof E))throw new Error("ExtendedPoint expected")}class E{constructor(e,t,n,r){if(this.ex=e,this.ey=t,this.ez=n,this.et=r,!y(e))throw new Error("x required");if(!y(t))throw new Error("y required");if(!y(n))throw new Error("z required");if(!y(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};if(!y(t)||!y(n))throw new Error("invalid affine point");return new E(t,n,pt,l(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(E.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,b.delete(this)}assertValidity(){const{a:e,d:n}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:o,ez:i,et:s}=this,a=l(r*r),c=l(o*o),u=l(i*i),f=l(u*u),d=l(a*e);if(l(u*l(d+c))!==l(f+l(n*l(a*c))))throw new Error("bad point: equation left != right (1)");if(l(r*o)!==l(i*s))throw new Error("bad point: equation left != right (2)")}equals(e){w(e);const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:s}=e,a=l(t*s),c=l(o*r),u=l(n*s),f=l(i*r);return a===c&&u===f}is0(){return this.equals(E.ZERO)}negate(){return new E(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:o}=this,i=l(n*n),s=l(r*r),a=l(mt*l(o*o)),c=l(e*i),u=n+r,f=l(l(u*u)-i-s),d=c+s,h=d-a,p=c-s,m=l(f*h),y=l(d*p),g=l(f*p),v=l(h*d);return new E(m,y,v,g)}add(e){w(e);const{a:n,d:r}=t,{ex:o,ey:i,ez:s,et:a}=this,{ex:c,ey:u,ez:f,et:d}=e;if(n===BigInt(-1)){const e=l((i-o)*(u+c)),t=l((i+o)*(u-c)),n=l(t-e);if(n===ht)return this.double();const r=l(s*mt*d),h=l(a*mt*f),p=h+r,m=t+e,y=h-r,g=l(p*n),v=l(m*y),b=l(p*y),w=l(n*m);return new E(g,v,w,b)}const h=l(o*c),p=l(i*u),m=l(a*r*d),y=l(s*f),g=l((o+i)*(c+u)-h-p),v=y-m,b=y+m,_=l(p-n*h),T=l(g*v),S=l(b*_),I=l(g*_),N=l(v*b);return new E(T,S,N,I)}subtract(e){return this.add(e.negate())}wNAF(e){return S.wNAFCached(this,b,e,E.normalizeZ)}multiply(e){const{p:t,f:n}=this.wNAF(g(e,r));return E.normalizeZ([t,n])[0]}multiplyUnsafe(e){let t=v(e);return t===ht?T:this.equals(T)||t===pt?this:this.equals(_)?this.wNAF(t).p:S.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(e){const{ex:t,ey:r,ez:o}=this,i=this.is0();null==e&&(e=i?yt:n.inv(o));const s=l(t*e),a=l(r*e),c=l(o*e);if(i)return{x:ht,y:pt};if(c!==pt)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===pt?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:o,a:i}=t,s=n.BYTES,a=(e=Re("pointHex",e,s)).slice(),c=e[s-1];a[s-1]=-129&c;const d=xe(a);d===ht||g(d,r?u:n.ORDER);const h=l(d*d),p=l(h-pt),m=l(o*h-i);let{isValid:y,value:v}=f(p,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const b=(v&pt)===pt,w=0!==(128&c);if(!r&&v===ht&&w)throw new Error("Point.fromHex: x=0 and x_0=1");return w!==b&&(v=l(-v)),E.fromAffine({x:v,y:d})}static fromPrivateKey(e){return O(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=$e(t,n.BYTES);return r[r.length-1]|=e&pt?128:0,r}toHex(){return ge(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,pt,l(t.Gx*t.Gy)),E.ZERO=new E(ht,pt,pt,ht);const{BASE:_,ZERO:T}=E,S=ft(E,8*a);function I(e){return Ze(e,r)}function N(e){return I(xe(e))}function O(e){const t=a;e=Re("private key",e,t);const n=Re("hashed private key",i(e),2*t),r=d(n.slice(0,t)),o=n.slice(t,2*t),s=N(r),c=_.multiply(s),u=c.toRawBytes();return{head:r,prefix:o,scalar:s,point:c,pointBytes:u}}function A(e=new Uint8Array,...t){const n=De(...t);return N(i(h(n,Re("context",e),!!o)))}const x=gt;_._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return O(e).pointBytes},sign:function(e,t,r={}){e=Re("message",e),o&&(e=o(e));const{prefix:i,scalar:s,pointBytes:c}=O(t),u=A(r.context,i,e),l=_.multiply(u).toRawBytes(),f=I(u+A(r.context,l,c,e)*s);return v(f),Re("result",De(l,$e(f,n.BYTES)),2*a)},verify:function(e,t,r,i=x){const{context:s,zip215:a}=i,c=n.BYTES;e=Re("signature",e,2*c),t=Re("message",t),o&&(t=o(t));const u=xe(e.slice(c,2*c));let l,f,d;try{l=E.fromHex(r,a),f=E.fromHex(e.slice(0,c),a),d=_.multiplyUnsafe(u)}catch(p){return!1}if(!a&&l.isSmallOrder())return!1;const h=A(s,f.toRawBytes(),l.toRawBytes(),t);return f.add(l.multiplyUnsafe(h)).subtract(d).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const bt=BigInt(0),wt=BigInt(1);function Et(e){const t=(Ge(n=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n}));var n;const{P:r}=t,o=e=>Ze(e,r),i=t.montgomeryBits,s=Math.ceil(i/8),a=t.nByteLength,c=t.adjustScalarBytes||(e=>e),u=t.powPminus2||(e=>et(e,r-BigInt(2),r));function l(e,t,n){const r=o(e*(t-n));return[t=o(t-r),n=o(n+r)]}function f(e){if("bigint"===typeof e&&bt<=e&&e<r)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const d=(t.a-BigInt(2))/BigInt(4);function h(e){return $e(o(e),s)}function p(e,t){const n=function(e,t){const n=f(e),r=f(t),s=n;let a,c=wt,h=bt,p=n,m=wt,y=bt;for(let u=BigInt(i-1);u>=bt;u--){const e=r>>u&wt;y^=e,a=l(y,c,p),c=a[0],p=a[1],a=l(y,h,m),h=a[0],m=a[1],y=e;const t=c+h,n=o(t*t),i=c-h,f=o(i*i),g=n-f,v=p+m,b=o((p-m)*t),w=o(v*i),E=b+w,_=b-w;p=o(E*E),m=o(s*o(_*_)),c=o(n*f),h=o(g*(n+o(d*g)))}a=l(y,c,p),c=a[0],p=a[1],a=l(y,h,m),h=a[0],m=a[1];const g=u(h);return o(c*g)}(function(e){const t=Re("u coordinate",e,s);return 32===a&&(t[31]&=127),xe(t)}(t),function(e){const t=Re("scalar",e),n=t.length;if(n!==s&&n!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${n}`);return xe(c(t))}(e));if(n===bt)throw new Error("Invalid private or public key received");return h(n)}const m=h(t.Gu);function y(e){return p(e,m)}return{scalarMult:p,scalarMultBase:y,getSharedSecret:(e,t)=>p(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}}const _t=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Tt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),St=(BigInt(0),BigInt(1)),It=BigInt(2),Nt=BigInt(5),Ot=BigInt(10),At=BigInt(20),xt=BigInt(40),kt=BigInt(80);function $t(e){const t=_t,n=e*e%t*e%t,r=tt(n,It,t)*n%t,o=tt(r,St,t)*e%t,i=tt(o,Nt,t)*o%t,s=tt(i,Ot,t)*i%t,a=tt(s,At,t)*s%t,c=tt(a,xt,t)*a%t,u=tt(c,kt,t)*c%t,l=tt(u,kt,t)*c%t,f=tt(l,Ot,t)*i%t;return{pow_p_5_8:tt(f,It,t)*e%t,b2:n}}function Ct(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Rt(e,t){const n=_t,r=Ze(t*t*t,n),o=Ze(r*r*t,n);let i=Ze(e*r*$t(e*o).pow_p_5_8,n);const s=Ze(t*i*i,n),a=i,c=Ze(i*Tt,n),u=s===e,l=s===Ze(-e,n),f=s===Ze(-e*Tt,n);return u&&(i=a),(l||f)&&(i=c),(Ze(i,n)&Je)===Je&&(i=Ze(-i,n)),{isValid:u||l,value:i}}const Dt=st(_t,void 0,!0),Pt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Dt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:fe,randomBytes:Q,adjustScalarBytes:Ct,uvRatio:Rt},jt=vt(Pt);function Mt(e,t,n){if(t.length>255)throw new Error("Context is too big");return K(z("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}const Lt=(()=>Et({P:_t,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=_t,{pow_p_5_8:n,b2:r}=$t(e);return Ze(tt(n,BigInt(3),t)*r,t)},adjustScalarBytes:Ct,randomBytes:Q}))();const Ft=(Dt.ORDER+BigInt(3))/BigInt(8);Dt.pow(It,Ft),Dt.sqrt(Dt.neg(Dt.ONE)),Dt.ORDER,BigInt(5),BigInt(8),BigInt(486662);!function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);e.isOdd(n)&&e.neg(n)}(Dt,Dt.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ut(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Bt(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Ut(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Vt(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=Bt(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return Ut(n)}var qt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const zt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class Gt{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Kt{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ht(this,e)}}class Jt{constructor(e){this.decoders=e}or(e){return Ht(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ht=(e,t)=>new Jt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Qt{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Gt(e,t,n),this.decoder=new Kt(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Wt=({name:e,prefix:t,encode:n,decode:r})=>new Qt(e,t,n,r),Yt=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=qt(n,t);return Wt({prefix:e,name:t,encode:r,decode:e=>zt(o(e))})},Xt=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Wt({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Zt=Wt({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),en=Xt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),tn=Xt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),nn=Yt({prefix:"9",name:"base10",alphabet:"0123456789"}),rn=Xt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),on=Xt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),sn=Xt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),an=Xt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cn=Xt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),un=Xt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ln=Xt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fn=Xt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dn=Xt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hn=Xt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pn=Xt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mn=Yt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yn=Yt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),gn=Yt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vn=Yt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),bn=Xt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wn=Xt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),En=Xt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_n=Xt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Tn=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Sn=Tn.reduce(((e,t,n)=>(e[n]=t,e)),[]),In=Tn.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const Nn=Wt({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Sn[t]),"")},decode:function(e){const t=[];for(const n of e){const e=In[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var On=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=An;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},An=Math.pow(2,31);var xn=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var kn=Math.pow(2,7),$n=Math.pow(2,14),Cn=Math.pow(2,21),Rn=Math.pow(2,28),Dn=Math.pow(2,35),Pn=Math.pow(2,42),jn=Math.pow(2,49),Mn=Math.pow(2,56),Ln=Math.pow(2,63),Fn={encode:On,decode:xn,encodingLength:function(e){return e<kn?1:e<$n?2:e<Cn?3:e<Rn?4:e<Dn?5:e<Pn?6:e<jn?7:e<Mn?8:e<Ln?9:10}};const Un=(e,t,n=0)=>(Fn.encode(e,t,n),t),Bn=e=>Fn.encodingLength(e),Vn=(e,t)=>{const n=t.byteLength,r=Bn(e),o=r+Bn(n),i=new Uint8Array(o+n);return Un(e,i,0),Un(n,i,r),i.set(t,o),new qn(e,n,t,i)};class qn{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const zn=({name:e,code:t,encode:n})=>new Gn(e,t,n);class Gn{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Vn(this.code,t):t.then((e=>Vn(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Kn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Jn=zn({name:"sha2-256",code:18,encode:Kn("SHA-256")}),Hn=zn({name:"sha2-512",code:19,encode:Kn("SHA-512")}),Qn=zt,Wn={code:0,name:"identity",encode:Qn,digest:e=>Vn(0,Qn(e))},Yn="raw",Xn=85,Zn=e=>zt(e),er=e=>zt(e),tr=new TextEncoder,nr=new TextDecoder,rr="json",or=512,ir=e=>tr.encode(JSON.stringify(e)),sr=e=>JSON.parse(nr.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const ar={...o,...i,...s,...a,...c,...u,...l,...f,...d,...h};function cr(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const ur=cr("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),lr=cr("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=Bt((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}));var fr={utf8:ur,"utf-8":ur,hex:ar.base16,latin1:lr,ascii:lr,binary:lr,...ar};function dr(e,t="utf8"){const n=fr[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):Ut(globalThis.Buffer.from(e,"utf-8"))}function hr(e,t="utf8"){const n=fr[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var pr=n(6957);const mr=(e,t,n)=>e&t^~e&n,yr=(e,t,n)=>e&t^e&n^t&n,gr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),br=new Uint32Array(64);class wr extends W{constructor(){super(64,32,8,!1),this.A=0|vr[0],this.B=0|vr[1],this.C=0|vr[2],this.D=0|vr[3],this.E=0|vr[4],this.F=0|vr[5],this.G=0|vr[6],this.H=0|vr[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let l=0;l<16;l++,t+=4)br[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const e=br[l-15],t=br[l-2],n=D(e,7)^D(e,18)^e>>>3,r=D(t,17)^D(t,19)^t>>>10;br[l]=r+br[l-7]+n+br[l-16]|0}let{A:n,B:r,C:o,D:i,E:s,F:a,G:c,H:u}=this;for(let l=0;l<64;l++){const e=u+(D(s,6)^D(s,11)^D(s,25))+mr(s,a,c)+gr[l]+br[l]|0,t=(D(n,2)^D(n,13)^D(n,22))+yr(n,r,o)|0;u=c,c=a,a=s,s=i+e|0,i=o,o=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,o,i,s,a,c,u)}roundClean(){br.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Er=H((()=>new wr)),_r=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Tr=Uint8Array.from({length:16},((e,t)=>t));let Sr=[Tr],Ir=[Tr.map((e=>(9*e+5)%16))];for(let Ad=0;Ad<4;Ad++)for(let e of[Sr,Ir])e.push(e[Ad].map((e=>_r[e])));const Nr=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Or=Sr.map(((e,t)=>e.map((e=>Nr[t][e])))),Ar=Ir.map(((e,t)=>e.map((e=>Nr[t][e])))),xr=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),$r=(e,t)=>e<<t|e>>>32-t;function Cr(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const Rr=new Uint32Array(16);class Dr extends W{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(e,t){for(let d=0;d<16;d++,t+=4)Rr[d]=e.getUint32(t,!0);let n=0|this.h0,r=n,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,u=c,l=0|this.h4,f=l;for(let d=0;d<5;d++){const e=4-d,t=xr[d],h=kr[d],p=Sr[d],m=Ir[d],y=Or[d],g=Ar[d];for(let r=0;r<16;r++){const e=$r(n+Cr(d,o,s,c)+Rr[p[r]]+t,y[r])+l|0;n=l,l=c,c=0|$r(s,10),s=o,o=e}for(let n=0;n<16;n++){const t=$r(r+Cr(e,i,a,u)+Rr[m[n]]+h,g[n])+f|0;r=f,f=u,u=0|$r(a,10),a=i,i=t}}this.set(this.h1+s+u|0,this.h2+c+f|0,this.h3+l+r|0,this.h4+n+i|0,this.h0+o+a|0)}roundClean(){Rr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Pr=H((()=>new Dr)),[jr,Mr,Lr]=[[],[],[]],Fr=BigInt(0),Ur=BigInt(1),Br=BigInt(2),Vr=BigInt(7),qr=BigInt(256),zr=BigInt(113);for(let Ad=0,xd=Ur,kd=1,$d=0;Ad<24;Ad++){[kd,$d]=[$d,(2*kd+3*$d)%5],jr.push(2*(5*$d+kd)),Mr.push((Ad+1)*(Ad+2)/2%64);let e=Fr;for(let t=0;t<7;t++)xd=(xd<<Ur^(xd>>Vr)*zr)%qr,xd&Br&&(e^=Ur<<(Ur<<BigInt(t))-Ur);Lr.push(e)}const[Gr,Kr]=ee(Lr,!0),Jr=(e,t,n)=>n>32?re(e,t,n):te(e,t,n),Hr=(e,t,n)=>n>32?oe(e,t,n):ne(e,t,n);class Qr extends J{constructor(e,t,n,r=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,N(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,o=(r+2)%10,i=n[o],s=n[o+1],a=Jr(i,s,1)^n[t],c=Hr(i,s,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],o=e[3];for(let n=0;n<24;n++){const r=Mr[n],i=Jr(t,o,r),s=Hr(t,o,r),a=jr[n];t=e[a],o=e[a+1],e[a]=i,e[a+1]=s}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Gr[r],e[1]^=Kr[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){x(this);const{blockLen:t,state:n}=this,r=(e=G(e)).length;for(let o=0;o<r;){const i=Math.min(t-this.pos,r-o);for(let t=0;t<i;t++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){x(this,!1),O(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,o=e.length;r<o;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,o-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return N(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(k(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:o,enableXOF:i}=this;return e||(e=new Qr(t,n,r,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Wr=(e,t,n)=>H((()=>new Qr(t,e,n))),Yr=Wr(1,136,32);class Xr extends J{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,A(e);const n=G(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(n.length>r?e.create().update(n).digest():n);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=e.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(e){return x(this),this.iHash.update(e),this}digestInto(e){x(this),O(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return(e=e).finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Zr=(e,t,n)=>new Xr(e,t).update(n).digest();Zr.create=(e,t)=>new Xr(e,t);const{bytesToNumberBE:eo,hexToBytes:to}=r,no={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=no;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eo(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=no,n="string"===typeof e?to(e):e;if(!me(n))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=no._parseInt(n.subarray(2)),{d:s,l:a}=no._parseInt(i);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,s=o.length/2,a=n(i),c=n(s);return`30${n(s+i+4)}02${c}${o}02${a}${r}`}},ro=BigInt(0),oo=BigInt(1),io=(BigInt(2),BigInt(3));BigInt(4);function so(e){const t=function(e){const t=dt(e);Ge(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const o=t.toAffine();return De(Uint8Array.from([4]),n.toBytes(o.x),n.toBytes(o.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:o}=t,i=n.sqr(e),s=n.mul(i,e);return n.add(n.add(s,n.mul(e,r)),o)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"===typeof e&&ro<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:o,n:i}=t;if(n&&"bigint"!==typeof e){if(me(e)&&(e=ge(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"===typeof e?e:Ae(Re("private key",e,r))}catch(c){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return o&&(s=Ze(s,i)),a(s),s}const u=new Map;function l(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const o=e=>n.eql(e,n.ZERO);return o(t)&&o(r)?f.ZERO:new f(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(o(Re("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const o=n.sqr(r),s=i(e);if(!n.eql(o,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:o}=this,{px:i,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(i,o)),u=n.eql(n.mul(r,a),n.mul(s,o));return c&&u}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,o=n.mul(r,io),{px:i,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(i,i),h=n.mul(s,s),p=n.mul(a,a),m=n.mul(i,s);return m=n.add(m,m),l=n.mul(i,a),l=n.add(l,l),c=n.mul(e,l),u=n.mul(o,p),u=n.add(c,u),c=n.sub(h,u),u=n.add(h,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(o,l),p=n.mul(e,p),m=n.sub(d,p),m=n.mul(e,m),m=n.add(m,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,p),d=n.mul(d,m),u=n.add(u,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,m),c=n.sub(c,d),l=n.mul(p,h),l=n.add(l,l),l=n.add(l,l),new f(c,u,l)}add(e){l(e);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:c}=e;let u=n.ZERO,d=n.ZERO,h=n.ZERO;const p=t.a,m=n.mul(t.b,io);let y=n.mul(r,s),g=n.mul(o,a),v=n.mul(i,c),b=n.add(r,o),w=n.add(s,a);b=n.mul(b,w),w=n.add(y,g),b=n.sub(b,w),w=n.add(r,i);let E=n.add(s,c);return w=n.mul(w,E),E=n.add(y,v),w=n.sub(w,E),E=n.add(o,i),u=n.add(a,c),E=n.mul(E,u),u=n.add(g,v),E=n.sub(E,u),h=n.mul(p,w),u=n.mul(m,v),h=n.add(u,h),u=n.sub(g,h),h=n.add(g,h),d=n.mul(u,h),g=n.add(y,y),g=n.add(g,y),v=n.mul(p,v),w=n.mul(m,w),g=n.add(g,v),v=n.sub(y,v),v=n.mul(p,v),w=n.add(w,v),y=n.mul(g,w),d=n.add(d,y),y=n.mul(E,w),u=n.mul(b,u),u=n.sub(u,y),y=n.mul(b,g),h=n.mul(E,h),h=n.add(h,y),new f(u,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}))}multiplyUnsafe(e){const r=f.ZERO;if(e===ro)return r;if(a(e),e===oo)return this;const{endo:o}=t;if(!o)return h.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:c,k2:u}=o.splitScalar(e),l=r,d=r,p=this;for(;s>ro||u>ro;)s&oo&&(l=l.add(p)),u&oo&&(d=d.add(p)),p=p.double(),s>>=oo,u>>=oo;return i&&(l=l.negate()),c&&(d=d.negate()),d=new f(n.mul(d.px,o.beta),d.py,d.pz),l.add(d)}multiply(e){a(e);let r,o,i=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(i);let{p:u,f:l}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);u=h.constTimeNegate(e,u),d=h.constTimeNegate(a,d),d=new f(n.mul(d.px,s.beta),d.py,d.pz),r=u.add(d),o=l.add(p)}else{const{p:e,f:t}=this.wNAF(i);r=e,o=t}return f.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=f.BASE,o=(e,t)=>t!==ro&&t!==oo&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:o}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(o));const s=n.mul(t,e),a=n.mul(r,e),c=n.mul(o,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===oo)return!0;if(n)return n(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===oo?this:n?n(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(f,this,e)}toHex(e=!0){return ge(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=ft(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function ao(e){const t=function(e){const t=dt(e);return Ge(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function s(e){return Ze(e,r)}function a(e){return nt(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=so({...t,toBytes(e,t,r){const o=t.toAffine(),i=n.toBytes(o.x),s=De;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(o.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}{const e=Ae(s);if(!(ro<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let o=n.sqrt(t);return 1===(1&r)!==((o&oo)===oo)&&(o=n.neg(o)),{x:e,y:o}}var a}}),d=e=>ge(ke(e,t.nByteLength));function h(e){return e>r>>oo}const p=(e,t,n)=>Ae(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Re("compactSignature",e,2*n),new m(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=no.toSig(Re("DER",e));return new m(t,n)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:o,recovery:i}=this,u=b(Re("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0===(1&i)?"02":"03",h=c.fromHex(f+d(l)),p=a(l),m=s(-u*p),y=s(o*p),g=c.BASE.multiplyAndAddUnsafe(h,m,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Oe(this.toDERHex())}toDERHex(){return no.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Oe(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=ct(t.n);return function(e,t,n=!1){const r=e.length,o=at(t),i=ct(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const s=Ze(n?Ae(e):xe(e),t-Je)+Je;return n?$e(s,o):ke(s,o)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=me(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===o||r===i:n?r===2*o||r===2*i:e instanceof c}const v=t.bits2int||function(e){const n=Ae(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return s(v(e))},w=Ue(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(ro<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ke(e,t.nByteLength)}function _(e,r,o=T){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:l}=t;let{lowS:d,prehash:p,extraEntropy:y}=o;null==d&&(d=!0),e=Re("msgHash",e),p&&(e=Re("prehashed msgHash",i(e)));const g=b(e),w=u(r),_=[E(w),E(g)];if(null!=y){const e=!0===y?l(n.BYTES):y;_.push(Re("extraEntropy",e))}const S=De(..._),I=g;return{seed:S,k2sig:function(e){const t=v(e);if(!f(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),o=s(r.x);if(o===ro)return;const i=s(n*s(I+o*w));if(i===ro)return;let u=(r.x===o?0:2)|Number(r.y&oo),l=i;return d&&h(i)&&(l=function(e){return h(e)?s(-e):e}(i),u^=1),new m(o,l,u)}}}const T={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n,r=T){const{seed:o,k2sig:i}=_(e,n,r),s=t;return qe(s.hash.outputLen,s.nByteLength,s.hmac)(o,i)},verify:function(e,n,r,o=S){const i=e;if(n=Re("msgHash",n),r=Re("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=o;let f,d;try{if("string"===typeof i||me(i))try{f=m.fromDER(i)}catch(_){if(!(_ instanceof no.Err))throw _;f=m.fromCompact(i)}else{if("object"!==typeof i||"bigint"!==typeof i.r||"bigint"!==typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;f=new m(e,t)}}d=c.fromHex(r)}catch(T){if("PARSE"===T.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(n=t.hash(n));const{r:h,s:p}=f,y=b(n),g=a(p),v=s(y*g),w=s(h*g),E=c.BASE.multiplyAndAddUnsafe(d,v,w)?.toAffine();return!!E&&s(E.x)===h},ProjectivePoint:c,Signature:m,utils:y}}function co(e){return{hash:e,hmac:(t,...n)=>Zr(e,t,K(...n)),randomBytes:Q}}function uo(e,t){const n=t=>ao({...e,...co(t)});return Object.freeze({...n(t),create:n})}const lo=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ho=BigInt(1),po=BigInt(2),mo=(e,t)=>(e+t/po)/t;function yo(e){const t=lo,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=tt(l,n,t)*l%t,d=tt(f,n,t)*l%t,h=tt(d,po,t)*u%t,p=tt(h,o,t)*h%t,m=tt(p,i,t)*p%t,y=tt(m,a,t)*m%t,g=tt(y,c,t)*y%t,v=tt(g,a,t)*m%t,b=tt(v,n,t)*l%t,w=tt(b,s,t)*p%t,E=tt(w,r,t)*u%t,_=tt(E,po,t);if(!go.eql(go.sqr(_),e))throw new Error("Cannot find square root");return _}const go=st(lo,void 0,void 0,{sqrt:yo}),vo=uo({a:BigInt(0),b:BigInt(7),Fp:go,n:fo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ho*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=mo(i*e,t),c=mo(-r*e,t);let u=Ze(e-a*n-c*o,t),l=Ze(-a*r-c*i,t);const f=u>s,d=l>s;if(f&&(u=t-u),d&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},Er);BigInt(0);vo.ProjectivePoint;const bo=st(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),wo=bo.create(BigInt("-3")),Eo=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),_o=uo({a:wo,b:Eo,Fp:bo,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Er);var To=n(5456);function So(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Io(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function No(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}function Oo(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(So(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function Ao(e=""){if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function xo(e,t="="){if(So(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function ko(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function $o(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(So(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!==t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(u?s=!1:r=o)}if(o.push(e),s)break}for(let s=0;s<e.length-1&&0===e[s];s++)o.push(0);return o.reverse()}const Co=(e,t)=>t?Co(t,e%t):e,Ro=(e,t)=>e+(t-Co(e,t));function Do(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Ro(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Ro(t,n)}`);let o=0,i=0;const s=2**n-1,a=[];for(const c of e){if(So(c),c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(o=o<<t|c,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)a.push((o>>i-n&s)>>>0);o&=2**i-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function Po(e){return So(e),{encode:t=>{if(!Io(t))throw new Error("radix.encode input should be Uint8Array");return $o(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from($o(t,e,256))}}}function jo(e,t=!1){if(So(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Ro(8,e)>32||Ro(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Io(n))throw new Error("radix2.encode input should be Uint8Array");return Do(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(Do(n,e,8,t))}}}function Mo(e){if("function"!==typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(ga){}}}const Lo=No(jo(4),Oo("0123456789ABCDEF"),Ao("")),Fo=No(jo(5),Oo("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),xo(5),Ao("")),Uo=(jo(5),Oo("0123456789ABCDEFGHIJKLMNOPQRSTUV"),xo(5),Ao(""),jo(5),Oo("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ao(""),ko((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),No(jo(6),Oo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),xo(6),Ao(""))),Bo=No(jo(6),Oo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),xo(6),Ao("")),Vo=(jo(6),Oo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ao(""),e=>No(Po(58),Oo(e),Ao(""))),qo=Vo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),zo=[0,2,3,5,6,7,9,10,11],Go={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=qo.encode(r).padStart(zo[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=zo.indexOf(r.length),i=qo.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},Ko=No(Oo("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ao("")),Jo=[996825010,642813549,513874426,1027748829,705979059];function Ho(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<Jo.length;r++)1===(t>>r&1)&&(n^=Jo[r]);return n}function Qo(e,t,n=1){const r=e.length;let o=1;for(let i=0;i<r;i++){const t=e.charCodeAt(i);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);o=Ho(o)^t>>5}o=Ho(o);for(let i=0;i<r;i++)o=Ho(o)^31&e.charCodeAt(i);for(let i of t)o=Ho(o)^i;for(let i=0;i<6;i++)o=Ho(o);return o^=n,Ko.encode(Do([o%2**30],30,5,!1))}function Wo(e){const t="bech32"===e?1:734539939,n=jo(5),r=n.decode,o=n.encode,i=Mo(r);function s(e,n=90){if("string"!==typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=Ko.decode(s).slice(0,-6),c=Qo(i,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!==typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=e.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);const i=e.toLowerCase(),s=Qo(i,n,t);return`${i}1${Ko.encode(n)}${s}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:Mo(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}const Yo=Wo("bech32"),Xo=(jo(4),Oo("0123456789abcdef"),Ao(""),ko((e=>{if("string"!==typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)));function Zo(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}const ei=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function ti(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function ni(e){if("string"===typeof e)e=ti(e);else{if(!Zo(e))throw new Error("expected Uint8Array, got "+typeof e);e=e.slice()}return e}function ri(e,t){if(void 0!==t&&("object"!==typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new Error("options must be object or undefined");var n;return Object.assign(e,t)}function oi(e,t){if(!Zo(e))throw new Error("Uint8Array expected");if("number"===typeof t&&e.length!==t)throw new Error(`Uint8Array length ${t} expected`)}const ii=(e,t)=>(Object.assign(t,e),t);function si(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}function ai(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`wrong positive integer: ${e}`)}function ci(e){if("boolean"!==typeof e)throw new Error(`boolean expected, not ${e}`)}function ui(e,...t){if(!function(e){return null!=e&&"object"===typeof e&&(e instanceof Uint8Array||"Uint8Array"===e.constructor.name)}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function li(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fi(e,t){ui(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const di=(e,t)=>255&e[t++]|(255&e[t++])<<8;class hi{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,oi(e=ni(e),32);const t=di(e,0),n=di(e,2),r=di(e,4),o=di(e,6),i=di(e,8),s=di(e,10),a=di(e,12),c=di(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|o<<9),this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=di(e,16+2*u)}process(e,t,n=!1){const r=n?0:2048,{h:o,r:i}=this,s=i[0],a=i[1],c=i[2],u=i[3],l=i[4],f=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=di(e,t+0),g=di(e,t+2),v=di(e,t+4),b=di(e,t+6),w=di(e,t+8),E=di(e,t+10),_=di(e,t+12),T=di(e,t+14);let S=o[0]+(8191&y),I=o[1]+(8191&(y>>>13|g<<3)),N=o[2]+(8191&(g>>>10|v<<6)),O=o[3]+(8191&(v>>>7|b<<9)),A=o[4]+(8191&(b>>>4|w<<12)),x=o[5]+(w>>>1&8191),k=o[6]+(8191&(w>>>14|E<<2)),$=o[7]+(8191&(E>>>11|_<<5)),C=o[8]+(8191&(_>>>8|T<<8)),R=o[9]+(T>>>5|r),D=0,P=D+S*s+I*(5*m)+N*(5*p)+O*(5*h)+A*(5*d);D=P>>>13,P&=8191,P+=x*(5*f)+k*(5*l)+$*(5*u)+C*(5*c)+R*(5*a),D+=P>>>13,P&=8191;let j=D+S*a+I*s+N*(5*m)+O*(5*p)+A*(5*h);D=j>>>13,j&=8191,j+=x*(5*d)+k*(5*f)+$*(5*l)+C*(5*u)+R*(5*c),D+=j>>>13,j&=8191;let M=D+S*c+I*a+N*s+O*(5*m)+A*(5*p);D=M>>>13,M&=8191,M+=x*(5*h)+k*(5*d)+$*(5*f)+C*(5*l)+R*(5*u),D+=M>>>13,M&=8191;let L=D+S*u+I*c+N*a+O*s+A*(5*m);D=L>>>13,L&=8191,L+=x*(5*p)+k*(5*h)+$*(5*d)+C*(5*f)+R*(5*l),D+=L>>>13,L&=8191;let F=D+S*l+I*u+N*c+O*a+A*s;D=F>>>13,F&=8191,F+=x*(5*m)+k*(5*p)+$*(5*h)+C*(5*d)+R*(5*f),D+=F>>>13,F&=8191;let U=D+S*f+I*l+N*u+O*c+A*a;D=U>>>13,U&=8191,U+=x*s+k*(5*m)+$*(5*p)+C*(5*h)+R*(5*d),D+=U>>>13,U&=8191;let B=D+S*d+I*f+N*l+O*u+A*c;D=B>>>13,B&=8191,B+=x*a+k*s+$*(5*m)+C*(5*p)+R*(5*h),D+=B>>>13,B&=8191;let V=D+S*h+I*d+N*f+O*l+A*u;D=V>>>13,V&=8191,V+=x*c+k*a+$*s+C*(5*m)+R*(5*p),D+=V>>>13,V&=8191;let q=D+S*p+I*h+N*d+O*f+A*l;D=q>>>13,q&=8191,q+=x*u+k*c+$*a+C*s+R*(5*m),D+=q>>>13,q&=8191;let z=D+S*m+I*p+N*h+O*d+A*f;D=z>>>13,z&=8191,z+=x*l+k*u+$*c+C*a+R*s,D+=z>>>13,z&=8191,D=(D<<2)+D|0,D=D+P|0,P=8191&D,D>>>=13,j+=D,o[0]=P,o[1]=j,o[2]=M,o[3]=L,o[4]=F,o[5]=U,o[6]=B,o[7]=V,o[8]=q,o[9]=z}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=r,r=e[s]>>>13,e[s]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let s=1;s<10;s++)n[s]=e[s]+r,r=n[s]>>>13,n[s]&=8191;n[9]-=8192;let o=(1^r)-1;for(let s=0;s<10;s++)n[s]&=o;o=~o;for(let s=0;s<10;s++)e[s]=e[s]&o|n[s];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let i=e[0]+t[0];e[0]=65535&i;for(let s=1;s<8;s++)i=(e[s]+t[s]|0)+(i>>>16)|0,e[s]=65535&i}update(e){li(this);const{buffer:t,blockLen:n}=this,r=(e=ni(e)).length;for(let o=0;o<r;){const i=Math.min(n-this.pos,r-o);if(i!==n)t.set(e.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-o;o+=n)this.process(e,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){li(this),fi(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let o=0;for(let i=0;i<8;i++)e[o++]=n[i]>>>0,e[o++]=n[i]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const pi=function(e){const t=(t,n)=>e(n).update(ni(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new hi(e))),mi=ti("expand 16-byte k"),yi=ti("expand 32-byte k"),gi=Xo(mi),vi=Xo(yi);function bi(e,t){return e<<t|e>>>32-t}function wi(e){return e.byteOffset%4===0}const Ei=2**32-1,_i=new Uint32Array;function Ti(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:s}=ri({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!==typeof e)throw new Error("core must be a function");return ai(o),ai(s),ci(i),ci(n),(t,a,c,u,l=0)=>{ui(t),ui(a),ui(c);const f=c.length;if(u||(u=new Uint8Array(f)),ui(u),ai(l),l<0||l>=Ei)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const d=[];let h,p,m=t.length;if(32===m)h=t.slice(),d.push(h),p=vi;else{if(16!==m||!n)throw new Error(`arx: invalid 32-byte key, got length=${m}`);h=new Uint8Array(32),h.set(t),h.set(t,16),p=gi,d.push(h)}wi(a)||(a=a.slice(),d.push(a));const y=Xo(h);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,Xo(a.subarray(0,16)),y),a=a.subarray(16)}const g=16-o;if(g!==a.length)throw new Error(`arx: nonce must be ${g} or 16 bytes`);if(12!==g){const e=new Uint8Array(12);e.set(a,i?0:12-a.length),a=e,d.push(a)}const v=Xo(a);for(!function(e,t,n,r,o,i,s,a){const c=o.length,u=new Uint8Array(64),l=Xo(u),f=wi(o)&&wi(i),d=f?Xo(o):_i,h=f?Xo(i):_i;for(let p=0;p<c;s++){if(e(t,n,r,l,s,a),s>=Ei)throw new Error("arx: counter overflow");const m=Math.min(64,c-p);if(f&&64===m){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,h[t]=d[t]^l[n];p+=64}else{for(let e,t=0;t<m;t++)e=p+t,i[e]=o[e]^u[t];p+=m}}}(e,p,y,v,c,u,l,s);d.length>0;)d.pop().fill(0);return u}}function Si(e,t,n,r,o,i=20){let s=e[0],a=e[1],c=e[2],u=e[3],l=t[0],f=t[1],d=t[2],h=t[3],p=t[4],m=t[5],y=t[6],g=t[7],v=o,b=n[0],w=n[1],E=n[2],_=s,T=a,S=c,I=u,N=l,O=f,A=d,x=h,k=p,$=m,C=y,R=g,D=v,P=b,j=w,M=E;for(let F=0;F<i;F+=2)_=_+N|0,D=bi(D^_,16),k=k+D|0,N=bi(N^k,12),_=_+N|0,D=bi(D^_,8),k=k+D|0,N=bi(N^k,7),T=T+O|0,P=bi(P^T,16),$=$+P|0,O=bi(O^$,12),T=T+O|0,P=bi(P^T,8),$=$+P|0,O=bi(O^$,7),S=S+A|0,j=bi(j^S,16),C=C+j|0,A=bi(A^C,12),S=S+A|0,j=bi(j^S,8),C=C+j|0,A=bi(A^C,7),I=I+x|0,M=bi(M^I,16),R=R+M|0,x=bi(x^R,12),I=I+x|0,M=bi(M^I,8),R=R+M|0,x=bi(x^R,7),_=_+O|0,M=bi(M^_,16),C=C+M|0,O=bi(O^C,12),_=_+O|0,M=bi(M^_,8),C=C+M|0,O=bi(O^C,7),T=T+A|0,D=bi(D^T,16),R=R+D|0,A=bi(A^R,12),T=T+A|0,D=bi(D^T,8),R=R+D|0,A=bi(A^R,7),S=S+x|0,P=bi(P^S,16),k=k+P|0,x=bi(x^k,12),S=S+x|0,P=bi(P^S,8),k=k+P|0,x=bi(x^k,7),I=I+N|0,j=bi(j^I,16),$=$+j|0,N=bi(N^$,12),I=I+N|0,j=bi(j^I,8),$=$+j|0,N=bi(N^$,7);let L=0;r[L++]=s+_|0,r[L++]=a+T|0,r[L++]=c+S|0,r[L++]=u+I|0,r[L++]=l+N|0,r[L++]=f+O|0,r[L++]=d+A|0,r[L++]=h+x|0,r[L++]=p+k|0,r[L++]=m+$|0,r[L++]=y+C|0,r[L++]=g+R|0,r[L++]=v+D|0,r[L++]=b+P|0,r[L++]=w+j|0,r[L++]=E+M|0}const Ii=Ti(Si,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ni=Ti(Si,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,n,r){let o=e[0],i=e[1],s=e[2],a=e[3],c=t[0],u=t[1],l=t[2],f=t[3],d=t[4],h=t[5],p=t[6],m=t[7],y=n[0],g=n[1],v=n[2],b=n[3];for(let E=0;E<20;E+=2)o=o+c|0,y=bi(y^o,16),d=d+y|0,c=bi(c^d,12),o=o+c|0,y=bi(y^o,8),d=d+y|0,c=bi(c^d,7),i=i+u|0,g=bi(g^i,16),h=h+g|0,u=bi(u^h,12),i=i+u|0,g=bi(g^i,8),h=h+g|0,u=bi(u^h,7),s=s+l|0,v=bi(v^s,16),p=p+v|0,l=bi(l^p,12),s=s+l|0,v=bi(v^s,8),p=p+v|0,l=bi(l^p,7),a=a+f|0,b=bi(b^a,16),m=m+b|0,f=bi(f^m,12),a=a+f|0,b=bi(b^a,8),m=m+b|0,f=bi(f^m,7),o=o+u|0,b=bi(b^o,16),p=p+b|0,u=bi(u^p,12),o=o+u|0,b=bi(b^o,8),p=p+b|0,u=bi(u^p,7),i=i+l|0,y=bi(y^i,16),m=m+y|0,l=bi(l^m,12),i=i+l|0,y=bi(y^i,8),m=m+y|0,l=bi(l^m,7),s=s+f|0,g=bi(g^s,16),d=d+g|0,f=bi(f^d,12),s=s+f|0,g=bi(g^s,8),d=d+g|0,f=bi(f^d,7),a=a+c|0,v=bi(v^a,16),h=h+v|0,c=bi(c^h,12),a=a+c|0,v=bi(v^a,8),h=h+v|0,c=bi(c^h,7);let w=0;r[w++]=o,r[w++]=i,r[w++]=s,r[w++]=a,r[w++]=y,r[w++]=g,r[w++]=v,r[w++]=b},allowShortKeys:!1}),Oi=new Uint8Array(16),Ai=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Oi.subarray(n))},xi=new Uint8Array(32);function ki(e,t,n,r,o){const i=e(t,n,xi),s=pi.create(i);o&&Ai(s,o),Ai(s,r);const a=new Uint8Array(16),c=ei(a);si(c,0,BigInt(o?o.length:0),!0),si(c,8,BigInt(r.length),!0),s.update(a);const u=s.digest();return i.fill(0),u}const $i=e=>(t,n,r)=>{const o=16;return oi(t,32),oi(n),{encrypt:(i,s)=>{const a=i.length,c=a+o;s?oi(s,c):s=new Uint8Array(c),e(t,n,i,s,1);const u=ki(e,t,n,s.subarray(0,-16),r);return s.set(u,a),s},decrypt:(i,s)=>{const a=i.length,c=a-o;if(a<o)throw new Error("encrypted data must be at least 16 bytes");s?oi(s,c):s=new Uint8Array(c);const u=i.subarray(0,-16);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(i.subarray(-16),ki(e,t,n,u,r)))throw new Error("invalid tag");return e(t,n,u,s,1),s}}},Ci=($i(Ii),ii({blockSize:64,nonceLength:24,tagLength:16},$i(Ni))),Ri={toString:hr,fromString:dr,concat:Vt};function Di(e){return Ri.toString(e,"base64url")}function Pi(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return Ri.fromString(t,"base64url")}function ji(e){return Ri.fromString(e,"base58btc")}function Mi(e){const t=(0,pr.decode)(e);if([32,33,48,64,65,96].includes(t.length))return t;try{const[e,n]=((e,t=0)=>[Fn.decode(e,t),Fn.decode.bytes])(t);return t.slice(n)}catch(ga){return t}}function Li(e,t){let n=e.startsWith("0x")?e.substring(2):e;if(n.length%2!==0&&(n=`0${n}`),t){const e=Math.max(n.length,2*t);n=n.padStart(e,"00")}return Ri.fromString(n.toLowerCase(),"base16")}function Fi(e){return Di(Ri.fromString(e))}function Ui(e){return Ri.toString(Pi(e))}function Bi(e){return Ri.toString(e,"base16")}function Vi(e){return BigInt("0x"+Ri.toString(e,"base16"))}function qi(e){return Ri.fromString(e,"utf-8")}function zi({r:e,s:t,recoveryParam:n},r){const o=new Uint8Array(r?65:64);if(o.set(Ri.fromString(e,"base16"),0),o.set(Ri.fromString(t,"base16"),32),r){if("undefined"===typeof n)throw new Error("Signer did not return a recoveryParam");o[64]=n}return Di(o)}function Gi(e){const t=Pi(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:Bi(t.slice(0,32)),s:Bi(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}function Ki(e,t){return Ri.concat([Pi(e),t?Pi(t):new Uint8Array(0)])}function Ji(){const e=Lt.utils.randomPrivateKey();return{secretKey:e,publicKey:Lt.getPublicKey(e)}}function Hi(e){if(32!==e.length)throw new Error("x25519: seed must be 32 bytes");return{publicKey:Lt.getPublicKey(e),secretKey:e}}function Qi(){const e=Ji();return{publicKeyJWK:{kty:"OKP",crv:"X25519",x:Di(e.publicKey)},secretKey:e.secretKey}}function Wi(e){const t="string"===typeof e?dr(e):e;return Er(t)}const Yi=Yr;function Xi(e){const t=dr(e.slice(2),"base16");return`0x${hr(Yi(t).slice(-20),"base16")}`}function Zi(e,t=new Uint8Array(4)){const n=dr(e.toString(),"base10");return t.set(n,4-n.length),t}const es=e=>Vt([Zi(e.length),e]);function ts(e,t,n,r,o){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const i=Vt([es(dr(n)),es("undefined"===typeof r?new Uint8Array(0):r),es("undefined"===typeof o?new Uint8Array(0):o),Zi(t)]);return Wi(Vt([Zi(1),e,i]))}function ns(e){const t=e;if(![32,64].includes(t.length))throw new Error(`bad_key: Invalid private key format. Expecting 32 or 64 bytes, but got ${t.length}`);return function(e){try{const n="string"===typeof e?qi(e):e,r=jt.sign(n,t.slice(0,32));return Promise.resolve(Di(r))}catch(ga){return Promise.reject(ga)}}}function rs(e){return"object"===typeof e&&"r"in e&&"s"in e}function os(e){return function(t,n){try{return Promise.resolve(n(t)).then((function(t){if(rs(t))return zi(t,e);if(e&&"undefined"===typeof Gi(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(ga){return Promise.reject(ga)}}}function is(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(rs(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(ga){return Promise.reject(ga)}}}const ss={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return rs(e)?zi(e):e}))}catch(ga){return Promise.reject(ga)}},ES256K:os(),"ES256K-R":os(!0),Ed25519:is(),EdDSA:is()};function as(e,t){const n=Bi(ji(t).slice(0,1)),r=Li(e),o=n+Bi(Pr(Wi(r))),i=Wi(Li(o)),s=Bi(Wi(i)).substring(0,8);return a=Li(o+s),Ri.toString(a,"base58btc");var a}function cs(e,t){if(t){const n=t.split(":");switch(n[0]){case"bip122":n[n.length-1]=as(e,n[n.length-1]);break;case"cosmos":n[n.length-1]=function(e,t){const n=vo.ProjectivePoint.fromHex(e).toRawBytes(),r=Pr(Wi(n)),o=Yo.toWords(r);return Yo.encode(t,o).replace(t,"")}(e,n[1]);break;case"eip155":n[n.length-1]=Xi(e);break;default:return!1}return n.join(":").toLowerCase()===t.toLowerCase()}return!1}function us(e,t=!1){const n=Pi(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");return{compact:n.slice(0,64),recovery:n[64]}}function ls(e){return e.publicKeyBase58?ji(e.publicKeyBase58):e.publicKeyBase64?Pi(e.publicKeyBase64):e.publicKeyHex?Li(e.publicKeyHex):e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y?vo.ProjectivePoint.fromAffine({x:Vi(Pi(e.publicKeyJwk.x)),y:Vi(Pi(e.publicKeyJwk.y))}).toRawBytes(!1):e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y?_o.ProjectivePoint.fromAffine({x:Vi(Pi(e.publicKeyJwk.x)),y:Vi(Pi(e.publicKeyJwk.y))}).toRawBytes(!1):e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&["Ed25519","X25519"].includes(e.publicKeyJwk.crv??"")&&e.publicKeyJwk.x?Pi(e.publicKeyJwk.x):e.publicKeyMultibase?Mi(e.publicKeyMultibase):new Uint8Array}function fs(e,t,n){const r=[];if(t.length>86)r.push(us(t,!0));else{const e=us(t,!1);r.push({...e,recovery:0}),r.push({...e,recovery:1})}const o=Wi(e),i=e=>{const t=vo.Signature.fromCompact(e.compact).addRecoveryBit(e.recovery||0).recoverPublicKey(o),r=Xi(t.toHex(!1)).toLowerCase(),i=t.toHex(!1),s=t.toHex(!0);return n.find((e=>{const t=Bi(ls(e));return t===i||t===s||e.ethereumAddress?.toLowerCase()===r||e.blockchainAccountId?.split("@eip155")?.[0].toLowerCase()===r||cs(i,e.blockchainAccountId)}))};for(const s of r){const e=i(s);if(e)return e}throw new Error("invalid_signature: Signature invalid for JWT")}function ds(e,t,n){const r=qi(e),o=Pi(t),i=n.find((e=>jt.verify(o,r,ls(e))));if(!i)throw new Error("invalid_signature: Signature invalid for JWT");return i}const hs={ES256:function(e,t,n){const r=Wi(e),o=_o.Signature.fromCompact(us(t).compact),i=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)).find((e=>{try{const t=ls(e);return _o.verify(o,r,t)}catch(t){return!1}}));if(!i)throw new Error("invalid_signature: Signature invalid for JWT");return i},ES256K:function(e,t,n){const r=Wi(e),o=vo.Signature.fromCompact(Pi(t)).normalizeS(),i=n.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)),s=n.filter((e=>e.ethereumAddress||e.blockchainAccountId));let a=i.find((e=>{try{const t=ls(e);return vo.verify(o,r,t)}catch(t){return!1}}));if(!a&&s.length>0&&(a=fs(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":fs,Ed25519:ds,EdDSA:ds};function ps(e){const t=hs[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}ps.toSignatureObject=function(e,t=!1){const n=Pi(e);if(n.length!==(t?65:64))throw new Error("wrong signature length");const r={r:Bi(n.slice(0,32)),s:Bi(n.slice(32,64))};return t&&(r.recoveryParam=n[64]),r};"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const ms=function(e,t,n={},r={}){try{n.alg||(n.alg=ys);const o="string"===typeof e?e:gs(e,r.canonicalize),i=[gs(n,r.canonicalize),o].join("."),s=function(e){const t=ss[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(n.alg);return Promise.resolve(s(i,t)).then((function(e){return[i,e].join(".")}))}catch(ga){return Promise.reject(ga)}},ys="ES256K";function gs(e,t=!1){return Fi(t?To(e):JSON.stringify(e))}function vs(e){const t=e.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(t)return{header:JSON.parse(Ui(t[1])),payload:t[2],signature:t[3],data:`${t[1]}.${t[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function bs(e,t){return function({header:e,data:t,signature:n},r){return Array.isArray(r)||(r=[r]),ps(e.alg)(t,n,r)}(vs(e),t)}const ws="undefined"!==typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Es(e,t,n){if(!e.s){if(n instanceof _s){if(!n.s)return void(n.o=Es.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Es.bind(null,e,t),Es.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const _s=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,o=this.s;if(o){const e=1&o?t:n;if(e){try{Es(r,1,e(this.v))}catch(ga){Es(r,2,ga)}return r}return this}return this.o=function(e){try{const o=e.v;1&e.s?Es(r,1,t?t(o):o):n?Es(r,1,n(o)):Es(r,2,o)}catch(ga){Es(r,2,ga)}},r},e}();function Ts(e){return e instanceof _s&&1&e.s}function Ss(e,t,n){if("function"===typeof e[ws]){var r,o,i,s=e[ws]();function c(e){try{for(;!(r=s.next()).done&&(!n||!n());)if((e=t(r.value))&&e.then){if(!Ts(e))return void e.then(c,i||(i=Es.bind(null,o=new _s,2)));e=e.v}o?Es(o,1,e):o=e}catch(ga){Es(o||(o=new _s),2,ga)}}if(c(),s.return){var a=function(e){try{r.done||s.return()}catch(ga){}return e};if(o&&o.then)return o.then(a,(function(e){throw a(e)}));a()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var c=[],u=0;u<e.length;u++)c.push(e[u]);return function(e,t,n){var r,o,i=-1;return function s(a){try{for(;++i<e.length&&(!n||!n());)if((a=t(i))&&a.then){if(!Ts(a))return void a.then(s,o||(o=Es.bind(null,r=new _s,2)));a=a.v}r?Es(r,1,a):r=a}catch(ga){Es(r||(r=new _s),2,ga)}}(),r}(c,(function(e){return t(c[e])}),n)}function Is({ciphertext:e,tag:t,iv:n,protectedHeader:r,recipient:o},i){const s={protected:r,iv:Di(n??new Uint8Array(0)),ciphertext:Di(e),tag:Di(t??new Uint8Array(0))};return i&&(s.aad=Di(i)),o&&(s.recipients=[o]),s}const Ns=function(e,t){try{function n(e){if(null===s)throw new Error("failure: Failed to decrypt");return s}!function(e){if(!(e.protected&&e.iv&&e.ciphertext&&e.tag))throw new Error("bad_jwe: missing properties");e.recipients&&e.recipients.map((e=>{if(!e.header||!e.encrypted_key)throw new Error("bad_jwe: malformed recipients")}))}(e);const r=JSON.parse(Ui(e.protected));if(r.enc!==t.enc)throw new Error(`not_supported: Decrypter does not supported: '${r.enc}'`);const o=Ki(e.ciphertext,e.tag),i=qi(e.aad?`${e.protected}.${e.aad}`:e.protected);let s=null;const a="dir"===r.alg&&"dir"===t.alg?Promise.resolve(t.decrypt(o,Pi(e.iv),i)).then((function(e){s=e})):function(){if(e.recipients&&0!==e.recipients.length){let n=0;return function(e,t,n){for(var r;;){var o=e();if(Ts(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(!Ts(i)){r=1;break}i=i.s}if(t){var s=t();if(s&&s.then&&!Ts(s)){r=2;break}}}var a=new _s,c=Es.bind(null,a,2);return(0===r?o.then(l):1===r?i.then(u):s.then(f)).then(void 0,c),a;function u(r){i=r;do{if(t&&(s=t())&&s.then&&!Ts(s))return void s.then(f).then(void 0,c);if(!(o=e())||Ts(o)&&!o.v)return void Es(a,1,i);if(o.then)return void o.then(l).then(void 0,c);Ts(i=n())&&(i=i.v)}while(!i||!i.then);i.then(u).then(void 0,c)}function l(e){e?(i=n())&&i.then?i.then(u).then(void 0,c):u(i):Es(a,1,i)}function f(){(o=e())?o.then?o.then(l).then(void 0,c):l(o):Es(a,1,i)}}((function(){return!s&&n<e.recipients.length}),(function(){return n++}),(function(){const a=e.recipients[n];Object.assign(a.header,r);const c=function(){if(a.header.alg===t.alg)return Promise.resolve(t.decrypt(o,Pi(e.iv),i,a)).then((function(e){s=e}))}();if(c&&c.then)return c.then((function(){}))}))}throw new Error("bad_jwe: missing recipients")}();return Promise.resolve(a&&a.then?a.then(n):n())}catch(ga){return Promise.reject(ga)}};function Os(e){return(t,n)=>{const r=Q(24),o=Ci(e,r,n).encrypt(t);return{ciphertext:o.subarray(0,o.length-16),tag:o.subarray(o.length-16),iv:r}}}function As(e){const t=Os(e),n="XC20P",r="dir";return{alg:r,enc:n,encrypt:function(e,o={},i){try{const s=Fi(JSON.stringify(Object.assign({alg:r},o,{enc:n}))),a=qi(i?`${s}.${Di(i)}`:s);return Promise.resolve({...t(e,a),protectedHeader:s})}catch(ga){return Promise.reject(ga)}}}}function xs(e){return{alg:"dir",enc:"XC20P",decrypt:function(t,n,r){try{try{return Promise.resolve(Ci(e,n,r).decrypt(t))}catch(o){return Promise.resolve(null)}}catch(ga){return Promise.reject(ga)}}}}const ks=function(e,t,n,r,o,i){try{const t="X25519",r=256,s=i?Hi(i.secretKey):Ji(),a={kty:"OKP",crv:t,x:Di(s.publicKey)},c=Lt.getSharedSecret(s.secretKey,e),u=ts(c,r,n,void 0,Pi(o??""));return Promise.resolve({epk:a,kek:u})}catch(ga){return Promise.reject(ga)}};function $s(e,t,n={},r,o,i){const s=function(i,s){try{return Promise.resolve(r.createKek(e,t,`${r.alg}+${o.alg}`,n.apu,n.apv,s)).then((function({epk:e,kek:t}){return Promise.resolve(o.from(t).wrap(i)).then((function(t){const i={encrypted_key:Di(t.ciphertext),header:{}};return t.iv&&(i.header.iv=Di(t.iv)),t.tag&&(i.header.tag=Di(t.tag)),n.kid&&(i.header.kid=n.kid),n.apu&&(i.header.apu=n.apu),n.apv&&(i.header.apv=n.apv),s||(i.header.alg=`${r.alg}+${o.alg}`,i.header.epk=e),i}))}))}catch(ga){return Promise.reject(ga)}};return{alg:o.alg,enc:i.enc,encrypt:function(e,t={},n,a){try{Object.assign(t,{alg:void 0});const c=Q(32);return Promise.resolve(s(c,a)).then((function(s){return a&&(t.alg=`${r.alg}+${o.alg}`,t.epk=a.publicKeyJWK),Promise.resolve(i.from(c).encrypt(e,t,n)).then((function(e){return{...e,recipient:s,cek:c}}))}))}catch(ga){return Promise.reject(ga)}},encryptCek:s,genEpk:Qi}}const Cs=function(e,t){try{const n=function(e,r=[]){try{return Promise.resolve(t.resolve(e)).then((function({didResolutionMetadata:t,didDocument:o}){function i(){const t=o.keyAgreement?.map((e=>"string"===typeof e?[...o.publicKey||[],...o.verificationMethod||[]].find((t=>t.id===e)):e))?.filter((e=>"undefined"!==typeof e)),n=t?.filter((e=>"X25519KeyAgreementKey2019"===e.type||"X25519KeyAgreementKey2020"===e.type))||[];if(!n.length&&!s.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);return n.map((e=>{return t=ls(e),n=e.id,Ps(t,{kid:n,apv:r});var t,n,r})).concat(...s)}if(r.push(e),t?.error||null==o)throw new Error(`resolver_error: Could not resolve ${e}: ${t.error}, ${t.message}`);let s=[];if(!o.controller&&!o.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);const a=function(){if(o.controller){let e=Array.isArray(o.controller)?o.controller:[o.controller];e=e.filter((e=>!r.includes(e)));const t=e.map((e=>n(e,r).catch((()=>[]))));return Promise.resolve(Promise.all(t)).then((function(e){s=[].concat(...e)}))}}();return a&&a.then?a.then(i):i()}))}catch(ga){return Promise.reject(ga)}},r=e.map((e=>n(e)));return Promise.resolve(Promise.all(r)).then((function(e){return[].concat(...e)}))}catch(ga){return Promise.reject(ga)}};function Rs(e){if(!(e&&e.epk&&e.iv&&e.tag))throw new Error("bad_jwe: malformed header");return e}const Ds={from:e=>({wrap:function(t){try{return Promise.resolve(Os(e)(t))}catch(ga){return Promise.reject(ga)}}}),alg:"XC20PKW"};function Ps(e,t={}){return $s(e,void 0,t,{createKek:ks,alg:"ECDH-ES"},Ds,{from:e=>As(e),enc:"XC20P"})}function js(e){const t="ECDH-ES+XC20PKW";return{alg:t,enc:"XC20P",decrypt:function(n,r,o,i){try{const s=Rs((i=i).header);return Promise.resolve(function(e,t,n){try{function r(){let t,r;return e.header.apu&&(t=Pi(e.header.apu)),e.header.apv&&(r=Pi(e.header.apv)),ts(c,i,n,t,r)}const o="X25519",i=256,s=e.header;if(s.epk?.crv!==o||"undefined"==typeof s.epk.x)return Promise.resolve(null);const a=Pi(s.epk.x);let c;const u=function(){if(!(t instanceof Uint8Array))return Promise.resolve(t(a)).then((function(e){c=e}));c=Lt.getSharedSecret(t,a)}();return Promise.resolve(u&&u.then?u.then(r):r())}catch(ga){return Promise.reject(ga)}}(i,e,t)).then((function(e){if(!e)return null;const t=Ki(i.encrypted_key,s.tag);return Promise.resolve(xs(e).decrypt(t,Pi(s.iv))).then((function(e){return null===e?null:xs(e).decrypt(n,r,o)}))}))}catch(ga){return Promise.reject(ga)}}}}var Ms,Ls=n(5035);!function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(Ms||(Ms={}));const Fs={[Ms.PARSE_ERROR]:"Parse error",[Ms.INVALID_REQUEST]:"Invalid request",[Ms.METHOD_NOT_FOUND]:"Method not found",[Ms.INVALID_PARAMS]:"Invalid params",[Ms.INTERNAL_ERROR]:"Internal error"};function Us(e){return Fs[e.toString()]??(function(e){return-32e3>=e&&e>=-32099}(e)?"Server error":"Application error")}class Bs extends Error{static fromObject(e){return new Bs(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,n){super(),Object.setPrototypeOf(this,Bs.prototype),this.code=e,this.data=n,this.message=t??Us(e)}}function Vs(e){const t=Fs[e];return function(n){return new Bs(e,t,n)}}Vs(Ms.PARSE_ERROR),Vs(Ms.INVALID_REQUEST),Vs(Ms.METHOD_NOT_FOUND),Vs(Ms.INVALID_PARAMS),Vs(Ms.INTERNAL_ERROR);const qs=Symbol("abortable"),zs=Symbol("aborted");const Gs="utils_abort_request";function Ks(e,t){return{jsonrpc:"2.0",id:e,error:{code:t,message:Us(t)}}}function Js(e,t,n){console.warn("Unhandled handler error",t,n)}function Hs(e,t){console.warn("Unhandled invalid message",t)}function Qs(e,t){console.warn("Unhandled notification",t)}function Ws(e,t={}){const n=t.onHandlerError??Js,r=t.onInvalidMessage??Hs,o=t.onNotification??Qs,i={};return async function(t,s){const a=s.id;if("2.0"!==s.jsonrpc||null==s.method)return null==a?(r(t,s),null):Ks(a,Ms.INVALID_REQUEST);const c=e[s.method];if(null==c)return null==a?(function(e,t){if(t.method===Gs){const e=t.params?.id;null!=e&&i[e]?.abort()}else o(e,t)}(t,s),null):Ks(a,Ms.METHOD_NOT_FOUND);try{let e;if(null!=a&&c[qs]){const n=new AbortController;i[a]=n,e=c(t,s.params,{signal:n.signal})}else e=c(t,s.params,{});const n=null==e?e:"function"===typeof e.then?await e:e;return null==a||i[a]?.signal.aborted?null:{jsonrpc:"2.0",id:a,result:n}}catch(u){if(null==a||i[a]?.signal.aborted)return n(t,s,u),null;let e;if(u instanceof Bs)e=u.toObject();else{n(t,s,u);const r=u.code??-32e3;e={code:r,message:u.message||Us(r)}}return{jsonrpc:"2.0",id:a,error:e}}finally{null!=a&&delete i[a]}}}var Ys=n(2963);function Xs(e){return JSON.parse(Ls(e))}function Zs(e){const[t,n,r]=e.split(".");return{payload:n,signatures:[{protected:t,signature:r}]}}const ea=async(e,t,n,r={})=>{const o=`${t}#${t.split(":")[2]}`,i=ns(n),s=Xs(Object.assign(r,{kid:o,alg:"EdDSA"}));return ms("string"===typeof e?e:Xs(e),i,s)},ta={did_authenticate:async({did:e,secretKey:t},n)=>Zs(await ea({did:e,aud:n.aud,nonce:n.nonce,paths:n.paths,exp:Math.floor(Date.now()/1e3)+600},e,t)),did_createJWS:async({did:e,secretKey:t},n)=>{if(n.did.split("#")[0]!==e)throw new Bs(4100,`Unknown DID: ${e}`);return{jws:Zs(await ea(n.payload,e,t,n.protected))}},did_decryptJWE:async({secretKey:e},t)=>{const n=function(e){const t=Pt.hash(e.subarray(0,32));return Pt.adjustScalarBytes(t).subarray(0,32)}(e.subarray(0,32)),r=js(n);try{const e=await Ns(t.jwe,r);return{cleartext:(0,Ys.BB)(e,"base64pad")}}catch(ga){throw new Bs(-32e3,ga.message)}}};class na{get isDidProvider(){return!0}async send(e){return await this._handle(e)}constructor(e){var t,n,r;r=void 0,(n="_handle")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;const o=jt.getPublicKey(e),i=(0,Ys.zo)([e,jt.getPublicKey(e)]),s=function(e){const t=new Uint8Array(e.length+2);return t[0]=237,t[1]=1,t.set(e,2),`did:key:z${(0,Ys.BB)(t,"base58btc")}`}(o),a=Ws(ta);this._handle=async e=>await a({did:s,secretKey:i},e)}}var ra=n(4676),oa=n(1653);function ia(e,t){const n=`did:key:${t}`,r=`${n}#${t}`;return{id:n,verificationMethod:[{id:r,type:"Secp256k1VerificationKey2018",controller:n,publicKeyBase58:Ys.BB(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}var sa=n(9784),aa=n(1050);function ca(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=(0,aa.SH)(e),i=`${n}#${function(e){const t=new Uint8Array(e.length+2);return t[0]=236,t[1]=1,t.set(e,2),`z${(0,sa.B)(t,"base58btc")}`}(o)}`;return{id:n,verificationMethod:[{id:r,type:"Ed25519VerificationKey2018",controller:n,publicKeyBase58:(0,sa.B)(e,"base58btc")}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r],keyAgreement:[{id:i,type:"X25519KeyAgreementKey2019",controller:n,publicKeyBase58:(0,sa.B)(o,"base58btc")}]}}var ua=n(9808),la=n(8237);function fa(e){if(!pa(e))throw new TypeError("input must be a Uint8Array");return ua.toString(e,"base16")}function da(e){if(!ha(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=function(e){if(!ha(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=e.slice(0,e.length/2),n=e.slice(e.length/2,e.length),r=ua.fromString(t,"base16"),o=ua.fromString(n,"base16");return{xOctet:r,yOctet:o}}(e);return{xm:la.base64url.encode(t.xOctet).slice(1),ym:la.base64url.encode(t.yOctet).slice(1)}}function ha(e){const t=/^[A-Fa-f0-9]+$/i;return!(null===t.exec(e)||!t.test(e)||"string"!=typeof e)}function pa(e){return null!=e&&e.constructor===Uint8Array}function ma(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=function(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=e.x.toString(),n=e.y.toString(),r=ua.fromString(t,"base10"),o=ua.fromString(n,"base10");return{xOctet:r,yOctet:o}}(e);return{xm:la.base64url.encode(t.xOctet).slice(1),ym:la.base64url.encode(t.yOctet).slice(1)}}function ya(e){return e>=0?e:-e}function ga(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),t<=0n)throw new RangeError("n must be > 0");const n=e%t;return n<0n?n+t:n}function va(e,t){const n=function(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),e<=0n||t<=0n)throw new RangeError("a and b MUST be > 0");let n=0n,r=1n,o=1n,i=0n;for(;0n!==e;){const s=t/e,a=t%e,c=n-o*s,u=r-i*s;t=e,e=a,n=o,r=i,o=c,i=u}return{g:t,x:n,y:r}}(ga(e,t),t);if(1n!==n.g)throw new RangeError(`${e.toString()} does not have inverse modulo ${t.toString()}`);return ga(n.x,t)}function ba(e,t,n){if(e.length!==t.length)throw new RangeError("The remainders and modulos arrays should have the same length");const r=n??t.reduce(((e,t)=>e*t),1n);return t.reduce(((t,n,o)=>{const i=r/n;return ga(t+i*va(i,n)%r*e[o]%r,r)}),0n)}function wa(e,t,n,r){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),"number"==typeof n&&(n=BigInt(n)),n<=0n)throw new RangeError("n must be > 0");if(1n===n)return 0n;if(e=ga(e,n),t<0n)return va(wa(e,ya(t),n,r),n);if(void 0!==r)return function(e,t,n,r){const o=r.map((e=>e[0]**e[1]));return ba(r.map((e=>function(e){return e.map((e=>e[0]**(e[1]-1n)*(e[0]-1n))).reduce(((e,t)=>t*e),1n)}([e]))).map(((n,r)=>wa(e,t%n,o[r]))),o,n)}(e,t,n,function(e){const t={};return e.forEach((e=>{if("bigint"==typeof e||"number"==typeof e){const n=String(e);void 0===t[n]?t[n]={p:BigInt(e),k:1n}:t[n].k+=1n}else{const n=String(e[0]);void 0===t[n]?t[n]={p:BigInt(e[0]),k:BigInt(e[1])}:t[n].k+=BigInt(e[1])}})),Object.values(t).map((e=>[e.p,e.k]))}(r));let o=1n;for(;t>0;)t%2n===1n&&(o=o*e%n),t/=2n,e=e**2n%n;return o}function Ea(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=_a(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-256",x:o.xm,y:o.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function _a(e){if(!pa(e))throw new TypeError("input must be a Uint8Array");const t=fa(e),n=t.length/2;if(64==n)return da(t);if(65==n&&"04"==t.slice(0,2)){return da(t.slice(2))}if(33==n&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return ma(function(e){if(!pa(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),n=t**256n-t**224n+t**192n+t**96n-1n,r=(n+1n)/4n,o=BigInt(e[0]-2),i=e.subarray(1),s=BigInt(ua.toString(i,"base10"));let a=wa(s**3n-3n*s+41058363725152142129326129780047268409114441015993725554835256314039467401291n,r,n);return a%2n!==o&&(a=n-a),{x:s,y:a}}(Ys.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function Ta(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=Sa(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-384",x:o.xm,y:o.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function Sa(e){if(!pa(e))throw new TypeError("input must be a Uint8Array");const t=fa(e),n=t.length/2;if(96==n)return da(t);if(97==n&&"04"==t.slice(0,2)){return da(t.slice(2))}if(49==n&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return ma(function(e){if(!pa(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),n=t**384n-t**128n-t**96n+t**32n-1n,r=(n+1n)/4n,o=BigInt(e[0]-2),i=e.subarray(1),s=BigInt(ua.toString(i,"base10"));let a=wa(s**3n-3n*s+27580193559959705877849011840389048093056905856361568521428707301988689241309860865136260764883745107765439761230575n,r,n);return a%2n!==o&&(a=n-a),{x:s,y:a}}(Ys.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function Ia(e,t){const n=`did:key:${t}`,r=`${n}#${t}`,o=Na(e);return{id:n,verificationMethod:[{id:r,type:"JsonWebKey2020",controller:n,publicKeyJwk:{kty:"EC",crv:"P-521",x:o.xm,y:o.ym}}],authentication:[r],assertionMethod:[r],capabilityDelegation:[r],capabilityInvocation:[r]}}function Na(e){if(!pa(e))throw new TypeError("input must be a Uint8Array");const t=fa(e);if(132<=t.length&&t.length<=134&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return ma(function(e){if(!pa(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2)**521n-1n,n=(t+1n)/4n,r=BigInt(e[0]-2),o=e.subarray(1),i=BigInt(ua.toString(o,"base10"));let s=wa(i**3n-3n*i+1093849038073734274511112390766805569936207598951683748994586394495953116150735016013708737573759623248592132296706313309438452531591012912142327488478985984n,n,t);return s%2n!==r&&(s=t-s),{x:i,y:s}}(Ys.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}const Oa="application/did+json",Aa={231:v,237:b,4608:w,4609:E,4610:_};function xa(){return{key:async(e,t,n,r)=>{const o=r.accept||Oa,i={didResolutionMetadata:{contentType:o},didDocument:null,didDocumentMetadata:{}};try{const e=oa.i.decode(t.id),n=ra.decode(e),r=e.slice(ra.decode.bytes),s=await Aa[n].keyToDidDoc(r,t.id);"application/did+ld+json"===o?(s["@context"]="https://w3id.org/did/v1",i.didDocument=s):o===Oa?i.didDocument=s:(delete i.didResolutionMetadata.contentType,i.didResolutionMetadata.error="representationNotSupported")}catch(ga){i.didResolutionMetadata.error="invalidDid",i.didResolutionMetadata.message=ga.toString()}return i}}}var ka={getResolver:xa},$a=n(4747),Ca=n(5891),Ra=n(9613),Da=n(7353),Pa=n(8566),ja=n(7189);(0,ja.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,ja.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),(0,ja.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),(0,ja.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ma=n(2297);async function La(e,t){return function(e,t=24){const n=(t-e.length%t)%t,r=new Uint8Array(e.length+n);return r.set(e,0),r}((await async function(e){return(await Ca.cv({value:e,codec:Ma,hasher:Pa.y})).cid}(e)).bytes,t)}function Fa(e){return function(e){const t=Ra.k0.asCID(e);if(!t)throw new Error("CID could not be parsed");if(t.code!==Ma.code)throw new Error("CID codec must be dag-cbor");if(t.multihash.code!==Pa.y.code)throw new Error("CID must use identity multihash");return Ma.decode(t.multihash.digest)}(Ra.k0.decodeFirst(e)[0])}function Ua(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Ba(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ua(e,t,"get"))}function Va(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function qa(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ua(e,t,"set"),n),n}var za=new WeakMap;class Ga{get connection(){return Ba(this,za)}createID(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))()}request(e,t,n={}){const{signal:r}=n;if(r?.aborted)return Promise.reject(zs);const o=this.createID(),i=Ba(this,za).send({jsonrpc:"2.0",id:o,method:e,params:t}).then((e=>{if(null==e)throw new Error("Missing response");if(null!=e.error)throw Bs.fromObject(e.error);return e.result}));return null==r?i:(r.addEventListener("abort",(()=>{this.notify(Gs,{id:o})})),function(e,t){if(t.aborted)return Promise.reject(zs);let n;const r=new Promise(((e,t)=>{n=t}));return t.addEventListener("abort",(()=>{n(zs)})),Promise.race([e,r])}(i,r))}async notify(e,t){await Ba(this,za).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){Va(this,za,{writable:!0,value:void 0}),qa(this,za,e)}}const Ka=["string","number","bigint","symbol"],Ja=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Ha(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Ka.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Ja.includes(t))return t;return}(e);return n||"Object"}class Qa{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Qa.uint=new Qa(0,"uint",!0),Qa.negint=new Qa(1,"negint",!0),Qa.bytes=new Qa(2,"bytes",!0),Qa.string=new Qa(3,"string",!0),Qa.array=new Qa(4,"array",!1),Qa.map=new Qa(5,"map",!1),Qa.tag=new Qa(6,"tag",!1),Qa.float=new Qa(7,"float",!0),Qa.false=new Qa(7,"false",!0),Qa.true=new Qa(7,"true",!0),Qa.null=new Qa(7,"null",!0),Qa.undefined=new Qa(7,"undefined",!0),Qa.break=new Qa(7,"break",!0);class Wa{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Ya=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,Xa=new TextDecoder,Za=new TextEncoder;function ec(e){return Ya&&globalThis.Buffer.isBuffer(e)}function tc(e){return e instanceof Uint8Array?ec(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const nc=Ya?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):uc(e,t,n):(e,t,n)=>n-t>64?Xa.decode(e.subarray(t,n)):uc(e,t,n),rc=Ya?e=>e.length>64?globalThis.Buffer.from(e):cc(e):e=>e.length>64?Za.encode(e):cc(e),oc=e=>Uint8Array.from(e),ic=Ya?(e,t,n)=>ec(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),sc=Ya?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),tc(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},ac=Ya?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function cc(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function uc(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=lc)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=lc));return n}(r)}const lc=4096;class fc{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=ac(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=ic(n,0,this.cursor)}else t=sc(this.chunks,this.cursor);return e&&this.reset(),t}}const dc=[];function hc(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}dc[23]=1,dc[24]=2,dc[25]=3,dc[26]=5,dc[27]=9;const pc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function mc(e,t,n){hc(e,t,1);const r=e[t];if(!0===n.strict&&r<pc[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function yc(e,t,n){hc(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<pc[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function gc(e,t,n){hc(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<pc[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function vc(e,t,n){hc(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<pc[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function bc(e,t){return wc(e,0,t.value)}function wc(e,t,n){if(n<pc[0]){const r=Number(n);e.push([t|r])}else if(n<pc[1]){const r=Number(n);e.push([24|t,r])}else if(n<pc[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<pc[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<pc[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}bc.encodedSize=function(e){return wc.encodedSize(e.value)},wc.encodedSize=function(e){return e<pc[0]?1:e<pc[1]?2:e<pc[2]?3:e<pc[3]?5:9},bc.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Ec=BigInt(-1),_c=BigInt(1);function Tc(e,t){const n=t.value,r="bigint"===typeof n?n*Ec-_c:-1*n-1;wc(e,t.type.majorEncoded,r)}function Sc(e,t,n,r){hc(e,t,n+r);const o=ic(e,t+n,t+n+r);return new Wa(Qa.bytes,o,n+r)}function Ic(e,t,n,r){return Sc(e,t,1,n)}function Nc(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Qa.string?rc(e.value):e.value),e.encodedBytes}function Oc(e,t){const n=Nc(t);wc(e,t.type.majorEncoded,n.length),e.push(n)}function Ac(e,t,n,r,o){const i=n+r;hc(e,t,i);const s=new Wa(Qa.string,nc(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=ic(e,t+n,t+i)),s}function xc(e,t,n,r){return Ac(e,t,1,n,r)}Tc.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*Ec-_c:-1*t-1;return n<pc[0]?1:n<pc[1]?2:n<pc[2]?3:n<pc[3]?5:9},Tc.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},Oc.encodedSize=function(e){const t=Nc(e);return wc.encodedSize(t.length)+t.length},Oc.compareTokens=function(e,t){return n=Nc(e),r=Nc(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(ec(e)&&ec(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const kc=Oc;function $c(e,t,n,r){return new Wa(Qa.array,r,n)}function Cc(e,t,n,r){return $c(0,0,1,n)}function Rc(e,t){wc(e,Qa.array.majorEncoded,t.value)}function Dc(e,t,n,r){return new Wa(Qa.map,r,n)}function Pc(e,t,n,r){return Dc(0,0,1,n)}function jc(e,t){wc(e,Qa.map.majorEncoded,t.value)}function Mc(e,t,n,r){return new Wa(Qa.tag,n,1)}function Lc(e,t){wc(e,Qa.tag.majorEncoded,t.value)}Rc.compareTokens=bc.compareTokens,Rc.encodedSize=function(e){return wc.encodedSize(e.value)},jc.compareTokens=bc.compareTokens,jc.encodedSize=function(e){return wc.encodedSize(e.value)},Lc.compareTokens=bc.compareTokens,Lc.encodedSize=function(e){return wc.encodedSize(e.value)};function Fc(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new Wa(Qa.float,e,t)}function Uc(e,t,n){const r=t.value;if(!1===r)e.push([20|Qa.float.majorEncoded]);else if(!0===r)e.push([21|Qa.float.majorEncoded]);else if(null===r)e.push([22|Qa.float.majorEncoded]);else if(void 0===r)e.push([23|Qa.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(zc(r),t=Gc(qc,1),r===t||Number.isNaN(r)?(qc[0]=249,e.push(qc.slice(0,3)),i=!0):(Kc(r),t=Jc(qc,1),r===t&&(qc[0]=250,e.push(qc.slice(0,5)),i=!0))),i||(o=r,Vc.setFloat64(0,o,!1),t=Hc(qc,1),qc[0]=251,e.push(qc.slice(0,9)))}var o}Uc.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){zc(n);let e=Gc(qc,1);if(n===e||Number.isNaN(n))return 3;if(Kc(n),e=Jc(qc,1),n===e)return 5}return 9};const Bc=new ArrayBuffer(9),Vc=new DataView(Bc,1),qc=new Uint8Array(Bc,0);function zc(e){if(e===1/0)Vc.setUint16(0,31744,!1);else if(e===-1/0)Vc.setUint16(0,64512,!1);else if(Number.isNaN(e))Vc.setUint16(0,32256,!1);else{Vc.setFloat32(0,e);const t=Vc.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)Vc.setUint16(0,31744,!1);else if(0===n)Vc.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?Vc.setUint16(0,0):e<-14?Vc.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Vc.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function Gc(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function Kc(e){Vc.setFloat32(0,e,!1)}function Jc(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function Hc(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function Qc(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function Wc(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Uc.compareTokens=bc.compareTokens;const Yc=[];for(let Ad=0;Ad<=23;Ad++)Yc[Ad]=Qc;Yc[24]=function(e,t,n,r){return new Wa(Qa.uint,mc(e,t+1,r),2)},Yc[25]=function(e,t,n,r){return new Wa(Qa.uint,yc(e,t+1,r),3)},Yc[26]=function(e,t,n,r){return new Wa(Qa.uint,gc(e,t+1,r),5)},Yc[27]=function(e,t,n,r){return new Wa(Qa.uint,vc(e,t+1,r),9)},Yc[28]=Qc,Yc[29]=Qc,Yc[30]=Qc,Yc[31]=Qc;for(let Ad=32;Ad<=55;Ad++)Yc[Ad]=Qc;Yc[56]=function(e,t,n,r){return new Wa(Qa.negint,-1-mc(e,t+1,r),2)},Yc[57]=function(e,t,n,r){return new Wa(Qa.negint,-1-yc(e,t+1,r),3)},Yc[58]=function(e,t,n,r){return new Wa(Qa.negint,-1-gc(e,t+1,r),5)},Yc[59]=function(e,t,n,r){const o=vc(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new Wa(Qa.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new Wa(Qa.negint,Ec-BigInt(o),9)},Yc[60]=Qc,Yc[61]=Qc,Yc[62]=Qc,Yc[63]=Qc;for(let Ad=64;Ad<=87;Ad++)Yc[Ad]=Ic;Yc[88]=function(e,t,n,r){return Sc(e,t,2,mc(e,t+1,r))},Yc[89]=function(e,t,n,r){return Sc(e,t,3,yc(e,t+1,r))},Yc[90]=function(e,t,n,r){return Sc(e,t,5,gc(e,t+1,r))},Yc[91]=function(e,t,n,r){const o=vc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return Sc(e,t,9,o)},Yc[92]=Qc,Yc[93]=Qc,Yc[94]=Qc,Yc[95]=Wc("indefinite length bytes/strings are not supported");for(let Ad=96;Ad<=119;Ad++)Yc[Ad]=xc;Yc[120]=function(e,t,n,r){return Ac(e,t,2,mc(e,t+1,r),r)},Yc[121]=function(e,t,n,r){return Ac(e,t,3,yc(e,t+1,r),r)},Yc[122]=function(e,t,n,r){return Ac(e,t,5,gc(e,t+1,r),r)},Yc[123]=function(e,t,n,r){const o=vc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Ac(e,t,9,o,r)},Yc[124]=Qc,Yc[125]=Qc,Yc[126]=Qc,Yc[127]=Wc("indefinite length bytes/strings are not supported");for(let Ad=128;Ad<=151;Ad++)Yc[Ad]=Cc;Yc[152]=function(e,t,n,r){return $c(0,0,2,mc(e,t+1,r))},Yc[153]=function(e,t,n,r){return $c(0,0,3,yc(e,t+1,r))},Yc[154]=function(e,t,n,r){return $c(0,0,5,gc(e,t+1,r))},Yc[155]=function(e,t,n,r){const o=vc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return $c(0,0,9,o)},Yc[156]=Qc,Yc[157]=Qc,Yc[158]=Qc,Yc[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return $c(0,0,1,1/0)};for(let Ad=160;Ad<=183;Ad++)Yc[Ad]=Pc;Yc[184]=function(e,t,n,r){return Dc(0,0,2,mc(e,t+1,r))},Yc[185]=function(e,t,n,r){return Dc(0,0,3,yc(e,t+1,r))},Yc[186]=function(e,t,n,r){return Dc(0,0,5,gc(e,t+1,r))},Yc[187]=function(e,t,n,r){const o=vc(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return Dc(0,0,9,o)},Yc[188]=Qc,Yc[189]=Qc,Yc[190]=Qc,Yc[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Dc(0,0,1,1/0)};for(let Ad=192;Ad<=215;Ad++)Yc[Ad]=Mc;Yc[216]=function(e,t,n,r){return new Wa(Qa.tag,mc(e,t+1,r),2)},Yc[217]=function(e,t,n,r){return new Wa(Qa.tag,yc(e,t+1,r),3)},Yc[218]=function(e,t,n,r){return new Wa(Qa.tag,gc(e,t+1,r),5)},Yc[219]=function(e,t,n,r){return new Wa(Qa.tag,vc(e,t+1,r),9)},Yc[220]=Qc,Yc[221]=Qc,Yc[222]=Qc,Yc[223]=Qc;for(let Ad=224;Ad<=243;Ad++)Yc[Ad]=Wc("simple values are not supported");Yc[244]=Qc,Yc[245]=Qc,Yc[246]=Qc,Yc[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new Wa(Qa.null,null,1):new Wa(Qa.undefined,void 0,1)},Yc[248]=Wc("simple values are not supported"),Yc[249]=function(e,t,n,r){return Fc(Gc(e,t+1),3,r)},Yc[250]=function(e,t,n,r){return Fc(Jc(e,t+1),5,r)},Yc[251]=function(e,t,n,r){return Fc(Hc(e,t+1),9,r)},Yc[252]=Qc,Yc[253]=Qc,Yc[254]=Qc,Yc[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new Wa(Qa.break,void 0,1)};const Xc=[];for(let Ad=0;Ad<24;Ad++)Xc[Ad]=new Wa(Qa.uint,Ad,1);for(let Ad=-1;Ad>=-24;Ad--)Xc[31-Ad]=new Wa(Qa.negint,Ad,1);Xc[64]=new Wa(Qa.bytes,new Uint8Array(0),1),Xc[96]=new Wa(Qa.string,"",1),Xc[128]=new Wa(Qa.array,0,1),Xc[160]=new Wa(Qa.map,0,1),Xc[244]=new Wa(Qa.false,!1,1),Xc[245]=new Wa(Qa.true,!0,1),Xc[246]=new Wa(Qa.null,null,1);const Zc={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=eu[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case Qa.false:return oc([244]);case Qa.true:return oc([245]);case Qa.null:return oc([246]);case Qa.bytes:return e.value.length?void 0:oc([64]);case Qa.string:return""===e.value?oc([96]):void 0;case Qa.array:return 0===e.value?oc([128]):void 0;case Qa.map:return 0===e.value?oc([160]):void 0;case Qa.uint:return e.value<24?oc([Number(e.value)]):void 0;case Qa.negint:if(e.value>=-24)return oc([31-Number(e.value)])}}};const eu=function(){const e=[];return e[Qa.uint.major]=bc,e[Qa.negint.major]=Tc,e[Qa.bytes.major]=Oc,e[Qa.string.major]=kc,e[Qa.array.major]=Rc,e[Qa.map.major]=jc,e[Qa.tag.major]=Lc,e[Qa.float.major]=Uc,e}(),tu=new fc;class nu{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new nu(t,e)}}const ru={null:new Wa(Qa.null,null),undefined:new Wa(Qa.undefined,void 0),true:new Wa(Qa.true,!0),false:new Wa(Qa.false,!1),emptyArray:new Wa(Qa.array,0),emptyMap:new Wa(Qa.map,0)},ou={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Wa(e>=0?Qa.uint:Qa.negint,e):new Wa(Qa.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new Wa(Qa.uint,e):new Wa(Qa.negint,e),Uint8Array:(e,t,n,r)=>new Wa(Qa.bytes,e),string:(e,t,n,r)=>new Wa(Qa.string,e),boolean:(e,t,n,r)=>e?ru.true:ru.false,null:(e,t,n,r)=>ru.null,undefined:(e,t,n,r)=>ru.undefined,ArrayBuffer:(e,t,n,r)=>new Wa(Qa.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new Wa(Qa.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[ru.emptyArray,new Wa(Qa.break)]:ru.emptyArray;r=nu.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=iu(s,n,r);return n.addBreakTokens?[new Wa(Qa.array,e.length),o,new Wa(Qa.break)]:[new Wa(Qa.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[ru.emptyMap,new Wa(Qa.break)]:ru.emptyMap;r=nu.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[iu(u,n,r),iu(o?e.get(u):e[u],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new Wa(Qa.map,s),a,new Wa(Qa.break)]:[new Wa(Qa.map,s),a]}};ou.Map=ou.Object,ou.Buffer=ou.Uint8Array;for(const Ad of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ou[`${Ad}Array`]=ou.DataView;function iu(e,t={},n){const r=Ha(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||ou[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=ou[r];if(!i)throw new Error(`CBOR encode error: unsupported type: ${r}`);return i(e,r,t,n)}function su(e,t,n,r){if(Array.isArray(t))for(const o of t)su(e,o,n,r);else n[t.type.major](e,t,r)}function au(e,t,n){const r=iu(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new fc(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return tc(t.chunks[0])}}return tu.reset(),su(tu,r,t,n),tu.toBytes(!0)}const cu={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class uu{constructor(e,t={}){this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const e=this.data[this._pos];let t=Xc[e];if(void 0===t){const n=Yc[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this._pos,r,this.options)}return this._pos+=t.encodedLength,t}}const lu=Symbol.for("DONE"),fu=Symbol.for("BREAK");function du(e,t){if(e.done())return lu;const n=e.next();if(n.type===Qa.break)return fu;if(n.type.terminal)return n.value;if(n.type===Qa.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=du(t,n);if(i===fu){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(i===lu)throw new Error(`CBOR decode error: found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===Qa.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=du(t,n);if(a===fu){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===lu)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=du(t,n);if(c===lu)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,c):o[a]=c}return r?i:o}(n,e,t);if(n.type===Qa.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=du(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}function hu(e,t){const[n,r]=function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},cu,t)).tokenizer||new uu(e,t),r=du(n,t);if(r===lu)throw new Error("CBOR decode error: did not find any content to decode");if(r===fu)throw new Error("CBOR decode error: got unexpected break");return[r,e.subarray(n.pos())]}(e,t);if(r.length>0)throw new Error("CBOR decode error: too many terminals, data makes no sense");return n}var pu=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const mu=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class yu{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gu{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return bu(this,e)}}class vu{constructor(e){this.decoders=e}or(e){return bu(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const bu=(e,t)=>new vu({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class wu{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new yu(e,t,n),this.decoder=new gu(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Eu=({name:e,prefix:t,encode:n,decode:r})=>new wu(e,t,n,r),_u=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=pu(n,t);return Eu({prefix:e,name:t,encode:r,decode:e=>mu(o(e))})},Tu=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Eu({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Su=Tu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Iu=(Tu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Tu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Tu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_u({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));_u({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Nu=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=Ou;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},Ou=Math.pow(2,31);var Au=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var xu=Math.pow(2,7),ku=Math.pow(2,14),$u=Math.pow(2,21),Cu=Math.pow(2,28),Ru=Math.pow(2,35),Du=Math.pow(2,42),Pu=Math.pow(2,49),ju=Math.pow(2,56),Mu=Math.pow(2,63),Lu={encode:Nu,decode:Au,encodingLength:function(e){return e<xu?1:e<ku?2:e<$u?3:e<Cu?4:e<Ru?5:e<Du?6:e<Pu?7:e<ju?8:e<Mu?9:10}};const Fu=(e,t=0)=>[Lu.decode(e,t),Lu.decode.bytes],Uu=(e,t,n=0)=>(Lu.encode(e,t,n),t),Bu=e=>Lu.encodingLength(e);class Vu{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const qu=(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return Hu(n,Gu(e),t||Iu.encoder);default:return Qu(n,Gu(e),t||Su.encoder)}},zu=new WeakMap,Gu=e=>{const t=zu.get(e);if(null==t){const t=new Map;return zu.set(e,t),t}return t};class Ku{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==Wu)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Yu)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ku.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Bu(e),o=r+Bu(n),i=new Uint8Array(o+n);return Uu(e,i,0),Uu(n,i,r),i.set(t,o),new Vu(e,n,t,i)})(e,t);return Ku.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Ku.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&((e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(e.bytes,n.bytes)}})(e.multihash,n.multihash)}toString(e){return qu(this,e)}toJSON(){return{"/":qu(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof Ku)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new Ku(e,n,r,o||Xu(e,n,r.bytes))}if(!0===t[Zu]){const{version:e,multihash:n,code:r}=t,o=(e=>{const t=mu(e),[n,r]=Fu(t),[o,i]=Fu(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Vu(n,o,s,t)})(n);return Ku.create(e,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==Wu)throw new Error(`Version 0 CID must use dag-pb (code: ${Wu}) block encoding`);return new Ku(e,t,n,n.bytes);case 1:{const r=Xu(e,t,n.bytes);return new Ku(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Ku.create(0,Wu,e)}static createV1(e,t){return Ku.create(1,e,t)}static decode(e){const[t,n]=Ku.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Ku.inspectBytes(e),n=t.size-t.multihashSize,r=mu(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new Vu(t.multihashCode,t.digestSize,o,r);return[0===t.version?Ku.createV0(i):Ku.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Fu(e.subarray(t));return t+=r,n};let r=n(),o=Wu;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=Ju(e,t),o=Ku.decode(r);if(0===o.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return Gu(o).set(n,e),o}}const Ju=(e,t)=>{switch(e[0]){case"Q":{const n=t||Iu;return[Iu.prefix,n.decode(`${Iu.prefix}${e}`)]}case Iu.prefix:{const n=t||Iu;return[Iu.prefix,n.decode(e)]}case Su.prefix:{const n=t||Su;return[Su.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Hu=(e,t,n)=>{const{prefix:r}=n;if(r!==Iu.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},Qu=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},Wu=112,Yu=18,Xu=(e,t,n)=>{const r=Bu(e),o=r+Bu(t),i=new Uint8Array(o+n.byteLength);return Uu(e,i,0),Uu(t,i,r),i.set(n,o),i},Zu=Symbol.for("@ipld/js-cid/CID");const el={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=Ku.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Wa(Qa.tag,42),new Wa(Qa.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const tl={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};tl.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ku.decode(e.subarray(1))};const nl="dag-cbor",rl=113,ol=e=>{return t=e,n=el,n=Object.assign({},Zc,n),au(t,eu,n);var t,n},il=e=>hu(e,tl);new Date("2022-09-20").valueOf();var sl,al;function cl(e){if(null===e.s||void 0===e.s)throw new Error("CACAO does not have a signature")}!function(e){e.fromSiweMessage=function(e){const t={h:{t:"eip4361"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:eip155:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"eip191",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwsMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:solana:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"solana:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwTezosMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:tezos:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"tezos:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwStacksMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:stacks:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"stacks:secp256k1",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromBlockBytes=async function(e){return(await Ca.Jx({bytes:e,codec:T,hasher:Da.J})).value},e.verify=async function(e,t={}){cl(e);const n=t.verifiers[e.s.t];if(!n)throw new Error("Unsupported CACAO signature type, register the needed verifier");return n(e,t)}}(sl||(sl={})),function(e){e.fromCacao=function(e){return Ca.cv({value:e,codec:T,hasher:Da.J})}}(al||(al={}));var ul=n(7118),ll=n(8401);class fl{input;position=0;constructor(e){this.input=e}get isEOF(){return this.position>=this.input.length}}function dl(e,t,n){return n.position=t,hl(e)}function hl(e){return(0,ll.t$)(e)}function pl(e){return function(t){return t.input.slice(t.position,t.position+e.length)===e?(t.position+=e.length,(0,ll.F2)(e)):hl(new Error(`Can not match literal "${e}"`))}}function ml(e,t){return function(n){const r=n.position,o=e(n);if((0,ll.nM)(o))return n.position=r,o;const i=t(o.right);return(0,ll.nM)(i)?dl(i.left,r,n):i}}function yl(e,t){return function(n){const r=n.position,o=e(n);return(0,ll.nM)(o)?(n.position=r,o):(0,ll.F2)(t(o.right))}}function gl(e){return function(t){const n=t.input.slice(t.position).match(e);return n?(t.position+=n[0].length,(0,ll.F2)(n[0])):hl(new Error(`Can not match ${e}`))}}function vl(...e){return bl(El(e))}function bl(e,t=""){return function(n){const r=n.position,o=e(n);return(0,ll.nM)(o)?(n.position=r,o):(0,ll.F2)(o.right.join(t))}}function wl(...e){return El(e)}function El(e){return function(t){const n=t.position,r=[];for(const o of e){const e=o(t);if((0,ll.nM)(e))return dl(e.left,n,t);r.push(e.right)}return(0,ll.F2)(r)}}function _l(e,t){return function(n){const r=e(n);return(0,ll.nM)(r)?(0,ll.F2)(t):r}}function Tl(...e){return function(t){for(const n of e){const e=t.position,r=n(t);if(!(0,ll.nM)(r))return r;t.position=e}return hl(new Error(`Can not find any of ${e.map((e=>e.name)).join(", ")}`))}}function Sl(e,t,n=1,r=1/0){return function(o){const i=o.position,s=[],a=e(o);if((0,ll.nM)(a))return dl(a.left,i,o);s.push(a.right);let c=o.position;const u=e=>s.length<n?dl(e.left,c,o):(o.position=c,(0,ll.F2)(s));for(;!o.isEOF&&s.length<r;){c=o.position;const n=t(o);if((0,ll.nM)(n))return u(n);const r=e(o);if((0,ll.nM)(r))return u(r);s.push(r.right)}return s.length<n?dl(new Error(`Got ${s}/${n} instances of ${e.name}`),i,o):(0,ll.F2)(s)}}function Il(e){return function(t){const n=t.position,r=e(t);return(0,ll.nM)(r)||t.isEOF?r:dl(new Error(`Consumed only ${t.position} of ${t.input.length} input length`),n,t)}}var Nl=n(4415);const Ol=pl("."),Al=pl(":"),xl=pl("::"),kl=gl(/^([0-9a-fA-F]{2}){1,4}/),$l=gl(/^(25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|(\d)/),Cl=vl($l,Ol,$l,Ol,$l,Ol,$l),Rl=Tl(vl(kl,Al,kl),Cl);const Dl=function(){const e=e=>bl(function(e,t=1,n=1/0){return function(r){const o=r.position,i=[];for(;!r.isEOF&&i.length<n;){const n=e(r);if((0,ll.nM)(n))return i.length<t?dl(n.left,o,r):(0,ll.F2)(i);i.push(n.right)}return(0,ll.F2)(i)}}(vl(kl,Al),e,e)),t=e=>_l(bl(Sl(kl,Al,1,e),":"),"");return bl(Tl(wl(e(6),Rl),wl(xl,e(5),Rl),wl(t(1),xl,e(4),Rl),wl(t(2),xl,e(3),Rl),wl(t(3),xl,e(2),Rl),wl(t(4),xl,e(1),Rl),wl(t(5),xl,Rl),wl(t(6),xl,kl),wl(t(7),xl)))}(),Pl=vl(pl("["),Dl,pl("]")),jl=ml(gl(/^\d+/),(e=>String(parseInt(e,10))===e?(0,Nl.F2)(e):(0,Nl.t$)(new Error(`Invalid port ${e}`)))),Ml=Tl(Pl,Cl,gl(/^([a-zA-Z0-9\-._~!$&'()*+,;=]|(%[a-fA-F0-9]{2}))*/)),Ll=vl(pl(":"),jl),Fl=ml(vl(Ml,_l(Ll,"")),(e=>e?(0,Nl.F2)(e):(0,Nl.t$)(new Error("domain can not be empty")))),Ul=ml(gl(/^\S+/),(e=>{try{return new URL(e),(0,Nl.F2)(e)}catch(ga){return(0,Nl.t$)(new Error(`Invalid URI ${e}`))}})),Bl=pl("\n"),Vl=gl(/^\d+/),ql=gl(/^\w+/),zl=yl(wl(Fl,pl(" wants you to sign in with your "),ql,pl(" account:")),(e=>({domain:e[0],network:e[2]}))),Gl=gl(/^\w+/),Kl=yl(_l(wl(gl(/^[^\n]+/),Bl),void 0),(e=>{if(e)return e[0]})),Jl=yl(wl(pl("URI: "),Ul,Bl),(e=>e[1])),Hl=yl(wl(pl("Version: 1"),Bl),(()=>"1")),Ql=yl(wl(pl("Chain ID: "),Vl,Bl),(e=>e[1])),Wl=gl(/^[a-zA-Z0-9]{8,}/),Yl=yl(wl(pl("Nonce: "),Wl,Bl),(e=>e[1])),Xl=ml(gl(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|([+-](\d\d):(\d\d)))/),(e=>Number.isFinite(Date.parse(e))?(0,Nl.F2)(e):(0,Nl.t$)(new Error(`Invalid date-time ${e}`)))),Zl=e=>yl(wl(pl(e),Xl),(e=>e[1])),ef=Zl("Issued At: "),tf=Zl("Expiration Time: "),nf=Zl("Not Before: "),rf=gl(/^([a-zA-Z0-9-._~!$&'():@]|(%[a-fA-F0-9]{2}))*/),of=yl(wl(pl("Request ID: "),rf,Bl),(e=>e[1])),sf=Ul,af=yl(wl(pl("- "),sf),(e=>e[1])),cf=yl(wl(pl("Resources:"),Bl,_l(Sl(af,Bl),[])),(e=>e[2])),uf=yl(wl(zl,Bl,Gl,Bl),(e=>({domain:e[0].domain,network:e[0].network,address:e[2]}))),lf=yl(wl(Jl,Hl,Ql,Yl,ef),(e=>({uri:e[0],version:e[1],chainId:e[2],nonce:e[3],issuedAt:e[4]}))),ff=_l(wl(Bl,tf),void 0),df=_l(wl(Bl,nf),void 0),hf=_l(wl(Bl,of),void 0),pf=yl(_l(wl(Bl,cf),void 0),(e=>e?e[1]:void 0)),mf=yl(wl(ff,df,hf,pf),(e=>({expirationTime:e[0],notBefore:e[1],requestId:e[2],resources:e[3]}))),yf=yl(wl(uf,Bl,Kl,Bl,lf,mf),(e=>{const t=e[0],n=e[2],r=e[4],o=e[5];return{domain:t.domain,network:t.network,address:t.address,statement:n,uri:r.uri,version:r.version,chainId:r.chainId,nonce:r.nonce,issuedAt:r.issuedAt,resources:o.resources}}));function gf(e){const t=Il(e);return function(e){return(0,Nl.Gg)(t(new fl(e)))}}const vf=gf(Fl),bf=gf(Xl),wf=gf(Ul);function Ef(e,t){if(e)return e;throw new Error(`Expect non-empty string for "${t}" field`)}function _f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tf{toString(){return function(e){const t=`${e.domain} wants you to sign in with your ${e.network} account:`,n=e.address,r=e.statement,o=`URI: ${e.uri}`,i=`Version: ${e.version}`,s=`Chain ID: ${e.chainId}`,a=`Nonce: ${e.nonce}`,c=`Issued At: ${e.issuedAt}`,u=e.expirationTime?`Expiration Time: ${e.expirationTime}`:void 0,l=e.notBefore?`Not Before: ${e.notBefore}`:void 0,f=e.requestId?`Request ID: ${e.requestId}`:void 0,d=e.resources?`Resources:\n${function(e){return e.map((e=>`- ${e}`)).join("\n")}(e.resources)}`:void 0;let h=`${t}\n${n}\n\n`;r&&(h+=`${r}\n`);return[h,o,i,s,a,c,u,l,f,d].filter(Boolean).join("\n")}(this)}constructor(e){var t;_f(this,"domain",void 0),_f(this,"network",void 0),_f(this,"address",void 0),_f(this,"statement",void 0),_f(this,"uri",void 0),_f(this,"version",void 0),_f(this,"chainId",void 0),_f(this,"nonce",void 0),_f(this,"issuedAt",void 0),_f(this,"expirationTime",void 0),_f(this,"notBefore",void 0),_f(this,"requestId",void 0),_f(this,"resources",void 0),this.domain=vf(e.domain),this.network=Ef(e.network,"network"),this.address=Ef(e.address,"address"),this.statement=Nf(e.statement,(e=>Ef(e,"statement"))),this.uri=wf(e.uri),this.version=function(e){if("1"!==String(e))throw new Error(`Invalid version string: ${e}`);return"1"}(e.version||"1"),this.chainId=(t=e.chainId,String(t)),this.nonce=function(e){return gf(Wl)(String(e))}(e.nonce),this.issuedAt=bf(e.issuedAt),this.expirationTime=Nf(e.expirationTime,bf),this.notBefore=Nf(e.notBefore,bf),this.requestId=Nf(e.requestId,(e=>Ef(e,"requestId"))),this.resources=Nf(e.resources,(e=>e.map(wf)))}}function Sf(e){const t=Il(yf)(new fl(e));return(0,Nl.nM)(t)?t:(0,Nl.F2)(new Tf(t.right))}function If(e){return(0,Nl.Gg)(Sf(e))}function Nf(e,t){return void 0!==e?t(e):void 0}function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Af,xf;_f(Tf,"fromString",If),_f(Tf,"fromStringSafe",Sf),function(e){e.INVALID_SIGNATURE="Invalid signature.",e.EXPIRED_MESSAGE="Expired message.",e.MALFORMED_SESSION="Malformed session."}(Af||(Af={})),function(e){e.PERSONAL_SIGNATURE="Personal signature"}(xf||(xf={}));class kf extends class{static fromCacao(e){const t=ul.hX.parse(e.p.iss.replace("did:pkh:","")),n=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new ul.a_(t.chainId).reference});return e.p.statement&&(n.statement=e.p.statement),e.p.nonce&&(n.nonce=e.p.nonce),e.p.iat&&(n.issuedAt=e.p.iat),e.p.exp&&(n.expirationTime=e.p.exp),e.p.nbf&&(n.notBefore=e.p.nbf),e.p.requestId&&(n.requestId=e.p.requestId),e.p.resources&&(n.resources=e.p.resources),e.s&&(e.s.s&&(n.signature=e.s.s),"eip191"===e.s.t&&(n.type=xf.PERSONAL_SIGNATURE)),n}toMessage(e){return function(e,t){const n=`${e.domain} wants you to sign in with your ${t} account:`,r=`URI: ${e.uri}`;let o=[n,e.address].join("\n");const i=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=`Nonce: ${e.nonce}`,a=`Chain ID: ${e.chainId}`,c=[r,i,a,s];e.issuedAt&&Date.parse(e.issuedAt);if(e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),c.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;c.push(t)}e.notBefore&&c.push(`Not Before: ${e.notBefore}`);e.requestId&&c.push(`Request ID: ${e.requestId}`);e.resources&&e.resources.length>=1&&c.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const u=c.join("\n");e.statement&&(o=[o,e.statement].join("\n\n"));return[o,u].join("\n\n")}(this,e)}constructor(e){if(Of(this,"domain",void 0),Of(this,"address",void 0),Of(this,"statement",void 0),Of(this,"uri",void 0),Of(this,"version",void 0),Of(this,"nonce",void 0),Of(this,"issuedAt",void 0),Of(this,"expirationTime",void 0),Of(this,"notBefore",void 0),Of(this,"requestId",void 0),Of(this,"chainId",void 0),Of(this,"resources",void 0),Of(this,"signature",void 0),Of(this,"type",void 0),"string"===typeof e){const t=If(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}}{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;switch(this.type){case xf.PERSONAL_SIGNATURE:default:e=this.toMessage()}return e}}const $f=new Date("2022-09-20").valueOf();function Cf(e,t){const n="string"===typeof e?z(e):e,r=Yr(K(z("\x19Ethereum Signed Message:\n"),z(String(e.length)),n)),o=function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const t=q(e.charCodeAt(i)),n=q(e.charCodeAt(i+1));if(void 0===t||void 0===n){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[o]=16*t+n}return r}(t.replace(/^0x/,""));let i=o[64];0!==i&&1!==i||(i+=27);const s=vo.Signature.fromCompact(o.slice(0,64)).addRecoveryBit(i-27).recoverPublicKey(r).toRawBytes(!1);return`0x${j(Yr(s.subarray(1)).subarray(-20))}`}function Rf(e){return e instanceof Uint8Array}new Nl.Cs("Uint8Array",Rf);function Df(e){return new Nl.Dy(`Uint8Array-as-${String(e)}`,Rf,((t,n)=>{try{return n.success((0,Ys.mL)(t,e))}catch{return n.failure()}}),(t=>(0,Ys.BB)(t,e)))}Df("base64");const Pf=Df("base64pad"),jf=Df("base64url");function Mf(e){return Pf.encode(e)}function Lf(e){const t=(0,Nl.Jx)(jf,e);return JSON.parse((0,sa.B)(t))}var Ff=n(1416);function Uf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bf={eip191:async(e,t)=>{!function(e,t){cl(e),function(e,t){const n=t.atTime?t.atTime.getTime():Date.now(),r=1e3*(t.clockSkewSecs??300);if(Date.parse(e.p.iat)>n+r||Date.parse(e.p.nbf)>n+r)throw new Error("CACAO is not valid yet");const o=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0;if(!t.disableExpirationCheck&&Date.parse(e.p.exp)+o+r<n)throw new Error("CACAO has expired")}(e,t);const n=[Cf(kf.fromCacao(e).toMessage(),e.s.s)];if(Date.parse(e.p.iat)<=$f){const t=Cf(function(e,t){const n=`${e.domain} wants you to sign in with your ${t} account:`,r=`URI: ${e.uri}`;let o=[n,e.address].join("\n");const i=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=[r,i,`Nonce: ${e.nonce}`];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),s.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;s.push(t)}e.notBefore&&s.push(`Not Before: ${e.notBefore}`),e.requestId&&s.push(`Request ID: ${e.requestId}`),e.chainId&&s.push(`Chain ID: ${e.chainId}`),e.resources&&s.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const a=s.join("\n");return e.statement&&(o=[o,e.statement].join("\n\n")),[o,a].join("\n\n")}(kf.fromCacao(e),"Ethereum"),e.s.s);n.push(t)}const r=ul.hX.parse(e.p.iss.replace("did:pkh:","")).address.toLowerCase();if(!n.includes(r))throw new Error("Signature does not belong to issuer")}(e,t)}};class Vf{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return null!=this._capability}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return null!=this._parentId}get id(){if(null==this._id)throw new Error("DID is not authenticated");return this._id}get authenticated(){return null!=this._id}withCapability(e){return new Vf({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(null==this._client)this._client=new Ga(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=function(e){return"registry"in e&&"cache"in e}(e)?e:new $a.H2(e,t)}async authenticate({provider:e,paths:t=[],aud:n}={}){if(null!=e&&this.setProvider(e),null==this._client)throw new Error("No provider available");const r=(0,sa.B)((0,Ff.randomBytes)(16),"base64"),o=await this._client.request("did_authenticate",{nonce:r,aud:n,paths:t}),{kid:i}=await this.verifyJWS(o),s=Lf(o.payload);if(!i.includes(s.did))throw new Error("Invalid authencation response, kid mismatch");if(s.nonce!==r)throw new Error("Invalid authencation response, wrong nonce");if(s.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(s.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=s.did,this._id}async createJWS(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");if(this._capability){const e=this._capability.p.exp;if(e&&Date.parse(e)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");const n=await al.fromCacao(this._capability),r=Ra.k0.asCID(n.cid);if(!r)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${r?.toString()}`}const{jws:n}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return n}async createDagJWS(e,t={}){const{cid:n,linkedBlock:r}=await async function(e){const t=await Ca.cv({value:e,codec:Ma,hasher:Da.J});return{cid:t.cid,linkedBlock:t.bytes}}(e),o=function(e){return jf.encode(e)}(n.bytes);Object.assign(t,{linkedBlock:Mf(r)});const i=await this.createJWS(o,t),s=Ra.k0.asCID(n);if(!s)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");if(i.link=s,this._capability){return{jws:i,linkedBlock:r,cacaoBlock:(await al.fromCacao(this._capability)).bytes}}return{jws:i,linkedBlock:r}}async verifyJWS(e,t={}){t=Object.assign({verifiers:Bf},t),"string"!==typeof e&&(e=function(e){if(e.signatures.length>1)throw new Error("Cant convert to compact jws");return`${e.signatures[0].protected}.${e.payload}.${e.signatures[0].signature}`}(e));const n=Lf(e.split(".")[0]).kid;if(!n)throw new Error('No "kid" found in jws');const r=await this.resolve(n);if(!t.disableTimecheck){const e=r.didDocumentMetadata?.nextUpdate;if(e){const r=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0,o=new Date(e).valueOf()+r;if(!(t.atTime&&t.atTime.getTime()<o))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${n}`)}const o=r.didDocumentMetadata?.updated;if(o&&t.atTime&&t.atTime.getTime()<new Date(o).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${n}`)}const o=r.didDocument?.id;if(t.issuer&&t.issuer===t.capability?.p.iss&&o===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await sl.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==o){const e=function(e,t){if(t)return`${e}?versionTime=${t.toISOString().split(".")[0]+"Z"}`;return e}(t.issuer,t.atTime),r=(await this.resolve(e)).didDocument?.controller,i=function(e){return e?Array.isArray(e)?e:[e]:[]}(r);if(t.capability?.s&&t.capability.p.aud===o&&i.includes(t.capability.p.iss))await sl.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else{if(!(!!o&&i.includes(o)))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${n}`)}}let i;bs(e,r.didDocument?.verificationMethod||[]);try{i=Lf(e.split(".")[1])}catch(ga){}return{kid:n,payload:i,didResolutionResult:r}}async createJWE(e,t,n={}){return function(e,t,n={},r,o=!1){try{if("dir"===t[0].alg){if(t.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(t[0].encrypt(e,n,r)).then((function(e){return Is(e,r)}))}{const i=t[0].enc;if(!t.reduce(((e,t)=>e&&t.enc===i),!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,c;if(o){c=t[0].genEpk?.();const e=t[0].alg;n={...n,alg:e,epk:c?.publicKeyJWK}}const u=Ss(t,(function(t){const o=s?Promise.resolve(t.encryptCek?.(s,c)).then((function(e){e&&a?.recipients?.push(e)})):Promise.resolve(t.encrypt(e,n,r,c)).then((function(e){s=e.cek,a=Is(e,r)}));if(o&&o.then)return o.then((function(){}))}));return Promise.resolve(u&&u.then?u.then((function(){return a})):a)}}catch(ga){return Promise.reject(ga)}}(e,await Cs(t,this._resolver),n.protectedHeader,n.aad)}async createDagJWE(e,t,n={}){const r=await La(e);return this.createJWE(r,t,n)}async decryptJWE(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");const{cleartext:n}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return function(e){return(0,Nl.Jx)(Pf,e)}(n)}async decryptDagJWE(e){return Fa(await this.decryptJWE(e))}async resolve(e){const t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){const{error:n,message:r}=t.didResolutionMetadata;throw new Error(`Failed to resolve ${e}: ${n}${r?`, ${r}`:""}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:n,capability:r,parent:o}={}){if(Uf(this,"_client",void 0),Uf(this,"_id",void 0),Uf(this,"_resolver",void 0),Uf(this,"_capability",void 0),Uf(this,"_parentId",void 0),null!=e&&(this._client=new Ga(e)),r){if(this._capability=r,this._parentId=this._capability.p.iss,o&&this._parentId!==o)throw new Error("Capability issuer and parent not equal")}else o&&(this._parentId=o);this.setResolver(t,n)}}function qf(e){return JSON.parse(Ls(e))}async function zf({publicKey:e}){const t=await globalThis.crypto.subtle.exportKey("raw",e);return function(e,t){const n=new Uint8Array(e.length+1);return n[0]=2+(1&t[t.length-1]),n.set(e,1),n}(new Uint8Array(t.slice(1,33)),new Uint8Array(t.slice(33,65)))}function Gf(e){const t=new Uint8Array(ra.encode(4608)),n=Ys.zo([t,e]);return`did:key:z${Ys.BB(n,"base58btc")}`}function Kf(e){const[t,n,r]=e.split(".");return{payload:n,signatures:[{protected:t,signature:r}]}}function Jf(e){return Ys.BB(Ys.mL(JSON.stringify(e)),"base64url")}const Hf=async(e,t,n,r={})=>{const o=`${t}#${t.split(":")[2]}`,i=`${Jf(qf(Object.assign(r,{kid:o,alg:"ES256"})))}.${"string"===typeof e?e:Jf(qf(e))}`,s=await globalThis.crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},n.privateKey,Ys.mL(i));return`${i}.${Ys.BB(new Uint8Array(s),"base64url")}`},Qf={did_authenticate:async({keyPair:e},t)=>{const n=Gf(await zf(e));return Kf(await Hf({did:n,aud:t.aud,nonce:t.nonce,paths:t.paths,exp:Math.floor(Date.now()/1e3)+600},n,e))},did_createJWS:async({keyPair:e},t)=>{const n=Gf(await zf(e));if(t.did.split("#")[0]!==n)throw new Bs(4100,`Unknown DID: ${n}`);return{jws:Kf(await Hf(t.payload,n,e,t.protected))}},did_decryptJWE:async()=>{throw new Bs(4100,"Decryption not supported")}};class Wf{get isDidProvider(){return!0}async send(e){return await this._handle(e)}constructor(e){var t,n,r;r=void 0,(n="_handle")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;const o=Ws(Qf);this._handle=async t=>await o({keyPair:e},t)}}function Yf(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Xf(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Yf(e,t,"get"))}function Zf(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function ed(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Yf(e,t,"set"),n),n}var td=new WeakMap;class nd{static async create(){if("undefined"===typeof globalThis.indexedDB)throw new Error("SessionStore is only supported in the browser");const e=indexedDB.open("did-session",1);e.onupgradeneeded=e=>{e.target.result.createObjectStore("sessions")};const t=await new Promise(((t,n)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>n(e.error)}));return new nd(t)}async get(e){const t=Xf(this,td).transaction("sessions","readonly").objectStore("sessions").get(e.toString());return new Promise(((e,n)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>n(t.error)}))}async set(e,t){const n=Xf(this,td).transaction("sessions","readwrite").objectStore("sessions").put(t,e.toString());return new Promise(((e,t)=>{n.onsuccess=()=>e(),n.onerror=()=>t(n.error)}))}close(){Xf(this,td).close()}constructor(e){Zf(this,td,{writable:!0,value:void 0}),ed(this,td,e)}}function rd(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function od(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,rd(e,t,"get"))}function id(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function sd(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,rd(e,t,"set"),n),n}async function ad(e){const t=new na(e||(0,Ff.randomBytes)(32)),n=new Vf({provider:t,resolver:ka.getResolver()});return await n.authenticate(),n}async function cd(e,t){const n=e.withCapability(t);return await n.authenticate(),n}function ud(e,t){return t.every((t=>e.p.resources?.includes(t)))}var ld=new WeakMap,fd=new WeakMap,dd=new WeakMap;class hd{static async authorize(e,t={}){if(!t.resources||0===t.resources.length)throw new Error("Required: resource argument option when authorizing");const n=t,r=(0,Ff.randomBytes)(32),o=await ad(r);if(n.uri=o.id,t.expiresInSecs){const e=new Date(Date.now()+1e3*t.expiresInSecs);n.expirationTime=e.toISOString()}const i=await e(t),s=await cd(o,i);return new hd({cacao:i,keySeed:r,did:s})}static async initDID(e,t){const n=e.withCapability(t);return await n.authenticate(),n}static async get(e,t,n={}){if(!n.resources||0===n.resources.length)throw new Error("Required: resource argument option when authorizing");const r=await nd.create(),o=await r.get(e)||{};let{cacao:i,keypair:s}=o;if(i&&s&&ud(i,n.resources)){const e=new Wf(s),t=new Vf({provider:e,resolver:ka.getResolver(),capability:i});await t.authenticate();const n=new hd({cacao:i,did:t});if(!n.isExpired)return n}s=await async function(){const{privateKey:e,publicKey:t}=await globalThis.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"]);return{privateKey:e,publicKey:t}}();const a=new Wf(s),c=new Vf({provider:a,resolver:ka.getResolver()});await c.authenticate();const u=n;u.uri=c.id,i=await t(u);const l=await cd(c,i);return await r.set(e,{cacao:i,keypair:s}),r.close(),new hd({cacao:i,did:l})}static async hasSessionFor(e,t){const n=await nd.create(),{cacao:r}=await n.get(e)||{};return r&&ud(r,t)}get did(){return od(this,ld)}serialize(){if(!od(this,fd))throw new Error("Secure sessions cannot be serialized");const e={sessionKeySeed:(t=od(this,fd),Ys.BB(t,"base64pad")),cacao:od(this,dd)};var t,n;return n=e,Ys.BB(Ys.mL(JSON.stringify(n)),"base64url")}static async fromSession(e){const{sessionKeySeed:t,cacao:n}=function(e){return JSON.parse(Ys.BB(Ys.mL(e,"base64url")))}(e),r=function(e){return Ys.mL(e,"base64pad")}(t),o=await ad(r),i=await hd.initDID(o,n);return new hd({cacao:n,keySeed:r,did:i})}get hasSession(){return!!od(this,dd)&&!!od(this,ld)}get isExpired(){const e=od(this,dd).p.exp;return!!e&&Date.parse(e)<Date.now()}get expireInSecs(){const e=od(this,dd).p.exp;if(!e)throw new Error("Session does not expire");const t=Date.parse(e)-Date.now();return t<0?0:t/1e3}get authorizations(){return od(this,dd)?.p.resources??[]}get cacao(){return od(this,dd)}isAuthorized(e){return!(!this.hasSession||this.isExpired)&&(!e||e.every((e=>this.authorizations.includes(e))))}get id(){return od(this,ld).parent}constructor(e){id(this,ld,{writable:!0,value:void 0}),id(this,fd,{writable:!0,value:void 0}),id(this,dd,{writable:!0,value:void 0}),sd(this,fd,e.keySeed),sd(this,dd,e.cacao),sd(this,ld,e.did)}}function pd(e,t,n){if(null==n&&(n=[]),e.request)return e.request({method:t,params:n}).then((e=>e),(e=>{throw e}));if(e.sendAsync||e.send){const r=(e.sendAsync?e.sendAsync:e.send).bind(e),o=function(e,t){return{jsonrpc:"2.0",id:1,method:e,params:t}}(t,n);return new Promise(((e,t)=>{r(o,((n,r)=>{if(n&&t(n),r.error){const e=new Error(r.error.message);e.code=r.error.code,e.data=r.error.data,t(e)}e(r.result)}))}))}throw new Error("Unsupported provider; provider must implement one of the following methods: send, sendAsync, request")}function md(e){return`0x${j(z(e))}`}var yd,gd;async function vd(e,t,n){const r=new Date,o=new Date(r.getTime()+6048e5),i=(s=n,new ul.hX({address:s.address.toLowerCase(),chainId:s.chainId}));var s;const a=new kf({domain:e.domain,address:i.address,statement:e.statement??"Give this application access to some of your data on Ceramic",uri:e.uri,version:"1",nonce:e.nonce??(0,Ff.randomString)(10),issuedAt:r.toISOString(),expirationTime:e.expirationTime??o.toISOString(),chainId:i.chainId.reference,resources:e.resources}),c=await pd(t,"personal_sign",[md(a.signMessage()),i.address]);return a.signature=c,sl.fromSiweMessage(a)}async function bd(e,t){const n=`eip155:${await async function(e){const t=await pd(e,"eth_chainId",[]);return parseInt(t,16)}(e)}`;return new ul.hX({address:t.toLowerCase(),chainId:n})}!function(e){e.getAuthMethod=async function(e,t){if("undefined"===typeof window)throw new Error("Web Auth method requires browser environment");const n=window.location.hostname;return async r=>(r.domain=n,vd(r,e,t))}}(yd||(yd={})),function(e){e.getAuthMethod=async function(e,t,n){if(!n)throw new Error("Node Auth method requires an application name gethAuthMethod(ethProvider, account, appName)");return async r=>(r.domain=n,vd(r,e,t))}}(gd||(gd={}));n(4122);var wd=n(7212);function Ed(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function _d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ed(i,r,o,s,a,"next",e)}function a(e){Ed(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Td(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var Sd="ceramic:did_seed",Id=function(){var e=_d(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("key"!=(r=localStorage.getItem("ceramic:auth_type"))){e.next=4;break}return e.next=4,Nd(t,n);case 4:if("eth"!=r){e.next=7;break}return e.next=7,Od(t,n);case 7:return localStorage.setItem("logged_in","true"),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nd=function(){var e=_d(I().mark((function e(t,n){var r,o,i,s,a,c,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===localStorage.getItem(Sd)?(console.log("Generating seed..."),o=crypto.getRandomValues(new Uint8Array(32)),i=JSON.stringify(o,(function(e,t){return Td(t,Uint8Array)?Array.from(t):t})),localStorage.setItem(Sd,i),r=o,console.log("Generated new seed: "+o)):(s=localStorage.getItem(Sd),a=JSON.parse(s),r=a,console.log("Found seed: "+r)),c=new na(r),u=new Vf({provider:c,resolver:xa()}),e.next=6,u.authenticate();case 6:return t.did=u,n.setDID(u),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Od=function(){var e=_d(I().mark((function e(t,n){var r,o,i,s,a,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=localStorage.getItem("ceramic:eth_did"))){e.next=6;break}return e.next=5,hd.fromSession(r);case 5:o=e.sent;case 6:if(!(!o||o.hasSession&&o.isExpired)){e.next=25;break}if(i=(0,wd.yj)()){e.next=11;break}throw console.error("MetaMask provider not detected."),new Error("MetaMask provider not detected.");case 11:return e.next=13,i.request({method:"eth_requestAccounts"});case 13:return s=e.sent,e.next=16,bd(i,s[0]);case 16:return a=e.sent,e.next=19,yd.getAuthMethod(i,a);case 19:return c=e.sent,604800,e.next=23,hd.authorize(c,{resources:n.resources,expiresInSecs:604800});case 23:o=e.sent,localStorage.setItem("ceramic:eth_did",o.serialize());case 25:return n.setDID(o.did),t.did=o.did,e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},5293:function(e){!function(){"use strict";var t={182:function(e){var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"===typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,function(e){console&&console.warn&&console.warn(e)}(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},s=!0;try{t[e](i,i.exports,r),s=!1}finally{s&&delete n[e]}return i.exports}r.ab="//";var o=r(182);e.exports=o}()},906:function(){},7663:function(e){!function(){var t={162:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},s=!0;try{t[e](i,i.exports,r),s=!1}finally{s&&delete n[e]}return i.exports}r.ab="//";var o=r(162);e.exports=o}()},6830:function(e){"use strict";e.exports=function(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},6526:function(e){"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}},2099:function(e){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},8546:function(e,t,n){"use strict";const r=n(5698);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},9808:function(e,t,n){"use strict";const r=n(6830),o=n(6526),i=n(2099),s=n(8546),a=n(4535),c=n(2249);e.exports={compare:r,concat:o,equals:i,fromString:s,toString:a,xor:c}},4535:function(e,t,n){"use strict";const r=n(5698);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}},5698:function(e,t,n){"use strict";const{bases:r}=n(7527);function o(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const i=o("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),s=o("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),a={utf8:i,"utf-8":i,hex:r.base16,latin1:s,ascii:s,binary:s,...r};e.exports=a},2249:function(e){"use strict";e.exports=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}},2831:function(e){e.exports={STRING:2,BOOLEAN:4,BYTES:4,NUMBER:8,Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}},4225:function(e,t,n){"use strict";const r=n(2831),o=n(8764).Buffer;e.exports=function(e){let t=0;return t=null!==e&&"object"===typeof e?function(e){let t=0;try{let r=e;if(e instanceof Map?r=Object.fromEntries(e):e instanceof Set&&(r=Array.from(e)),ArrayBuffer.isView(e))return(n=e).BYTES_PER_ELEMENT?n.length*n.BYTES_PER_ELEMENT:-1;const i=JSON.stringify(r,((e,t)=>"bigint"===typeof t||"function"===typeof t?t.toString():"undefined"===typeof t?"undefined":"symbol"===typeof t||t instanceof RegExp?t.toString():t));t=o.byteLength(i,"utf8")}catch(r){return console.error("Error detected, returning -1",r),-1}var n;return t}(e):function(e){const t=[],n=[e];let i=0;for(;n.length;){const a=n.pop();if("boolean"===typeof a)i+=r.BYTES;else if("string"===typeof a)"undefined"===typeof window||"undefined"===typeof document?i+=(s=a,12+4*Math.ceil(s.length/4)):i+=a.length*r.STRING;else if("number"===typeof a)i+=r.NUMBER;else if("symbol"===typeof a)i+=Symbol.keyFor&&Symbol.keyFor(e)?Symbol.keyFor(e).length*r.STRING:(e.toString().length-8)*r.STRING;else if("bigint"===typeof a)i+=o.from(a.toString()).byteLength;else if("function"===typeof a)i+=a.toString().length;else if("object"===typeof a&&-1===t.indexOf(a)){t.push(a);for(const e in a)n.push(a[e])}}var s;return i}(e),t}},778:function(e,t,n){var r=n(2479);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},8212:function(e,t,n){"use strict";var r=n(3454);"undefined"===typeof r||!r.version||0===r.version.indexOf("v0.")||0===r.version.indexOf("v1.")&&0!==r.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,o){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var i,s,a=arguments.length;switch(a){case 0:case 1:return r.nextTick(e);case 2:return r.nextTick((function(){e.call(null,t)}));case 3:return r.nextTick((function(){e.call(null,t,n)}));case 4:return r.nextTick((function(){e.call(null,t,n,o)}));default:for(i=new Array(a-1),s=0;s<i.length;)i[s++]=arguments[s];return r.nextTick((function(){e.apply(null,i)}))}}}:e.exports=r},4286:function(e,t,n){var r=n(3454),o=n(778),i=n(2840),s=n(1156),a=function(){},c=/^v?\.0/.test(r.version),u=function(e){return"function"===typeof e},l=function(e,t,n,r){r=o(r);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return r(e);l=!0,r()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!c&&!!s&&(e instanceof(s.ReadStream||a)||e instanceof(s.WriteStream||a))&&u(e.close)}(e)?e.close(a):function(e){return e.setHeader&&u(e.abort)}(e)?e.abort():u(e.destroy)?e.destroy():void r(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=u(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(o,i){var s=i<t.length-1;return l(o,s,i>0,(function(t){e||(e=t),t&&r.forEach(f),s||(r.forEach(f),n(e))}))}));return t.reduce(d)}},6753:function(e,t,n){"use strict";var r=n(8212),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var i=Object.create(n(6497));i.inherits=n(5717);var s=n(9481),a=n(4229);i.inherits(f,s);for(var c=o(a.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},2725:function(e,t,n){"use strict";e.exports=i;var r=n(4605),o=Object.create(n(6497));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n(5717),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},9481:function(e,t,n){"use strict";var r=n(3454),o=n(8212);e.exports=b;var i,s=n(5309);b.ReadableState=v;n(5293).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=n(2503),u=n(9509).Buffer,l=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var f=Object.create(n(6497));f.inherits=n(5717);var d=n(4616),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(5057),y=n(1195);f.inherits(b,c);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(6753));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(2553).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n(6753),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,r,o){var i,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,s)):(o||(i=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),i?e.emit("error",i):s.objectMode||t&&t.length>0?("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?E(e,s,t,!1):N(e,s)):E(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),N(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(2553).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(I,e):I(e))}function I(e){h("emit readable"),e.emit("readable"),k(e)}function N(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){h("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(s===i.length?o+=i:o+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,s),0===(e-=s)){s===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):S(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&C(this),null;var r,o=t.needReadable;return h("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",o=!0),t.ended||t.reading?h("reading or ended",o=!1):o&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?$(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&C(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",y),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",m),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}i.endEmitted?o.nextTick(c):n.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,k(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==D(i.pipes,e))&&!d&&(h("false write response, pause",i.awaitDrain),i.awaitDrain++,p=!0),n.pause())}function y(t){h("onerror",t),b(),e.removeListener("error",y),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),b()}function v(){h("onfinish"),e.removeListener("close",g),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=D(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):o.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(x,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(h("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))})),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<g.length;i++)e.on(g[i],this.emit.bind(this,g[i]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=$},4605:function(e,t,n){"use strict";e.exports=s;var r=n(6753),o=Object.create(n(6497));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(5717),o.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},4229:function(e,t,n){"use strict";var r=n(8212);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=y;var i,s=r.nextTick;y.WritableState=m;var a=Object.create(n(6497));a.inherits=n(5717);var c={deprecate:n(4927)},u=n(2503),l=n(9509).Buffer,f=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var d,h=n(1195);function p(){}function m(e,t){i=i||n(6753),e=e||{};var a=t instanceof i;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,o=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,o,i){--t.pendingcb,n?(r.nextTick(i,o),r.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",o)):(i(o),e._writableState.errorEmitted=!0,e.emit("error",o),_(e,t))}(e,n,o,t,i);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),o?s(v,e,n,a,i):v(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(i=i||n(6753),!d.call(y,this)&&!(this instanceof i))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function g(e,t,n,r,o,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,g(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(g(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(y,u),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===y&&(e&&e._writableState instanceof m)}})):d=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var o,i=this._writableState,s=!1,a=!i.objectMode&&(o=e,l.isBuffer(o)||o instanceof f);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=p),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,o){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(o,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,o,i){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,n));return t}(t,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,a,r,o,i);return c}(this,i,a,e,t,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||b(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var o=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,o,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}},5057:function(e,t,n){"use strict";var r=n(9509).Buffer,o=n(2361);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);for(var t,n,o,i=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,o=a,t.copy(n,o),a+=s.data.length,s=s.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},1195:function(e,t,n){"use strict";var r=n(8212);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,e)):r.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},2503:function(e,t,n){e.exports=n(5293).EventEmitter},5309:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},8473:function(e,t,n){(t=e.exports=n(9481)).Stream=t,t.Readable=t,t.Writable=n(4229),t.Duplex=n(6753),t.Transform=n(4605),t.PassThrough=n(2725)},9509:function(e,t,n){var r=n(8764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(o,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},2830:function(e,t,n){e.exports=o;var r=n(5293).EventEmitter;function o(){r.call(this)}n(5717)(o,r),o.Readable=n(6577),o.Writable=n(323),o.Duplex=n(8656),o.Transform=n(4473),o.PassThrough=n(2366),o.finished=n(1086),o.pipeline=n(6472),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",c));var s=!1;function a(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",a),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},8106:function(e){"use strict";var t={};function n(e,n,r){r||(r=Error);var o=function(e){var t,r;function o(t,r,o){return e.call(this,function(e,t,r){return"string"===typeof n?n:n(e,t,r)}(t,r,o))||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o}(r);o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,i,s,a;if("string"===typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(o," ").concat(r(t,"type"));else{var c=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(o," ").concat(r(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},8656:function(e,t,n){"use strict";var r=n(3454),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(6577),s=n(323);n(5717)(l,i);for(var a=o(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2366:function(e,t,n){"use strict";e.exports=o;var r=n(4473);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}n(5717)(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},6577:function(e,t,n){"use strict";var r,o=n(3454);e.exports=I,I.ReadableState=S;n(5293).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=n(3194),a=n(8764).Buffer,c=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var u,l=n(964);u=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=n(9686),m=n(1029),y=n(94).getHighWaterMark,g=n(8106).q,v=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(I,s);var _=m.errorOrDestroy,T=["error","close","destroy","pause","resume"];function S(e,t,o){r=r||n(8656),e=e||{},"boolean"!==typeof o&&(o=t instanceof r),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",o),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(2553).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function I(e){if(r=r||n(8656),!(this instanceof I))return new I(e);var t=this instanceof r;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function N(e,t,n,r,o){u("readableAddChunk",t);var i,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,$(e)))}(e,s);else if(o||(i=function(e,t){var n;r=t,a.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(s,t)),i)_(e,i);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)s.endEmitted?_(e,new E):O(e,s,t,!0);else if(s.ended)_(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?O(e,s,t,!1):C(e,s)):O(e,s,t,!1)}else r||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),C(e,t)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),N(this,e,t,!1,n)},I.prototype.unshift=function(e){return N(this,e,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){f||(f=n(2553).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";null!==r;)o+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var A=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick($,e))}function $(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function C(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function P(e){u("readable nexttick read 0"),e.read(0)}function j(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(U,t,e))}function U(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function B(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}I.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&F(this),null;var r,o=t.needReadable;return u("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",o=!0),t.ended||t.reading?u("reading or ended",o=!1):o&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(e){_(this,new w("_read()"))},I.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,u("pipe count=%d opts=%j",r.pipesCount,t);var s=(!t||!1!==t.end)&&e!==o.stdout&&e!==o.stderr?c:y;function a(t,o){u("onunpipe"),t===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",d),f=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}r.endEmitted?o.nextTick(s):n.once("end",s),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",l);var f=!1;function d(t){u("ondata");var o=e.write(t);u("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==B(r.pipes,e))&&!f&&(u("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function h(t){u("onerror",t),y(),e.removeListener("error",h),0===i(e,"error")&&_(e,t)}function p(){e.removeListener("finish",m),y()}function m(){u("onfinish"),e.removeListener("close",p),y()}function y(){u("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),r.flowing||(u("pipe resume"),n.resume()),e},I.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=B(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},I.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,u("on readable",r.length,r.reading),r.length?k(this):r.reading||o.nextTick(P,this))),n},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(D,this),n},I.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(D,this),t},I.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(j,e,t))}(this,e)),e.paused=!1,this},I.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(u("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause())))})),e)void 0===this[o]&&"function"===typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<T.length;i++)e.on(T[i],this.emit.bind(this,T[i]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(828)),d(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=L,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(I.from=function(e,t){return void 0===h&&(h=n(1265)),h(I,e,t)})},4473:function(e,t,n){"use strict";e.exports=l;var r=n(8106).q,o=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(8656);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(5717)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new o("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},323:function(e,t,n){"use strict";var r,o=n(3454);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=I,I.WritableState=S;var s={deprecate:n(4927)},a=n(3194),c=n(8764).Buffer,u=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var l,f=n(1029),d=n(94).getHighWaterMark,h=n(8106).q,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,_=f.errorOrDestroy;function T(){}function S(e,t,s){r=r||n(8656),e=e||{},"boolean"!==typeof s&&(s=t instanceof r),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!==typeof i)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick($,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),$(e,t))}(e,n,r,t,i);else{var s=x(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?o.nextTick(O,e,n,s,i):O(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(e){var t=this instanceof(r=r||n(8656));if(!t&&!l.call(I,this))return new I(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function N(e,t,n,r,o,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function O(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),$(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,N(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(N(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),$(e,t)}))}function $(e,t){var n=x(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(5717)(I,a),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===I&&(e&&e._writableState instanceof S)}})):l=function(e){return e instanceof this},I.prototype.pipe=function(){_(this,new g)},I.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=T),i.ending?function(e,t){var n=new w;_(e,n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i;return null===n?i=new b:"string"===typeof n||t.objectMode||(i=new p("chunk",["string","Buffer"],n)),!i||(_(e,i),o.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,o,i){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n));return t}(t,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else N(e,t,!1,a,r,o,i);return u}(this,i,a,e,t,n)),s},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,n){n(new m("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,$(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=f.destroy,I.prototype._undestroy=f.undestroy,I.prototype._destroy=function(e,t){t(e)}},828:function(e,t,n){"use strict";var r,o=n(3454);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(1086),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[a]=null,e[c]=null,t(p(n,!1)))}}function y(e){o.nextTick(m,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){o.nextTick((function(){e[u]?n(e[u]):t(p(void 0,!0))}))}));var n,r=this[f];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(p(i,!1));n=new Promise(this[d])}return this[f]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[f]=null,n[a]=null,n[c]=null,e(p(r,!1))):(n[a]=e,n[c]=t)},writable:!0}),t));return n[f]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[c];return null!==t&&(n[f]=null,n[a]=null,n[c]=null,t(e)),void(n[u]=e)}var r=n[a];null!==r&&(n[f]=null,n[a]=null,n[c]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",y.bind(null,n)),n}},9686:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var c=n(8764).Buffer,u=n(9862).inspect,l=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,r;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,n,r,o=c.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,n=o,r=s,c.prototype.copy.call(t,n,r),s+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?r+=o:r+=o.slice(0,e),0===(e-=i)){i===o.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0===(e-=i)){i===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(i));break}++r}return this.length-=r,t}},{key:l,value:function(e,t){return u(this,o(o({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1029:function(e,t,n){"use strict";var r=n(3454);function o(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,e)):r.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(i,n):(n._writableState.errorEmitted=!0,r.nextTick(o,n,e)):r.nextTick(o,n,e):t?(r.nextTick(i,n),t(e)):r.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},1086:function(e,t,n){"use strict";var r=n(8106).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,n,i){if("function"===typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}}(i||o);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||i.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,f=!0,a||i.call(t)},h=function(e){i.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},1265:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:function(e,t,n){"use strict";var r;var o=n(8106).q,i=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(1086)),r(e,{readable:t,writable:o},(function(e){if(e)return i(e);a=!0,i()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var s=t.map((function(e,n){var i=n<t.length-1;return c(e,i,n>0,(function(e){r||(r=e),e&&s.forEach(u),i||(s.forEach(u),o(r))}))}));return t.reduce(l)}},94:function(e,t,n){"use strict";var r=n(8106).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,o){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,o,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(o?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},3194:function(e,t,n){e.exports=n(5293).EventEmitter},2553:function(e,t,n){"use strict";var r=n(9509).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=s(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=s(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},540:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,o=1;o<r;++o)t[o]=t[o].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function a(e){var r="[A-Za-z]",o="[0-9]",i=t(o,"[A-Fa-f]"),s=n(n("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+n("%[89A-Fa-f]"+i+"%"+i+i)+"|"+n("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(r,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=n(r+t(r,o,"[\\+\\-\\.]")+"*"),d=n(n(s+"|"+t(l,a,"[\\:]"))+"*"),h=(n(n("25[0-5]")+"|"+n("2[0-4]"+o)+"|"+n("1"+o+o)+"|"+n("[1-9]"+o)+"|"+o),n(n("25[0-5]")+"|"+n("2[0-4]"+o)+"|"+n("1"+o+o)+"|"+n("0?[1-9]"+o)+"|0?0?"+o)),p=n(h+"\\."+h+"\\."+h+"\\."+h),m=n(i+"{1,4}"),y=n(n(m+"\\:"+m)+"|"+p),g=n(n(m+"\\:")+"{6}"+y),v=n("\\:\\:"+n(m+"\\:")+"{5}"+y),b=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+y),w=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+y),E=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+y),_=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+y),T=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+y),S=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),I=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),N=n([g,v,b,w,E,_,T,S,I].join("|")),O=n(n(l+"|"+s)+"+"),A=(n(N+"\\%25"+O),n(N+n("\\%25|\\%(?!"+i+"{2})")+O)),x=n("[vV]"+i+"+\\."+t(l,a,"[\\:]")+"+"),k=n("\\["+n(A+"|"+N+"|"+x)+"\\]"),$=n(n(s+"|"+t(l,a))+"*"),C=n(k+"|"+p+"(?!"+$+")|"+$),R=n(o+"*"),D=n(n(d+"@")+"?"+C+n("\\:"+R)+"?"),P=n(s+"|"+t(l,a,"[\\:\\@]")),j=n(P+"*"),M=n(P+"+"),L=n(n(s+"|"+t(l,a,"[\\@]"))+"+"),F=n(n("\\/"+j)+"*"),U=n("\\/"+n(M+F)+"?"),B=n(L+F),V=n(M+F),q="(?!"+P+")",z=(n(F+"|"+U+"|"+B+"|"+V+"|"+q),n(n(P+"|"+t("[\\/\\?]",u))+"*")),G=n(n(P+"|[\\/\\?]")+"*"),K=n(n("\\/\\/"+D+F)+"|"+U+"|"+V+"|"+q),J=n(f+"\\:"+K+n("\\?"+z)+"?"+n("\\#"+G)+"?"),H=n(n("\\/\\/"+D+F)+"|"+U+"|"+B+"|"+q),Q=n(H+n("\\?"+z)+"?"+n("\\#"+G)+"?");return n(J+"|"+Q),n(f+"\\:"+K+n("\\?"+z)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+C+")"+n("\\:("+R+")")+"?)")+"?("+F+"|"+U+"|"+V+"|"+q+")"),n("\\?("+z+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+C+")"+n("\\:("+R+")")+"?)")+"?("+F+"|"+U+"|"+B+"|"+q+")"),n("\\?("+z+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+C+")"+n("\\:("+R+")")+"?)")+"?("+F+"|"+U+"|"+V+"|"+q+")"),n("\\?("+z+")"),n("\\#("+G+")"),n("("+d+")@"),n("\\:("+R+")"),{NOT_SCHEME:new RegExp(t("[^]",r,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+N+")"+n(n("\\%25|\\%(?!"+i+"{2})")+"("+O+")")+"?\\]?$")}}var c=a(!1),u=a(!0),l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,h=36,p=1,m=26,y=38,g=700,v=72,b=128,w="-",E=/^xn--/,_=/[^\0-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=h-p,N=Math.floor,O=String.fromCharCode;function A(e){throw new RangeError(S[e])}function x(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function k(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+x((e=e.replace(T,".")).split("."),t).join(".")}function $(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}var C=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},R=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},D=function(e,t,n){var r=0;for(e=n?N(e/g):e>>1,e+=N(e/t);e>I*m>>1;r+=h)e=N(e/I);return N(r+(I+1)*e/(e+y))},P=function(e){var t=[],n=e.length,r=0,o=b,i=v,s=e.lastIndexOf(w);s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&A("not-basic"),t.push(e.charCodeAt(a));for(var c=s>0?s+1:0;c<n;){for(var u=r,l=1,f=h;;f+=h){c>=n&&A("invalid-input");var y=C(e.charCodeAt(c++));(y>=h||y>N((d-r)/l))&&A("overflow"),r+=y*l;var g=f<=i?p:f>=i+m?m:f-i;if(y<g)break;var E=h-g;l>N(d/E)&&A("overflow"),l*=E}var _=t.length+1;i=D(r-u,_,0==u),N(r/_)>d-o&&A("overflow"),o+=N(r/_),r%=_,t.splice(r++,0,o)}return String.fromCodePoint.apply(String,t)},j=function(e){var t=[],n=(e=$(e)).length,r=b,o=0,i=v,s=!0,a=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value;f<128&&t.push(O(f))}}catch(K){a=!0,c=K}finally{try{!s&&l.return&&l.return()}finally{if(a)throw c}}var y=t.length,g=y;for(y&&t.push(w);g<n;){var E=d,_=!0,T=!1,S=void 0;try{for(var I,x=e[Symbol.iterator]();!(_=(I=x.next()).done);_=!0){var k=I.value;k>=r&&k<E&&(E=k)}}catch(K){T=!0,S=K}finally{try{!_&&x.return&&x.return()}finally{if(T)throw S}}var C=g+1;E-r>N((d-o)/C)&&A("overflow"),o+=(E-r)*C,r=E;var P=!0,j=!1,M=void 0;try{for(var L,F=e[Symbol.iterator]();!(P=(L=F.next()).done);P=!0){var U=L.value;if(U<r&&++o>d&&A("overflow"),U==r){for(var B=o,V=h;;V+=h){var q=V<=i?p:V>=i+m?m:V-i;if(B<q)break;var z=B-q,G=h-q;t.push(O(R(q+z%G,0))),B=N(z/G)}t.push(O(R(B,0))),i=D(o,C,g==y),o=0,++g}}}catch(K){j=!0,M=K}finally{try{!P&&F.return&&F.return()}finally{if(j)throw M}}++o,++r}return t.join("")},M=function(e){return k(e,(function(e){return E.test(e)?P(e.slice(4).toLowerCase()):e}))},L=function(e){return k(e,(function(e){return _.test(e)?"xn--"+j(e):e}))},F={version:"2.1.0",ucs2:{decode:$,encode:function(e){return String.fromCodePoint.apply(String,f(e))}},decode:P,encode:j,toASCII:L,toUnicode:M},U={};function B(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function V(e){for(var t="",n=0,r=e.length;n<r;){var o=parseInt(e.substr(n+1,2),16);if(o<128)t+=String.fromCharCode(o),n+=3;else if(o>=194&&o<224){if(r-n>=6){var i=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&o)<<6|63&i)}else t+=e.substr(n,6);n+=6}else if(o>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function q(e,t){function n(e){var n=V(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,B).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,B).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,B).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,B).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,B).replace(t.PCT_ENCODED,o)),e}function z(e){return e.replace(/^0*(.*)/,"$1")||"0"}function G(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(z).join("."):e}function K(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),o=r[1],i=r[2];if(o){for(var s=o.toLowerCase().split("::").reverse(),a=l(s,2),c=a[0],u=a[1],f=u?u.split(":").map(z):[],d=c.split(":").map(z),h=t.IPV4ADDRESS.test(d[d.length-1]),p=h?7:8,m=d.length-p,y=Array(p),g=0;g<p;++g)y[g]=f[g]||d[m+g]||"";h&&(y[p-1]=G(y[p-1],t));var v=y.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var w=y.slice(0,v.index),E=y.slice(v.index+v.length);b=w.join(":")+"::"+E.join(":")}else b=y.join(":");return i&&(b+="%"+i),b}return e}var J=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,H=void 0==="".match(/(){0}/)[1];function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?u:c;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(J);if(o){H?(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5])):(n.scheme=o[1]||void 0,n.userinfo=-1!==e.indexOf("@")?o[3]:void 0,n.host=-1!==e.indexOf("//")?o[4]:void 0,n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=-1!==e.indexOf("?")?o[7]:void 0,n.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),n.host&&(n.host=K(G(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var i=U[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)q(n,r);else{if(n.host&&(t.domainHost||i&&i.domainHost))try{n.host=F.toASCII(n.host.replace(r.PCT_ENCODED,V).toLowerCase())}catch(s){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+s}q(n,c)}i&&i.parse&&i.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function W(e,t){var n=!1!==t.iri?u:c,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(K(G(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Y=/^\.\.?\//,X=/^\/\.(\/|$)/,Z=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Y))e=e.replace(Y,"");else if(e.match(X))e=e.replace(X,"/");else if(e.match(Z))e=e.replace(Z,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?u:c,r=[],o=U[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?F.toUnicode(e.host):F.toASCII(e.host.replace(n.PCT_ENCODED,V).toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+a}q(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var i=W(e,t);if(void 0!==i&&("suffix"!==t.reference&&r.push("//"),r.push(i),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||o&&o.absolutePath||(s=te(s)),void 0===i&&(s=s.replace(/^\/\//,"/%2F")),r.push(s)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=Q(ne(e,n),n),t=Q(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=te(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function oe(e,t,n){var r=s({scheme:"null"},n);return ne(re(Q(e,r),Q(t,r),r,!0),r)}function ie(e,t){return"string"===typeof e?e=ne(Q(e,t),t):"object"===r(e)&&(e=Q(ne(e,t),t)),e}function se(e,t,n){return"string"===typeof e?e=ne(Q(e,n),n):"object"===r(e)&&(e=ne(e,n)),"string"===typeof t?t=ne(Q(t,n),n):"object"===r(t)&&(t=ne(t,n)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?u.ESCAPE:c.ESCAPE,B)}function ce(e,t){return e&&e.toString().replace(t&&t.iri?u.PCT_ENCODED:c.PCT_ENCODED,V)}var ue={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},le={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize};function fe(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var de={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=fe(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(fe(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=l(n,2),o=r[0],i=r[1];e.path=o&&"/"!==o?o:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},he={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},pe={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ye="[0-9A-Fa-f]",ge=n(n("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+n("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+n("%"+ye+ye)),ve="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",be=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),we="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ee=new RegExp(me,"g"),_e=new RegExp(ge,"g"),Te=new RegExp(t("[^]",ve,"[\\.]",'[\\"]',be),"g"),Se=new RegExp(t("[^]",me,we),"g"),Ie=Se;function Ne(e){var t=V(e);return t.match(Ee)?t:e}var Oe={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var o=!1,i={},s=n.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),f=0,d=l.length;f<d;++f)r.push(l[f]);break;case"subject":n.subject=ce(u[1],t);break;case"body":n.body=ce(u[1],t);break;default:o=!0,i[ce(u[0],t)]=ce(u[1],t)}}o&&(n.headers=i)}n.query=void 0;for(var h=0,p=r.length;h<p;++h){var m=r[h].split("@");if(m[0]=ce(m[0]),t.unicodeSupport)m[1]=ce(m[1],t).toLowerCase();else try{m[1]=F.toASCII(ce(m[1],t).toLowerCase())}catch(y){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+y}r[h]=m.join("@")}return n},serialize:function(e,t){var n=e,r=i(e.to);if(r){for(var s=0,a=r.length;s<a;++s){var c=String(r[s]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(_e,Ne).replace(_e,o).replace(Te,B),f=c.slice(u+1);try{f=t.iri?F.toUnicode(f):F.toASCII(ce(f,t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}r[s]=l+"@"+f}n.path=r.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==pe[p]&&h.push(p.replace(_e,Ne).replace(_e,o).replace(Se,B)+"="+d[p].replace(_e,Ne).replace(_e,o).replace(Ie,B));return h.length&&(n.query=h.join("&")),n}},Ae=/^([^\:]+)\:(.*)/,xe={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Ae),r=e;if(n){var o=t.scheme||r.scheme||"urn",i=n[1].toLowerCase(),s=n[2],a=o+":"+(t.nid||i),c=U[a];r.nid=i,r.nss=s,r.path=void 0,c&&(r=c.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,o=n+":"+(t.nid||r),i=U[o];i&&(e=i.serialize(e,t));var s=e,a=e.nss;return s.path=(r||t.nid)+":"+a,s}},ke=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,$e={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ke)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};U[ue.scheme]=ue,U[le.scheme]=le,U[de.scheme]=de,U[he.scheme]=he,U[Oe.scheme]=Oe,U[xe.scheme]=xe,U[$e.scheme]=$e,e.SCHEMES=U,e.pctEncChar=B,e.pctDecChars=V,e.parse=Q,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=re,e.resolve=oe,e.normalize=ie,e.equal=se,e.escapeComponent=ae,e.unescapeComponent=ce,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4927:function(e,t,n){function r(e){try{if(!n.g.localStorage)return!1}catch(r){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},6988:function(e){e.exports=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a||i>49)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o}},1312:function(e){e.exports=function e(n,r,o){if(Number.MAX_SAFE_INTEGER&&n>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");r=r||[];var i=o=o||0;for(;n>=t;)r[o++]=255&n|128,n/=128;for(;-128&n;)r[o++]=255&n|128,n>>>=7;return r[o]=0|n,e.bytes=o-i+1,r};var t=Math.pow(2,31)},4676:function(e,t,n){e.exports={encode:n(1312),decode:n(6988),encodingLength:n(82)}},82:function(e){var t=Math.pow(2,7),n=Math.pow(2,14),r=Math.pow(2,21),o=Math.pow(2,28),i=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<n?2:e<r?3:e<o?4:e<i?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},2479:function(e){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"===typeof r&&r!==o&&Object.keys(o).forEach((function(e){r[e]=o[e]})),r}}},5883:function(){},1156:function(){},2361:function(){},4616:function(){},9862:function(){},964:function(){},773:function(e,t,n){"use strict";var r;function o(e){return!!e&&e<7}n.d(t,{Ie:function(){return r},Oj:function(){return o}}),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}))},990:function(e,t,n){"use strict";n.d(t,{YG:function(){return i},ls:function(){return s},MS:function(){return a},cA:function(){return c}});var r=n(7582),o=(n(8287),n(3154)),i=Symbol();function s(e){return!!e.extensions&&Array.isArray(e.extensions[i])}function a(e){return e.hasOwnProperty("graphQLErrors")}var c=function(e){function t(n){var i=n.graphQLErrors,s=n.protocolErrors,a=n.clientErrors,c=n.networkError,u=n.errorMessage,l=n.extraInfo,f=e.call(this,u)||this;return f.name="ApolloError",f.graphQLErrors=i||[],f.protocolErrors=s||[],f.clientErrors=a||[],f.networkError=c||null,f.message=u||function(e){var t=(0,r.ev)((0,r.ev)((0,r.ev)([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map((function(e){return(0,o.s)(e)&&e.message||"Error message not found."})).join("\n")}(f),f.extraInfo=l,f.__proto__=t.prototype,f}return(0,r.ZT)(t,e),t}(Error)},5317:function(e,t,n){"use strict";var r;n.d(t,{K:function(){return c}});var o=n(7294),i=n(320),s=n(8287),a=i.aS?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function c(){(0,s.kG)("createContext"in(r||(r=n.t(o,2))),45);var e=o.createContext[a];return e||(Object.defineProperty(o.createContext,a,{value:e=o.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}},1436:function(e,t,n){"use strict";n.d(t,{k:function(){return r},O:function(){return o}});var r=Array.isArray;function o(e){return Array.isArray(e)&&e.length>0}},320:function(e,t,n){"use strict";n.d(t,{mr:function(){return o},sy:function(){return i},aS:function(){return s},DN:function(){return a},JC:function(){return l}});var r=n(8287),o="function"===typeof WeakMap&&"ReactNative"!==(0,r.wY)((function(){return navigator.product})),i="function"===typeof WeakSet,s="function"===typeof Symbol&&"function"===typeof Symbol.for,a=s&&Symbol.asyncIterator,c="function"===typeof(0,r.wY)((function(){return window.document.createElement})),u=(0,r.wY)((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,l=c&&!u},3712:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}n.d(t,{o:function(){return r}})},897:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=new Map;function o(e){var t=r.get(e)||1;return r.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}},8702:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(3154);function o(e){var t=new Set([e]);return t.forEach((function(e){(0,r.s)(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){(0,r.s)(e[n])&&t.add(e[n])}))})),e}function i(e){return!1!==globalThis.__DEV__&&o(e),e}},4012:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(7582),o=n(3712);function i(e,t){return(0,o.o)(e,t,t.variables&&{variables:(0,o.o)((0,r.pi)((0,r.pi)({},e&&e.variables),t.variables))})}},3154:function(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.d(t,{s:function(){return r}})},3887:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(897);function o(e,t){void 0===t&&(t=0);var n=(0,r.X)("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?n:t}),t).split(JSON.stringify(n)).join("<undefined>")}},8287:function(e,t,n){"use strict";n.d(t,{kG:function(){return g},wY:function(){return h},_K:function(){return v}});var r=n(7582),o="Invariant Violation",i=Object.setPrototypeOf,s=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(n){void 0===n&&(n=o);var r=e.call(this,"number"===typeof n?o+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=o,s(r,t.prototype),r}return(0,r.ZT)(t,e),t}(Error);function c(e,t){if(!e)throw new a(t)}var u=["debug","log","warn","error","silent"],l=u.indexOf("log");function f(e){return function(){if(u.indexOf(e)>=l){var t=console[e]||console.log;return t.apply(console,arguments)}}}!function(e){e.debug=f("debug"),e.log=f("log"),e.warn=f("warn"),e.error=f("error")}(c||(c={}));var d=n(9379);function h(e){try{return e()}catch(i){}}var p=h((function(){return globalThis}))||h((function(){return window}))||h((function(){return self}))||h((function(){return global}))||h((function(){return h.constructor("return this")()})),m=n(3887);function y(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if("number"===typeof t){var o=t;(t=E(o))||(t=_(o,n),n=[])}e.apply(void 0,[t].concat(n))}}var g=Object.assign((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e||c(e,E(t,n)||_(t,n))}),{debug:y(c.debug),log:y(c.log),warn:y(c.warn),error:y(c.error)});function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new a(E(e,t)||_(e,t))}var b=Symbol.for("ApolloErrorMessageHandler_"+d.i);function w(e){return"string"==typeof e?e:(0,m.v)(e,2).slice(0,1e3)}function E(e,t){if(void 0===t&&(t=[]),e)return p[b]&&p[b](e,t.map(w))}function _(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:d.i,message:e,args:t.map(w)})))}globalThis.__DEV__},9379:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r="3.8.8"},2297:function(e,t,n){"use strict";n.r(t),n.d(t,{code:function(){return pt},decode:function(){return yt},encode:function(){return mt},name:function(){return ht}});const r=["string","number","bigint","symbol"],o=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function i(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(r.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(o.includes(t))return t;return}(e);return n||"Object"}class s{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}s.uint=new s(0,"uint",!0),s.negint=new s(1,"negint",!0),s.bytes=new s(2,"bytes",!0),s.string=new s(3,"string",!0),s.array=new s(4,"array",!1),s.map=new s(5,"map",!1),s.tag=new s(6,"tag",!1),s.float=new s(7,"float",!0),s.false=new s(7,"false",!0),s.true=new s(7,"true",!0),s.null=new s(7,"null",!0),s.undefined=new s(7,"undefined",!0),s.break=new s(7,"break",!0);class a{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const c=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,u=new TextDecoder,l=new TextEncoder;function f(e){return c&&globalThis.Buffer.isBuffer(e)}function d(e){return e instanceof Uint8Array?f(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const h=c?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):w(e,t,n):(e,t,n)=>n-t>64?u.decode(e.subarray(t,n)):w(e,t,n),p=c?e=>e.length>64?globalThis.Buffer.from(e):b(e):e=>e.length>64?l.encode(e):b(e),m=e=>Uint8Array.from(e),y=c?(e,t,n)=>f(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),g=c?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),d(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},v=c?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function b(e,t=1/0){let n;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function w(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}const E=4096;class _{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=v(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=y(n,0,this.cursor)}else t=g(this.chunks,this.cursor);return e&&this.reset(),t}}const T=[];function S(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")}T[23]=1,T[24]=2,T[25]=3,T[26]=5,T[27]=9;const I=[24,256,65536,4294967296,BigInt("18446744073709551616")];function N(e,t,n){S(e,t,1);const r=e[t];if(!0===n.strict&&r<I[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function O(e,t,n){S(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<I[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function A(e,t,n){S(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<I[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return r}function x(e,t,n){S(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<I[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function k(e,t){return $(e,0,t.value)}function $(e,t,n){if(n<I[0]){const r=Number(n);e.push([t|r])}else if(n<I[1]){const r=Number(n);e.push([24|t,r])}else if(n<I[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<I[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<I[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}k.encodedSize=function(e){return $.encodedSize(e.value)},$.encodedSize=function(e){return e<I[0]?1:e<I[1]?2:e<I[2]?3:e<I[3]?5:9},k.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const C=BigInt(-1),R=BigInt(1);function D(e,t){const n=t.value,r="bigint"===typeof n?n*C-R:-1*n-1;$(e,t.type.majorEncoded,r)}function P(e,t,n,r){S(e,t,n+r);const o=y(e,t+n,t+n+r);return new a(s.bytes,o,n+r)}function j(e,t,n,r){return P(e,t,1,n)}function M(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===s.string?p(e.value):e.value),e.encodedBytes}function L(e,t){const n=M(t);$(e,t.type.majorEncoded,n.length),e.push(n)}function F(e,t,n,r,o){const i=n+r;S(e,t,i);const c=new a(s.string,h(e,t+n,t+i),i);return!0===o.retainStringBytes&&(c.byteValue=y(e,t+n,t+i)),c}function U(e,t,n,r){return F(e,t,1,n,r)}D.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*C-R:-1*t-1;return n<I[0]?1:n<I[1]?2:n<I[2]?3:n<I[3]?5:9},D.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},L.encodedSize=function(e){const t=M(e);return $.encodedSize(t.length)+t.length},L.compareTokens=function(e,t){return n=M(e),r=M(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(f(e)&&f(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const B=L;function V(e,t,n,r){return new a(s.array,r,n)}function q(e,t,n,r){return V(0,0,1,n)}function z(e,t){$(e,s.array.majorEncoded,t.value)}function G(e,t,n,r){return new a(s.map,r,n)}function K(e,t,n,r){return G(0,0,1,n)}function J(e,t){$(e,s.map.majorEncoded,t.value)}function H(e,t,n,r){return new a(s.tag,n,1)}function Q(e,t){$(e,s.tag.majorEncoded,t.value)}z.compareTokens=k.compareTokens,z.encodedSize=function(e){return $.encodedSize(e.value)},J.compareTokens=k.compareTokens,J.encodedSize=function(e){return $.encodedSize(e.value)},Q.compareTokens=k.compareTokens,Q.encodedSize=function(e){return $.encodedSize(e.value)};function W(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new a(s.float,e,t)}function Y(e,t,n){const r=t.value;if(!1===r)e.push([20|s.float.majorEncoded]);else if(!0===r)e.push([21|s.float.majorEncoded]);else if(null===r)e.push([22|s.float.majorEncoded]);else if(void 0===r)e.push([23|s.float.majorEncoded]);else{let t,i=!1;n&&!0===n.float64||(te(r),t=ne(ee,1),r===t||Number.isNaN(r)?(ee[0]=249,e.push(ee.slice(0,3)),i=!0):(re(r),t=oe(ee,1),r===t&&(ee[0]=250,e.push(ee.slice(0,5)),i=!0))),i||(o=r,Z.setFloat64(0,o,!1),t=ie(ee,1),ee[0]=251,e.push(ee.slice(0,9)))}var o}Y.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){te(n);let e=ne(ee,1);if(n===e||Number.isNaN(n))return 3;if(re(n),e=oe(ee,1),n===e)return 5}return 9};const X=new ArrayBuffer(9),Z=new DataView(X,1),ee=new Uint8Array(X,0);function te(e){if(e===1/0)Z.setUint16(0,31744,!1);else if(e===-1/0)Z.setUint16(0,64512,!1);else if(Number.isNaN(e))Z.setUint16(0,32256,!1);else{Z.setFloat32(0,e);const t=Z.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)Z.setUint16(0,31744,!1);else if(0===n)Z.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?Z.setUint16(0,0):e<-14?Z.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Z.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function ne(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function re(e){Z.setFloat32(0,e,!1)}function oe(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function ie(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function se(e,t,n){throw new Error(`CBOR decode error: encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function ae(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Y.compareTokens=k.compareTokens;const ce=[];for(let gt=0;gt<=23;gt++)ce[gt]=se;ce[24]=function(e,t,n,r){return new a(s.uint,N(e,t+1,r),2)},ce[25]=function(e,t,n,r){return new a(s.uint,O(e,t+1,r),3)},ce[26]=function(e,t,n,r){return new a(s.uint,A(e,t+1,r),5)},ce[27]=function(e,t,n,r){return new a(s.uint,x(e,t+1,r),9)},ce[28]=se,ce[29]=se,ce[30]=se,ce[31]=se;for(let gt=32;gt<=55;gt++)ce[gt]=se;ce[56]=function(e,t,n,r){return new a(s.negint,-1-N(e,t+1,r),2)},ce[57]=function(e,t,n,r){return new a(s.negint,-1-O(e,t+1,r),3)},ce[58]=function(e,t,n,r){return new a(s.negint,-1-A(e,t+1,r),5)},ce[59]=function(e,t,n,r){const o=x(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new a(s.negint,e,9)}if(!0!==r.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new a(s.negint,C-BigInt(o),9)},ce[60]=se,ce[61]=se,ce[62]=se,ce[63]=se;for(let gt=64;gt<=87;gt++)ce[gt]=j;ce[88]=function(e,t,n,r){return P(e,t,2,N(e,t+1,r))},ce[89]=function(e,t,n,r){return P(e,t,3,O(e,t+1,r))},ce[90]=function(e,t,n,r){return P(e,t,5,A(e,t+1,r))},ce[91]=function(e,t,n,r){const o=x(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return P(e,t,9,o)},ce[92]=se,ce[93]=se,ce[94]=se,ce[95]=ae("indefinite length bytes/strings are not supported");for(let gt=96;gt<=119;gt++)ce[gt]=U;ce[120]=function(e,t,n,r){return F(e,t,2,N(e,t+1,r),r)},ce[121]=function(e,t,n,r){return F(e,t,3,O(e,t+1,r),r)},ce[122]=function(e,t,n,r){return F(e,t,5,A(e,t+1,r),r)},ce[123]=function(e,t,n,r){const o=x(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return F(e,t,9,o,r)},ce[124]=se,ce[125]=se,ce[126]=se,ce[127]=ae("indefinite length bytes/strings are not supported");for(let gt=128;gt<=151;gt++)ce[gt]=q;ce[152]=function(e,t,n,r){return V(0,0,2,N(e,t+1,r))},ce[153]=function(e,t,n,r){return V(0,0,3,O(e,t+1,r))},ce[154]=function(e,t,n,r){return V(0,0,5,A(e,t+1,r))},ce[155]=function(e,t,n,r){const o=x(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return V(0,0,9,o)},ce[156]=se,ce[157]=se,ce[158]=se,ce[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return V(0,0,1,1/0)};for(let gt=160;gt<=183;gt++)ce[gt]=K;ce[184]=function(e,t,n,r){return G(0,0,2,N(e,t+1,r))},ce[185]=function(e,t,n,r){return G(0,0,3,O(e,t+1,r))},ce[186]=function(e,t,n,r){return G(0,0,5,A(e,t+1,r))},ce[187]=function(e,t,n,r){const o=x(e,t+1,r);if("bigint"===typeof o)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return G(0,0,9,o)},ce[188]=se,ce[189]=se,ce[190]=se,ce[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return G(0,0,1,1/0)};for(let gt=192;gt<=215;gt++)ce[gt]=H;ce[216]=function(e,t,n,r){return new a(s.tag,N(e,t+1,r),2)},ce[217]=function(e,t,n,r){return new a(s.tag,O(e,t+1,r),3)},ce[218]=function(e,t,n,r){return new a(s.tag,A(e,t+1,r),5)},ce[219]=function(e,t,n,r){return new a(s.tag,x(e,t+1,r),9)},ce[220]=se,ce[221]=se,ce[222]=se,ce[223]=se;for(let gt=224;gt<=243;gt++)ce[gt]=ae("simple values are not supported");ce[244]=se,ce[245]=se,ce[246]=se,ce[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===r.coerceUndefinedToNull?new a(s.null,null,1):new a(s.undefined,void 0,1)},ce[248]=ae("simple values are not supported"),ce[249]=function(e,t,n,r){return W(ne(e,t+1),3,r)},ce[250]=function(e,t,n,r){return W(oe(e,t+1),5,r)},ce[251]=function(e,t,n,r){return W(ie(e,t+1),9,r)},ce[252]=se,ce[253]=se,ce[254]=se,ce[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new a(s.break,void 0,1)};const ue=[];for(let gt=0;gt<24;gt++)ue[gt]=new a(s.uint,gt,1);for(let gt=-1;gt>=-24;gt--)ue[31-gt]=new a(s.negint,gt,1);ue[64]=new a(s.bytes,new Uint8Array(0),1),ue[96]=new a(s.string,"",1),ue[128]=new a(s.array,0,1),ue[160]=new a(s.map,0,1),ue[244]=new a(s.false,!1,1),ue[245]=new a(s.true,!0,1),ue[246]=new a(s.null,null,1);const le={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=fe[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case s.false:return m([244]);case s.true:return m([245]);case s.null:return m([246]);case s.bytes:return e.value.length?void 0:m([64]);case s.string:return""===e.value?m([96]):void 0;case s.array:return 0===e.value?m([128]):void 0;case s.map:return 0===e.value?m([160]):void 0;case s.uint:return e.value<24?m([Number(e.value)]):void 0;case s.negint:if(e.value>=-24)return m([31-Number(e.value)])}}};const fe=function(){const e=[];return e[s.uint.major]=k,e[s.negint.major]=D,e[s.bytes.major]=L,e[s.string.major]=B,e[s.array.major]=z,e[s.map.major]=J,e[s.tag.major]=Q,e[s.float.major]=Y,e}(),de=new _;class he{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new he(t,e)}}const pe={null:new a(s.null,null),undefined:new a(s.undefined,void 0),true:new a(s.true,!0),false:new a(s.false,!1),emptyArray:new a(s.array,0),emptyMap:new a(s.map,0)},me={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new a(e>=0?s.uint:s.negint,e):new a(s.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new a(s.uint,e):new a(s.negint,e),Uint8Array:(e,t,n,r)=>new a(s.bytes,e),string:(e,t,n,r)=>new a(s.string,e),boolean:(e,t,n,r)=>e?pe.true:pe.false,null:(e,t,n,r)=>pe.null,undefined:(e,t,n,r)=>pe.undefined,ArrayBuffer:(e,t,n,r)=>new a(s.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new a(s.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[pe.emptyArray,new a(s.break)]:pe.emptyArray;r=he.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=ye(s,n,r);return n.addBreakTokens?[new a(s.array,e.length),o,new a(s.break)]:[new a(s.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),c=o?e.size:i.length;if(!c)return!0===n.addBreakTokens?[pe.emptyMap,new a(s.break)]:pe.emptyMap;r=he.createCheck(r,e);const u=[];let l=0;for(const s of i)u[l++]=[ye(s,n,r),ye(o?e.get(s):e[s],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(u,n),n.addBreakTokens?[new a(s.map,c),u,new a(s.break)]:[new a(s.map,c),u]}};me.Map=me.Object,me.Buffer=me.Uint8Array;for(const gt of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))me[`${gt}Array`]=me.DataView;function ye(e,t={},n){const r=i(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||me[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const s=me[r];if(!s)throw new Error(`CBOR encode error: unsupported type: ${r}`);return s(e,r,t,n)}function ge(e,t,n,r){if(Array.isArray(t))for(const o of t)ge(e,o,n,r);else n[t.type.major](e,t,r)}function ve(e,t,n){const r=ye(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new _(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return d(t.chunks[0])}}return de.reset(),ge(de,r,t,n),de.toBytes(!0)}const be={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class we{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=ue[e];if(void 0===t){const n=ce[e];if(!n)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this.pos,r,this.options)}return this.pos+=t.encodedLength,t}}const Ee=Symbol.for("DONE"),_e=Symbol.for("BREAK");function Te(e,t){if(e.done())return Ee;const n=e.next();if(n.type===s.break)return _e;if(n.type.terminal)return n.value;if(n.type===s.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=Te(t,n);if(i===_e){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(i===Ee)throw new Error(`CBOR decode error: found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===s.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=Te(t,n);if(a===_e){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Ee)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=Te(t,n);if(c===Ee)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,c):o[a]=c}return r?i:o}(n,e,t);if(n.type===s.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=Te(e,t);return t.tags[n.value](r)}throw new Error(`CBOR decode error: tag not supported (${n.value})`)}throw new Error("unsupported")}var Se=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=Ie;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},Ie=Math.pow(2,31);var Ne=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var Oe=Math.pow(2,7),Ae=Math.pow(2,14),xe=Math.pow(2,21),ke=Math.pow(2,28),$e=Math.pow(2,35),Ce=Math.pow(2,42),Re=Math.pow(2,49),De=Math.pow(2,56),Pe=Math.pow(2,63),je={encode:Se,decode:Ne,encodingLength:function(e){return e<Oe?1:e<Ae?2:e<xe?3:e<ke?4:e<$e?5:e<Ce?6:e<Re?7:e<De?8:e<Pe?9:10}};const Me=(e,t=0)=>[je.decode(e,t),je.decode.bytes],Le=(e,t,n=0)=>(je.encode(e,t,n),t),Fe=e=>je.encodingLength(e),Ue=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Be{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var Ve=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class qe{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ze{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ke(this,e)}}class Ge{constructor(e){this.decoders=e}or(e){return Ke(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ke=(e,t)=>new Ge({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Je{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new qe(e,t,n),this.decoder=new ze(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const He=({name:e,prefix:t,encode:n,decode:r})=>new Je(e,t,n,r),Qe=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=Ve(n,t);return He({prefix:e,name:t,encode:r,decode:e=>Ue(o(e))})},We=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>He({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),Ye=Qe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xe=(Qe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),We({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));We({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),We({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),We({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),We({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),We({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),We({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),We({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),We({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class Ze{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ct,byteLength:ct,code:at,version:at,multihash:at,bytes:at,_baseCache:ct,asCID:ct})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==rt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==ot)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ze.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=Fe(e),o=r+Fe(n),i=new Uint8Array(o+n);return Le(e,i,0),Le(n,i,r),i.set(t,o),new Be(e,n,t,i)})(e,t);return Ze.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&(t=this.multihash,n=e.multihash,t===n||t.code===n.code&&t.size===n.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(t.bytes,n.bytes));var t,n}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return tt(t,r,e||Ye.encoder);default:return nt(t,r,e||Xe.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return ut(/^0\.0/,lt),!(!e||!e[st]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ze)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new Ze(t,n,r,o||it(t,n,r.bytes))}if(null!=e&&!0===e[st]){const{version:t,multihash:n,code:r}=e,o=(e=>{const t=Ue(e),[n,r]=Me(t),[o,i]=Me(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Be(n,o,s,t)})(n);return Ze.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==rt)throw new Error(`Version 0 CID must use dag-pb (code: ${rt}) block encoding`);return new Ze(e,t,n,n.bytes);case 1:{const r=it(e,t,n.bytes);return new Ze(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Ze.create(0,rt,e)}static createV1(e,t){return Ze.create(1,e,t)}static decode(e){const[t,n]=Ze.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Ze.inspectBytes(e),n=t.size-t.multihashSize,r=Ue(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new Be(t.multihashCode,t.digestSize,o,r);return[0===t.version?Ze.createV0(i):Ze.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=Me(e.subarray(t));return t+=r,n};let r=n(),o=rt;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=et(e,t),o=Ze.decode(r);return o._baseCache.set(n,e),o}}const et=(e,t)=>{switch(e[0]){case"Q":{const n=t||Ye;return[Ye.prefix,n.decode(`${Ye.prefix}${e}`)]}case Ye.prefix:{const n=t||Ye;return[Ye.prefix,n.decode(e)]}case Xe.prefix:{const n=t||Xe;return[Xe.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},tt=(e,t,n)=>{const{prefix:r}=n;if(r!==Ye.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},nt=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},rt=112,ot=18,it=(e,t,n)=>{const r=Fe(e),o=r+Fe(t),i=new Uint8Array(o+n.byteLength);return Le(e,i,0),Le(t,i,r),i.set(n,o),i},st=Symbol.for("@ipld/js-cid/CID"),at={writable:!1,configurable:!1,enumerable:!0},ct={writable:!1,enumerable:!1,configurable:!1},ut=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},lt="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const ft={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=Ze.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new a(s.tag,42),new a(s.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const dt={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};dt.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ze.decode(e.subarray(1))};const ht="dag-cbor",pt=113,mt=e=>{return t=e,n=ft,n=Object.assign({},le,n),ve(t,fe,n);var t,n},yt=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const n=(t=Object.assign({},be,t)).tokenizer||new we(e,t),r=Te(n,t);if(r===Ee)throw new Error("CBOR decode error: did not find any content to decode");if(r===_e)throw new Error("CBOR decode error: got unexpected break");if(!n.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return r}(e,dt)},20:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});const{toString:r,hasOwnProperty:o}=Object.prototype,i=Function.prototype.toString,s=new Map;function a(e,t){try{return c(e,t)}finally{s.clear()}}function c(e,t){if(e===t)return!0;const n=r.call(e);if(n!==r.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(d(e,t))return!0;const n=u(e),r=u(t),i=n.length;if(i!==r.length)return!1;for(let e=0;e<i;++e)if(!o.call(t,n[e]))return!1;for(let o=0;o<i;++o){const r=n[o];if(!c(e[r],t[r]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(d(e,t))return!0;const r=e.entries(),o="[object Map]"===n;for(;;){const e=r.next();if(e.done)break;const[n,i]=e.value;if(!t.has(n))return!1;if(o&&!c(i,t.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let n=e.byteLength;if(n===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const n=i.call(e);return n===i.call(t)&&!function(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(n,f)}}return!1}function u(e){return Object.keys(e).filter(l,e)}function l(e){return void 0!==this[e]}t.Z=a;const f="{ [native code] }";function d(e,t){let n=s.get(e);if(n){if(n.has(t))return!0}else s.set(e,n=new Set);return n.add(t),!1}},7118:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{hX:function(){return d},a_:function(){return f}});var o={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},i={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},s={2:o,10:{name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},19:{assetName:i,assetType:{name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:o,1:i}}},assetId:{name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:o,1:i,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}}}};function a(e,t){return e.split(t.parameters.delimiter)}function c(e,t){var n=a(e,t),r={};return n.forEach((function(e,n){r[t.parameters.values[n].name]=e})),r}function u(e,t){return Object.values(t.parameters.values).map((function(t){var n=e[t.name];return"string"===typeof n?n:u(n,t)})).join(t.parameters.delimiter)}function l(e,t){if(!new RegExp(t.regex).test(e))return!1;var n=a(e,t);return n.length===Object.keys(t.parameters.values).length&&n.map((function(e,n){return new RegExp(t.parameters.values[n].regex).test(e)})).filter((function(e){return!!e})).length===n.length}var f=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();f.spec=s[2];var d=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new f(t.chainId),this.address=t.address}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);var n=c(t,this.spec),r=n.namespace,o=n.reference,i=n.address;return new e({chainId:new f({namespace:r,reference:o}),address:i}).toJSON()},e.format=function(e){return u(r({},new f(e.chainId).toJSON(),{address:e.address}),this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},e}();d.spec=s[10];var h=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();h.spec=s[19].assetName,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new f(t.chainId),this.assetName=new h(t.assetName)}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},e}()).spec=s[19].assetType,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new f(t.chainId),this.assetName=new h(t.assetName),this.tokenId=t.tokenId}e.parse=function(t){if(!l(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(c(t,this.spec)).toJSON()},e.format=function(e){return u(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},e}()).spec=s[19].assetId},8401:function(e,t,n){"use strict";function r(e){return"Left"===e._tag}n.d(t,{nM:function(){return r},t$:function(){return o},F2:function(){return i},Gg:function(){return s}});function o(e){return{_tag:"Left",left:e}}function i(e){return{_tag:"Right",right:e}}function s(e){if(r(e))throw e.left;return e.right}},4415:function(e,t,n){"use strict";n.d(t,{Cs:function(){return l},Dy:function(){return j},IX:function(){return E},O7:function(){return p},Jx:function(){return i},Gg:function(){return r.Gg},yR:function(){return u},nM:function(){return r.nM},t$:function(){return r.t$},i0:function(){return g},Km:function(){return f},jt:function(){return M},IM:function(){return P},oc:function(){return A},F2:function(){return r.F2},rV:function(){return B},wY:function(){return C},Z_:function(){return h},G0:function(){return I}});var r=n(8401);class o{trail;constructor(e){this.trail=e}static root(e,t){return new o([{key:"",type:e,actual:t}])}failures(e){throw e[0]}success(e){return(0,r.F2)(e)}failure(e){throw new a(this.trail,e)}child(e,t,n){const r=this.trail.concat([{key:e,type:t,actual:n}]);return new o(r)}}function i(e,t){const n=o.root(e,t),i=e.decode(t,n);if((0,r.nM)(i))throw new Error(`Something is wrong: ${i} should be Right`);return i.right}function s(e){return e.length>0}class a extends Error{trail;constructor(e,t=`Invalid value ${function(e){return"function"===typeof e?N(e):"number"!==typeof e||isFinite(e)?JSON.stringify(e):isNaN(e)?"NaN":e>0?"Infinity":"-Infinity"}(e[e.length-1].actual)} supplied to ${function(e){return"/"+e.map((({key:e,type:t})=>`${e}(${t.name})`)).join("/")}(e)}`){super(t),this.trail=e}get value(){return this.trail[this.trail.length-1].actual}}class c{_A;_I;_O;name;constructor(e){this.name=e}pipe(e,t=`${this.name}\u2192${e.name}`){return new j(t,e.is,((t,n)=>{const o=this.decode(t,n);return(0,r.nM)(o)?o:e.decode(o.right,n)}),this.encode===u&&e.encode===u?u:t=>this.encode(e.encode(t)))}}function u(e){return e}class l extends c{is;constructor(e,t){super(e),this.is=t}encode=u;decode(e,t){return this.is(e)?t.success(e):t.failure()}}const f=new l("null",(e=>null===e)),d=new l("undefined",(e=>void 0===e)),h=(new l("void",(e=>void 0===e)),new l("string",(e=>"string"===typeof e))),p=(new l("number",(e=>"number"===typeof e)),new l("boolean",(e=>"boolean"===typeof e))),m=(new l("bigint",(e=>"bigint"===typeof e)),new l("unknown",(e=>!0)),new l("object",(e=>Boolean(e)&&"object"===typeof e)));class y extends l{value;keys;constructor(e,t=JSON.stringify(e)){super(t,(t=>t===e)),this.value=e,this.keys=[e]}}function g(e,t){return new y(e,t)}const v=new l("UnknownArray",(e=>Array.isArray(e))),b=new l("UnknownDictionary",(e=>{if(!(Boolean(e)&&"object"===typeof e))return!1;if(Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const n=Object.hasOwn(t,"constructor")&&t.constructor;return"function"===typeof n&&n instanceof n&&n.toString()==Object.toString()}));class w extends c{item;constructor(e,t){super(t),this.item=e}decode(e,t){const n=v.decode(e,t);if((0,r.nM)(n))return n;const o=n.right,i=[],a=new Array(o.length);return o.forEach(((e,n)=>{const o=this.item.decode(e,t.child(String(n),this.item,e));(0,r.nM)(o)?o.left.forEach((e=>i.push(e))):a[n]=o.right})),s(i)?t.failures(i):t.success(a)}encode(e){return this.item.encode===u?e:e.map(this.item.encode)}is(e){return v.is(e)&&e.every((e=>this.item.is(e)))}}function E(e,t=`${e.name}[]`){return new w(e,t)}new l("any",(e=>!0)),new l("never",(e=>!1));function _(e){return`{${function(e){return Object.keys(e).map((t=>`${t}:${e[t].name}`)).join(",")}(e)}}`}class T extends c{props;constructor(e,t=_(e)){super(t),this.props=e}decode(e,t){const n=m.decode(e,t);if((0,r.nM)(n))return n;const o=n.right,i={...o},a=[];return Object.entries(this.props).forEach((([e,n])=>{const s=o[e],c=n.decode(s,t.child(e,n,s));(0,r.nM)(c)?c.left.forEach((e=>a.push(e))):i[e]=c.right})),s(a)?t.failures(a):t.success(i)}encode(e){const t={...e};return Object.entries(this.props).forEach((([e,n])=>{t[e]=n.encode(t[e])})),t}is(e){if(!m.is(e))return!1;const t=e;return Object.entries(this.props).every((([n,r])=>{const o=t[n];return(o||Object.hasOwn(e,n))&&r.is(o)}))}}class S extends c{codecs;constructor(e,t=function(e){return e.map((e=>e.name)).join("|")}(e)){super(t),this.codecs=e}decode(e,t){const n=[];for(const[i,s]of this.codecs.entries())try{const o=s.decode(e,t.child(String(i),s,e));if(!(0,r.nM)(o))return t.success(o.right);o.left.forEach((e=>n.push(e)))}catch(o){n.push(o)}return t.failures(n)}encode(e){for(const t of this.codecs)if(t.is(e))return t.encode(e);throw new Error(`no codec found to encode value in union type ${this.name}`)}is(e){return this.codecs.some((t=>t.is(e)))}}function I(e,t){return new S(e,t)}function N(e){return e.displayName||e.name||`<function${e.length}>`}class O extends c{codec;predicate;constructor(e,t,n=`${e.name}\u224d${N(t)}`){super(n),this.codec=e,this.predicate=t}decode(e,t){const n=this.codec.decode(e,t);return(0,r.nM)(n)||this.predicate(n.right)?n:t.failure()}encode(e){return this.codec.encode(e)}is(e){return this.codec.is(e)&&this.predicate(e)}}function A(e,t,n){return new O(e,t,n)}function x(e,t){const n=Object.getOwnPropertyNames(e);let r=!1;const o={};for(let i=0;i<n.length;i++){const s=n[i];Object.hasOwn(t,s)?o[s]=e[s]:r=!0}return r?o:e}class k extends c{codec;props;constructor(e,t=`Exact<${e.name}>`){super(t),this.codec=e,this.props=$(e)}is(e){return this.codec.is(e)}decode(e,t){const n=m.decode(e,t);if((0,r.nM)(n))return n;const o=n.right;return this.codec.decode(x(o,this.props),t)}encode(e){return this.codec.encode(x(e,this.props))}}function $(e){return function(e){return"props"in e}(e)?e.props:function(e){return"codec"in e}(e)?$(e.codec):function(e){return"codecs"in e}(e)?Object.assign({},...e.codecs.map((e=>$(e)))):{}}function C(e,t){return function(e,t){return new k(e,t)}(function(e,t){return new T(e,t)}(e),t)}class R extends c{domain;codomain;constructor(e,t,n=`{[${e.name}]:${t.name}}`){super(n),this.domain=e,this.codomain=t}decode(e,t){const n=b.decode(e,t);if((0,r.nM)(n))return n;const o=n.right,i={},a=[];for(const[s,c]of Object.entries(o)){const e=this.domain.decode(s,t.child(s,this.domain,s));if((0,r.nM)(e))e.left.forEach((e=>a.push(e)));else{const n=this.codomain.decode(c,t.child(s,this.codomain,c));(0,r.nM)(n)?n.left.forEach((e=>a.push(e))):i[e.right]=n.right}}return s(a)?t.failures(a):t.success(i)}encode(e){const t={};for(const[n,r]of Object.entries(e))t[String(this.domain.encode(n))]=this.codomain.encode(r);return t}is(e){if(!b.is(e))return!1;const t=Object.entries(e);return 0==t.length||t.some((([e,t])=>this.domain.is(e)&&this.codomain.is(t)))}}class D extends c{domain;codomain;keys;constructor(e,t,n=`{[${e.name}]:${t.name}}`){super(n),this.domain=e,this.codomain=t,this.keys=e.keys}decode(e,t){const n=b.decode(e,t);if((0,r.nM)(n))return n;const o=n.right,i={},a=[];for(const s of this.keys){const e=o[s],n=this.codomain.decode(e,t.child(s,this.codomain,e));(0,r.nM)(n)?n.left.forEach((e=>a.push(e))):i[s]=n.right}return s(a)?t.failures(a):t.success(i)}encode(e){const t={};for(const n of this.keys)t[n]=this.codomain.encode(e[n]);return t}is(e){return b.is(e)&&this.keys.every((t=>this.codomain.is(e[t])))}}function P(e,t,n){return"keys"in e?new D(e,t,n):new R(e,t,n)}class j extends c{name;is;decode;encode;constructor(e,t,n,r){super(e),this.name=e,this.is=t,this.decode=n,this.encode=r}}function M(e,t){return new L(e,t)}class L extends c{name;optional=!0;#codec;constructor(e,t=`${e.name}?`){super(t),this.name=t,this.#codec=I([e,d])}decode(e,t){return this.#codec.decode(e,t)}encode(e){return this.#codec.encode(e)}is(e){return this.#codec.is(e)}}function F(e){return"optional"in e&&e.optional}class U extends c{props;#codec;constructor(e,t=_(e)){super(t),this.props=e,this.#codec=new T(e)}#cleanup(e){return Object.entries(this.props).forEach((([t,n])=>{F(n)&&!e[t]&&delete e[t]})),e}decode(e,t){const n=this.#codec.decode(e,t);return(0,r.nM)(n)?n:t.success(this.#cleanup(n.right))}encode(e){const t=this.#codec.encode(e);return this.#cleanup(t)}is(e){const t={...e};return Object.entries(this.props).forEach((([e,n])=>{F(n)&&!t[e]&&(t[e]=void 0)})),this.#codec.is(t)}}const B=function(e,t){const n={},r={};for(const[o,i]of Object.entries(e))F(i)?n[o]=i:r[o]=i;return new U(e,t)}},4747:function(e,t,n){"use strict";function r(e,t){return t()}n.d(t,{H2:function(){return u},Qc:function(){return a}});const o="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",i="[a-zA-Z0-9_.:%-]",s=new RegExp(`^did:([a-z0-9]+):${`((?:${o}*:)*(${o}+))`}${`((${`;${i}+=${i}*`})*)`}(/[^#?]*)?([?][^#]*)?(#.*)?$`);function a(e){if(""===e||!e)return null;const t=e.match(s);if(t){const n={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){const e=t[4].slice(1).split(";");n.params={};for(const t of e){const e=t.split("=");n.params[e[0]]=e[1]}}return t[6]&&(n.path=t[6]),t[7]&&(n.query=t[7].slice(1)),t[8]&&(n.fragment=t[8].slice(1)),n}return null}const c={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class u{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=!0===t.cache?function(){const e=new Map;return function(t,n){try{let r;function o(o){if(r)return o;const i=e.get(t.didUrl);return void 0!==i?i:Promise.resolve(n()).then((function(n){var r;return"notFound"!==(null==(r=n.didResolutionMetadata)?void 0:r.error)&&e.set(t.didUrl,n),n}))}const i=function(){if(t.params&&"true"===t.params["no-cache"])return Promise.resolve(n()).then((function(e){return r=1,e}))}();return Promise.resolve(i&&i.then?i.then(o):o(i))}catch(r){return Promise.reject(r)}}}():t.cache||r,t.legacyResolvers&&Object.keys(t.legacyResolvers).map((e=>{var n;this.registry[e]||(this.registry[e]=(n=t.legacyResolvers[e],function(e,t,r){try{return Promise.resolve(function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(n(e,t,r)).then((function(e){return{...c,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:e}}))}),(function(e){return{...c,didResolutionMetadata:{error:"notFound",message:e.toString()}}})))}catch(o){return Promise.reject(o)}}))}))}resolve(e,t={}){try{const n=this,r=a(e);if(null===r)return Promise.resolve({...c,didResolutionMetadata:{error:"invalidDid"}});const o=n.registry[r.method];return o?Promise.resolve(n.cache(r,(()=>o(r.did,r,n,t)))):Promise.resolve({...c,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(n){return Promise.reject(n)}}}},8087:function(e,t,n){"use strict";n.d(t,{__:function(){return s},OS:function(){return c},Z:function(){return u}});var r=n(8495),o=n(7867),i=n(850);class s extends Error{constructor(e,...t){var n,i,c;const{nodes:u,source:l,positions:f,path:d,originalError:h,extensions:p}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!==d&&void 0!==d?d:void 0,this.originalError=null!==h&&void 0!==h?h:void 0,this.nodes=a(Array.isArray(u)?u:u?[u]:void 0);const m=a(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!==l&&void 0!==l?l:null===m||void 0===m||null===(i=m[0])||void 0===i?void 0:i.source,this.positions=null!==f&&void 0!==f?f:null===m||void 0===m?void 0:m.map((e=>e.start)),this.locations=f&&l?f.map((e=>(0,o.k)(l,e))):null===m||void 0===m?void 0:m.map((e=>(0,o.k)(e.source,e.start)));const y=(0,r.y)(null===h||void 0===h?void 0:h.extensions)?null===h||void 0===h?void 0:h.extensions:void 0;this.extensions=null!==(c=null!==p&&void 0!==p?p:y)&&void 0!==c?c:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==h&&void 0!==h&&h.stack?Object.defineProperty(this,"stack",{value:h.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+(0,i.Q)(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+(0,i.z)(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function a(e){return void 0===e||0===e.length?void 0:e}function c(e){return e.toString()}function u(e){return e.toJSON()}},1394:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(5821);class o extends Error{constructor(e){super("Unexpected error value: "+(0,r.X)(e)),this.name="NonErrorThrown",this.thrownValue=e}}var i=n(8087);function s(e,t,n){var r;const s=(a=e)instanceof Error?a:new o(a);var a,c;return c=s,Array.isArray(c.path)?s:new i.__(s.message,{nodes:null!==(r=s.nodes)&&void 0!==r?r:t,source:s.source,positions:s.positions,path:n,originalError:s})}},5219:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(8087);function o(e,t,n){return new r.__(`Syntax Error: ${n}`,{source:e,positions:[t]})}},7677:function(e,t,n){"use strict";n.d(t,{g:function(){return c},w:function(){return u}});var r=n(7359),o=n(4454),i=n(8238),s=n(77),a=n(6422);function c(e,t,n,r,o){const i=new Map;return l(e,t,n,r,o,i,new Set),i}function u(e,t,n,r,o){const i=new Map,s=new Set;for(const a of o)a.selectionSet&&l(e,t,n,r,a.selectionSet,i,s);return i}function l(e,t,n,o,i,s,a){for(const u of i.selections)switch(u.kind){case r.h.FIELD:{if(!f(n,u))continue;const e=(c=u).alias?c.alias.value:c.name.value,t=s.get(e);void 0!==t?t.push(u):s.set(e,[u]);break}case r.h.INLINE_FRAGMENT:if(!f(n,u)||!d(e,u,o))continue;l(e,t,n,o,u.selectionSet,s,a);break;case r.h.FRAGMENT_SPREAD:{const r=u.name.value;if(a.has(r)||!f(n,u))continue;a.add(r);const i=t[r];if(!i||!d(e,i,o))continue;l(e,t,n,o,i.selectionSet,s,a);break}}var c}function f(e,t){const n=(0,a.zu)(i.QE,t,e);if(!0===(null===n||void 0===n?void 0:n.if))return!1;const r=(0,a.zu)(i.Yf,t,e);return!1!==(null===r||void 0===r?void 0:r.if)}function d(e,t,n){const r=t.typeCondition;if(!r)return!0;const i=(0,s._)(e,r);return i===n||!!(0,o.m0)(i)&&e.isSubType(i,n)}},4296:function(e,t,n){"use strict";n.d(t,{td:function(){return S},VZ:function(){return I},p$:function(){return x},El:function(){return j},mn:function(){return P},ht:function(){return E},p0:function(){return _},Vm:function(){return M}});var r=n(7826),o=n(5821),i=n(9551),s=n(3831),a=n(8495),c=n(8659);var u=n(9380);function l(e){return Promise.all(Object.values(e)).then((t=>{const n=Object.create(null);for(const[r,o]of Object.keys(e).entries())n[o]=t[r];return n}))}var f=n(8087),d=n(1394),h=n(2380),p=n(7359),m=n(4454),y=n(2433),g=n(9655),v=n(7677),b=n(6422);const w=function(e){let t;return function(n,r,o){void 0===t&&(t=new WeakMap);let i=t.get(n);void 0===i&&(i=new WeakMap,t.set(n,i));let s=i.get(r);void 0===s&&(s=new WeakMap,i.set(r,s));let a=s.get(o);return void 0===a&&(a=e(n,r,o),s.set(o,a)),a}}(((e,t,n)=>(0,v.w)(e.schema,e.fragments,e.variableValues,t,n)));function E(e){arguments.length<2||(0,r.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,document:n,variableValues:o,rootValue:i}=e;S(t,n,o);const s=I(e);if(!("schema"in s))return{errors:s};try{const{operation:e}=s,t=N(s,e,i);return(0,c.t)(t)?t.then((e=>T(e,s.errors)),(e=>(s.errors.push(e),T(null,s.errors)))):T(t,s.errors)}catch(a){return s.errors.push(a),T(null,s.errors)}}function _(e){const t=E(e);if((0,c.t)(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function T(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}function S(e,t,n){t||(0,r.a)(!1,"Must provide document."),(0,g.J)(e),null==n||(0,a.y)(n)||(0,r.a)(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function I(e){var t,n;const{schema:r,document:o,rootValue:i,contextValue:s,variableValues:a,operationName:c,fieldResolver:u,typeResolver:l,subscribeFieldResolver:d}=e;let h;const m=Object.create(null);for(const v of o.definitions)switch(v.kind){case p.h.OPERATION_DEFINITION:if(null==c){if(void 0!==h)return[new f.__("Must provide operation name if query contains multiple operations.")];h=v}else(null===(t=v.name)||void 0===t?void 0:t.value)===c&&(h=v);break;case p.h.FRAGMENT_DEFINITION:m[v.name.value]=v}if(!h)return null!=c?[new f.__(`Unknown operation named "${c}".`)]:[new f.__("Must provide an operation.")];const y=null!==(n=h.variableDefinitions)&&void 0!==n?n:[],g=(0,b.QF)(r,y,null!==a&&void 0!==a?a:{},{maxErrors:50});return g.errors?g.errors:{schema:r,fragments:m,rootValue:i,contextValue:s,operation:h,variableValues:g.coerced,fieldResolver:null!==u&&void 0!==u?u:j,typeResolver:null!==l&&void 0!==l?l:P,subscribeFieldResolver:null!==d&&void 0!==d?d:j,errors:[]}}function N(e,t,n){const r=e.schema.getRootType(t.operation);if(null==r)throw new f.__(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const o=(0,v.g)(e.schema,e.fragments,e.variableValues,r,t.selectionSet),i=void 0;switch(t.operation){case h.ku.QUERY:return O(e,r,n,i,o);case h.ku.MUTATION:return function(e,t,n,r,o){return function(e,t,n){let r=n;for(const o of e)r=(0,c.t)(r)?r.then((e=>t(e,o))):t(r,o);return r}(o.entries(),((o,[i,s])=>{const a=(0,u.Q)(r,i,t.name),l=A(e,t,n,s,a);return void 0===l?o:(0,c.t)(l)?l.then((e=>(o[i]=e,o))):(o[i]=l,o)}),Object.create(null))}(e,r,n,i,o);case h.ku.SUBSCRIPTION:return O(e,r,n,i,o)}}function O(e,t,n,r,o){const i=Object.create(null);let s=!1;try{for(const[a,l]of o.entries()){const o=A(e,t,n,l,(0,u.Q)(r,a,t.name));void 0!==o&&(i[a]=o,(0,c.t)(o)&&(s=!0))}}catch(a){if(s)return l(i).finally((()=>{throw a}));throw a}return s?l(i):i}function A(e,t,n,r,o){var i;const s=M(e.schema,t,r[0]);if(!s)return;const a=s.type,l=null!==(i=s.resolve)&&void 0!==i?i:e.fieldResolver,f=x(e,s,r,t,o);try{const t=(0,b.LX)(s,r[0],e.variableValues),i=l(n,t,e.contextValue,f);let h;return h=(0,c.t)(i)?i.then((t=>$(e,a,r,f,o,t))):$(e,a,r,f,o,i),(0,c.t)(h)?h.then(void 0,(t=>k((0,d.y)(t,r,(0,u.N)(o)),a,e))):h}catch(h){return k((0,d.y)(h,r,(0,u.N)(o)),a,e)}}function x(e,t,n,r,o){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:o,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function k(e,t,n){if((0,m.zM)(t))throw e;return n.errors.push(e),null}function $(e,t,n,r,a,l){if(l instanceof Error)throw l;if((0,m.zM)(t)){const o=$(e,t.ofType,n,r,a,l);if(null===o)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return o}return null==l?null:(0,m.HG)(t)?function(e,t,n,r,o,i){if(!(0,s.i)(i))throw new f.__(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const a=t.ofType;let l=!1;const h=Array.from(i,((t,i)=>{const s=(0,u.Q)(o,i,void 0);try{let o;return o=(0,c.t)(t)?t.then((t=>$(e,a,n,r,s,t))):$(e,a,n,r,s,t),(0,c.t)(o)?(l=!0,o.then(void 0,(t=>k((0,d.y)(t,n,(0,u.N)(s)),a,e)))):o}catch(f){return k((0,d.y)(f,n,(0,u.N)(s)),a,e)}}));return l?Promise.all(h):h}(e,t,n,r,a,l):(0,m.UT)(t)?function(e,t){const n=e.serialize(t);if(null==n)throw new Error(`Expected \`${(0,o.X)(e)}.serialize(${(0,o.X)(t)})\` to return non-nullable value, returned: ${(0,o.X)(n)}`);return n}(t,l):(0,m.m0)(t)?function(e,t,n,r,o,i){var s;const a=null!==(s=t.resolveType)&&void 0!==s?s:e.typeResolver,u=e.contextValue,l=a(i,u,r,t);if((0,c.t)(l))return l.then((s=>R(e,C(s,e,t,n,r,i),n,r,o,i)));return R(e,C(l,e,t,n,r,i),n,r,o,i)}(e,t,n,r,a,l):(0,m.lp)(t)?R(e,t,n,r,a,l):void(0,i.k)(!1,"Cannot complete value of unexpected output type: "+(0,o.X)(t))}function C(e,t,n,r,i,s){if(null==e)throw new f.__(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,r);if((0,m.lp)(e))throw new f.__("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!==typeof e)throw new f.__(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${i.parentType.name}.${i.fieldName}" with value ${(0,o.X)(s)}, received "${(0,o.X)(e)}".`);const a=t.schema.getType(e);if(null==a)throw new f.__(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!(0,m.lp)(a))throw new f.__(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,a))throw new f.__(`Runtime Object type "${a.name}" is not a possible type for "${n.name}".`,{nodes:r});return a}function R(e,t,n,r,o,i){const s=w(e,t,n);if(t.isTypeOf){const a=t.isTypeOf(i,e.contextValue,r);if((0,c.t)(a))return a.then((r=>{if(!r)throw D(t,i,n);return O(e,t,i,o,s)}));if(!a)throw D(t,i,n)}return O(e,t,i,o,s)}function D(e,t,n){return new f.__(`Expected value of type "${e.name}" but got: ${(0,o.X)(t)}.`,{nodes:n})}const P=function(e,t,n,r){if((0,a.y)(e)&&"string"===typeof e.__typename)return e.__typename;const o=n.schema.getPossibleTypes(r),i=[];for(let s=0;s<o.length;s++){const r=o[s];if(r.isTypeOf){const o=r.isTypeOf(e,t,n);if((0,c.t)(o))i[s]=o;else if(o)return r.name}}return i.length?Promise.all(i).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return o[t].name})):void 0},j=function(e,t,n,r){if((0,a.y)(e)||"function"===typeof e){const o=e[r.fieldName];return"function"===typeof o?e[r.fieldName](t,n,r):o}};function M(e,t,n){const r=n.name.value;return r===y.Az.name&&e.getQueryType()===t?y.Az:r===y.tF.name&&e.getQueryType()===t?y.tF:r===y.hU.name?y.hU:t.getFields()[r]}},6422:function(e,t,n){"use strict";n.d(t,{QF:function(){return h},LX:function(){return p},zu:function(){return m}});var r=n(5821),o=n(3498),i=n(4244),s=n(8087),a=n(7359),c=n(6918),u=n(4454),l=n(7816),f=n(77),d=n(2221);function h(e,t,n,o){const a=[],h=null===o||void 0===o?void 0:o.maxErrors;try{const o=function(e,t,n,o){const a={};for(const h of t){const t=h.variable.name.value,p=(0,f._)(e,h.type);if(!(0,u.j$)(p)){const e=(0,c.S)(h.type);o(new s.__(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:h.type}));continue}if(!y(n,t)){if(h.defaultValue)a[t]=(0,d.u)(h.defaultValue,p);else if((0,u.zM)(p)){const e=(0,r.X)(p);o(new s.__(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:h}))}continue}const m=n[t];if(null===m&&(0,u.zM)(p)){const e=(0,r.X)(p);o(new s.__(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:h}))}else a[t]=(0,l.K)(m,p,((e,n,a)=>{let c=`Variable "$${t}" got invalid value `+(0,r.X)(n);e.length>0&&(c+=` at "${t}${(0,i.F)(e)}"`),o(new s.__(c+"; "+a.message,{nodes:h,originalError:a}))}))}return a}(e,t,n,(e=>{if(null!=h&&a.length>=h)throw new s.__("Too many errors processing variables, error limit reached. Execution aborted.");a.push(e)}));if(0===a.length)return{coerced:o}}catch(p){a.push(p)}return{errors:a}}function p(e,t,n){var i;const l={},f=null!==(i=t.arguments)&&void 0!==i?i:[],h=(0,o.P)(f,(e=>e.name.value));for(const o of e.args){const e=o.name,i=o.type,f=h[e];if(!f){if(void 0!==o.defaultValue)l[e]=o.defaultValue;else if((0,u.zM)(i))throw new s.__(`Argument "${e}" of required type "${(0,r.X)(i)}" was not provided.`,{nodes:t});continue}const p=f.value;let m=p.kind===a.h.NULL;if(p.kind===a.h.VARIABLE){const t=p.name.value;if(null==n||!y(n,t)){if(void 0!==o.defaultValue)l[e]=o.defaultValue;else if((0,u.zM)(i))throw new s.__(`Argument "${e}" of required type "${(0,r.X)(i)}" was provided the variable "$${t}" which was not provided a runtime value.`,{nodes:p});continue}m=null==n[t]}if(m&&(0,u.zM)(i))throw new s.__(`Argument "${e}" of non-null type "${(0,r.X)(i)}" must not be null.`,{nodes:p});const g=(0,d.u)(p,i,n);if(void 0===g)throw new s.__(`Argument "${e}" has invalid value ${(0,c.S)(p)}.`,{nodes:p});l[e]=g}return l}function m(e,t,n){var r;const o=null===(r=t.directives)||void 0===r?void 0:r.find((t=>t.name.value===e.name));if(o)return p(e,o,n)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},7893:function(e,t,n){"use strict";n.r(t),n.d(t,{BREAK:function(){return N.$_},BreakingChangeType:function(){return ut},DEFAULT_DEPRECATION_REASON:function(){return m.SY},DangerousChangeType:function(){return lt},DirectiveLocation:function(){return A.B},ExecutableDefinitionsRule:function(){return G.i},FieldsOnCorrectTypeRule:function(){return K.A},FragmentsOnCompositeTypesRule:function(){return J.T},GRAPHQL_MAX_INT:function(){return y.HI},GRAPHQL_MIN_INT:function(){return y.st},GraphQLBoolean:function(){return y.EZ},GraphQLDeprecatedDirective:function(){return m.fg},GraphQLDirective:function(){return m.NZ},GraphQLEnumType:function(){return h.mR},GraphQLError:function(){return R.__},GraphQLFloat:function(){return y.av},GraphQLID:function(){return y.km},GraphQLIncludeDirective:function(){return m.Yf},GraphQLInputObjectType:function(){return h.sR},GraphQLInt:function(){return y._o},GraphQLInterfaceType:function(){return h.oW},GraphQLList:function(){return h.p2},GraphQLNonNull:function(){return h.bM},GraphQLObjectType:function(){return h.h6},GraphQLScalarType:function(){return h.n2},GraphQLSchema:function(){return p.XO},GraphQLSkipDirective:function(){return m.QE},GraphQLSpecifiedByDirective:function(){return m.df},GraphQLString:function(){return y.kH},GraphQLUnionType:function(){return h.Gp},Kind:function(){return O.h},KnownArgumentNamesRule:function(){return H.e},KnownDirectivesRule:function(){return Q.J},KnownFragmentNamesRule:function(){return W.a},KnownTypeNamesRule:function(){return Y.I},Lexer:function(){return T.h},Location:function(){return b.Ye},LoneAnonymousOperationRule:function(){return X.F},LoneSchemaDefinitionRule:function(){return ge.t},NoDeprecatedCustomRule:function(){return B},NoFragmentCyclesRule:function(){return Z.H},NoSchemaIntrospectionCustomRule:function(){return V},NoUndefinedVariablesRule:function(){return ee.$},NoUnusedFragmentsRule:function(){return te.J},NoUnusedVariablesRule:function(){return ne.p},OperationTypeNode:function(){return b.ku},OverlappingFieldsCanBeMergedRule:function(){return re.y},PossibleFragmentSpreadsRule:function(){return oe.a},PossibleTypeExtensionsRule:function(){return Se.g},ProvidedRequiredArgumentsRule:function(){return ie.s},ScalarLeafsRule:function(){return se.O},SchemaMetaFieldDef:function(){return g.Az},SingleFieldSubscriptionsRule:function(){return ae.Z},Source:function(){return w.H},Token:function(){return b.WU},TokenKind:function(){return S.T},TypeInfo:function(){return Ct.a},TypeKind:function(){return g.zU},TypeMetaFieldDef:function(){return g.tF},TypeNameMetaFieldDef:function(){return g.hU},UniqueArgumentDefinitionNamesRule:function(){return _e.L},UniqueArgumentNamesRule:function(){return ce.L},UniqueDirectiveNamesRule:function(){return Te.o},UniqueDirectivesPerLocationRule:function(){return ue.k},UniqueEnumValueNamesRule:function(){return we.L},UniqueFieldDefinitionNamesRule:function(){return Ee.y},UniqueFragmentNamesRule:function(){return le.N},UniqueInputFieldNamesRule:function(){return fe.P},UniqueOperationNamesRule:function(){return de.H},UniqueOperationTypesRule:function(){return ve.q},UniqueTypeNamesRule:function(){return be.P},UniqueVariableNamesRule:function(){return he.H},ValidationContext:function(){return q._t},ValuesOfCorrectTypeRule:function(){return pe.j},VariablesAreInputTypesRule:function(){return me.I},VariablesInAllowedPositionRule:function(){return ye.w},__Directive:function(){return g.l3},__DirectiveLocation:function(){return g.x2},__EnumValue:function(){return g.jT},__Field:function(){return g.e_},__InputValue:function(){return g.XQ},__Schema:function(){return g.TK},__Type:function(){return g.qz},__TypeKind:function(){return g.PX},assertAbstractType:function(){return h.fU},assertCompositeType:function(){return h.M_},assertDirective:function(){return m.CO},assertEnumType:function(){return h.Zu},assertEnumValueName:function(){return v.g},assertInputObjectType:function(){return h.U8},assertInputType:function(){return h.qT},assertInterfaceType:function(){return h.k2},assertLeafType:function(){return h.H5},assertListType:function(){return h.kS},assertName:function(){return v.i},assertNamedType:function(){return h.rM},assertNonNullType:function(){return h.E$},assertNullableType:function(){return h.i_},assertObjectType:function(){return h.Z6},assertOutputType:function(){return h.Gt},assertScalarType:function(){return h.Pt},assertSchema:function(){return p.EO},assertType:function(){return h.p_},assertUnionType:function(){return h.rc},assertValidName:function(){return at},assertValidSchema:function(){return a.J},assertWrappingType:function(){return h.vX},astFromValue:function(){return Ve.J},buildASTSchema:function(){return De},buildClientSchema:function(){return Ce},buildSchema:function(){return Pe},coerceInputValue:function(){return Rt.K},concatAST:function(){return nt},createSourceEventStream:function(){return F},defaultFieldResolver:function(){return u.El},defaultTypeResolver:function(){return u.mn},doTypesOverlap:function(){return Dt.zR},execute:function(){return u.ht},executeSync:function(){return u.p0},extendSchema:function(){return Re.a},findBreakingChanges:function(){return ht},findDangerousChanges:function(){return pt},formatError:function(){return R.Z},getArgumentValues:function(){return M.LX},getDirectiveValues:function(){return M.zu},getEnterLeaveForKind:function(){return N.Eu},getIntrospectionQuery:function(){return Ne},getLocation:function(){return E.k},getNamedType:function(){return h.xC},getNullableType:function(){return h.tf},getOperationAST:function(){return xt.S},getOperationRootType:function(){return Oe},getVariableValues:function(){return M.QF},getVisitFn:function(){return N.CK},graphql:function(){return l},graphqlSync:function(){return f},introspectionFromSchema:function(){return Ae},introspectionTypes:function(){return g.nL},isAbstractType:function(){return h.m0},isCompositeType:function(){return h.Gv},isConstValueNode:function(){return x.Of},isDefinitionNode:function(){return x.Ir},isDirective:function(){return m.wX},isEnumType:function(){return h.EM},isEqualType:function(){return Dt._7},isExecutableDefinitionNode:function(){return x.Wk},isInputObjectType:function(){return h.hL},isInputType:function(){return h.j$},isInterfaceType:function(){return h.oT},isIntrospectionType:function(){return g.s9},isLeafType:function(){return h.UT},isListType:function(){return h.HG},isNamedType:function(){return h.Zs},isNonNullType:function(){return h.zM},isNullableType:function(){return h.zP},isObjectType:function(){return h.lp},isOutputType:function(){return h.SZ},isRequiredArgument:function(){return h.dK},isRequiredInputField:function(){return h.Wd},isScalarType:function(){return h.KA},isSchema:function(){return p.nN},isSelectionNode:function(){return x.pO},isSpecifiedDirective:function(){return m.xg},isSpecifiedScalarType:function(){return y.u1},isType:function(){return h.P9},isTypeDefinitionNode:function(){return x.zT},isTypeExtensionNode:function(){return x.D$},isTypeNode:function(){return x.VB},isTypeSubTypeOf:function(){return Dt.uJ},isTypeSystemDefinitionNode:function(){return x.G4},isTypeSystemExtensionNode:function(){return x.aU},isUnionType:function(){return h.EN},isValidNameError:function(){return ct},isValueNode:function(){return x.nr},isWrappingType:function(){return h.fw},lexicographicSortSchema:function(){return Me},locatedError:function(){return D.y},parse:function(){return s.Qc},parseConstValue:function(){return s.tl},parseType:function(){return s.gZ},parseValue:function(){return s.H2},print:function(){return I.S},printError:function(){return R.OS},printIntrospectionSchema:function(){return ze},printLocation:function(){return _.Q},printSchema:function(){return qe},printSourceLocation:function(){return _.z},printType:function(){return He},resolveObjMapThunk:function(){return h.WB},resolveReadonlyArrayThunk:function(){return h._9},responsePathAsArray:function(){return C.N},separateOperations:function(){return rt},specifiedDirectives:function(){return m.V4},specifiedRules:function(){return z.i},specifiedScalarTypes:function(){return y.HS},stripIgnoredCharacters:function(){return st},subscribe:function(){return L},syntaxError:function(){return Ie.h},typeFromAST:function(){return kt._},validate:function(){return c.Gu},validateSchema:function(){return a.F},valueFromAST:function(){return $e.u},valueFromASTUntyped:function(){return $t.M},version:function(){return r.i},versionInfo:function(){return r.A},visit:function(){return N.Vn},visitInParallel:function(){return N.j1},visitWithTypeInfo:function(){return Ct.y}});var r=n(5944),o=n(7826),i=n(8659),s=n(4275),a=n(9655),c=n(6584),u=n(4296);function l(e){return new Promise((t=>t(d(e))))}function f(e){const t=d(e);if((0,i.t)(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}function d(e){arguments.length<2||(0,o.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,source:n,rootValue:r,contextValue:i,variableValues:l,operationName:f,fieldResolver:d,typeResolver:h}=e,p=(0,a.F)(t);if(p.length>0)return{errors:p};let m;try{m=(0,s.Qc)(n)}catch(Ie){return{errors:[Ie]}}const y=(0,c.Gu)(t,m);return y.length>0?{errors:y}:(0,u.ht)({schema:t,document:m,rootValue:r,contextValue:i,variableValues:l,operationName:f,fieldResolver:d,typeResolver:h})}var h=n(4454),p=n(9678),m=n(8238),y=n(3801),g=n(2433),v=n(6303),b=n(2380),w=n(7926),E=n(7867),_=n(850),T=n(2105),S=n(4635),I=n(6918),N=n(7304),O=n(7359),A=n(9878),x=n(5844),k=n(5821);function $(e){return"function"===typeof(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}var C=n(9380),R=n(8087),D=n(1394),P=n(7677);function j(e,t){const n=e[Symbol.asyncIterator]();async function r(e){if(e.done)return e;try{return{value:await t(e.value),done:!1}}catch(r){if("function"===typeof n.return)try{await n.return()}catch(o){}throw r}}return{next:async()=>r(await n.next()),return:async()=>"function"===typeof n.return?r(await n.return()):{value:void 0,done:!0},async throw(e){if("function"===typeof n.throw)return r(await n.throw(e));throw e},[Symbol.asyncIterator](){return this}}}var M=n(6422);async function L(e){arguments.length<2||(0,o.a)(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const t=await F(e);if(!$(t))return t;const n=t=>(0,u.ht)({...e,rootValue:t});return j(t,n)}async function F(...e){const t=function(e){const t=e[0];return t&&"document"in t?t:{schema:t,document:e[1],rootValue:e[2],contextValue:e[3],variableValues:e[4],operationName:e[5],subscribeFieldResolver:e[6]}}(e),{schema:n,document:r,variableValues:o}=t;(0,u.td)(n,r,o);const i=(0,u.VZ)(t);if(!("schema"in i))return{errors:i};try{const e=await async function(e){const{schema:t,fragments:n,operation:r,variableValues:o,rootValue:i}=e,s=t.getSubscriptionType();if(null==s)throw new R.__("Schema is not configured to execute subscription operation.",{nodes:r});const a=(0,P.g)(t,n,o,s,r.selectionSet),[c,l]=[...a.entries()][0],f=(0,u.Vm)(t,s,l[0]);if(!f){const e=l[0].name.value;throw new R.__(`The subscription field "${e}" is not defined.`,{nodes:l})}const d=(0,C.Q)(void 0,c,s.name),h=(0,u.p$)(e,f,l,s,d);try{var p;const t=(0,M.LX)(f,l[0],o),n=e.contextValue,r=null!==(p=f.subscribe)&&void 0!==p?p:e.subscribeFieldResolver,s=await r(i,t,n,h);if(s instanceof Error)throw s;return s}catch(m){throw(0,D.y)(m,l,(0,C.N)(d))}}(i);if(!$(e))throw new Error(`Subscription field must return Async Iterable. Received: ${(0,k.X)(e)}.`);return e}catch(s){if(s instanceof R.__)return{errors:[s]};throw s}}var U=n(9551);function B(e){return{Field(t){const n=e.getFieldDef(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const o=e.getParentType();null!=o||(0,U.k)(!1),e.reportError(new R.__(`The field ${o.name}.${n.name} is deprecated. ${r}`,{nodes:t}))}},Argument(t){const n=e.getArgument(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const o=e.getDirective();if(null!=o)e.reportError(new R.__(`Directive "@${o.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}));else{const o=e.getParentType(),i=e.getFieldDef();null!=o&&null!=i||(0,U.k)(!1),e.reportError(new R.__(`Field "${o.name}.${i.name}" argument "${n.name}" is deprecated. ${r}`,{nodes:t}))}}},ObjectField(t){const n=(0,h.xC)(e.getParentInputType());if((0,h.hL)(n)){const r=n.getFields()[t.name.value],o=null===r||void 0===r?void 0:r.deprecationReason;null!=o&&e.reportError(new R.__(`The input field ${n.name}.${r.name} is deprecated. ${o}`,{nodes:t}))}},EnumValue(t){const n=e.getEnumValue(),r=null===n||void 0===n?void 0:n.deprecationReason;if(n&&null!=r){const o=(0,h.xC)(e.getInputType());null!=o||(0,U.k)(!1),e.reportError(new R.__(`The enum value "${o.name}.${n.name}" is deprecated. ${r}`,{nodes:t}))}}}}function V(e){return{Field(t){const n=(0,h.xC)(e.getType());n&&(0,g.s9)(n)&&e.reportError(new R.__(`GraphQL introspection has been disabled, but the requested query contained the field "${t.name.value}".`,{nodes:t}))}}}var q=n(2734),z=n(4196),G=n(8081),K=n(8741),J=n(7143),H=n(7815),Q=n(4873),W=n(5311),Y=n(5580),X=n(7898),Z=n(1422),ee=n(4790),te=n(1294),ne=n(2283),re=n(4203),oe=n(3259),ie=n(1967),se=n(1954),ae=n(423),ce=n(2266),ue=n(6300),le=n(5591),fe=n(2767),de=n(2621),he=n(1564),pe=n(9831),me=n(5972),ye=n(9701),ge=n(2877),ve=n(7990),be=n(9538),we=n(3201),Ee=n(2618),_e=n(2337),Te=n(3274),Se=n(4800),Ie=n(5219);function Ne(e){const t={descriptions:!0,specifiedByUrl:!1,directiveIsRepeatable:!1,schemaDescription:!1,inputValueDeprecation:!1,...e},n=t.descriptions?"description":"",r=t.specifiedByUrl?"specifiedByURL":"",o=t.directiveIsRepeatable?"isRepeatable":"";function i(e){return t.inputValueDeprecation?e:""}return`\n    query IntrospectionQuery {\n      __schema {\n        ${t.schemaDescription?n:""}\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ${n}\n          ${o}\n          locations\n          args${i("(includeDeprecated: true)")} {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ${n}\n      ${r}\n      fields(includeDeprecated: true) {\n        name\n        ${n}\n        args${i("(includeDeprecated: true)")} {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields${i("(includeDeprecated: true)")} {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ${n}\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ${n}\n      type { ...TypeRef }\n      defaultValue\n      ${i("isDeprecated")}\n      ${i("deprecationReason")}\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                    ofType {\n                      kind\n                      name\n                      ofType {\n                        kind\n                        name\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `}function Oe(e,t){if("query"===t.operation){const n=e.getQueryType();if(!n)throw new R.__("Schema does not define the required query root type.",{nodes:t});return n}if("mutation"===t.operation){const n=e.getMutationType();if(!n)throw new R.__("Schema is not configured for mutations.",{nodes:t});return n}if("subscription"===t.operation){const n=e.getSubscriptionType();if(!n)throw new R.__("Schema is not configured for subscriptions.",{nodes:t});return n}throw new R.__("Can only have query, mutation and subscription operations.",{nodes:t})}function Ae(e,t){const n={specifiedByUrl:!0,directiveIsRepeatable:!0,schemaDescription:!0,inputValueDeprecation:!0,...t},r=(0,s.Qc)(Ne(n)),o=(0,u.p0)({schema:e,document:r});return!o.errors&&o.data||(0,U.k)(!1),o.data}var xe=n(8495),ke=n(4950),$e=n(2221);function Ce(e,t){(0,xe.y)(e)&&(0,xe.y)(e.__schema)||(0,o.a)(!1,`Invalid or incomplete introspection result. Ensure that you are passing "data" property of introspection response and no "errors" was returned alongside: ${(0,k.X)(e)}.`);const n=e.__schema,r=(0,ke.w)(n.types,(e=>e.name),(e=>function(e){if(null!=e&&null!=e.name&&null!=e.kind)switch(e.kind){case g.zU.SCALAR:return r=e,new h.n2({name:r.name,description:r.description,specifiedByURL:r.specifiedByURL});case g.zU.OBJECT:return n=e,new h.h6({name:n.name,description:n.description,interfaces:()=>b(n),fields:()=>w(n)});case g.zU.INTERFACE:return t=e,new h.oW({name:t.name,description:t.description,interfaces:()=>b(t),fields:()=>w(t)});case g.zU.UNION:return function(e){if(!e.possibleTypes){const t=(0,k.X)(e);throw new Error(`Introspection result missing possibleTypes: ${t}.`)}return new h.Gp({name:e.name,description:e.description,types:()=>e.possibleTypes.map(d)})}(e);case g.zU.ENUM:return function(e){if(!e.enumValues){const t=(0,k.X)(e);throw new Error(`Introspection result missing enumValues: ${t}.`)}return new h.mR({name:e.name,description:e.description,values:(0,ke.w)(e.enumValues,(e=>e.name),(e=>({description:e.description,deprecationReason:e.deprecationReason})))})}(e);case g.zU.INPUT_OBJECT:return function(e){if(!e.inputFields){const t=(0,k.X)(e);throw new Error(`Introspection result missing inputFields: ${t}.`)}return new h.sR({name:e.name,description:e.description,fields:()=>_(e.inputFields)})}(e)}var t;var n;var r;const o=(0,k.X)(e);throw new Error(`Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${o}.`)}(e)));for(const o of[...y.HS,...g.nL])r[o.name]&&(r[o.name]=o);const i=n.queryType?d(n.queryType):null,a=n.mutationType?d(n.mutationType):null,c=n.subscriptionType?d(n.subscriptionType):null,u=n.directives?n.directives.map((function(e){if(!e.args){const t=(0,k.X)(e);throw new Error(`Introspection result missing directive args: ${t}.`)}if(!e.locations){const t=(0,k.X)(e);throw new Error(`Introspection result missing directive locations: ${t}.`)}return new m.NZ({name:e.name,description:e.description,isRepeatable:e.isRepeatable,locations:e.locations.slice(),args:_(e.args)})})):[];return new p.XO({description:n.description,query:i,mutation:a,subscription:c,types:Object.values(r),directives:u,assumeValid:null===t||void 0===t?void 0:t.assumeValid});function l(e){if(e.kind===g.zU.LIST){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return new h.p2(l(t))}if(e.kind===g.zU.NON_NULL){const t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");const n=l(t);return new h.bM((0,h.i_)(n))}return f(e)}function f(e){const t=e.name;if(!t)throw new Error(`Unknown type reference: ${(0,k.X)(e)}.`);const n=r[t];if(!n)throw new Error(`Invalid or incomplete schema, unknown type: ${t}. Ensure that a full introspection query is used in order to build a client schema.`);return n}function d(e){return(0,h.Z6)(f(e))}function v(e){return(0,h.k2)(f(e))}function b(e){if(null===e.interfaces&&e.kind===g.zU.INTERFACE)return[];if(!e.interfaces){const t=(0,k.X)(e);throw new Error(`Introspection result missing interfaces: ${t}.`)}return e.interfaces.map(v)}function w(e){if(!e.fields)throw new Error(`Introspection result missing fields: ${(0,k.X)(e)}.`);return(0,ke.w)(e.fields,(e=>e.name),E)}function E(e){const t=l(e.type);if(!(0,h.SZ)(t)){const e=(0,k.X)(t);throw new Error(`Introspection must provide output type for fields, but received: ${e}.`)}if(!e.args){const t=(0,k.X)(e);throw new Error(`Introspection result missing field args: ${t}.`)}return{description:e.description,deprecationReason:e.deprecationReason,type:t,args:_(e.args)}}function _(e){return(0,ke.w)(e,(e=>e.name),T)}function T(e){const t=l(e.type);if(!(0,h.j$)(t)){const e=(0,k.X)(t);throw new Error(`Introspection must provide input type for arguments, but received: ${e}.`)}const n=null!=e.defaultValue?(0,$e.u)((0,s.H2)(e.defaultValue),t):void 0;return{description:e.description,type:t,defaultValue:n,deprecationReason:e.deprecationReason}}}var Re=n(9557);function De(e,t){null!=e&&e.kind===O.h.DOCUMENT||(0,o.a)(!1,"Must provide valid Document AST."),!0!==(null===t||void 0===t?void 0:t.assumeValid)&&!0!==(null===t||void 0===t?void 0:t.assumeValidSDL)&&(0,c.zo)(e);const n={description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},r=(0,Re.w)(n,e,t);if(null==r.astNode)for(const o of r.types)switch(o.name){case"Query":r.query=o;break;case"Mutation":r.mutation=o;break;case"Subscription":r.subscription=o}const i=[...r.directives,...m.V4.filter((e=>r.directives.every((t=>t.name!==e.name))))];return new p.XO({...r,directives:i})}function Pe(e,t){return De((0,s.Qc)(e,{noLocation:null===t||void 0===t?void 0:t.noLocation,allowLegacyFragmentVariables:null===t||void 0===t?void 0:t.allowLegacyFragmentVariables}),{assumeValidSDL:null===t||void 0===t?void 0:t.assumeValidSDL,assumeValid:null===t||void 0===t?void 0:t.assumeValid})}var je=n(8224);function Me(e){const t=e.toConfig(),n=(0,ke.w)(Fe(t.types),(e=>e.name),(function(e){if((0,h.KA)(e)||(0,g.s9)(e))return e;if((0,h.lp)(e)){const t=e.toConfig();return new h.h6({...t,interfaces:()=>c(t.interfaces),fields:()=>a(t.fields)})}if((0,h.oT)(e)){const t=e.toConfig();return new h.oW({...t,interfaces:()=>c(t.interfaces),fields:()=>a(t.fields)})}if((0,h.EN)(e)){const t=e.toConfig();return new h.Gp({...t,types:()=>c(t.types)})}if((0,h.EM)(e)){const t=e.toConfig();return new h.mR({...t,values:Le(t.values,(e=>e))})}if((0,h.hL)(e)){const t=e.toConfig();return new h.sR({...t,fields:()=>Le(t.fields,(e=>({...e,type:r(e.type)})))})}(0,U.k)(!1,"Unexpected type: "+(0,k.X)(e))}));return new p.XO({...t,types:Object.values(n),directives:Fe(t.directives).map((function(e){const t=e.toConfig();return new m.NZ({...t,locations:Ue(t.locations,(e=>e)),args:s(t.args)})})),query:i(t.query),mutation:i(t.mutation),subscription:i(t.subscription)});function r(e){return(0,h.HG)(e)?new h.p2(r(e.ofType)):(0,h.zM)(e)?new h.bM(r(e.ofType)):o(e)}function o(e){return n[e.name]}function i(e){return e&&o(e)}function s(e){return Le(e,(e=>({...e,type:r(e.type)})))}function a(e){return Le(e,(e=>({...e,type:r(e.type),args:e.args&&s(e.args)})))}function c(e){return Fe(e).map(o)}}function Le(e,t){const n=Object.create(null);for(const r of Object.keys(e).sort(je.K))n[r]=t(e[r]);return n}function Fe(e){return Ue(e,(e=>e.name))}function Ue(e,t){return e.slice().sort(((e,n)=>{const r=t(e),o=t(n);return(0,je.K)(r,o)}))}var Be=n(7392),Ve=n(8631);function qe(e){return Ke(e,(e=>!(0,m.xg)(e)),Ge)}function ze(e){return Ke(e,m.xg,g.s9)}function Ge(e){return!(0,y.u1)(e)&&!(0,g.s9)(e)}function Ke(e,t,n){const r=e.getDirectives().filter(t),o=Object.values(e.getTypeMap()).filter(n);return[Je(e),...r.map((e=>function(e){return tt(e)+"directive @"+e.name+Xe(e.args)+(e.isRepeatable?" repeatable":"")+" on "+e.locations.join(" | ")}(e))),...o.map((e=>He(e)))].filter(Boolean).join("\n\n")}function Je(e){if(null==e.description&&function(e){const t=e.getQueryType();if(t&&"Query"!==t.name)return!1;const n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;const r=e.getSubscriptionType();if(r&&"Subscription"!==r.name)return!1;return!0}(e))return;const t=[],n=e.getQueryType();n&&t.push(`  query: ${n.name}`);const r=e.getMutationType();r&&t.push(`  mutation: ${r.name}`);const o=e.getSubscriptionType();return o&&t.push(`  subscription: ${o.name}`),tt(e)+`schema {\n${t.join("\n")}\n}`}function He(e){return(0,h.KA)(e)?function(e){return tt(e)+`scalar ${e.name}`+function(e){if(null==e.specifiedByURL)return"";return` @specifiedBy(url: ${(0,I.S)({kind:O.h.STRING,value:e.specifiedByURL})})`}(e)}(e):(0,h.lp)(e)?function(e){return tt(e)+`type ${e.name}`+Qe(e)+We(e)}(e):(0,h.oT)(e)?function(e){return tt(e)+`interface ${e.name}`+Qe(e)+We(e)}(e):(0,h.EN)(e)?function(e){const t=e.getTypes(),n=t.length?" = "+t.join(" | "):"";return tt(e)+"union "+e.name+n}(e):(0,h.EM)(e)?function(e){const t=e.getValues().map(((e,t)=>tt(e,"  ",!t)+"  "+e.name+et(e.deprecationReason)));return tt(e)+`enum ${e.name}`+Ye(t)}(e):(0,h.hL)(e)?function(e){const t=Object.values(e.getFields()).map(((e,t)=>tt(e,"  ",!t)+"  "+Ze(e)));return tt(e)+`input ${e.name}`+Ye(t)}(e):void(0,U.k)(!1,"Unexpected type: "+(0,k.X)(e))}function Qe(e){const t=e.getInterfaces();return t.length?" implements "+t.map((e=>e.name)).join(" & "):""}function We(e){return Ye(Object.values(e.getFields()).map(((e,t)=>tt(e,"  ",!t)+"  "+e.name+Xe(e.args,"  ")+": "+String(e.type)+et(e.deprecationReason))))}function Ye(e){return 0!==e.length?" {\n"+e.join("\n")+"\n}":""}function Xe(e,t=""){return 0===e.length?"":e.every((e=>!e.description))?"("+e.map(Ze).join(", ")+")":"(\n"+e.map(((e,n)=>tt(e,"  "+t,!n)+"  "+t+Ze(e))).join("\n")+"\n"+t+")"}function Ze(e){const t=(0,Ve.J)(e.defaultValue,e.type);let n=e.name+": "+String(e.type);return t&&(n+=` = ${(0,I.S)(t)}`),n+et(e.deprecationReason)}function et(e){if(null==e)return"";if(e!==m.SY){return` @deprecated(reason: ${(0,I.S)({kind:O.h.STRING,value:e})})`}return" @deprecated"}function tt(e,t="",n=!0){const{description:r}=e;if(null==r)return"";return(t&&!n?"\n"+t:t)+(0,I.S)({kind:O.h.STRING,value:r,block:(0,Be.MZ)(r)}).replace(/\n/g,"\n"+t)+"\n"}function nt(e){const t=[];for(const n of e)t.push(...n.definitions);return{kind:O.h.DOCUMENT,definitions:t}}function rt(e){const t=[],n=Object.create(null);for(const o of e.definitions)switch(o.kind){case O.h.OPERATION_DEFINITION:t.push(o);break;case O.h.FRAGMENT_DEFINITION:n[o.name.value]=it(o.selectionSet)}const r=Object.create(null);for(const o of t){const t=new Set;for(const e of it(o.selectionSet))ot(t,n,e);r[o.name?o.name.value:""]={kind:O.h.DOCUMENT,definitions:e.definitions.filter((e=>e===o||e.kind===O.h.FRAGMENT_DEFINITION&&t.has(e.name.value)))}}return r}function ot(e,t,n){if(!e.has(n)){e.add(n);const r=t[n];if(void 0!==r)for(const n of r)ot(e,t,n)}}function it(e){const t=[];return(0,N.Vn)(e,{FragmentSpread(e){t.push(e.name.value)}}),t}function st(e){const t=(0,w.T)(e)?e:new w.H(e),n=t.body,r=new T.h(t);let o="",i=!1;for(;r.advance().kind!==S.T.EOF;){const e=r.token,t=e.kind,s=!(0,T.u)(e.kind);i&&(s||e.kind===S.T.SPREAD)&&(o+=" ");const a=n.slice(e.start,e.end);t===S.T.BLOCK_STRING?o+=(0,Be.LZ)(e.value,{minimize:!0}):o+=a,i=s}return o}function at(e){const t=ct(e);if(t)throw t;return e}function ct(e){if("string"===typeof e||(0,o.a)(!1,"Expected name to be a string."),e.startsWith("__"))return new R.__(`Name "${e}" must not begin with "__", which is reserved by GraphQL introspection.`);try{(0,v.i)(e)}catch(t){return t}}var ut,lt,ft=n(3498),dt=n(8360);function ht(e,t){return mt(e,t).filter((e=>e.type in ut))}function pt(e,t){return mt(e,t).filter((e=>e.type in lt))}function mt(e,t){return[...gt(e,t),...yt(e,t)]}function yt(e,t){const n=[],r=At(e.getDirectives(),t.getDirectives());for(const o of r.removed)n.push({type:ut.DIRECTIVE_REMOVED,description:`${o.name} was removed.`});for(const[o,i]of r.persisted){const e=At(o.args,i.args);for(const t of e.added)(0,h.dK)(t)&&n.push({type:ut.REQUIRED_DIRECTIVE_ARG_ADDED,description:`A required arg ${t.name} on directive ${o.name} was added.`});for(const t of e.removed)n.push({type:ut.DIRECTIVE_ARG_REMOVED,description:`${t.name} was removed from ${o.name}.`});o.isRepeatable&&!i.isRepeatable&&n.push({type:ut.DIRECTIVE_REPEATABLE_REMOVED,description:`Repeatable flag was removed from ${o.name}.`});for(const t of o.locations)i.locations.includes(t)||n.push({type:ut.DIRECTIVE_LOCATION_REMOVED,description:`${t} was removed from ${o.name}.`})}return n}function gt(e,t){const n=[],r=At(Object.values(e.getTypeMap()),Object.values(t.getTypeMap()));for(const o of r.removed)n.push({type:ut.TYPE_REMOVED,description:(0,y.u1)(o)?`Standard scalar ${o.name} was removed because it is not referenced anymore.`:`${o.name} was removed.`});for(const[o,i]of r.persisted)(0,h.EM)(o)&&(0,h.EM)(i)?n.push(...wt(o,i)):(0,h.EN)(o)&&(0,h.EN)(i)?n.push(...bt(o,i)):(0,h.hL)(o)&&(0,h.hL)(i)?n.push(...vt(o,i)):(0,h.lp)(o)&&(0,h.lp)(i)||(0,h.oT)(o)&&(0,h.oT)(i)?n.push(..._t(o,i),...Et(o,i)):o.constructor!==i.constructor&&n.push({type:ut.TYPE_CHANGED_KIND,description:`${o.name} changed from ${Nt(o)} to ${Nt(i)}.`});return n}function vt(e,t){const n=[],r=At(Object.values(e.getFields()),Object.values(t.getFields()));for(const o of r.added)(0,h.Wd)(o)?n.push({type:ut.REQUIRED_INPUT_FIELD_ADDED,description:`A required field ${o.name} on input type ${e.name} was added.`}):n.push({type:lt.OPTIONAL_INPUT_FIELD_ADDED,description:`An optional field ${o.name} on input type ${e.name} was added.`});for(const o of r.removed)n.push({type:ut.FIELD_REMOVED,description:`${e.name}.${o.name} was removed.`});for(const[o,i]of r.persisted){It(o.type,i.type)||n.push({type:ut.FIELD_CHANGED_KIND,description:`${e.name}.${o.name} changed type from ${String(o.type)} to ${String(i.type)}.`})}return n}function bt(e,t){const n=[],r=At(e.getTypes(),t.getTypes());for(const o of r.added)n.push({type:lt.TYPE_ADDED_TO_UNION,description:`${o.name} was added to union type ${e.name}.`});for(const o of r.removed)n.push({type:ut.TYPE_REMOVED_FROM_UNION,description:`${o.name} was removed from union type ${e.name}.`});return n}function wt(e,t){const n=[],r=At(e.getValues(),t.getValues());for(const o of r.added)n.push({type:lt.VALUE_ADDED_TO_ENUM,description:`${o.name} was added to enum type ${e.name}.`});for(const o of r.removed)n.push({type:ut.VALUE_REMOVED_FROM_ENUM,description:`${o.name} was removed from enum type ${e.name}.`});return n}function Et(e,t){const n=[],r=At(e.getInterfaces(),t.getInterfaces());for(const o of r.added)n.push({type:lt.IMPLEMENTED_INTERFACE_ADDED,description:`${o.name} added to interfaces implemented by ${e.name}.`});for(const o of r.removed)n.push({type:ut.IMPLEMENTED_INTERFACE_REMOVED,description:`${e.name} no longer implements interface ${o.name}.`});return n}function _t(e,t){const n=[],r=At(Object.values(e.getFields()),Object.values(t.getFields()));for(const o of r.removed)n.push({type:ut.FIELD_REMOVED,description:`${e.name}.${o.name} was removed.`});for(const[o,i]of r.persisted){n.push(...Tt(e,o,i));St(o.type,i.type)||n.push({type:ut.FIELD_CHANGED_KIND,description:`${e.name}.${o.name} changed type from ${String(o.type)} to ${String(i.type)}.`})}return n}function Tt(e,t,n){const r=[],o=At(t.args,n.args);for(const i of o.removed)r.push({type:ut.ARG_REMOVED,description:`${e.name}.${t.name} arg ${i.name} was removed.`});for(const[i,s]of o.persisted){if(It(i.type,s.type)){if(void 0!==i.defaultValue)if(void 0===s.defaultValue)r.push({type:lt.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${i.name} defaultValue was removed.`});else{const n=Ot(i.defaultValue,i.type),o=Ot(s.defaultValue,s.type);n!==o&&r.push({type:lt.ARG_DEFAULT_VALUE_CHANGE,description:`${e.name}.${t.name} arg ${i.name} has changed defaultValue from ${n} to ${o}.`})}}else r.push({type:ut.ARG_CHANGED_KIND,description:`${e.name}.${t.name} arg ${i.name} has changed type from ${String(i.type)} to ${String(s.type)}.`})}for(const i of o.added)(0,h.dK)(i)?r.push({type:ut.REQUIRED_ARG_ADDED,description:`A required arg ${i.name} on ${e.name}.${t.name} was added.`}):r.push({type:lt.OPTIONAL_ARG_ADDED,description:`An optional arg ${i.name} on ${e.name}.${t.name} was added.`});return r}function St(e,t){return(0,h.HG)(e)?(0,h.HG)(t)&&St(e.ofType,t.ofType)||(0,h.zM)(t)&&St(e,t.ofType):(0,h.zM)(e)?(0,h.zM)(t)&&St(e.ofType,t.ofType):(0,h.Zs)(t)&&e.name===t.name||(0,h.zM)(t)&&St(e,t.ofType)}function It(e,t){return(0,h.HG)(e)?(0,h.HG)(t)&&It(e.ofType,t.ofType):(0,h.zM)(e)?(0,h.zM)(t)&&It(e.ofType,t.ofType)||!(0,h.zM)(t)&&It(e.ofType,t):(0,h.Zs)(t)&&e.name===t.name}function Nt(e){return(0,h.KA)(e)?"a Scalar type":(0,h.lp)(e)?"an Object type":(0,h.oT)(e)?"an Interface type":(0,h.EN)(e)?"a Union type":(0,h.EM)(e)?"an Enum type":(0,h.hL)(e)?"an Input type":void(0,U.k)(!1,"Unexpected type: "+(0,k.X)(e))}function Ot(e,t){const n=(0,Ve.J)(e,t);return null!=n||(0,U.k)(!1),(0,I.S)((0,dt.n)(n))}function At(e,t){const n=[],r=[],o=[],i=(0,ft.P)(e,(({name:e})=>e)),s=(0,ft.P)(t,(({name:e})=>e));for(const a of e){const e=s[a.name];void 0===e?r.push(a):o.push([a,e])}for(const a of t)void 0===i[a.name]&&n.push(a);return{added:n,persisted:o,removed:r}}!function(e){e.TYPE_REMOVED="TYPE_REMOVED",e.TYPE_CHANGED_KIND="TYPE_CHANGED_KIND",e.TYPE_REMOVED_FROM_UNION="TYPE_REMOVED_FROM_UNION",e.VALUE_REMOVED_FROM_ENUM="VALUE_REMOVED_FROM_ENUM",e.REQUIRED_INPUT_FIELD_ADDED="REQUIRED_INPUT_FIELD_ADDED",e.IMPLEMENTED_INTERFACE_REMOVED="IMPLEMENTED_INTERFACE_REMOVED",e.FIELD_REMOVED="FIELD_REMOVED",e.FIELD_CHANGED_KIND="FIELD_CHANGED_KIND",e.REQUIRED_ARG_ADDED="REQUIRED_ARG_ADDED",e.ARG_REMOVED="ARG_REMOVED",e.ARG_CHANGED_KIND="ARG_CHANGED_KIND",e.DIRECTIVE_REMOVED="DIRECTIVE_REMOVED",e.DIRECTIVE_ARG_REMOVED="DIRECTIVE_ARG_REMOVED",e.REQUIRED_DIRECTIVE_ARG_ADDED="REQUIRED_DIRECTIVE_ARG_ADDED",e.DIRECTIVE_REPEATABLE_REMOVED="DIRECTIVE_REPEATABLE_REMOVED",e.DIRECTIVE_LOCATION_REMOVED="DIRECTIVE_LOCATION_REMOVED"}(ut||(ut={})),function(e){e.VALUE_ADDED_TO_ENUM="VALUE_ADDED_TO_ENUM",e.TYPE_ADDED_TO_UNION="TYPE_ADDED_TO_UNION",e.OPTIONAL_INPUT_FIELD_ADDED="OPTIONAL_INPUT_FIELD_ADDED",e.OPTIONAL_ARG_ADDED="OPTIONAL_ARG_ADDED",e.IMPLEMENTED_INTERFACE_ADDED="IMPLEMENTED_INTERFACE_ADDED",e.ARG_DEFAULT_VALUE_CHANGE="ARG_DEFAULT_VALUE_CHANGE"}(lt||(lt={}));var xt=n(2100),kt=n(77),$t=n(2319),Ct=n(2676),Rt=n(7816),Dt=n(316)},9380:function(e,t,n){"use strict";function r(e,t,n){return{prev:e,key:t,typename:n}}function o(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}n.d(t,{Q:function(){return r},N:function(){return o}})},7826:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,{a:function(){return r}})},3177:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});function r(e,t){const[n,r]=t?[e,t]:[void 0,e];let o=" Did you mean ";n&&(o+=n+" ");const i=r.map((e=>`"${e}"`));switch(i.length){case 0:return"";case 1:return o+i[0]+"?";case 2:return o+i[0]+" or "+i[1]+"?"}const s=i.slice(0,5),a=s.pop();return o+s.join(", ")+", or "+a+"?"}},3231:function(e,t,n){"use strict";function r(e,t){const n=new Map;for(const r of e){const e=t(r),o=n.get(e);void 0===o?n.set(e,[r]):o.push(r)}return n}n.d(t,{v:function(){return r}})},5821:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});function r(e){return o(e,[])}function o(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:o(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let s=0;s<n;++s)i.push(o(e[s],t));1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`);return"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";return"{ "+n.map((([e,n])=>e+": "+o(n,t))).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},8306:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(5821);const o=globalThis.process&&"production"===globalThis.process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"===typeof e&&null!==e){var n;const o=t.prototype[Symbol.toStringTag];if(o===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){const t=(0,r.X)(e);throw new Error(`Cannot use ${o} "${t}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1}},9551:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}n.d(t,{k:function(){return r}})},3831:function(e,t,n){"use strict";function r(e){return"object"===typeof e&&"function"===typeof(null===e||void 0===e?void 0:e[Symbol.iterator])}n.d(t,{i:function(){return r}})},8495:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!==e}n.d(t,{y:function(){return r}})},8659:function(e,t,n){"use strict";function r(e){return"function"===typeof(null===e||void 0===e?void 0:e.then)}n.d(t,{t:function(){return r}})},3498:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null);for(const r of e)n[t(r)]=r;return n}n.d(t,{P:function(){return r}})},4950:function(e,t,n){"use strict";function r(e,t,n){const r=Object.create(null);for(const o of e)r[t(o)]=n(o);return r}n.d(t,{w:function(){return r}})},5723:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null);for(const r of Object.keys(e))n[r]=t(e[r],r);return n}n.d(t,{j:function(){return r}})},8224:function(e,t,n){"use strict";function r(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let s=e.charCodeAt(n),a=t.charCodeAt(r);if(i(s)&&i(a)){let c=0;do{++n,c=10*c+s-o,s=e.charCodeAt(n)}while(i(s)&&c>0);let u=0;do{++r,u=10*u+a-o,a=t.charCodeAt(r)}while(i(a)&&u>0);if(c<u)return-1;if(c>u)return 1}else{if(s<a)return-1;if(s>a)return 1;++n,++r}}return e.length-t.length}n.d(t,{K:function(){return r}});const o=48;function i(e){return!isNaN(e)&&o<=e&&e<=57}},4244:function(e,t,n){"use strict";function r(e){return e.map((e=>"number"===typeof e?"["+e.toString()+"]":"."+e)).join("")}n.d(t,{F:function(){return r}})},3294:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(8224);function o(e,t){const n=Object.create(null),o=new i(e),s=Math.floor(.4*e.length)+1;for(const r of t){const e=o.measure(r,s);void 0!==e&&(n[r]=e)}return Object.keys(n).sort(((e,t)=>{const o=n[e]-n[t];return 0!==o?o:(0,r.K)(e,t)}))}class i{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=s(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,t){if(this._input===e)return 0;const n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let r=s(n),o=this._inputArray;if(r.length<o.length){const e=r;r=o,o=e}const i=r.length,a=o.length;if(i-a>t)return;const c=this._rows;for(let s=0;s<=a;s++)c[0][s]=s;for(let s=1;s<=i;s++){const e=c[(s-1)%3],n=c[s%3];let i=n[0]=s;for(let t=1;t<=a;t++){const a=r[s-1]===o[t-1]?0:1;let u=Math.min(e[t]+1,n[t-1]+1,e[t-1]+a);if(s>1&&t>1&&r[s-1]===o[t-2]&&r[s-2]===o[t-1]){const e=c[(s-2)%3][t-2];u=Math.min(u,e+1)}u<i&&(i=u),n[t]=u}if(i>t)return}const u=c[i%3][a];return u<=t?u:void 0}}function s(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}},8824:function(e,t,n){"use strict";function r(e){if(null==e)return Object.create(null);if(null===Object.getPrototypeOf(e))return e;const t=Object.create(null);for(const[n,r]of Object.entries(e))t[n]=r;return t}n.d(t,{u:function(){return r}})},2380:function(e,t,n){"use strict";n.d(t,{Ye:function(){return r},WU:function(){return o},h8:function(){return i},UG:function(){return a},ku:function(){return c}});class r{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class o{constructor(e,t,n,r,o,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},s=new Set(Object.keys(i));function a(e){const t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&s.has(t)}var c;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(c||(c={}))},7392:function(e,t,n){"use strict";n.d(t,{wv:function(){return o},MZ:function(){return s},LZ:function(){return a}});var r=n(8297);function o(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,o=-1;for(let a=0;a<e.length;++a){var s;const t=e[a],c=i(t);c!==t.length&&(r=null!==(s=r)&&void 0!==s?s:a,o=a,0!==a&&c<n&&(n=c))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,o+1)}function i(e){let t=0;for(;t<e.length&&(0,r.FD)(e.charCodeAt(t));)++t;return t}function s(e){if(""===e)return!0;let t=!0,n=!1,r=!0,o=!1;for(let i=0;i<e.length;++i)switch(e.codePointAt(i)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:case 13:return!1;case 10:if(t&&!o)return!1;o=!0,t=!0,n=!1;break;case 9:case 32:n||(n=t);break;default:r&&(r=n),t=!1}return!t&&(!r||!o)}function a(e,t){const n=e.replace(/"""/g,'\\"""'),o=n.split(/\r\n|[\n\r]/g),i=1===o.length,s=o.length>1&&o.slice(1).every((e=>0===e.length||(0,r.FD)(e.charCodeAt(0)))),a=n.endsWith('\\"""'),c=e.endsWith('"')&&!a,u=e.endsWith("\\"),l=c||u,f=!(null!==t&&void 0!==t&&t.minimize)&&(!i||e.length>70||l||s||a);let d="";const h=i&&(0,r.FD)(e.charCodeAt(0));return(f&&!h||s)&&(d+="\n"),d+=n,(f||l)&&(d+="\n"),'"""'+d+'"""'}},8297:function(e,t,n){"use strict";function r(e){return 9===e||32===e}function o(e){return e>=48&&e<=57}function i(e){return e>=97&&e<=122||e>=65&&e<=90}function s(e){return i(e)||95===e}function a(e){return i(e)||o(e)||95===e}n.d(t,{FD:function(){return r},X1:function(){return o},LQ:function(){return s},HQ:function(){return a}})},9878:function(e,t,n){"use strict";var r;n.d(t,{B:function(){return r}}),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(r||(r={}))},7359:function(e,t,n){"use strict";var r;n.d(t,{h:function(){return r}}),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(r||(r={}))},2105:function(e,t,n){"use strict";n.d(t,{h:function(){return c},u:function(){return u}});var r=n(5219),o=n(2380),i=n(7392),s=n(8297),a=n(4635);class c{constructor(e){const t=new o.WU(a.T.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==a.T.EOF)do{if(e.next)e=e.next;else{const t=y(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===a.T.COMMENT);return e}}function u(e){return e===a.T.BANG||e===a.T.DOLLAR||e===a.T.AMP||e===a.T.PAREN_L||e===a.T.PAREN_R||e===a.T.SPREAD||e===a.T.COLON||e===a.T.EQUALS||e===a.T.AT||e===a.T.BRACKET_L||e===a.T.BRACKET_R||e===a.T.BRACE_L||e===a.T.PIPE||e===a.T.BRACE_R}function l(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function f(e,t){return d(e.charCodeAt(t))&&h(e.charCodeAt(t+1))}function d(e){return e>=55296&&e<=56319}function h(e){return e>=56320&&e<=57343}function p(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return a.T.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function m(e,t,n,r,i){const s=e.line,a=1+n-e.lineStart;return new o.WU(t,n,r,s,a,i)}function y(e,t){const n=e.source.body,o=n.length;let i=t;for(;i<o;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return g(e,i);case 33:return m(e,a.T.BANG,i,i+1);case 36:return m(e,a.T.DOLLAR,i,i+1);case 38:return m(e,a.T.AMP,i,i+1);case 40:return m(e,a.T.PAREN_L,i,i+1);case 41:return m(e,a.T.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return m(e,a.T.SPREAD,i,i+3);break;case 58:return m(e,a.T.COLON,i,i+1);case 61:return m(e,a.T.EQUALS,i,i+1);case 64:return m(e,a.T.AT,i,i+1);case 91:return m(e,a.T.BRACKET_L,i,i+1);case 93:return m(e,a.T.BRACKET_R,i,i+1);case 123:return m(e,a.T.BRACE_L,i,i+1);case 124:return m(e,a.T.PIPE,i,i+1);case 125:return m(e,a.T.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?N(e,i):w(e,i)}if((0,s.X1)(t)||45===t)return v(e,i,t);if((0,s.LQ)(t))return O(e,i);throw(0,r.h)(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":l(t)||f(n,i)?`Unexpected character: ${p(e,i)}.`:`Invalid character: ${p(e,i)}.`)}return m(e,a.T.EOF,o,o)}function g(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){const e=n.charCodeAt(o);if(10===e||13===e)break;if(l(e))++o;else{if(!f(n,o))break;o+=2}}return m(e,a.T.COMMENT,t,o,n.slice(t+1,o))}function v(e,t,n){const o=e.source.body;let i=t,c=n,u=!1;if(45===c&&(c=o.charCodeAt(++i)),48===c){if(c=o.charCodeAt(++i),(0,s.X1)(c))throw(0,r.h)(e.source,i,`Invalid number, unexpected digit after 0: ${p(e,i)}.`)}else i=b(e,i,c),c=o.charCodeAt(i);if(46===c&&(u=!0,c=o.charCodeAt(++i),i=b(e,i,c),c=o.charCodeAt(i)),69!==c&&101!==c||(u=!0,c=o.charCodeAt(++i),43!==c&&45!==c||(c=o.charCodeAt(++i)),i=b(e,i,c),c=o.charCodeAt(i)),46===c||(0,s.LQ)(c))throw(0,r.h)(e.source,i,`Invalid number, expected digit but got: ${p(e,i)}.`);return m(e,u?a.T.FLOAT:a.T.INT,t,i,o.slice(t,i))}function b(e,t,n){if(!(0,s.X1)(n))throw(0,r.h)(e.source,t,`Invalid number, expected digit but got: ${p(e,t)}.`);const o=e.source.body;let i=t+1;for(;(0,s.X1)(o.charCodeAt(i));)++i;return i}function w(e,t){const n=e.source.body,o=n.length;let i=t+1,s=i,c="";for(;i<o;){const o=n.charCodeAt(i);if(34===o)return c+=n.slice(s,i),m(e,a.T.STRING,t,i+1,c);if(92!==o){if(10===o||13===o)break;if(l(o))++i;else{if(!f(n,i))throw(0,r.h)(e.source,i,`Invalid character within String: ${p(e,i)}.`);i+=2}}else{c+=n.slice(s,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?E(e,i):_(e,i):I(e,i);c+=t.value,i+=t.size,s=i}}throw(0,r.h)(e.source,i,"Unterminated string.")}function E(e,t){const n=e.source.body;let o=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!l(o))break;return{value:String.fromCodePoint(o),size:i}}if(o=o<<4|S(e),o<0)break}throw(0,r.h)(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function _(e,t){const n=e.source.body,o=T(n,t+2);if(l(o))return{value:String.fromCodePoint(o),size:6};if(d(o)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=T(n,t+8);if(h(e))return{value:String.fromCodePoint(o,e),size:12}}throw(0,r.h)(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function T(e,t){return S(e.charCodeAt(t))<<12|S(e.charCodeAt(t+1))<<8|S(e.charCodeAt(t+2))<<4|S(e.charCodeAt(t+3))}function S(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function I(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw(0,r.h)(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function N(e,t){const n=e.source.body,o=n.length;let s=e.lineStart,c=t+3,u=c,d="";const h=[];for(;c<o;){const o=n.charCodeAt(c);if(34===o&&34===n.charCodeAt(c+1)&&34===n.charCodeAt(c+2)){d+=n.slice(u,c),h.push(d);const r=m(e,a.T.BLOCK_STRING,t,c+3,(0,i.wv)(h).join("\n"));return e.line+=h.length-1,e.lineStart=s,r}if(92!==o||34!==n.charCodeAt(c+1)||34!==n.charCodeAt(c+2)||34!==n.charCodeAt(c+3))if(10!==o&&13!==o)if(l(o))++c;else{if(!f(n,c))throw(0,r.h)(e.source,c,`Invalid character within String: ${p(e,c)}.`);c+=2}else d+=n.slice(u,c),h.push(d),13===o&&10===n.charCodeAt(c+1)?c+=2:++c,d="",u=c,s=c;else d+=n.slice(u,c),u=c+1,c+=4}throw(0,r.h)(e.source,c,"Unterminated string.")}function O(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){const e=n.charCodeAt(o);if(!(0,s.HQ)(e))break;++o}return m(e,a.T.NAME,t,o,n.slice(t,o))}},7867:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(9551);const o=/\r\n|[\n\r]/g;function i(e,t){let n=0,i=1;for(const s of e.body.matchAll(o)){if("number"===typeof s.index||(0,r.k)(!1),s.index>=t)break;n=s.index+s[0].length,i+=1}return{line:i,column:t+1-n}}},4275:function(e,t,n){"use strict";n.d(t,{Qc:function(){return l},H2:function(){return f},tl:function(){return d},gZ:function(){return h}});var r=n(5219),o=n(2380),i=n(9878),s=n(7359),a=n(2105),c=n(7926),u=n(4635);function l(e,t){return new p(e,t).parseDocument()}function f(e,t){const n=new p(e,t);n.expectToken(u.T.SOF);const r=n.parseValueLiteral(!1);return n.expectToken(u.T.EOF),r}function d(e,t){const n=new p(e,t);n.expectToken(u.T.SOF);const r=n.parseConstValueLiteral();return n.expectToken(u.T.EOF),r}function h(e,t){const n=new p(e,t);n.expectToken(u.T.SOF);const r=n.parseTypeReference();return n.expectToken(u.T.EOF),r}class p{constructor(e,t={}){const n=(0,c.T)(e)?e:new c.H(e);this._lexer=new a.h(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(u.T.NAME);return this.node(e,{kind:s.h.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:s.h.DOCUMENT,definitions:this.many(u.T.SOF,this.parseDefinition,u.T.EOF)})}parseDefinition(){if(this.peek(u.T.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===u.T.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw(0,r.h)(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(u.T.BRACE_L))return this.node(e,{kind:s.h.OPERATION_DEFINITION,operation:o.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(u.T.NAME)&&(n=this.parseName()),this.node(e,{kind:s.h.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(u.T.NAME);switch(e.value){case"query":return o.ku.QUERY;case"mutation":return o.ku.MUTATION;case"subscription":return o.ku.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(u.T.PAREN_L,this.parseVariableDefinition,u.T.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:s.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(u.T.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(u.T.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(u.T.DOLLAR),this.node(e,{kind:s.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:s.h.SELECTION_SET,selections:this.many(u.T.BRACE_L,this.parseSelection,u.T.BRACE_R)})}parseSelection(){return this.peek(u.T.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(u.T.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:s.h.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(u.T.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(u.T.PAREN_L,t,u.T.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(u.T.COLON),this.node(t,{kind:s.h.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(u.T.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(u.T.NAME)?this.node(e,{kind:s.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:s.h.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:s.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:s.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case u.T.BRACKET_L:return this.parseList(e);case u.T.BRACE_L:return this.parseObject(e);case u.T.INT:return this.advanceLexer(),this.node(t,{kind:s.h.INT,value:t.value});case u.T.FLOAT:return this.advanceLexer(),this.node(t,{kind:s.h.FLOAT,value:t.value});case u.T.STRING:case u.T.BLOCK_STRING:return this.parseStringLiteral();case u.T.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:s.h.BOOLEAN,value:!0});case"false":return this.node(t,{kind:s.h.BOOLEAN,value:!1});case"null":return this.node(t,{kind:s.h.NULL});default:return this.node(t,{kind:s.h.ENUM,value:t.value})}case u.T.DOLLAR:if(e){if(this.expectToken(u.T.DOLLAR),this._lexer.token.kind===u.T.NAME){const e=this._lexer.token.value;throw(0,r.h)(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:s.h.STRING,value:e.value,block:e.kind===u.T.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:s.h.LIST,values:this.any(u.T.BRACKET_L,(()=>this.parseValueLiteral(e)),u.T.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:s.h.OBJECT,fields:this.any(u.T.BRACE_L,(()=>this.parseObjectField(e)),u.T.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(u.T.COLON),this.node(t,{kind:s.h.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(u.T.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(u.T.AT),this.node(t,{kind:s.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(u.T.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(u.T.BRACKET_R),t=this.node(e,{kind:s.h.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(u.T.BANG)?this.node(e,{kind:s.h.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:s.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(u.T.STRING)||this.peek(u.T.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(u.T.BRACE_L,this.parseOperationTypeDefinition,u.T.BRACE_R);return this.node(e,{kind:s.h.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(u.T.COLON);const n=this.parseNamedType();return this.node(e,{kind:s.h.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:s.h.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:s.h.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(u.T.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(u.T.BRACE_L,this.parseFieldDefinition,u.T.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(u.T.COLON);const o=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:s.h.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:i})}parseArgumentDefs(){return this.optionalMany(u.T.PAREN_L,this.parseInputValueDef,u.T.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(u.T.COLON);const r=this.parseTypeReference();let o;this.expectOptionalToken(u.T.EQUALS)&&(o=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(e,{kind:s.h.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:o,directives:i})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:s.h.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:s.h.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(u.T.EQUALS)?this.delimitedMany(u.T.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:s.h.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o})}parseEnumValuesDefinition(){return this.optionalMany(u.T.BRACE_L,this.parseEnumValueDefinition,u.T.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:s.h.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw(0,r.h)(this._lexer.source,this._lexer.token.start,`${m(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:s.h.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(u.T.BRACE_L,this.parseInputValueDef,u.T.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===u.T.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(u.T.BRACE_L,this.parseOperationTypeDefinition,u.T.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:s.h.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:s.h.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:s.h.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:s.h.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.h.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(u.T.AT);const n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(e,{kind:s.h.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:i})}parseDirectiveLocations(){return this.delimitedMany(u.T.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(i.B,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new o.Ye(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw(0,r.h)(this._lexer.source,t.start,`Expected ${y(e)}, found ${m(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==u.T.NAME||t.value!==e)throw(0,r.h)(this._lexer.source,t.start,`Expected "${e}", found ${m(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===u.T.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!==e&&void 0!==e?e:this._lexer.token;return(0,r.h)(this._lexer.source,t.start,`Unexpected ${m(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==u.T.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw(0,r.h)(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function m(e){const t=e.value;return y(e.kind)+(null!=t?` "${t}"`:"")}function y(e){return(0,a.u)(e)?`"${e}"`:e}},5844:function(e,t,n){"use strict";n.d(t,{Ir:function(){return o},Wk:function(){return i},pO:function(){return s},nr:function(){return a},Of:function(){return c},VB:function(){return u},G4:function(){return l},zT:function(){return f},aU:function(){return d},D$:function(){return h}});var r=n(7359);function o(e){return i(e)||l(e)||d(e)}function i(e){return e.kind===r.h.OPERATION_DEFINITION||e.kind===r.h.FRAGMENT_DEFINITION}function s(e){return e.kind===r.h.FIELD||e.kind===r.h.FRAGMENT_SPREAD||e.kind===r.h.INLINE_FRAGMENT}function a(e){return e.kind===r.h.VARIABLE||e.kind===r.h.INT||e.kind===r.h.FLOAT||e.kind===r.h.STRING||e.kind===r.h.BOOLEAN||e.kind===r.h.NULL||e.kind===r.h.ENUM||e.kind===r.h.LIST||e.kind===r.h.OBJECT}function c(e){return a(e)&&(e.kind===r.h.LIST?e.values.some(c):e.kind===r.h.OBJECT?e.fields.some((e=>c(e.value))):e.kind!==r.h.VARIABLE)}function u(e){return e.kind===r.h.NAMED_TYPE||e.kind===r.h.LIST_TYPE||e.kind===r.h.NON_NULL_TYPE}function l(e){return e.kind===r.h.SCHEMA_DEFINITION||f(e)||e.kind===r.h.DIRECTIVE_DEFINITION}function f(e){return e.kind===r.h.SCALAR_TYPE_DEFINITION||e.kind===r.h.OBJECT_TYPE_DEFINITION||e.kind===r.h.INTERFACE_TYPE_DEFINITION||e.kind===r.h.UNION_TYPE_DEFINITION||e.kind===r.h.ENUM_TYPE_DEFINITION||e.kind===r.h.INPUT_OBJECT_TYPE_DEFINITION}function d(e){return e.kind===r.h.SCHEMA_EXTENSION||h(e)}function h(e){return e.kind===r.h.SCALAR_TYPE_EXTENSION||e.kind===r.h.OBJECT_TYPE_EXTENSION||e.kind===r.h.INTERFACE_TYPE_EXTENSION||e.kind===r.h.UNION_TYPE_EXTENSION||e.kind===r.h.ENUM_TYPE_EXTENSION||e.kind===r.h.INPUT_OBJECT_TYPE_EXTENSION}},850:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},z:function(){return i}});var r=n(7867);function o(e){return i(e.source,(0,r.k)(e.source,e.start))}function i(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,c=1===t.line?n:0,u=t.column+c,l=`${e.name}:${a}:${u}\n`,f=r.split(/\r\n|[\n\r]/g),d=f[o];if(d.length>120){const e=Math.floor(u/80),t=u%80,n=[];for(let r=0;r<d.length;r+=80)n.push(d.slice(r,r+80));return l+s([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return l+s([[a-1+" |",f[o-1]],[`${a} |`,d],["|","^".padStart(u)],[`${a+1} |`,f[o+1]]])}function s(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}},6918:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});var r=n(7392);const o=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function i(e){return s[e.charCodeAt(0)]}const s=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var a=n(7304);function c(e){return(0,a.Vn)(e,u)}const u={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>l(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=d("(",l(e.variableDefinitions,", "),")"),n=l([e.operation,l([e.name,t]),l(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+d(" = ",n)+d(" ",l(r," "))},SelectionSet:{leave:({selections:e})=>f(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:o}){const i=d("",e,": ")+t;let s=i+d("(",l(n,", "),")");return s.length>80&&(s=i+d("(\n",h(l(n,"\n")),"\n)")),l([s,l(r," "),o]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+d(" ",l(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>l(["...",d("on ",e),l(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:o})=>`fragment ${e}${d("(",l(n,", "),")")} on ${t} ${d("",l(r," ")," ")}`+o},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,r.LZ)(e):`"${e.replace(o,i)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+l(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+l(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+d("(",l(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>d("",e,"\n")+l(["schema",l(t," "),f(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+l(["scalar",t,l(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>d("",e,"\n")+l(["type",t,d("implements ",l(n," & ")),l(r," "),f(o)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:o})=>d("",e,"\n")+t+(p(n)?d("(\n",h(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+": "+r+d(" ",l(o," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:o})=>d("",e,"\n")+l([t+": "+n,d("= ",r),l(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>d("",e,"\n")+l(["interface",t,d("implements ",l(n," & ")),l(r," "),f(o)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>d("",e,"\n")+l(["union",t,l(n," "),d("= ",l(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>d("",e,"\n")+l(["enum",t,l(n," "),f(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>d("",e,"\n")+l([t,l(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>d("",e,"\n")+l(["input",t,l(n," "),f(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:o})=>d("",e,"\n")+"directive @"+t+(p(n)?d("(\n",h(l(n,"\n")),"\n)"):d("(",l(n,", "),")"))+(r?" repeatable":"")+" on "+l(o," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>l(["extend schema",l(e," "),f(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>l(["extend scalar",e,l(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>l(["extend type",e,d("implements ",l(t," & ")),l(n," "),f(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>l(["extend interface",e,d("implements ",l(t," & ")),l(n," "),f(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>l(["extend union",e,l(t," "),d("= ",l(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>l(["extend enum",e,l(t," "),f(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>l(["extend input",e,l(t," "),f(n)]," ")}};function l(e,t=""){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function f(e){return d("{\n",h(l(e,"\n")),"\n}")}function d(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function h(e){return d("  ",e.replace(/\n/g,"\n  "))}function p(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}},7926:function(e,t,n){"use strict";n.d(t,{H:function(){return s},T:function(){return a}});var r=n(7826),o=n(5821),i=n(8306);class s{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"===typeof e||(0,r.a)(!1,`Body must be a string. Received: ${(0,o.X)(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||(0,r.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,r.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function a(e){return(0,i.n)(e,s)}},4635:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return r}}),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(r||(r={}))},7304:function(e,t,n){"use strict";n.d(t,{$_:function(){return a},Vn:function(){return c},j1:function(){return u},Eu:function(){return l},CK:function(){return f}});var r=n(7826),o=n(5821),i=n(2380),s=n(7359);const a=Object.freeze({});function c(e,t,n=i.h8){const c=new Map;for(const r of Object.values(s.h))c.set(r,l(t,r));let u,f,d,h=Array.isArray(e),p=[e],m=-1,y=[],g=e;const v=[],b=[];do{m++;const e=m===p.length,s=e&&0!==y.length;if(e){if(f=0===b.length?void 0:v[v.length-1],g=d,d=b.pop(),s)if(h){g=g.slice();let e=0;for(const[t,n]of y){const r=t-e;null===n?(g.splice(r,1),e++):g[r]=n}}else{g=Object.defineProperties({},Object.getOwnPropertyDescriptors(g));for(const[e,t]of y)g[e]=t}m=u.index,p=u.keys,y=u.edits,h=u.inArray,u=u.prev}else if(d){if(f=h?m:p[m],g=d[f],null===g||void 0===g)continue;v.push(f)}let l;if(!Array.isArray(g)){var w,E;(0,i.UG)(g)||(0,r.a)(!1,`Invalid AST Node: ${(0,o.X)(g)}.`);const n=e?null===(w=c.get(g.kind))||void 0===w?void 0:w.leave:null===(E=c.get(g.kind))||void 0===E?void 0:E.enter;if(l=null===n||void 0===n?void 0:n.call(t,g,f,d,v,b),l===a)break;if(!1===l){if(!e){v.pop();continue}}else if(void 0!==l&&(y.push([f,l]),!e)){if(!(0,i.UG)(l)){v.pop();continue}g=l}}var _;if(void 0===l&&s&&y.push([f,g]),e)v.pop();else u={inArray:h,index:m,keys:p,edits:y,prev:u},h=Array.isArray(g),p=h?g:null!==(_=n[g.kind])&&void 0!==_?_:[],m=-1,y=[],d&&b.push(d),d=g}while(void 0!==u);return 0!==y.length?y[y.length-1][1]:e}function u(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const r of Object.values(s.h)){let o=!1;const i=new Array(e.length).fill(void 0),s=new Array(e.length).fill(void 0);for(let t=0;t<e.length;++t){const{enter:n,leave:a}=l(e[t],r);o||(o=null!=n||null!=a),i[t]=n,s[t]=a}if(!o)continue;const c={enter(...n){const r=n[0];for(let s=0;s<e.length;s++)if(null===t[s]){var o;const c=null===(o=i[s])||void 0===o?void 0:o.apply(e[s],n);if(!1===c)t[s]=r;else if(c===a)t[s]=a;else if(void 0!==c)return c}},leave(...n){const r=n[0];for(let i=0;i<e.length;i++)if(null===t[i]){var o;const r=null===(o=s[i])||void 0===o?void 0:o.apply(e[i],n);if(r===a)t[i]=a;else if(void 0!==r&&!1!==r)return r}else t[i]===r&&(t[i]=null)}};n[r]=c}return n}function l(e,t){const n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function f(e,t,n){const{enter:r,leave:o}=l(e,t);return n?o:r}},6303:function(e,t,n){"use strict";n.d(t,{i:function(){return s},g:function(){return a}});var r=n(7826),o=n(8087),i=n(8297);function s(e){if(null!=e||(0,r.a)(!1,"Must provide name."),"string"===typeof e||(0,r.a)(!1,"Expected name to be a string."),0===e.length)throw new o.__("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!(0,i.HQ)(e.charCodeAt(t)))throw new o.__(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!(0,i.LQ)(e.charCodeAt(0)))throw new o.__(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function a(e){if("true"===e||"false"===e||"null"===e)throw new o.__(`Enum values cannot be named: ${e}`);return s(e)}},4454:function(e,t,n){"use strict";n.d(t,{mR:function(){return ge},sR:function(){return be},oW:function(){return pe},p2:function(){return J},bM:function(){return H},h6:function(){return se},n2:function(){return ie},Gp:function(){return me},DM:function(){return de},fU:function(){return K},M_:function(){return z},Zu:function(){return k},U8:function(){return C},qT:function(){return L},k2:function(){return N},H5:function(){return V},kS:function(){return D},rM:function(){return te},E$:function(){return j},i_:function(){return X},Z6:function(){return S},Gt:function(){return U},Pt:function(){return _},p_:function(){return w},rc:function(){return A},vX:function(){return W},WO:function(){return ue},xC:function(){return ne},tf:function(){return Z},m0:function(){return G},Gv:function(){return q},EM:function(){return x},hL:function(){return $},j$:function(){return M},oT:function(){return I},UT:function(){return B},HG:function(){return R},Zs:function(){return ee},zM:function(){return P},zP:function(){return Y},lp:function(){return T},SZ:function(){return F},dK:function(){return he},Wd:function(){return Ee},KA:function(){return E},P9:function(){return b},EN:function(){return O},fw:function(){return Q},WB:function(){return oe},_9:function(){return re}});var r=n(7826),o=n(3177);function i(e){return e}var s=n(5821),a=n(8306),c=n(8495),u=n(3498),l=n(4950),f=n(5723),d=n(3294),h=n(8824),p=n(8087),m=n(7359),y=n(6918),g=n(2319),v=n(6303);function b(e){return E(e)||T(e)||I(e)||O(e)||x(e)||$(e)||R(e)||P(e)}function w(e){if(!b(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL type.`);return e}function E(e){return(0,a.n)(e,ie)}function _(e){if(!E(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Scalar type.`);return e}function T(e){return(0,a.n)(e,se)}function S(e){if(!T(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Object type.`);return e}function I(e){return(0,a.n)(e,pe)}function N(e){if(!I(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Interface type.`);return e}function O(e){return(0,a.n)(e,me)}function A(e){if(!O(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Union type.`);return e}function x(e){return(0,a.n)(e,ge)}function k(e){if(!x(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Enum type.`);return e}function $(e){return(0,a.n)(e,be)}function C(e){if(!$(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Input Object type.`);return e}function R(e){return(0,a.n)(e,J)}function D(e){if(!R(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL List type.`);return e}function P(e){return(0,a.n)(e,H)}function j(e){if(!P(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL Non-Null type.`);return e}function M(e){return E(e)||x(e)||$(e)||Q(e)&&M(e.ofType)}function L(e){if(!M(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL input type.`);return e}function F(e){return E(e)||T(e)||I(e)||O(e)||x(e)||Q(e)&&F(e.ofType)}function U(e){if(!F(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL output type.`);return e}function B(e){return E(e)||x(e)}function V(e){if(!B(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL leaf type.`);return e}function q(e){return T(e)||I(e)||O(e)}function z(e){if(!q(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL composite type.`);return e}function G(e){return I(e)||O(e)}function K(e){if(!G(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL abstract type.`);return e}class J{constructor(e){b(e)||(0,r.a)(!1,`Expected ${(0,s.X)(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class H{constructor(e){Y(e)||(0,r.a)(!1,`Expected ${(0,s.X)(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Q(e){return R(e)||P(e)}function W(e){if(!Q(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL wrapping type.`);return e}function Y(e){return b(e)&&!P(e)}function X(e){if(!Y(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL nullable type.`);return e}function Z(e){if(e)return P(e)?e.ofType:e}function ee(e){return E(e)||T(e)||I(e)||O(e)||x(e)||$(e)}function te(e){if(!ee(e))throw new Error(`Expected ${(0,s.X)(e)} to be a GraphQL named type.`);return e}function ne(e){if(e){let t=e;for(;Q(t);)t=t.ofType;return t}}function re(e){return"function"===typeof e?e():e}function oe(e){return"function"===typeof e?e():e}class ie{constructor(e){var t,n,o,a;const c=null!==(t=e.parseValue)&&void 0!==t?t:i;this.name=(0,v.i)(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=null!==(n=e.serialize)&&void 0!==n?n:i,this.parseValue=c,this.parseLiteral=null!==(o=e.parseLiteral)&&void 0!==o?o:(e,t)=>c((0,g.M)(e,t)),this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(a=e.extensionASTNodes)&&void 0!==a?a:[],null==e.specifiedByURL||"string"===typeof e.specifiedByURL||(0,r.a)(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${(0,s.X)(e.specifiedByURL)}.`),null==e.serialize||"function"===typeof e.serialize||(0,r.a)(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&("function"===typeof e.parseValue&&"function"===typeof e.parseLiteral||(0,r.a)(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class se{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=()=>ce(e),this._interfaces=()=>ae(e),null==e.isTypeOf||"function"===typeof e.isTypeOf||(0,r.a)(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${(0,s.X)(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:fe(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ae(e){var t;const n=re(null!==(t=e.interfaces)&&void 0!==t?t:[]);return Array.isArray(n)||(0,r.a)(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function ce(e){const t=oe(e.fields);return le(t)||(0,r.a)(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,f.j)(t,((t,n)=>{var o;le(t)||(0,r.a)(!1,`${e.name}.${n} field config must be an object.`),null==t.resolve||"function"===typeof t.resolve||(0,r.a)(!1,`${e.name}.${n} field resolver must be a function if provided, but got: ${(0,s.X)(t.resolve)}.`);const i=null!==(o=t.args)&&void 0!==o?o:{};return le(i)||(0,r.a)(!1,`${e.name}.${n} args must be an object with argument names as keys.`),{name:(0,v.i)(n),description:t.description,type:t.type,args:ue(i),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode}}))}function ue(e){return Object.entries(e).map((([e,t])=>({name:(0,v.i)(e),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))}function le(e){return(0,c.y)(e)&&!Array.isArray(e)}function fe(e){return(0,f.j)(e,(e=>({description:e.description,type:e.type,args:de(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function de(e){return(0,l.w)(e,(e=>e.name),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function he(e){return P(e.type)&&void 0===e.defaultValue}class pe{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=ce.bind(void 0,e),this._interfaces=ae.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||(0,r.a)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,s.X)(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"===typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:fe(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class me{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._types=ye.bind(void 0,e),null==e.resolveType||"function"===typeof e.resolveType||(0,r.a)(!1,`${this.name} must provide "resolveType" as a function, but got: ${(0,s.X)(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return"function"===typeof this._types&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ye(e){const t=re(e.types);return Array.isArray(t)||(0,r.a)(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class ge{constructor(e){var t,n,o;this.name=(0,v.i)(e.name),this.description=e.description,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._values=(n=this.name,le(o=e.values)||(0,r.a)(!1,`${n} values must be an object with value names as keys.`),Object.entries(o).map((([e,t])=>(le(t)||(0,r.a)(!1,`${n}.${e} must refer to an object with a "value" key representing an internal value but got: ${(0,s.X)(t)}.`),{name:(0,v.g)(e),description:t.description,value:void 0!==t.value?t.value:e,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))),this._valueLookup=new Map(this._values.map((e=>[e.value,e]))),this._nameLookup=(0,u.P)(this._values,(e=>e.name))}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const t=this._valueLookup.get(e);if(void 0===t)throw new p.__(`Enum "${this.name}" cannot represent value: ${(0,s.X)(e)}`);return t.name}parseValue(e){if("string"!==typeof e){const t=(0,s.X)(e);throw new p.__(`Enum "${this.name}" cannot represent non-string value: ${t}.`+ve(this,t))}const t=this.getValue(e);if(null==t)throw new p.__(`Value "${e}" does not exist in "${this.name}" enum.`+ve(this,e));return t.value}parseLiteral(e,t){if(e.kind!==m.h.ENUM){const t=(0,y.S)(e);throw new p.__(`Enum "${this.name}" cannot represent non-enum value: ${t}.`+ve(this,t),{nodes:e})}const n=this.getValue(e.value);if(null==n){const t=(0,y.S)(e);throw new p.__(`Value "${t}" does not exist in "${this.name}" enum.`+ve(this,t),{nodes:e})}return n.value}toConfig(){const e=(0,l.w)(this.getValues(),(e=>e.name),(e=>({description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function ve(e,t){const n=e.getValues().map((e=>e.name)),r=(0,d.D)(t,n);return(0,o.l)("the enum value",r)}class be{constructor(e){var t;this.name=(0,v.i)(e.name),this.description=e.description,this.extensions=(0,h.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=we.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return"function"===typeof this._fields&&(this._fields=this._fields()),this._fields}toConfig(){const e=(0,f.j)(this.getFields(),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function we(e){const t=oe(e.fields);return le(t)||(0,r.a)(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),(0,f.j)(t,((t,n)=>(!("resolve"in t)||(0,r.a)(!1,`${e.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:(0,v.i)(n),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:(0,h.u)(t.extensions),astNode:t.astNode})))}function Ee(e){return P(e.type)&&void 0===e.defaultValue}},8238:function(e,t,n){"use strict";n.d(t,{wX:function(){return d},CO:function(){return h},NZ:function(){return p},Yf:function(){return m},QE:function(){return y},SY:function(){return g},fg:function(){return v},df:function(){return b},V4:function(){return w},xg:function(){return E}});var r=n(7826),o=n(5821),i=n(8306),s=n(8495),a=n(8824),c=n(9878),u=n(6303),l=n(4454),f=n(3801);function d(e){return(0,i.n)(e,p)}function h(e){if(!d(e))throw new Error(`Expected ${(0,o.X)(e)} to be a GraphQL directive.`);return e}class p{constructor(e){var t,n;this.name=(0,u.i)(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=null!==(t=e.isRepeatable)&&void 0!==t&&t,this.extensions=(0,a.u)(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||(0,r.a)(!1,`@${e.name} locations must be an Array.`);const o=null!==(n=e.args)&&void 0!==n?n:{};(0,s.y)(o)&&!Array.isArray(o)||(0,r.a)(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=(0,l.WO)(o)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:(0,l.DM)(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const m=new p({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[c.B.FIELD,c.B.FRAGMENT_SPREAD,c.B.INLINE_FRAGMENT],args:{if:{type:new l.bM(f.EZ),description:"Included when true."}}}),y=new p({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[c.B.FIELD,c.B.FRAGMENT_SPREAD,c.B.INLINE_FRAGMENT],args:{if:{type:new l.bM(f.EZ),description:"Skipped when true."}}}),g="No longer supported",v=new p({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[c.B.FIELD_DEFINITION,c.B.ARGUMENT_DEFINITION,c.B.INPUT_FIELD_DEFINITION,c.B.ENUM_VALUE],args:{reason:{type:f.kH,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:g}}}),b=new p({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[c.B.SCALAR],args:{url:{type:new l.bM(f.kH),description:"The URL that specifies the behavior of this scalar."}}}),w=Object.freeze([m,y,v,b]);function E(e){return w.some((({name:t})=>t===e.name))}},2433:function(e,t,n){"use strict";n.d(t,{TK:function(){return l},l3:function(){return f},x2:function(){return d},qz:function(){return h},e_:function(){return p},XQ:function(){return m},jT:function(){return y},zU:function(){return g},PX:function(){return v},Az:function(){return b},tF:function(){return w},hU:function(){return E},nL:function(){return _},s9:function(){return T}});var r=n(5821),o=n(9551),i=n(9878),s=n(6918),a=n(8631),c=n(4454),u=n(3801);const l=new c.h6({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:u.kH,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new c.bM(new c.p2(new c.bM(h))),resolve:e=>Object.values(e.getTypeMap())},queryType:{description:"The type that query operations will be rooted at.",type:new c.bM(h),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:h,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:h,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new c.bM(new c.p2(new c.bM(f))),resolve:e=>e.getDirectives()}})}),f=new c.h6({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},isRepeatable:{type:new c.bM(u.EZ),resolve:e=>e.isRepeatable},locations:{type:new c.bM(new c.p2(new c.bM(d))),resolve:e=>e.locations},args:{type:new c.bM(new c.p2(new c.bM(m))),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))}})}),d=new c.mR({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:i.B.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:i.B.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:i.B.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:i.B.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:i.B.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:i.B.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:i.B.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:i.B.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:i.B.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:i.B.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:i.B.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:i.B.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:i.B.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:i.B.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:i.B.UNION,description:"Location adjacent to a union definition."},ENUM:{value:i.B.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:i.B.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:i.B.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:i.B.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),h=new c.h6({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new c.bM(v),resolve:e=>(0,c.KA)(e)?g.SCALAR:(0,c.lp)(e)?g.OBJECT:(0,c.oT)(e)?g.INTERFACE:(0,c.EN)(e)?g.UNION:(0,c.EM)(e)?g.ENUM:(0,c.hL)(e)?g.INPUT_OBJECT:(0,c.HG)(e)?g.LIST:(0,c.zM)(e)?g.NON_NULL:void(0,o.k)(!1,`Unexpected type: "${(0,r.X)(e)}".`)},name:{type:u.kH,resolve:e=>"name"in e?e.name:void 0},description:{type:u.kH,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:u.kH,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new c.p2(new c.bM(p)),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,c.lp)(e)||(0,c.oT)(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},interfaces:{type:new c.p2(new c.bM(h)),resolve(e){if((0,c.lp)(e)||(0,c.oT)(e))return e.getInterfaces()}},possibleTypes:{type:new c.p2(new c.bM(h)),resolve(e,t,n,{schema:r}){if((0,c.m0)(e))return r.getPossibleTypes(e)}},enumValues:{type:new c.p2(new c.bM(y)),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,c.EM)(e)){const n=e.getValues();return t?n:n.filter((e=>null==e.deprecationReason))}}},inputFields:{type:new c.p2(new c.bM(m)),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if((0,c.hL)(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},ofType:{type:h,resolve:e=>"ofType"in e?e.ofType:void 0}})}),p=new c.h6({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},args:{type:new c.bM(new c.p2(new c.bM(m))),args:{includeDeprecated:{type:u.EZ,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))},type:{type:new c.bM(h),resolve:e=>e.type},isDeprecated:{type:new c.bM(u.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:u.kH,resolve:e=>e.deprecationReason}})}),m=new c.h6({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},type:{type:new c.bM(h),resolve:e=>e.type},defaultValue:{type:u.kH,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:n}=e,r=(0,a.J)(n,t);return r?(0,s.S)(r):null}},isDeprecated:{type:new c.bM(u.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:u.kH,resolve:e=>e.deprecationReason}})}),y=new c.h6({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new c.bM(u.kH),resolve:e=>e.name},description:{type:u.kH,resolve:e=>e.description},isDeprecated:{type:new c.bM(u.EZ),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:u.kH,resolve:e=>e.deprecationReason}})});var g;!function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"}(g||(g={}));const v=new c.mR({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:g.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:g.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:g.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:g.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:g.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:g.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:g.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:g.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),b={name:"__schema",type:new c.bM(l),description:"Access the current type schema of this server.",args:[],resolve:(e,t,n,{schema:r})=>r,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},w={name:"__type",type:h,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new c.bM(u.kH),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,{name:t},n,{schema:r})=>r.getType(t),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},E={name:"__typename",type:new c.bM(u.kH),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,n,{parentType:r})=>r.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},_=Object.freeze([l,f,d,h,p,m,y,v]);function T(e){return _.some((({name:t})=>e.name===t))}},3801:function(e,t,n){"use strict";n.d(t,{HI:function(){return u},st:function(){return l},_o:function(){return f},av:function(){return d},kH:function(){return h},EZ:function(){return p},km:function(){return m},HS:function(){return y},u1:function(){return g}});var r=n(5821),o=n(8495),i=n(8087),s=n(7359),a=n(6918),c=n(4454);const u=2147483647,l=-2147483648,f=new c.n2({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=v(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isInteger(n))throw new i.__(`Int cannot represent non-integer value: ${(0,r.X)(t)}`);if(n>u||n<l)throw new i.__("Int cannot represent non 32-bit signed integer value: "+(0,r.X)(t));return n},parseValue(e){if("number"!==typeof e||!Number.isInteger(e))throw new i.__(`Int cannot represent non-integer value: ${(0,r.X)(e)}`);if(e>u||e<l)throw new i.__(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==s.h.INT)throw new i.__(`Int cannot represent non-integer value: ${(0,a.S)(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>u||t<l)throw new i.__(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),d=new c.n2({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=v(e);if("boolean"===typeof t)return t?1:0;let n=t;if("string"===typeof t&&""!==t&&(n=Number(t)),"number"!==typeof n||!Number.isFinite(n))throw new i.__(`Float cannot represent non numeric value: ${(0,r.X)(t)}`);return n},parseValue(e){if("number"!==typeof e||!Number.isFinite(e))throw new i.__(`Float cannot represent non numeric value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.FLOAT&&e.kind!==s.h.INT)throw new i.__(`Float cannot represent non numeric value: ${(0,a.S)(e)}`,e);return parseFloat(e.value)}}),h=new c.n2({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=v(e);if("string"===typeof t)return t;if("boolean"===typeof t)return t?"true":"false";if("number"===typeof t&&Number.isFinite(t))return t.toString();throw new i.__(`String cannot represent value: ${(0,r.X)(e)}`)},parseValue(e){if("string"!==typeof e)throw new i.__(`String cannot represent a non string value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.STRING)throw new i.__(`String cannot represent a non string value: ${(0,a.S)(e)}`,{nodes:e});return e.value}}),p=new c.n2({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=v(e);if("boolean"===typeof t)return t;if(Number.isFinite(t))return 0!==t;throw new i.__(`Boolean cannot represent a non boolean value: ${(0,r.X)(t)}`)},parseValue(e){if("boolean"!==typeof e)throw new i.__(`Boolean cannot represent a non boolean value: ${(0,r.X)(e)}`);return e},parseLiteral(e){if(e.kind!==s.h.BOOLEAN)throw new i.__(`Boolean cannot represent a non boolean value: ${(0,a.S)(e)}`,{nodes:e});return e.value}}),m=new c.n2({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=v(e);if("string"===typeof t)return t;if(Number.isInteger(t))return String(t);throw new i.__(`ID cannot represent value: ${(0,r.X)(e)}`)},parseValue(e){if("string"===typeof e)return e;if("number"===typeof e&&Number.isInteger(e))return e.toString();throw new i.__(`ID cannot represent value: ${(0,r.X)(e)}`)},parseLiteral(e){if(e.kind!==s.h.STRING&&e.kind!==s.h.INT)throw new i.__("ID cannot represent a non-string and non-integer value: "+(0,a.S)(e),{nodes:e});return e.value}}),y=Object.freeze([h,f,d,p,m]);function g(e){return y.some((({name:t})=>e.name===t))}function v(e){if((0,o.y)(e)){if("function"===typeof e.valueOf){const t=e.valueOf();if(!(0,o.y)(t))return t}if("function"===typeof e.toJSON)return e.toJSON()}return e}},9678:function(e,t,n){"use strict";n.d(t,{nN:function(){return d},EO:function(){return h},XO:function(){return p}});var r=n(7826),o=n(5821),i=n(8306),s=n(8495),a=n(8824),c=n(2380),u=n(4454),l=n(8238),f=n(2433);function d(e){return(0,i.n)(e,p)}function h(e){if(!d(e))throw new Error(`Expected ${(0,o.X)(e)} to be a GraphQL schema.`);return e}class p{constructor(e){var t,n;this.__validationErrors=!0===e.assumeValid?[]:void 0,(0,s.y)(e)||(0,r.a)(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||(0,r.a)(!1,`"types" must be Array if provided but got: ${(0,o.X)(e.types)}.`),!e.directives||Array.isArray(e.directives)||(0,r.a)(!1,`"directives" must be Array if provided but got: ${(0,o.X)(e.directives)}.`),this.description=e.description,this.extensions=(0,a.u)(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=null!==(n=e.directives)&&void 0!==n?n:l.V4;const i=new Set(e.types);if(null!=e.types)for(const r of e.types)i.delete(r),m(r,i);null!=this._queryType&&m(this._queryType,i),null!=this._mutationType&&m(this._mutationType,i),null!=this._subscriptionType&&m(this._subscriptionType,i);for(const r of this._directives)if((0,l.wX)(r))for(const e of r.args)m(e.type,i);m(f.TK,i),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const o of i){if(null==o)continue;const e=o.name;if(e||(0,r.a)(!1,"One of the provided types for building the Schema is missing a name."),void 0!==this._typeMap[e])throw new Error(`Schema must contain uniquely named types but contains multiple types named "${e}".`);if(this._typeMap[e]=o,(0,u.oT)(o)){for(const t of o.getInterfaces())if((0,u.oT)(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.interfaces.push(o)}}else if((0,u.lp)(o))for(const t of o.getInterfaces())if((0,u.oT)(t)){let e=this._implementationsMap[t.name];void 0===e&&(e=this._implementationsMap[t.name]={objects:[],interfaces:[]}),e.objects.push(o)}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case c.ku.QUERY:return this.getQueryType();case c.ku.MUTATION:return this.getMutationType();case c.ku.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return(0,u.EN)(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const t=this._implementationsMap[e.name];return null!==t&&void 0!==t?t:{objects:[],interfaces:[]}}isSubType(e,t){let n=this._subTypeMap[e.name];if(void 0===n){if(n=Object.create(null),(0,u.EN)(e))for(const t of e.getTypes())n[t.name]=!0;else{const t=this.getImplementations(e);for(const e of t.objects)n[e.name]=!0;for(const e of t.interfaces)n[e.name]=!0}this._subTypeMap[e.name]=n}return void 0!==n[t.name]}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find((t=>t.name===e))}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:void 0!==this.__validationErrors}}}function m(e,t){const n=(0,u.xC)(e);if(!t.has(n))if(t.add(n),(0,u.EN)(n))for(const r of n.getTypes())m(r,t);else if((0,u.lp)(n)||(0,u.oT)(n)){for(const e of n.getInterfaces())m(e,t);for(const e of Object.values(n.getFields())){m(e.type,t);for(const n of e.args)m(n.type,t)}}else if((0,u.hL)(n))for(const r of Object.values(n.getFields()))m(r.type,t);return t}},9655:function(e,t,n){"use strict";n.d(t,{F:function(){return f},J:function(){return d}});var r=n(5821),o=n(8087),i=n(2380),s=n(316),a=n(4454),c=n(8238),u=n(2433),l=n(9678);function f(e){if((0,l.EO)(e),e.__validationErrors)return e.__validationErrors;const t=new h(e);!function(e){const t=e.schema,n=t.getQueryType();if(n){if(!(0,a.lp)(n)){var o;e.reportError(`Query root type must be Object type, it cannot be ${(0,r.X)(n)}.`,null!==(o=p(t,i.ku.QUERY))&&void 0!==o?o:n.astNode)}}else e.reportError("Query root type must be provided.",t.astNode);const s=t.getMutationType();var c;s&&!(0,a.lp)(s)&&e.reportError(`Mutation root type must be Object type if provided, it cannot be ${(0,r.X)(s)}.`,null!==(c=p(t,i.ku.MUTATION))&&void 0!==c?c:s.astNode);const u=t.getSubscriptionType();var l;u&&!(0,a.lp)(u)&&e.reportError(`Subscription root type must be Object type if provided, it cannot be ${(0,r.X)(u)}.`,null!==(l=p(t,i.ku.SUBSCRIPTION))&&void 0!==l?l:u.astNode)}(t),function(e){for(const n of e.schema.getDirectives())if((0,c.wX)(n)){m(e,n);for(const o of n.args){var t;if(m(e,o),(0,a.j$)(o.type)||e.reportError(`The type of @${n.name}(${o.name}:) must be Input Type but got: ${(0,r.X)(o.type)}.`,o.astNode),(0,a.dK)(o)&&null!=o.deprecationReason)e.reportError(`Required argument @${n.name}(${o.name}:) cannot be deprecated.`,[I(o.astNode),null===(t=o.astNode)||void 0===t?void 0:t.type])}}else e.reportError(`Expected directive but got: ${(0,r.X)(n)}.`,null===n||void 0===n?void 0:n.astNode)}(t),function(e){const t=function(e){const t=Object.create(null),n=[],r=Object.create(null);return o;function o(i){if(t[i.name])return;t[i.name]=!0,r[i.name]=n.length;const s=Object.values(i.getFields());for(const t of s)if((0,a.zM)(t.type)&&(0,a.hL)(t.type.ofType)){const i=t.type.ofType,s=r[i.name];if(n.push(t),void 0===s)o(i);else{const t=n.slice(s),r=t.map((e=>e.name)).join(".");e.reportError(`Cannot reference Input Object "${i.name}" within itself through a series of non-null fields: "${r}".`,t.map((e=>e.astNode)))}n.pop()}r[i.name]=void 0}}(e),n=e.schema.getTypeMap();for(const o of Object.values(n))(0,a.Zs)(o)?((0,u.s9)(o)||m(e,o),(0,a.lp)(o)||(0,a.oT)(o)?(y(e,o),g(e,o)):(0,a.EN)(o)?w(e,o):(0,a.EM)(o)?E(e,o):(0,a.hL)(o)&&(_(e,o),t(o))):e.reportError(`Expected GraphQL named type but got: ${(0,r.X)(o)}.`,o.astNode)}(t);const n=t.getErrors();return e.__validationErrors=n,n}function d(e){const t=f(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}class h{constructor(e){this._errors=[],this.schema=e}reportError(e,t){const n=Array.isArray(t)?t.filter(Boolean):t;this._errors.push(new o.__(e,{nodes:n}))}getErrors(){return this._errors}}function p(e,t){var n;return null===(n=[e.astNode,...e.extensionASTNodes].flatMap((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.operationTypes)&&void 0!==t?t:[]})).find((e=>e.operation===t)))||void 0===n?void 0:n.type}function m(e,t){t.name.startsWith("__")&&e.reportError(`Name "${t.name}" must not begin with "__", which is reserved by GraphQL introspection.`,t.astNode)}function y(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const c of n){var o;if(m(e,c),!(0,a.SZ)(c.type))e.reportError(`The type of ${t.name}.${c.name} must be Output Type but got: ${(0,r.X)(c.type)}.`,null===(o=c.astNode)||void 0===o?void 0:o.type);for(const n of c.args){const o=n.name;var i,s;if(m(e,n),!(0,a.j$)(n.type))e.reportError(`The type of ${t.name}.${c.name}(${o}:) must be Input Type but got: ${(0,r.X)(n.type)}.`,null===(i=n.astNode)||void 0===i?void 0:i.type);if((0,a.dK)(n)&&null!=n.deprecationReason)e.reportError(`Required argument ${t.name}.${c.name}(${o}:) cannot be deprecated.`,[I(n.astNode),null===(s=n.astNode)||void 0===s?void 0:s.type])}}}function g(e,t){const n=Object.create(null);for(const o of t.getInterfaces())(0,a.oT)(o)?t!==o?n[o.name]?e.reportError(`Type ${t.name} can only implement ${o.name} once.`,T(t,o)):(n[o.name]=!0,b(e,t,o),v(e,t,o)):e.reportError(`Type ${t.name} cannot implement itself because it would create a circular reference.`,T(t,o)):e.reportError(`Type ${(0,r.X)(t)} must only implement Interface types, it cannot implement ${(0,r.X)(o)}.`,T(t,o))}function v(e,t,n){const o=t.getFields();for(const f of Object.values(n.getFields())){const d=f.name,h=o[d];if(h){var i,c;if(!(0,s.uJ)(e.schema,h.type,f.type))e.reportError(`Interface field ${n.name}.${d} expects type ${(0,r.X)(f.type)} but ${t.name}.${d} is type ${(0,r.X)(h.type)}.`,[null===(i=f.astNode)||void 0===i?void 0:i.type,null===(c=h.astNode)||void 0===c?void 0:c.type]);for(const o of f.args){const i=o.name,a=h.args.find((e=>e.name===i));var u,l;if(a){if(!(0,s._7)(o.type,a.type))e.reportError(`Interface field argument ${n.name}.${d}(${i}:) expects type ${(0,r.X)(o.type)} but ${t.name}.${d}(${i}:) is type ${(0,r.X)(a.type)}.`,[null===(u=o.astNode)||void 0===u?void 0:u.type,null===(l=a.astNode)||void 0===l?void 0:l.type])}else e.reportError(`Interface field argument ${n.name}.${d}(${i}:) expected but ${t.name}.${d} does not provide it.`,[o.astNode,h.astNode])}for(const r of h.args){const o=r.name;!f.args.find((e=>e.name===o))&&(0,a.dK)(r)&&e.reportError(`Object field ${t.name}.${d} includes required argument ${o} that is missing from the Interface field ${n.name}.${d}.`,[r.astNode,f.astNode])}}else e.reportError(`Interface field ${n.name}.${d} expected but ${t.name} does not provide it.`,[f.astNode,t.astNode,...t.extensionASTNodes])}}function b(e,t,n){const r=t.getInterfaces();for(const o of n.getInterfaces())r.includes(o)||e.reportError(o===t?`Type ${t.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${t.name} must implement ${o.name} because it is implemented by ${n.name}.`,[...T(n,o),...T(t,n)])}function w(e,t){const n=t.getTypes();0===n.length&&e.reportError(`Union type ${t.name} must define one or more member types.`,[t.astNode,...t.extensionASTNodes]);const o=Object.create(null);for(const i of n)o[i.name]?e.reportError(`Union type ${t.name} can only include type ${i.name} once.`,S(t,i.name)):(o[i.name]=!0,(0,a.lp)(i)||e.reportError(`Union type ${t.name} can only include Object types, it cannot include ${(0,r.X)(i)}.`,S(t,String(i))))}function E(e,t){const n=t.getValues();0===n.length&&e.reportError(`Enum type ${t.name} must define one or more values.`,[t.astNode,...t.extensionASTNodes]);for(const r of n)m(e,r)}function _(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Input Object type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const s of n){var o,i;if(m(e,s),!(0,a.j$)(s.type))e.reportError(`The type of ${t.name}.${s.name} must be Input Type but got: ${(0,r.X)(s.type)}.`,null===(o=s.astNode)||void 0===o?void 0:o.type);if((0,a.Wd)(s)&&null!=s.deprecationReason)e.reportError(`Required input field ${t.name}.${s.name} cannot be deprecated.`,[I(s.astNode),null===(i=s.astNode)||void 0===i?void 0:i.type])}}function T(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.interfaces)&&void 0!==t?t:[]})).filter((e=>e.name.value===t.name))}function S(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.types)&&void 0!==t?t:[]})).filter((e=>e.name.value===t))}function I(e){var t;return null===e||void 0===e||null===(t=e.directives)||void 0===t?void 0:t.find((e=>e.name.value===c.fg.name))}},2676:function(e,t,n){"use strict";n.d(t,{a:function(){return u},y:function(){return f}});var r=n(2380),o=n(7359),i=n(7304),s=n(4454),a=n(2433),c=n(77);class u{constructor(e,t,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=null!==n&&void 0!==n?n:l,t&&((0,s.j$)(t)&&this._inputTypeStack.push(t),(0,s.Gv)(t)&&this._parentTypeStack.push(t),(0,s.SZ)(t)&&this._typeStack.push(t))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const t=this._schema;switch(e.kind){case o.h.SELECTION_SET:{const e=(0,s.xC)(this.getType());this._parentTypeStack.push((0,s.Gv)(e)?e:void 0);break}case o.h.FIELD:{const n=this.getParentType();let r,o;n&&(r=this._getFieldDef(t,n,e),r&&(o=r.type)),this._fieldDefStack.push(r),this._typeStack.push((0,s.SZ)(o)?o:void 0);break}case o.h.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case o.h.OPERATION_DEFINITION:{const n=t.getRootType(e.operation);this._typeStack.push((0,s.lp)(n)?n:void 0);break}case o.h.INLINE_FRAGMENT:case o.h.FRAGMENT_DEFINITION:{const n=e.typeCondition,r=n?(0,c._)(t,n):(0,s.xC)(this.getType());this._typeStack.push((0,s.SZ)(r)?r:void 0);break}case o.h.VARIABLE_DEFINITION:{const n=(0,c._)(t,e.type);this._inputTypeStack.push((0,s.j$)(n)?n:void 0);break}case o.h.ARGUMENT:{var n;let t,r;const o=null!==(n=this.getDirective())&&void 0!==n?n:this.getFieldDef();o&&(t=o.args.find((t=>t.name===e.name.value)),t&&(r=t.type)),this._argument=t,this._defaultValueStack.push(t?t.defaultValue:void 0),this._inputTypeStack.push((0,s.j$)(r)?r:void 0);break}case o.h.LIST:{const e=(0,s.tf)(this.getInputType()),t=(0,s.HG)(e)?e.ofType:e;this._defaultValueStack.push(void 0),this._inputTypeStack.push((0,s.j$)(t)?t:void 0);break}case o.h.OBJECT_FIELD:{const t=(0,s.xC)(this.getInputType());let n,r;(0,s.hL)(t)&&(r=t.getFields()[e.name.value],r&&(n=r.type)),this._defaultValueStack.push(r?r.defaultValue:void 0),this._inputTypeStack.push((0,s.j$)(n)?n:void 0);break}case o.h.ENUM:{const t=(0,s.xC)(this.getInputType());let n;(0,s.EM)(t)&&(n=t.getValue(e.value)),this._enumValue=n;break}}}leave(e){switch(e.kind){case o.h.SELECTION_SET:this._parentTypeStack.pop();break;case o.h.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case o.h.DIRECTIVE:this._directive=null;break;case o.h.OPERATION_DEFINITION:case o.h.INLINE_FRAGMENT:case o.h.FRAGMENT_DEFINITION:this._typeStack.pop();break;case o.h.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case o.h.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case o.h.LIST:case o.h.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case o.h.ENUM:this._enumValue=null}}}function l(e,t,n){const r=n.name.value;return r===a.Az.name&&e.getQueryType()===t?a.Az:r===a.tF.name&&e.getQueryType()===t?a.tF:r===a.hU.name&&(0,s.Gv)(t)?a.hU:(0,s.lp)(t)||(0,s.oT)(t)?t.getFields()[r]:void 0}function f(e,t){return{enter(...n){const o=n[0];e.enter(o);const s=(0,i.Eu)(t,o.kind).enter;if(s){const i=s.apply(t,n);return void 0!==i&&(e.leave(o),(0,r.UG)(i)&&e.enter(i)),i}},leave(...n){const r=n[0],o=(0,i.Eu)(t,r.kind).leave;let s;return o&&(s=o.apply(t,n)),e.leave(r),s}}}},8631:function(e,t,n){"use strict";n.d(t,{J:function(){return l}});var r=n(5821),o=n(9551),i=n(3831),s=n(8495),a=n(7359),c=n(4454),u=n(3801);function l(e,t){if((0,c.zM)(t)){const n=l(e,t.ofType);return(null===n||void 0===n?void 0:n.kind)===a.h.NULL?null:n}if(null===e)return{kind:a.h.NULL};if(void 0===e)return null;if((0,c.HG)(t)){const n=t.ofType;if((0,i.i)(e)){const t=[];for(const r of e){const e=l(r,n);null!=e&&t.push(e)}return{kind:a.h.LIST,values:t}}return l(e,n)}if((0,c.hL)(t)){if(!(0,s.y)(e))return null;const n=[];for(const r of Object.values(t.getFields())){const t=l(e[r.name],r.type);t&&n.push({kind:a.h.OBJECT_FIELD,name:{kind:a.h.NAME,value:r.name},value:t})}return{kind:a.h.OBJECT,fields:n}}if((0,c.UT)(t)){const n=t.serialize(e);if(null==n)return null;if("boolean"===typeof n)return{kind:a.h.BOOLEAN,value:n};if("number"===typeof n&&Number.isFinite(n)){const e=String(n);return f.test(e)?{kind:a.h.INT,value:e}:{kind:a.h.FLOAT,value:e}}if("string"===typeof n)return(0,c.EM)(t)?{kind:a.h.ENUM,value:n}:t===u.km&&f.test(n)?{kind:a.h.INT,value:n}:{kind:a.h.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${(0,r.X)(n)}.`)}(0,o.k)(!1,"Unexpected input type: "+(0,r.X)(t))}const f=/^-?(?:0|[1-9][0-9]*)$/},7816:function(e,t,n){"use strict";n.d(t,{K:function(){return h}});var r=n(3177),o=n(5821),i=n(9551),s=n(3831),a=n(8495),c=n(9380),u=n(4244),l=n(3294),f=n(8087),d=n(4454);function h(e,t,n=p){return m(e,t,n,void 0)}function p(e,t,n){let r="Invalid value "+(0,o.X)(t);throw e.length>0&&(r+=` at "value${(0,u.F)(e)}"`),n.message=r+": "+n.message,n}function m(e,t,n,u){if((0,d.zM)(t))return null!=e?m(e,t.ofType,n,u):void n((0,c.N)(u),e,new f.__(`Expected non-nullable type "${(0,o.X)(t)}" not to be null.`));if(null==e)return null;if((0,d.HG)(t)){const r=t.ofType;return(0,s.i)(e)?Array.from(e,((e,t)=>{const o=(0,c.Q)(u,t,void 0);return m(e,r,n,o)})):[m(e,r,n,u)]}if((0,d.hL)(t)){if(!(0,a.y)(e))return void n((0,c.N)(u),e,new f.__(`Expected type "${t.name}" to be an object.`));const i={},s=t.getFields();for(const r of Object.values(s)){const s=e[r.name];if(void 0!==s)i[r.name]=m(s,r.type,n,(0,c.Q)(u,r.name,t.name));else if(void 0!==r.defaultValue)i[r.name]=r.defaultValue;else if((0,d.zM)(r.type)){const t=(0,o.X)(r.type);n((0,c.N)(u),e,new f.__(`Field "${r.name}" of required type "${t}" was not provided.`))}}for(const o of Object.keys(e))if(!s[o]){const i=(0,l.D)(o,Object.keys(t.getFields()));n((0,c.N)(u),e,new f.__(`Field "${o}" is not defined by type "${t.name}".`+(0,r.l)(i)))}return i}if((0,d.UT)(t)){let r;try{r=t.parseValue(e)}catch(h){return void(h instanceof f.__?n((0,c.N)(u),e,h):n((0,c.N)(u),e,new f.__(`Expected type "${t.name}". `+h.message,{originalError:h})))}return void 0===r&&n((0,c.N)(u),e,new f.__(`Expected type "${t.name}".`)),r}(0,i.k)(!1,"Unexpected input type: "+(0,o.X)(t))}},9557:function(e,t,n){"use strict";n.d(t,{a:function(){return v},w:function(){return b}});var r=n(7826),o=n(5821),i=n(9551),s=n(3498),a=n(5723),c=n(7359),u=n(5844),l=n(4454),f=n(8238),d=n(2433),h=n(3801),p=n(9678),m=n(6584),y=n(6422),g=n(2221);function v(e,t,n){(0,p.EO)(e),null!=t&&t.kind===c.h.DOCUMENT||(0,r.a)(!1,"Must provide valid Document AST."),!0!==(null===n||void 0===n?void 0:n.assumeValid)&&!0!==(null===n||void 0===n?void 0:n.assumeValidSDL)&&(0,m.ED)(t,e);const o=e.toConfig(),i=b(o,t,n);return o===i?e:new p.XO(i)}function b(e,t,n){var r,s,p,m;const y=[],v=Object.create(null),b=[];let T;const S=[];for(const o of t.definitions)if(o.kind===c.h.SCHEMA_DEFINITION)T=o;else if(o.kind===c.h.SCHEMA_EXTENSION)S.push(o);else if((0,u.zT)(o))y.push(o);else if((0,u.D$)(o)){const e=o.name.value,t=v[e];v[e]=t?t.concat([o]):[o]}else o.kind===c.h.DIRECTIVE_DEFINITION&&b.push(o);if(0===Object.keys(v).length&&0===y.length&&0===b.length&&0===S.length&&null==T)return e;const I=Object.create(null);for(const o of e.types)I[o.name]=k(o);for(const o of y){var N;const e=o.name.value;I[e]=null!==(N=w[e])&&void 0!==N?N:V(o)}const O={query:e.query&&x(e.query),mutation:e.mutation&&x(e.mutation),subscription:e.subscription&&x(e.subscription),...T&&R([T]),...R(S)};return{description:null===(r=T)||void 0===r||null===(s=r.description)||void 0===s?void 0:s.value,...O,types:Object.values(I),directives:[...e.directives.map((function(e){const t=e.toConfig();return new f.NZ({...t,args:(0,a.j)(t.args,C)})})),...b.map((function(e){var t;return new f.NZ({name:e.name.value,description:null===(t=e.description)||void 0===t?void 0:t.value,locations:e.locations.map((({value:e})=>e)),isRepeatable:e.repeatable,args:M(e.arguments),astNode:e})}))],extensions:Object.create(null),astNode:null!==(p=T)&&void 0!==p?p:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(S),assumeValid:null!==(m=null===n||void 0===n?void 0:n.assumeValid)&&void 0!==m&&m};function A(e){return(0,l.HG)(e)?new l.p2(A(e.ofType)):(0,l.zM)(e)?new l.bM(A(e.ofType)):x(e)}function x(e){return I[e.name]}function k(e){return(0,d.s9)(e)||(0,h.u1)(e)?e:(0,l.KA)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];let o=n.specifiedByURL;for(const s of r){var i;o=null!==(i=_(s))&&void 0!==i?i:o}return new l.n2({...n,specifiedByURL:o,extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.lp)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.h6({...n,interfaces:()=>[...e.getInterfaces().map(x),...U(r)],fields:()=>({...(0,a.j)(n.fields,$),...j(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.oT)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.oW({...n,interfaces:()=>[...e.getInterfaces().map(x),...U(r)],fields:()=>({...(0,a.j)(n.fields,$),...j(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.EN)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.Gp({...n,types:()=>[...e.getTypes().map(x),...B(r)],extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.EM)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[e.name])&&void 0!==t?t:[];return new l.mR({...n,values:{...n.values,...F(r)},extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):(0,l.hL)(e)?function(e){var t;const n=e.toConfig(),r=null!==(t=v[n.name])&&void 0!==t?t:[];return new l.sR({...n,fields:()=>({...(0,a.j)(n.fields,(e=>({...e,type:A(e.type)}))),...L(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(e):void(0,i.k)(!1,"Unexpected type: "+(0,o.X)(e))}function $(e){return{...e,type:A(e.type),args:e.args&&(0,a.j)(e.args,C)}}function C(e){return{...e,type:A(e.type)}}function R(e){const t={};for(const r of e){var n;const e=null!==(n=r.operationTypes)&&void 0!==n?n:[];for(const n of e)t[n.operation]=D(n.type)}return t}function D(e){var t;const n=e.name.value,r=null!==(t=w[n])&&void 0!==t?t:I[n];if(void 0===r)throw new Error(`Unknown type: "${n}".`);return r}function P(e){return e.kind===c.h.LIST_TYPE?new l.p2(P(e.type)):e.kind===c.h.NON_NULL_TYPE?new l.bM(P(e.type)):D(e)}function j(e){const t=Object.create(null);for(const o of e){var n;const e=null!==(n=o.fields)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={type:P(n.type),description:null===(r=n.description)||void 0===r?void 0:r.value,args:M(n.arguments),deprecationReason:E(n),astNode:n}}}return t}function M(e){const t=null!==e&&void 0!==e?e:[],n=Object.create(null);for(const o of t){var r;const e=P(o.type);n[o.name.value]={type:e,description:null===(r=o.description)||void 0===r?void 0:r.value,defaultValue:(0,g.u)(o.defaultValue,e),deprecationReason:E(o),astNode:o}}return n}function L(e){const t=Object.create(null);for(const o of e){var n;const e=null!==(n=o.fields)&&void 0!==n?n:[];for(const n of e){var r;const e=P(n.type);t[n.name.value]={type:e,description:null===(r=n.description)||void 0===r?void 0:r.value,defaultValue:(0,g.u)(n.defaultValue,e),deprecationReason:E(n),astNode:n}}}return t}function F(e){const t=Object.create(null);for(const o of e){var n;const e=null!==(n=o.values)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={description:null===(r=n.description)||void 0===r?void 0:r.value,deprecationReason:E(n),astNode:n}}}return t}function U(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.interfaces)||void 0===n?void 0:n.map(D))&&void 0!==t?t:[]}))}function B(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.types)||void 0===n?void 0:n.map(D))&&void 0!==t?t:[]}))}function V(e){var t;const n=e.name.value,r=null!==(t=v[n])&&void 0!==t?t:[];switch(e.kind){case c.h.OBJECT_TYPE_DEFINITION:{var o;const t=[e,...r];return new l.h6({name:n,description:null===(o=e.description)||void 0===o?void 0:o.value,interfaces:()=>U(t),fields:()=>j(t),astNode:e,extensionASTNodes:r})}case c.h.INTERFACE_TYPE_DEFINITION:{var i;const t=[e,...r];return new l.oW({name:n,description:null===(i=e.description)||void 0===i?void 0:i.value,interfaces:()=>U(t),fields:()=>j(t),astNode:e,extensionASTNodes:r})}case c.h.ENUM_TYPE_DEFINITION:{var s;const t=[e,...r];return new l.mR({name:n,description:null===(s=e.description)||void 0===s?void 0:s.value,values:F(t),astNode:e,extensionASTNodes:r})}case c.h.UNION_TYPE_DEFINITION:{var a;const t=[e,...r];return new l.Gp({name:n,description:null===(a=e.description)||void 0===a?void 0:a.value,types:()=>B(t),astNode:e,extensionASTNodes:r})}case c.h.SCALAR_TYPE_DEFINITION:var u;return new l.n2({name:n,description:null===(u=e.description)||void 0===u?void 0:u.value,specifiedByURL:_(e),astNode:e,extensionASTNodes:r});case c.h.INPUT_OBJECT_TYPE_DEFINITION:{var f;const t=[e,...r];return new l.sR({name:n,description:null===(f=e.description)||void 0===f?void 0:f.value,fields:()=>L(t),astNode:e,extensionASTNodes:r})}}}}const w=(0,s.P)([...h.HS,...d.nL],(e=>e.name));function E(e){const t=(0,y.zu)(f.fg,e);return null===t||void 0===t?void 0:t.reason}function _(e){const t=(0,y.zu)(f.df,e);return null===t||void 0===t?void 0:t.url}},2100:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(7359);function o(e,t){let n=null;for(const i of e.definitions){var o;if(i.kind===r.h.OPERATION_DEFINITION)if(null==t){if(n)return null;n=i}else if((null===(o=i.name)||void 0===o?void 0:o.value)===t)return i}return n}},8360:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(8224),o=n(7359);function i(e){switch(e.kind){case o.h.OBJECT:return{...e,fields:(t=e.fields,t.map((e=>({...e,value:i(e.value)}))).sort(((e,t)=>(0,r.K)(e.name.value,t.name.value))))};case o.h.LIST:return{...e,values:e.values.map(i)};case o.h.INT:case o.h.FLOAT:case o.h.STRING:case o.h.BOOLEAN:case o.h.NULL:case o.h.ENUM:case o.h.VARIABLE:return e}var t}},316:function(e,t,n){"use strict";n.d(t,{_7:function(){return o},uJ:function(){return i},zR:function(){return s}});var r=n(4454);function o(e,t){return e===t||((0,r.zM)(e)&&(0,r.zM)(t)||!(!(0,r.HG)(e)||!(0,r.HG)(t)))&&o(e.ofType,t.ofType)}function i(e,t,n){return t===n||((0,r.zM)(n)?!!(0,r.zM)(t)&&i(e,t.ofType,n.ofType):(0,r.zM)(t)?i(e,t.ofType,n):(0,r.HG)(n)?!!(0,r.HG)(t)&&i(e,t.ofType,n.ofType):!(0,r.HG)(t)&&((0,r.m0)(n)&&((0,r.oT)(t)||(0,r.lp)(t))&&e.isSubType(n,t)))}function s(e,t,n){return t===n||((0,r.m0)(t)?(0,r.m0)(n)?e.getPossibleTypes(t).some((t=>e.isSubType(n,t))):e.isSubType(t,n):!!(0,r.m0)(n)&&e.isSubType(n,t))}},77:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(7359),o=n(4454);function i(e,t){switch(t.kind){case r.h.LIST_TYPE:{const n=i(e,t.type);return n&&new o.p2(n)}case r.h.NON_NULL_TYPE:{const n=i(e,t.type);return n&&new o.bM(n)}case r.h.NAMED_TYPE:return e.getType(t.name.value)}}},2221:function(e,t,n){"use strict";n.d(t,{u:function(){return c}});var r=n(5821),o=n(9551),i=n(3498),s=n(7359),a=n(4454);function c(e,t,n){if(e){if(e.kind===s.h.VARIABLE){const r=e.name.value;if(null==n||void 0===n[r])return;const o=n[r];if(null===o&&(0,a.zM)(t))return;return o}if((0,a.zM)(t)){if(e.kind===s.h.NULL)return;return c(e,t.ofType,n)}if(e.kind===s.h.NULL)return null;if((0,a.HG)(t)){const r=t.ofType;if(e.kind===s.h.LIST){const t=[];for(const o of e.values)if(u(o,n)){if((0,a.zM)(r))return;t.push(null)}else{const e=c(o,r,n);if(void 0===e)return;t.push(e)}return t}const o=c(e,r,n);if(void 0===o)return;return[o]}if((0,a.hL)(t)){if(e.kind!==s.h.OBJECT)return;const r=Object.create(null),o=(0,i.P)(e.fields,(e=>e.name.value));for(const e of Object.values(t.getFields())){const t=o[e.name];if(!t||u(t.value,n)){if(void 0!==e.defaultValue)r[e.name]=e.defaultValue;else if((0,a.zM)(e.type))return;continue}const i=c(t.value,e.type,n);if(void 0===i)return;r[e.name]=i}return r}if((0,a.UT)(t)){let r;try{r=t.parseLiteral(e,n)}catch(l){return}if(void 0===r)return;return r}(0,o.k)(!1,"Unexpected input type: "+(0,r.X)(t))}}function u(e,t){return e.kind===s.h.VARIABLE&&(null==t||void 0===t[e.name.value])}},2319:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(4950),o=n(7359);function i(e,t){switch(e.kind){case o.h.NULL:return null;case o.h.INT:return parseInt(e.value,10);case o.h.FLOAT:return parseFloat(e.value);case o.h.STRING:case o.h.ENUM:case o.h.BOOLEAN:return e.value;case o.h.LIST:return e.values.map((e=>i(e,t)));case o.h.OBJECT:return(0,r.w)(e.fields,(e=>e.name.value),(e=>i(e.value,t)));case o.h.VARIABLE:return null===t||void 0===t?void 0:t[e.name.value]}}},2734:function(e,t,n){"use strict";n.d(t,{yv:function(){return a},_t:function(){return c}});var r=n(7359),o=n(7304),i=n(2676);class s{constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{t=Object.create(null);for(const e of this.getDocument().definitions)e.kind===r.h.FRAGMENT_DEFINITION&&(t[e.name.value]=e);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){t=[];const n=[e];let o;for(;o=n.pop();)for(const e of o.selections)e.kind===r.h.FRAGMENT_SPREAD?t.push(e):e.selectionSet&&n.push(e.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];const n=Object.create(null),r=[e.selectionSet];let o;for(;o=r.pop();)for(const e of this.getFragmentSpreads(o)){const o=e.name.value;if(!0!==n[o]){n[o]=!0;const e=this.getFragment(o);e&&(t.push(e),r.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}}class a extends s{constructor(e,t,n){super(e,n),this._schema=t}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class c extends s{constructor(e,t,n,r){super(t,r),this._schema=e,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let t=this._variableUsages.get(e);if(!t){const n=[],r=new i.a(this._schema);(0,o.Vn)(e,(0,i.y)(r,{VariableDefinition:()=>!1,Variable(e){n.push({node:e,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),t=n,this._variableUsages.set(e,t)}return t}getRecursiveVariableUsages(e){let t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(const n of this.getRecursivelyReferencedFragments(e))t=t.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(e,t)}return t}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}},8081:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(8087),o=n(7359),i=n(5844);function s(e){return{Document(t){for(const n of t.definitions)if(!(0,i.Wk)(n)){const t=n.kind===o.h.SCHEMA_DEFINITION||n.kind===o.h.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new r.__(`The ${t} definition is not executable.`,{nodes:n}))}return!1}}}},8741:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(3177),o=n(8224),i=n(3294),s=n(8087),a=n(4454);function c(e){return{Field(t){const n=e.getParentType();if(n){if(!e.getFieldDef()){const c=e.getSchema(),u=t.name.value;let l=(0,r.l)("to use an inline fragment on",function(e,t,n){if(!(0,a.m0)(t))return[];const r=new Set,i=Object.create(null);for(const o of e.getPossibleTypes(t))if(o.getFields()[n]){r.add(o),i[o.name]=1;for(const e of o.getInterfaces()){var s;e.getFields()[n]&&(r.add(e),i[e.name]=(null!==(s=i[e.name])&&void 0!==s?s:0)+1)}}return[...r].sort(((t,n)=>{const r=i[n.name]-i[t.name];return 0!==r?r:(0,a.oT)(t)&&e.isSubType(t,n)?-1:(0,a.oT)(n)&&e.isSubType(n,t)?1:(0,o.K)(t.name,n.name)})).map((e=>e.name))}(c,n,u));""===l&&(l=(0,r.l)(function(e,t){if((0,a.lp)(e)||(0,a.oT)(e)){const n=Object.keys(e.getFields());return(0,i.D)(t,n)}return[]}(n,u))),e.reportError(new s.__(`Cannot query field "${u}" on type "${n.name}".`+l,{nodes:t}))}}}}}},7143:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(8087),o=n(6918),i=n(4454),s=n(77);function a(e){return{InlineFragment(t){const n=t.typeCondition;if(n){const t=(0,s._)(e.getSchema(),n);if(t&&!(0,i.Gv)(t)){const t=(0,o.S)(n);e.reportError(new r.__(`Fragment cannot condition on non composite type "${t}".`,{nodes:n}))}}},FragmentDefinition(t){const n=(0,s._)(e.getSchema(),t.typeCondition);if(n&&!(0,i.Gv)(n)){const n=(0,o.S)(t.typeCondition);e.reportError(new r.__(`Fragment "${t.name.value}" cannot condition on non composite type "${n}".`,{nodes:t.typeCondition}))}}}}},7815:function(e,t,n){"use strict";n.d(t,{e:function(){return c},o:function(){return u}});var r=n(3177),o=n(3294),i=n(8087),s=n(7359),a=n(8238);function c(e){return{...u(e),Argument(t){const n=e.getArgument(),s=e.getFieldDef(),a=e.getParentType();if(!n&&s&&a){const n=t.name.value,c=s.args.map((e=>e.name)),u=(0,o.D)(n,c);e.reportError(new i.__(`Unknown argument "${n}" on field "${a.name}.${s.name}".`+(0,r.l)(u),{nodes:t}))}}}}function u(e){const t=Object.create(null),n=e.getSchema(),c=n?n.getDirectives():a.V4;for(const r of c)t[r.name]=r.args.map((e=>e.name));const u=e.getDocument().definitions;for(const r of u)if(r.kind===s.h.DIRECTIVE_DEFINITION){var l;const e=null!==(l=r.arguments)&&void 0!==l?l:[];t[r.name.value]=e.map((e=>e.name.value))}return{Directive(n){const s=n.name.value,a=t[s];if(n.arguments&&a)for(const t of n.arguments){const n=t.name.value;if(!a.includes(n)){const c=(0,o.D)(n,a);e.reportError(new i.__(`Unknown argument "${n}" on directive "@${s}".`+(0,r.l)(c),{nodes:t}))}}return!1}}}},4873:function(e,t,n){"use strict";n.d(t,{J:function(){return l}});var r=n(5821),o=n(9551),i=n(8087),s=n(2380),a=n(9878),c=n(7359),u=n(8238);function l(e){const t=Object.create(null),n=e.getSchema(),l=n?n.getDirectives():u.V4;for(const r of l)t[r.name]=r.locations;const f=e.getDocument().definitions;for(const r of f)r.kind===c.h.DIRECTIVE_DEFINITION&&(t[r.name.value]=r.locations.map((e=>e.value)));return{Directive(n,u,l,f,d){const h=n.name.value,p=t[h];if(!p)return void e.reportError(new i.__(`Unknown directive "@${h}".`,{nodes:n}));const m=function(e){const t=e[e.length-1];switch("kind"in t||(0,o.k)(!1),t.kind){case c.h.OPERATION_DEFINITION:return function(e){switch(e){case s.ku.QUERY:return a.B.QUERY;case s.ku.MUTATION:return a.B.MUTATION;case s.ku.SUBSCRIPTION:return a.B.SUBSCRIPTION}}(t.operation);case c.h.FIELD:return a.B.FIELD;case c.h.FRAGMENT_SPREAD:return a.B.FRAGMENT_SPREAD;case c.h.INLINE_FRAGMENT:return a.B.INLINE_FRAGMENT;case c.h.FRAGMENT_DEFINITION:return a.B.FRAGMENT_DEFINITION;case c.h.VARIABLE_DEFINITION:return a.B.VARIABLE_DEFINITION;case c.h.SCHEMA_DEFINITION:case c.h.SCHEMA_EXTENSION:return a.B.SCHEMA;case c.h.SCALAR_TYPE_DEFINITION:case c.h.SCALAR_TYPE_EXTENSION:return a.B.SCALAR;case c.h.OBJECT_TYPE_DEFINITION:case c.h.OBJECT_TYPE_EXTENSION:return a.B.OBJECT;case c.h.FIELD_DEFINITION:return a.B.FIELD_DEFINITION;case c.h.INTERFACE_TYPE_DEFINITION:case c.h.INTERFACE_TYPE_EXTENSION:return a.B.INTERFACE;case c.h.UNION_TYPE_DEFINITION:case c.h.UNION_TYPE_EXTENSION:return a.B.UNION;case c.h.ENUM_TYPE_DEFINITION:case c.h.ENUM_TYPE_EXTENSION:return a.B.ENUM;case c.h.ENUM_VALUE_DEFINITION:return a.B.ENUM_VALUE;case c.h.INPUT_OBJECT_TYPE_DEFINITION:case c.h.INPUT_OBJECT_TYPE_EXTENSION:return a.B.INPUT_OBJECT;case c.h.INPUT_VALUE_DEFINITION:{const t=e[e.length-3];return"kind"in t||(0,o.k)(!1),t.kind===c.h.INPUT_OBJECT_TYPE_DEFINITION?a.B.INPUT_FIELD_DEFINITION:a.B.ARGUMENT_DEFINITION}default:(0,o.k)(!1,"Unexpected kind: "+(0,r.X)(t.kind))}}(d);m&&!p.includes(m)&&e.reportError(new i.__(`Directive "@${h}" may not be used on ${m}.`,{nodes:n}))}}}},5311:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(8087);function o(e){return{FragmentSpread(t){const n=t.name.value;e.getFragment(n)||e.reportError(new r.__(`Unknown fragment "${n}".`,{nodes:t.name}))}}}},5580:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(3177),o=n(3294),i=n(8087),s=n(5844),a=n(2433);function c(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),a=Object.create(null);for(const r of e.getDocument().definitions)(0,s.zT)(r)&&(a[r.name.value]=!0);const c=[...Object.keys(n),...Object.keys(a)];return{NamedType(t,l,f,d,h){const p=t.name.value;if(!n[p]&&!a[p]){var m;const n=null!==(m=h[2])&&void 0!==m?m:f,a=null!=n&&("kind"in(y=n)&&((0,s.G4)(y)||(0,s.aU)(y)));if(a&&u.includes(p))return;const l=(0,o.D)(p,a?u.concat(c):c);e.reportError(new i.__(`Unknown type "${p}".`+(0,r.l)(l),{nodes:t}))}var y}}}const u=[...n(3801).HS,...a.nL].map((e=>e.name))},7898:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(8087),o=n(7359);function i(e){let t=0;return{Document(e){t=e.definitions.filter((e=>e.kind===o.h.OPERATION_DEFINITION)).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new r.__("This anonymous operation must be the only defined operation.",{nodes:n}))}}}},2877:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(8087);function o(e){var t,n,o;const i=e.getSchema(),s=null!==(t=null!==(n=null!==(o=null===i||void 0===i?void 0:i.astNode)&&void 0!==o?o:null===i||void 0===i?void 0:i.getQueryType())&&void 0!==n?n:null===i||void 0===i?void 0:i.getMutationType())&&void 0!==t?t:null===i||void 0===i?void 0:i.getSubscriptionType();let a=0;return{SchemaDefinition(t){s?e.reportError(new r.__("Cannot define a new schema within a schema extension.",{nodes:t})):(a>0&&e.reportError(new r.__("Must provide only one schema definition.",{nodes:t})),++a)}}}},1422:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(8087);function o(e){const t=Object.create(null),n=[],o=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(i(e),!1)};function i(s){if(t[s.name.value])return;const a=s.name.value;t[a]=!0;const c=e.getFragmentSpreads(s.selectionSet);if(0!==c.length){o[a]=n.length;for(const t of c){const s=t.name.value,a=o[s];if(n.push(t),void 0===a){const t=e.getFragment(s);t&&i(t)}else{const t=n.slice(a),o=t.slice(0,-1).map((e=>'"'+e.name.value+'"')).join(", ");e.reportError(new r.__(`Cannot spread fragment "${s}" within itself`+(""!==o?` via ${o}.`:"."),{nodes:t}))}n.pop()}o[a]=void 0}}}},4790:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(8087);function o(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const o=e.getRecursiveVariableUsages(n);for(const{node:i}of o){const o=i.name.value;!0!==t[o]&&e.reportError(new r.__(n.name?`Variable "$${o}" is not defined by operation "${n.name.value}".`:`Variable "$${o}" is not defined.`,{nodes:[i,n]}))}}},VariableDefinition(e){t[e.variable.name.value]=!0}}}},1294:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(8087);function o(e){const t=[],n=[];return{OperationDefinition:e=>(t.push(e),!1),FragmentDefinition:e=>(n.push(e),!1),Document:{leave(){const o=Object.create(null);for(const n of t)for(const t of e.getRecursivelyReferencedFragments(n))o[t.name.value]=!0;for(const t of n){const n=t.name.value;!0!==o[n]&&e.reportError(new r.__(`Fragment "${n}" is never used.`,{nodes:t}))}}}}}},2283:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(8087);function o(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){const o=Object.create(null),i=e.getRecursiveVariableUsages(n);for(const{node:e}of i)o[e.name.value]=!0;for(const s of t){const t=s.variable.name.value;!0!==o[t]&&e.reportError(new r.__(n.name?`Variable "$${t}" is never used in operation "${n.name.value}".`:`Variable "$${t}" is never used.`,{nodes:s}))}}},VariableDefinition(e){t.push(e)}}}},4203:function(e,t,n){"use strict";n.d(t,{y:function(){return f}});var r=n(5821),o=n(8087),i=n(7359),s=n(6918),a=n(4454),c=n(8360),u=n(77);function l(e){return Array.isArray(e)?e.map((([e,t])=>`subfields "${e}" conflict because `+l(t))).join(" and "):e}function f(e){const t=new E,n=new Map;return{SelectionSet(r){const i=function(e,t,n,r,o){const i=[],[s,a]=v(e,t,r,o);if(function(e,t,n,r,o){for(const[i,s]of Object.entries(o))if(s.length>1)for(let o=0;o<s.length;o++)for(let a=o+1;a<s.length;a++){const c=m(e,n,r,!1,i,s[o],s[a]);c&&t.push(c)}}(e,i,t,n,s),0!==a.length)for(let c=0;c<a.length;c++){d(e,i,t,n,!1,s,a[c]);for(let r=c+1;r<a.length;r++)h(e,i,t,n,!1,a[c],a[r])}return i}(e,n,t,e.getParentType(),r);for(const[[t,n],s,a]of i){const r=l(n);e.reportError(new o.__(`Fields "${t}" conflict because ${r}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:s.concat(a)}))}}}}function d(e,t,n,r,o,i,s){const a=e.getFragment(s);if(!a)return;const[c,u]=b(e,n,a);if(i!==c){p(e,t,n,r,o,i,c);for(const a of u)r.has(a,s,o)||(r.add(a,s,o),d(e,t,n,r,o,i,a))}}function h(e,t,n,r,o,i,s){if(i===s)return;if(r.has(i,s,o))return;r.add(i,s,o);const a=e.getFragment(i),c=e.getFragment(s);if(!a||!c)return;const[u,l]=b(e,n,a),[f,d]=b(e,n,c);p(e,t,n,r,o,u,f);for(const p of d)h(e,t,n,r,o,i,p);for(const p of l)h(e,t,n,r,o,p,s)}function p(e,t,n,r,o,i,s){for(const[a,c]of Object.entries(i)){const i=s[a];if(i)for(const s of c)for(const c of i){const i=m(e,n,r,o,a,s,c);i&&t.push(i)}}}function m(e,t,n,o,i,s,c){const[u,l,f]=s,[m,b,w]=c,E=o||u!==m&&(0,a.lp)(u)&&(0,a.lp)(m);if(!E){const e=l.name.value,t=b.name.value;if(e!==t)return[[i,`"${e}" and "${t}" are different fields`],[l],[b]];if(!function(e,t){const n=e.arguments,r=t.arguments;if(void 0===n||0===n.length)return void 0===r||0===r.length;if(void 0===r||0===r.length)return!1;if(n.length!==r.length)return!1;const o=new Map(r.map((({name:e,value:t})=>[e.value,t])));return n.every((e=>{const t=e.value,n=o.get(e.name.value);return void 0!==n&&y(t)===y(n)}))}(l,b))return[[i,"they have differing arguments"],[l],[b]]}const _=null===f||void 0===f?void 0:f.type,T=null===w||void 0===w?void 0:w.type;if(_&&T&&g(_,T))return[[i,`they return conflicting types "${(0,r.X)(_)}" and "${(0,r.X)(T)}"`],[l],[b]];const S=l.selectionSet,I=b.selectionSet;if(S&&I){return function(e,t,n,r){if(e.length>0)return[[t,e.map((([e])=>e))],[n,...e.map((([,e])=>e)).flat()],[r,...e.map((([,,e])=>e)).flat()]]}(function(e,t,n,r,o,i,s,a){const c=[],[u,l]=v(e,t,o,i),[f,m]=v(e,t,s,a);p(e,c,t,n,r,u,f);for(const h of m)d(e,c,t,n,r,u,h);for(const h of l)d(e,c,t,n,r,f,h);for(const d of l)for(const o of m)h(e,c,t,n,r,d,o);return c}(e,t,n,E,(0,a.xC)(_),S,(0,a.xC)(T),I),i,l,b)}}function y(e){return(0,s.S)((0,c.n)(e))}function g(e,t){return(0,a.HG)(e)?!(0,a.HG)(t)||g(e.ofType,t.ofType):!!(0,a.HG)(t)||((0,a.zM)(e)?!(0,a.zM)(t)||g(e.ofType,t.ofType):!!(0,a.zM)(t)||!(!(0,a.UT)(e)&&!(0,a.UT)(t))&&e!==t)}function v(e,t,n,r){const o=t.get(r);if(o)return o;const i=Object.create(null),s=Object.create(null);w(e,n,r,i,s);const a=[i,Object.keys(s)];return t.set(r,a),a}function b(e,t,n){const r=t.get(n.selectionSet);if(r)return r;const o=(0,u._)(e.getSchema(),n.typeCondition);return v(e,t,o,n.selectionSet)}function w(e,t,n,r,o){for(const s of n.selections)switch(s.kind){case i.h.FIELD:{const e=s.name.value;let n;((0,a.lp)(t)||(0,a.oT)(t))&&(n=t.getFields()[e]);const o=s.alias?s.alias.value:e;r[o]||(r[o]=[]),r[o].push([t,s,n]);break}case i.h.FRAGMENT_SPREAD:o[s.name.value]=!0;break;case i.h.INLINE_FRAGMENT:{const n=s.typeCondition,i=n?(0,u._)(e.getSchema(),n):t;w(e,i,s.selectionSet,r,o);break}}}class E{constructor(){this._data=new Map}has(e,t,n){var r;const[o,i]=e<t?[e,t]:[t,e],s=null===(r=this._data.get(o))||void 0===r?void 0:r.get(i);return void 0!==s&&(!!n||n===s)}add(e,t,n){const[r,o]=e<t?[e,t]:[t,e],i=this._data.get(r);void 0===i?this._data.set(r,new Map([[o,n]])):i.set(o,n)}}},3259:function(e,t,n){"use strict";n.d(t,{a:function(){return c}});var r=n(5821),o=n(8087),i=n(4454),s=n(316),a=n(77);function c(e){return{InlineFragment(t){const n=e.getType(),a=e.getParentType();if((0,i.Gv)(n)&&(0,i.Gv)(a)&&!(0,s.zR)(e.getSchema(),n,a)){const i=(0,r.X)(a),s=(0,r.X)(n);e.reportError(new o.__(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:t}))}},FragmentSpread(t){const n=t.name.value,c=function(e,t){const n=e.getFragment(t);if(n){const t=(0,a._)(e.getSchema(),n.typeCondition);if((0,i.Gv)(t))return t}}(e,n),u=e.getParentType();if(c&&u&&!(0,s.zR)(e.getSchema(),c,u)){const i=(0,r.X)(u),s=(0,r.X)(c);e.reportError(new o.__(`Fragment "${n}" cannot be spread here as objects of type "${i}" can never be of type "${s}".`,{nodes:t}))}}}}},4800:function(e,t,n){"use strict";n.d(t,{g:function(){return f}});var r=n(3177),o=n(5821),i=n(9551),s=n(3294),a=n(8087),c=n(7359),u=n(5844),l=n(4454);function f(e){const t=e.getSchema(),n=Object.create(null);for(const r of e.getDocument().definitions)(0,u.zT)(r)&&(n[r.name.value]=r);return{ScalarTypeExtension:f,ObjectTypeExtension:f,InterfaceTypeExtension:f,UnionTypeExtension:f,EnumTypeExtension:f,InputObjectTypeExtension:f};function f(u){const f=u.name.value,h=n[f],p=null===t||void 0===t?void 0:t.getType(f);let m;if(h?m=d[h.kind]:p&&(m=function(e){if((0,l.KA)(e))return c.h.SCALAR_TYPE_EXTENSION;if((0,l.lp)(e))return c.h.OBJECT_TYPE_EXTENSION;if((0,l.oT)(e))return c.h.INTERFACE_TYPE_EXTENSION;if((0,l.EN)(e))return c.h.UNION_TYPE_EXTENSION;if((0,l.EM)(e))return c.h.ENUM_TYPE_EXTENSION;if((0,l.hL)(e))return c.h.INPUT_OBJECT_TYPE_EXTENSION;(0,i.k)(!1,"Unexpected type: "+(0,o.X)(e))}(p)),m){if(m!==u.kind){const t=function(e){switch(e){case c.h.SCALAR_TYPE_EXTENSION:return"scalar";case c.h.OBJECT_TYPE_EXTENSION:return"object";case c.h.INTERFACE_TYPE_EXTENSION:return"interface";case c.h.UNION_TYPE_EXTENSION:return"union";case c.h.ENUM_TYPE_EXTENSION:return"enum";case c.h.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,i.k)(!1,"Unexpected kind: "+(0,o.X)(e))}}(u.kind);e.reportError(new a.__(`Cannot extend non-${t} type "${f}".`,{nodes:h?[h,u]:u}))}}else{const o=Object.keys({...n,...null===t||void 0===t?void 0:t.getTypeMap()}),i=(0,s.D)(f,o);e.reportError(new a.__(`Cannot extend type "${f}" because it is not defined.`+(0,r.l)(i),{nodes:u.name}))}}}const d={[c.h.SCALAR_TYPE_DEFINITION]:c.h.SCALAR_TYPE_EXTENSION,[c.h.OBJECT_TYPE_DEFINITION]:c.h.OBJECT_TYPE_EXTENSION,[c.h.INTERFACE_TYPE_DEFINITION]:c.h.INTERFACE_TYPE_EXTENSION,[c.h.UNION_TYPE_DEFINITION]:c.h.UNION_TYPE_EXTENSION,[c.h.ENUM_TYPE_DEFINITION]:c.h.ENUM_TYPE_EXTENSION,[c.h.INPUT_OBJECT_TYPE_DEFINITION]:c.h.INPUT_OBJECT_TYPE_EXTENSION}},1967:function(e,t,n){"use strict";n.d(t,{s:function(){return l},c:function(){return f}});var r=n(5821),o=n(3498),i=n(8087),s=n(7359),a=n(6918),c=n(4454),u=n(8238);function l(e){return{...f(e),Field:{leave(t){var n;const o=e.getFieldDef();if(!o)return!1;const s=new Set(null===(n=t.arguments)||void 0===n?void 0:n.map((e=>e.name.value)));for(const a of o.args)if(!s.has(a.name)&&(0,c.dK)(a)){const n=(0,r.X)(a.type);e.reportError(new i.__(`Field "${o.name}" argument "${a.name}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}function f(e){var t;const n=Object.create(null),l=e.getSchema(),f=null!==(t=null===l||void 0===l?void 0:l.getDirectives())&&void 0!==t?t:u.V4;for(const r of f)n[r.name]=(0,o.P)(r.args.filter(c.dK),(e=>e.name));const h=e.getDocument().definitions;for(const r of h)if(r.kind===s.h.DIRECTIVE_DEFINITION){var p;const e=null!==(p=r.arguments)&&void 0!==p?p:[];n[r.name.value]=(0,o.P)(e.filter(d),(e=>e.name.value))}return{Directive:{leave(t){const o=t.name.value,s=n[o];if(s){var u;const n=null!==(u=t.arguments)&&void 0!==u?u:[],l=new Set(n.map((e=>e.name.value)));for(const[u,f]of Object.entries(s))if(!l.has(u)){const n=(0,c.P9)(f.type)?(0,r.X)(f.type):(0,a.S)(f.type);e.reportError(new i.__(`Directive "@${o}" argument "${u}" of type "${n}" is required, but it was not provided.`,{nodes:t}))}}}}}}function d(e){return e.type.kind===s.h.NON_NULL_TYPE&&null==e.defaultValue}},1954:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(5821),o=n(8087),i=n(4454);function s(e){return{Field(t){const n=e.getType(),s=t.selectionSet;if(n)if((0,i.UT)((0,i.xC)(n))){if(s){const i=t.name.value,a=(0,r.X)(n);e.reportError(new o.__(`Field "${i}" must not have a selection since type "${a}" has no subfields.`,{nodes:s}))}}else if(!s){const i=t.name.value,s=(0,r.X)(n);e.reportError(new o.__(`Field "${i}" of type "${s}" must have a selection of subfields. Did you mean "${i} { ... }"?`,{nodes:t}))}}}}},423:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(8087),o=n(7359),i=n(7677);function s(e){return{OperationDefinition(t){if("subscription"===t.operation){const n=e.getSchema(),s=n.getSubscriptionType();if(s){const a=t.name?t.name.value:null,c=Object.create(null),u=e.getDocument(),l=Object.create(null);for(const e of u.definitions)e.kind===o.h.FRAGMENT_DEFINITION&&(l[e.name.value]=e);const f=(0,i.g)(n,l,c,s,t.selectionSet);if(f.size>1){const t=[...f.values()].slice(1).flat();e.reportError(new r.__(null!=a?`Subscription "${a}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:t}))}for(const t of f.values()){t[0].name.value.startsWith("__")&&e.reportError(new r.__(null!=a?`Subscription "${a}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:t}))}}}}}}},2337:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(3231),o=n(8087);function i(e){return{DirectiveDefinition(e){var t;const r=null!==(t=e.arguments)&&void 0!==t?t:[];return n(`@${e.name.value}`,r)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(e){var t;const r=e.name.value,o=null!==(t=e.fields)&&void 0!==t?t:[];for(const s of o){var i;n(`${r}.${s.name.value}`,null!==(i=s.arguments)&&void 0!==i?i:[])}return!1}function n(t,n){const i=(0,r.v)(n,(e=>e.name.value));for(const[r,s]of i)s.length>1&&e.reportError(new o.__(`Argument "${t}(${r}:)" can only be defined once.`,{nodes:s.map((e=>e.name))}));return!1}}},2266:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(3231),o=n(8087);function i(e){return{Field:t,Directive:t};function t(t){var n;const i=null!==(n=t.arguments)&&void 0!==n?n:[],s=(0,r.v)(i,(e=>e.name.value));for(const[r,a]of s)a.length>1&&e.reportError(new o.__(`There can be only one argument named "${r}".`,{nodes:a.map((e=>e.name))}))}}},3274:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(8087);function o(e){const t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(o){const i=o.name.value;if(null===n||void 0===n||!n.getDirective(i))return t[i]?e.reportError(new r.__(`There can be only one directive named "@${i}".`,{nodes:[t[i],o.name]})):t[i]=o.name,!1;e.reportError(new r.__(`Directive "@${i}" already exists in the schema. It cannot be redefined.`,{nodes:o.name}))}}}},6300:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(8087),o=n(7359),i=n(5844),s=n(8238);function a(e){const t=Object.create(null),n=e.getSchema(),a=n?n.getDirectives():s.V4;for(const r of a)t[r.name]=!r.isRepeatable;const c=e.getDocument().definitions;for(const r of c)r.kind===o.h.DIRECTIVE_DEFINITION&&(t[r.name.value]=!r.repeatable);const u=Object.create(null),l=Object.create(null);return{enter(n){if(!("directives"in n)||!n.directives)return;let s;if(n.kind===o.h.SCHEMA_DEFINITION||n.kind===o.h.SCHEMA_EXTENSION)s=u;else if((0,i.zT)(n)||(0,i.D$)(n)){const e=n.name.value;s=l[e],void 0===s&&(l[e]=s=Object.create(null))}else s=Object.create(null);for(const o of n.directives){const n=o.name.value;t[n]&&(s[n]?e.reportError(new r.__(`The directive "@${n}" can only be used once at this location.`,{nodes:[s[n],o]})):s[n]=o)}}}}},3201:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(8087),o=n(4454);function i(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),i=Object.create(null);return{EnumTypeDefinition:s,EnumTypeExtension:s};function s(t){var s;const a=t.name.value;i[a]||(i[a]=Object.create(null));const c=null!==(s=t.values)&&void 0!==s?s:[],u=i[a];for(const i of c){const t=i.name.value,s=n[a];(0,o.EM)(s)&&s.getValue(t)?e.reportError(new r.__(`Enum value "${a}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:i.name})):u[t]?e.reportError(new r.__(`Enum value "${a}.${t}" can only be defined once.`,{nodes:[u[t],i.name]})):u[t]=i.name}return!1}}},2618:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(8087),o=n(4454);function i(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),o=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(t){var i;const a=t.name.value;o[a]||(o[a]=Object.create(null));const c=null!==(i=t.fields)&&void 0!==i?i:[],u=o[a];for(const o of c){const t=o.name.value;s(n[a],t)?e.reportError(new r.__(`Field "${a}.${t}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:o.name})):u[t]?e.reportError(new r.__(`Field "${a}.${t}" can only be defined once.`,{nodes:[u[t],o.name]})):u[t]=o.name}return!1}}function s(e,t){return!!((0,o.lp)(e)||(0,o.oT)(e)||(0,o.hL)(e))&&null!=e.getFields()[t]}},5591:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(8087);function o(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const o=n.name.value;return t[o]?e.reportError(new r.__(`There can be only one fragment named "${o}".`,{nodes:[t[o],n.name]})):t[o]=n.name,!1}}}},2767:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(9551),o=n(8087);function i(e){const t=[];let n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){const e=t.pop();e||(0,r.k)(!1),n=e}},ObjectField(t){const r=t.name.value;n[r]?e.reportError(new o.__(`There can be only one input field named "${r}".`,{nodes:[n[r],t.name]})):n[r]=t.name}}}},2621:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(8087);function o(e){const t=Object.create(null);return{OperationDefinition(n){const o=n.name;return o&&(t[o.value]?e.reportError(new r.__(`There can be only one operation named "${o.value}".`,{nodes:[t[o.value],o]})):t[o.value]=o),!1},FragmentDefinition:()=>!1}}},7990:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(8087);function o(e){const t=e.getSchema(),n=Object.create(null),o=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(t){var i;const s=null!==(i=t.operationTypes)&&void 0!==i?i:[];for(const a of s){const t=a.operation,i=n[t];o[t]?e.reportError(new r.__(`Type for ${t} already defined in the schema. It cannot be redefined.`,{nodes:a})):i?e.reportError(new r.__(`There can be only one ${t} type in schema.`,{nodes:[i,a]})):n[t]=a}return!1}}},9538:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(8087);function o(e){const t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:o,ObjectTypeDefinition:o,InterfaceTypeDefinition:o,UnionTypeDefinition:o,EnumTypeDefinition:o,InputObjectTypeDefinition:o};function o(o){const i=o.name.value;if(null===n||void 0===n||!n.getType(i))return t[i]?e.reportError(new r.__(`There can be only one type named "${i}".`,{nodes:[t[i],o.name]})):t[i]=o.name,!1;e.reportError(new r.__(`Type "${i}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:o.name}))}}},1564:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(3231),o=n(8087);function i(e){return{OperationDefinition(t){var n;const i=null!==(n=t.variableDefinitions)&&void 0!==n?n:[],s=(0,r.v)(i,(e=>e.variable.name.value));for(const[r,a]of s)a.length>1&&e.reportError(new o.__(`There can be only one variable named "$${r}".`,{nodes:a.map((e=>e.variable.name))}))}}}},9831:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var r=n(3177),o=n(5821),i=n(3498),s=n(3294),a=n(8087),c=n(6918),u=n(4454);function l(e){return{ListValue(t){const n=(0,u.tf)(e.getParentInputType());if(!(0,u.HG)(n))return f(e,t),!1},ObjectValue(t){const n=(0,u.xC)(e.getInputType());if(!(0,u.hL)(n))return f(e,t),!1;const r=(0,i.P)(t.fields,(e=>e.name.value));for(const i of Object.values(n.getFields())){if(!r[i.name]&&(0,u.Wd)(i)){const r=(0,o.X)(i.type);e.reportError(new a.__(`Field "${n.name}.${i.name}" of required type "${r}" was not provided.`,{nodes:t}))}}},ObjectField(t){const n=(0,u.xC)(e.getParentInputType());if(!e.getInputType()&&(0,u.hL)(n)){const o=(0,s.D)(t.name.value,Object.keys(n.getFields()));e.reportError(new a.__(`Field "${t.name.value}" is not defined by type "${n.name}".`+(0,r.l)(o),{nodes:t}))}},NullValue(t){const n=e.getInputType();(0,u.zM)(n)&&e.reportError(new a.__(`Expected value of type "${(0,o.X)(n)}", found ${(0,c.S)(t)}.`,{nodes:t}))},EnumValue:t=>f(e,t),IntValue:t=>f(e,t),FloatValue:t=>f(e,t),StringValue:t=>f(e,t),BooleanValue:t=>f(e,t)}}function f(e,t){const n=e.getInputType();if(!n)return;const r=(0,u.xC)(n);if((0,u.UT)(r))try{if(void 0===r.parseLiteral(t,void 0)){const r=(0,o.X)(n);e.reportError(new a.__(`Expected value of type "${r}", found ${(0,c.S)(t)}.`,{nodes:t}))}}catch(i){const r=(0,o.X)(n);i instanceof a.__?e.reportError(i):e.reportError(new a.__(`Expected value of type "${r}", found ${(0,c.S)(t)}; `+i.message,{nodes:t,originalError:i}))}else{const r=(0,o.X)(n);e.reportError(new a.__(`Expected value of type "${r}", found ${(0,c.S)(t)}.`,{nodes:t}))}}},5972:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(8087),o=n(6918),i=n(4454),s=n(77);function a(e){return{VariableDefinition(t){const n=(0,s._)(e.getSchema(),t.type);if(void 0!==n&&!(0,i.j$)(n)){const n=t.variable.name.value,i=(0,o.S)(t.type);e.reportError(new r.__(`Variable "$${n}" cannot be non-input type "${i}".`,{nodes:t.type}))}}}}},9701:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(5821),o=n(8087),i=n(7359),s=n(4454),a=n(316),c=n(77);function u(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const i=e.getRecursiveVariableUsages(n);for(const{node:s,type:a,defaultValue:u}of i){const n=s.name.value,i=t[n];if(i&&a){const t=e.getSchema(),f=(0,c._)(t,i.type);if(f&&!l(t,f,i.defaultValue,a,u)){const t=(0,r.X)(f),c=(0,r.X)(a);e.reportError(new o.__(`Variable "$${n}" of type "${t}" used in position expecting type "${c}".`,{nodes:[i,s]}))}}}}},VariableDefinition(e){t[e.variable.name.value]=e}}}function l(e,t,n,r,o){if((0,s.zM)(r)&&!(0,s.zM)(t)){const s=void 0!==o;if(!(null!=n&&n.kind!==i.h.NULL)&&!s)return!1;const c=r.ofType;return(0,a.uJ)(e,t,c)}return(0,a.uJ)(e,t,r)}},4196:function(e,t,n){"use strict";n.d(t,{i:function(){return M},M:function(){return L}});var r=n(8081),o=n(8741),i=n(7143),s=n(7815),a=n(4873),c=n(5311),u=n(5580),l=n(7898),f=n(2877),d=n(1422),h=n(4790),p=n(1294),m=n(2283),y=n(4203),g=n(3259),v=n(4800),b=n(1967),w=n(1954),E=n(423),_=n(2337),T=n(2266),S=n(3274),I=n(6300),N=n(3201),O=n(2618),A=n(5591),x=n(2767),k=n(2621),$=n(7990),C=n(9538),R=n(1564),D=n(9831),P=n(5972),j=n(9701);const M=Object.freeze([r.i,k.H,l.F,E.Z,u.I,i.T,P.I,w.O,o.A,A.N,c.a,p.J,g.a,d.H,R.H,h.$,m.p,a.J,I.k,s.e,T.L,D.j,b.s,j.w,y.y,x.P]),L=Object.freeze([f.t,$.q,C.P,N.L,O.y,_.L,S.o,u.I,a.J,I.k,v.g,s.o,T.L,x.P,b.c])},6584:function(e,t,n){"use strict";n.d(t,{Gu:function(){return l},zo:function(){return d},ED:function(){return h}});var r=n(7826),o=n(8087),i=n(7304),s=n(9655),a=n(2676),c=n(4196),u=n(2734);function l(e,t,n=c.i,l,f=new a.a(e)){var d;const h=null!==(d=null===l||void 0===l?void 0:l.maxErrors)&&void 0!==d?d:100;t||(0,r.a)(!1,"Must provide document."),(0,s.J)(e);const p=Object.freeze({}),m=[],y=new u._t(e,t,f,(e=>{if(m.length>=h)throw m.push(new o.__("Too many validation errors, error limit reached. Validation aborted.")),p;m.push(e)})),g=(0,i.j1)(n.map((e=>e(y))));try{(0,i.Vn)(t,(0,a.y)(f,g))}catch(v){if(v!==p)throw v}return m}function f(e,t,n=c.M){const r=[],o=new u.yv(e,t,(e=>{r.push(e)})),s=n.map((e=>e(o)));return(0,i.Vn)(e,(0,i.j1)(s)),r}function d(e){const t=f(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}function h(e,t){const n=f(e,t);if(0!==n.length)throw new Error(n.map((e=>e.message)).join("\n\n"))}},5944:function(e,t,n){"use strict";n.d(t,{i:function(){return r},A:function(){return o}});const r="16.8.1",o=Object.freeze({major:16,minor:8,patch:1,preReleaseTag:null})},7189:function(e,t,n){"use strict";n.d(t,{kU:function(){return f},ET:function(){return d}});var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}},o=n(7176);class i{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new i(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const l=({name:e,prefix:t,encode:n,decode:r})=>new u(e,t,n,r),f=({prefix:e,name:t,alphabet:n})=>{const{encode:i,decode:s}=r(n,t);return l({prefix:e,name:t,encode:i,decode:e=>(0,o.oQ)(s(e))})},d=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>l({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)})},1653:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(7189);const o=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},5891:function(e,t,n){"use strict";n.d(t,{Jx:function(){return f},cv:function(){return l}});var r=n(9613);n(2171),n(7176),n(2688),n(9094);function o({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*i(e,t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))for(const[n,o]of t.entries()){const t=[...e,n],i=r.k0.asCID(o);i?yield[t.join("/"),i]:"object"===typeof o&&(yield*s(o,t))}else{const n=r.k0.asCID(t);n?yield[e.join("/"),n]:yield*s(t,e)}}function*s(e,t){if(null==e||e instanceof Uint8Array)return;const n=r.k0.asCID(e);n&&(yield[t.join("/"),n]);for(const[r,o]of Object.entries(e)){const e=[...t,r];yield*i(e,o)}}function*a(e,t){if(Array.isArray(t))for(const[n,o]of t.entries()){const t=[...e,n];yield t.join("/"),"object"!==typeof o||r.k0.asCID(o)||(yield*c(o,t))}else yield*c(t,e)}function*c(e,t){if(null!=e&&"object"===typeof e)for(const[n,o]of Object.entries(e)){const e=[...t,n];yield e.join("/"),null==o||o instanceof Uint8Array||"object"!==typeof o||r.k0.asCID(o)||(yield*a(e,o))}}class u{constructor({cid:e,bytes:t,value:n}){if(!e||!t||"undefined"===typeof n)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:o(),bytes:o(),value:o(),asBlock:o()})}links(){return s(this.value,[])}tree(){return c(this.value,[])}get(e="/"){return function(e,t){let n=e;for(const[o,i]of t.entries()){if(n=n[i],null==n)throw new Error(`Object has no property at ${t.slice(0,o+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=r.k0.asCID(n);if(e)return{value:e,remaining:t.slice(o+1).join("/")}}return{value:n}}(this.value,e.split("/").filter(Boolean))}}async function l({value:e,codec:t,hasher:n}){if("undefined"===typeof e)throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.encode(e),i=await n.digest(o),s=r.k0.create(1,t.code,i);return new u({value:e,bytes:o,cid:s})}async function f({bytes:e,codec:t,hasher:n}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.decode(e),i=await n.digest(e),s=r.k0.create(1,t.code,i);return new u({value:o,bytes:e,cid:s})}},7176:function(e,t,n){"use strict";n.d(t,{fS:function(){return r},oQ:function(){return o}});new Uint8Array(0);const r=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},o=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}},9613:function(e,t,n){"use strict";n.d(t,{k0:function(){return d}});var r=n(2171),o=n(9094),i=n(1653),s=n(7189);const a=(0,s.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});(0,s.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,s.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,s.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,s.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,s.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,s.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,s.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,s.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var c=n(7176);const u=(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return p(n,f(e),t||i.i.encoder);default:return m(n,f(e),t||a.encoder)}},l=new WeakMap,f=e=>{const t=l.get(e);if(null==t){const t=new Map;return l.set(e,t),t}return t};class d{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==y)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==g)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return d.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=o.Ue(e,t);return d.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return d.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&o.fS(e.multihash,n.multihash)}toString(e){return u(this,e)}toJSON(){return{"/":u(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof d)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new d(e,n,r,o||v(e,n,r.bytes))}if(!0===t[b]){const{version:e,multihash:n,code:r}=t,i=o.Jx(n);return d.create(e,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==y)throw new Error(`Version 0 CID must use dag-pb (code: ${y}) block encoding`);return new d(e,t,n,n.bytes);case 1:{const r=v(e,t,n.bytes);return new d(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return d.create(0,y,e)}static createV1(e,t){return d.create(1,e,t)}static decode(e){const[t,n]=d.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=d.inspectBytes(e),n=t.size-t.multihashSize,r=(0,c.oQ)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),s=new o.zZ(t.multihashCode,t.digestSize,i,r);return[0===t.version?d.createV0(s):d.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,o]=r.Jx(e.subarray(t));return t+=o,n};let o=n(),i=y;if(18===o?(o=0,t=0):i=n(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=t,a=n(),c=n(),u=t+c;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:u-s,size:u}}static parse(e,t){const[n,r]=h(e,t),o=d.decode(r);if(0===o.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return f(o).set(n,e),o}}const h=(e,t)=>{switch(e[0]){case"Q":{const n=t||i.i;return[i.i.prefix,n.decode(`${i.i.prefix}${e}`)]}case i.i.prefix:{const n=t||i.i;return[i.i.prefix,n.decode(e)]}case a.prefix:{const n=t||a;return[a.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},p=(e,t,n)=>{const{prefix:r}=n;if(r!==i.i.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},m=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},y=112,g=18,v=(e,t,n)=>{const o=r.P$(e),i=o+r.P$(t),s=new Uint8Array(i+n.byteLength);return r.mL(e,s,0),r.mL(t,s,o),s.set(n,i),s},b=Symbol.for("@ipld/js-cid/CID")},9094:function(e,t,n){"use strict";n.d(t,{Ue:function(){return i},Jx:function(){return s},fS:function(){return a},zZ:function(){return c}});var r=n(7176),o=n(2171);const i=(e,t)=>{const n=t.byteLength,r=o.P$(e),i=r+o.P$(n),s=new Uint8Array(i+n);return o.mL(e,s,0),o.mL(n,s,r),s.set(t,i),new c(e,n,t,s)},s=e=>{const t=(0,r.oQ)(e),[n,i]=o.Jx(t),[s,a]=o.Jx(t.subarray(i)),u=t.subarray(i+a);if(u.byteLength!==s)throw new Error("Incorrect length");return new c(n,s,u,t)},a=(e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&(0,r.fS)(e.bytes,n.bytes)}};class c{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}},2688:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(9094);const o=({name:e,code:t,encode:n})=>new i(e,t,n);class i{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?r.Ue(this.code,t):t.then((e=>r.Ue(this.code,e)))}throw Error("Unknown type, must be binary type")}}},8566:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(7176),o=n(9094);const i=r.oQ,s={code:0,name:"identity",encode:i,digest:e=>o.Ue(0,i(e))}},7353:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(2688);const o=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),i=(0,r.D)({name:"sha2-256",code:18,encode:o("SHA-256")});(0,r.D)({name:"sha2-512",code:19,encode:o("SHA-512")})},2171:function(e,t,n){"use strict";n.d(t,{Jx:function(){return y},mL:function(){return g},P$:function(){return v}});var r=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=o;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},o=Math.pow(2,31);var i=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var s=Math.pow(2,7),a=Math.pow(2,14),c=Math.pow(2,21),u=Math.pow(2,28),l=Math.pow(2,35),f=Math.pow(2,42),d=Math.pow(2,49),h=Math.pow(2,56),p=Math.pow(2,63),m={encode:r,decode:i,encodingLength:function(e){return e<s?1:e<a?2:e<c?3:e<u?4:e<l?5:e<f?6:e<d?7:e<h?8:e<p?9:10}};const y=(e,t=0)=>[m.decode(e,t),m.decode.bytes],g=(e,t,n=0)=>(m.encode(e,t,n),t),v=e=>m.encodingLength(e)},4359:function(e,t,n){"use strict";n.d(t,{kU:function(){return f},Dp:function(){return l},ET:function(){return d}});var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}},o=n(3159);class i{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new i(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const l=({name:e,prefix:t,encode:n,decode:r})=>new u(e,t,n,r),f=({prefix:e,name:t,alphabet:n})=>{const{encode:i,decode:s}=r(n,t);return l({prefix:e,name:t,encode:i,decode:e=>(0,o.coerce)(s(e))})},d=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>l({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)})},8237:function(e,t,n){"use strict";n.r(t),n.d(t,{base64:function(){return o},base64pad:function(){return i},base64url:function(){return s},base64urlpad:function(){return a}});var r=n(4359);const o=(0,r.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i=(0,r.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,r.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},7527:function(e,t,n){"use strict";n.r(t),n.d(t,{CID:function(){return Ae},bases:function(){return Ue},bytes:function(){return w},codecs:function(){return Ve},digest:function(){return h},hasher:function(){return p},hashes:function(){return Be},varint:function(){return d}});var r={};n.r(r),n.d(r,{identity:function(){return E}});var o={};n.r(o),n.d(o,{base2:function(){return _}});var i={};n.r(i),n.d(i,{base8:function(){return T}});var s={};n.r(s),n.d(s,{base10:function(){return S}});var a={};n.r(a),n.d(a,{base16:function(){return I},base16upper:function(){return N}});var c={};n.r(c),n.d(c,{base32:function(){return O},base32hex:function(){return $},base32hexpad:function(){return R},base32hexpadupper:function(){return D},base32hexupper:function(){return C},base32pad:function(){return x},base32padupper:function(){return k},base32upper:function(){return A},base32z:function(){return P}});var u={};n.r(u),n.d(u,{base36:function(){return j},base36upper:function(){return M}});var l={};n.r(l),n.d(l,{base58btc:function(){return L},base58flickr:function(){return F}});var f={};n.r(f),n.d(f,{base256emoji:function(){return z}});var d={};n.r(d),n.d(d,{decode:function(){return oe},encodeTo:function(){return ie},encodingLength:function(){return se}});var h={};n.r(h),n.d(h,{Digest:function(){return le},create:function(){return ae},decode:function(){return ce},equals:function(){return ue}});var p={};n.r(p),n.d(p,{Hasher:function(){return de},from:function(){return fe}});var m={};n.r(m),n.d(m,{sha256:function(){return pe},sha512:function(){return me}});var y={};n.r(y),n.d(y,{identity:function(){return ge}});var g={};n.r(g),n.d(g,{code:function(){return be},decode:function(){return Ee},encode:function(){return we},name:function(){return ve}});var v={};n.r(v),n.d(v,{code:function(){return Ie},decode:function(){return Oe},encode:function(){return Ne},name:function(){return Se}});var b=n(4359),w=n(3159);const E=(0,b.Dp)({prefix:"\0",name:"identity",encode:e=>(0,w.toString)(e),decode:e=>(0,w.fromString)(e)}),_=(0,b.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),T=(0,b.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),S=(0,b.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),I=(0,b.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),N=(0,b.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),O=(0,b.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),A=(0,b.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),x=(0,b.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),k=(0,b.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$=(0,b.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),C=(0,b.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),R=(0,b.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),D=(0,b.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),P=(0,b.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),j=(0,b.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),M=(0,b.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),L=(0,b.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),F=(0,b.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var U=n(8237);const B=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),V=B.reduce(((e,t,n)=>(e[n]=t,e)),[]),q=B.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const z=(0,b.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=V[t]),"")},decode:function(e){const t=[];for(const n of e){const e=q[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var G=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=K;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},K=Math.pow(2,31);var J=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var H=Math.pow(2,7),Q=Math.pow(2,14),W=Math.pow(2,21),Y=Math.pow(2,28),X=Math.pow(2,35),Z=Math.pow(2,42),ee=Math.pow(2,49),te=Math.pow(2,56),ne=Math.pow(2,63),re={encode:G,decode:J,encodingLength:function(e){return e<H?1:e<Q?2:e<W?3:e<Y?4:e<X?5:e<Z?6:e<ee?7:e<te?8:e<ne?9:10}};const oe=(e,t=0)=>[re.decode(e,t),re.decode.bytes],ie=(e,t,n=0)=>(re.encode(e,t,n),t),se=e=>re.encodingLength(e),ae=(e,t)=>{const n=t.byteLength,r=se(e),o=r+se(n),i=new Uint8Array(o+n);return ie(e,i,0),ie(n,i,r),i.set(t,o),new le(e,n,t,i)},ce=e=>{const t=(0,w.coerce)(e),[n,r]=oe(t),[o,i]=oe(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new le(n,o,s,t)},ue=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,w.equals)(e.bytes,t.bytes);class le{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const fe=({name:e,code:t,encode:n})=>new de(e,t,n);class de{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ae(this.code,t):t.then((e=>ae(this.code,e)))}throw Error("Unknown type, must be binary type")}}const he=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),pe=fe({name:"sha2-256",code:18,encode:he("SHA-256")}),me=fe({name:"sha2-512",code:19,encode:he("SHA-512")}),ye=w.coerce,ge={code:0,name:"identity",encode:ye,digest:e=>ae(0,ye(e))},ve="raw",be=85,we=e=>(0,w.coerce)(e),Ee=e=>(0,w.coerce)(e),_e=new TextEncoder,Te=new TextDecoder,Se="json",Ie=512,Ne=e=>_e.encode(JSON.stringify(e)),Oe=e=>JSON.parse(Te.decode(e));class Ae{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Me,byteLength:Me,code:je,version:je,multihash:je,bytes:je,_baseCache:Me,asCID:Me})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==Ce)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Re)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ae.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=ae(e,t);return Ae.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ue(this.multihash,e.multihash)}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return ke(t,r,e||L.encoder);default:return $e(t,r,e||O.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Le(/^0\.0/,Fe),!(!e||!e[Pe]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ae)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:o}=e;return new Ae(t,n,r,o||De(t,n,r.bytes))}if(null!=e&&!0===e[Pe]){const{version:t,multihash:n,code:r}=e,o=ce(n);return Ae.create(t,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Ce)throw new Error(`Version 0 CID must use dag-pb (code: ${Ce}) block encoding`);return new Ae(e,t,n,n.bytes);case 1:{const r=De(e,t,n.bytes);return new Ae(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return Ae.create(0,Ce,e)}static createV1(e,t){return Ae.create(1,e,t)}static decode(e){const[t,n]=Ae.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Ae.inspectBytes(e),n=t.size-t.multihashSize,r=(0,w.coerce)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new le(t.multihashCode,t.digestSize,o,r);return[0===t.version?Ae.createV0(i):Ae.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=oe(e.subarray(t));return t+=r,n};let r=n(),o=Ce;if(18===r?(r=0,t=0):1===r&&(o=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),c=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:c-i,size:c}}static parse(e,t){const[n,r]=xe(e,t),o=Ae.decode(r);return o._baseCache.set(n,e),o}}const xe=(e,t)=>{switch(e[0]){case"Q":{const n=t||L;return[L.prefix,n.decode(`${L.prefix}${e}`)]}case L.prefix:{const n=t||L;return[L.prefix,n.decode(e)]}case O.prefix:{const n=t||O;return[O.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ke=(e,t,n)=>{const{prefix:r}=n;if(r!==L.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},$e=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},Ce=112,Re=18,De=(e,t,n)=>{const r=se(e),o=r+se(t),i=new Uint8Array(o+n.byteLength);return ie(e,i,0),ie(t,i,r),i.set(n,o),i},Pe=Symbol.for("@ipld/js-cid/CID"),je={writable:!1,configurable:!1,enumerable:!0},Me={writable:!1,enumerable:!1,configurable:!1},Le=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Fe="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Ue={...r,...o,...i,...s,...a,...c,...u,...l,...U,...f},Be={...m,...y},Ve={raw:g,json:v}},3159:function(e,t,n){"use strict";n.r(t),n.d(t,{equals:function(){return s},coerce:function(){return a},isBinary:function(){return c},fromHex:function(){return i},toHex:function(){return o},fromString:function(){return u},toString:function(){return l},empty:function(){return r}});const r=new Uint8Array(0),o=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),i=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):r},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>(new TextEncoder).encode(e),l=e=>(new TextDecoder).decode(e)},7582:function(e,t,n){"use strict";n.d(t,{ZT:function(){return o},pi:function(){return i},_T:function(){return s},mG:function(){return a},Jh:function(){return c},XA:function(){return u},CR:function(){return l},ev:function(){return f},qq:function(){return d},FC:function(){return h},KL:function(){return p}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function f(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function h(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof d?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError},6574:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(3304);function o(e=0){return null!=globalThis.Buffer?.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},2963:function(e,t,n){"use strict";n.d(t,{zo:function(){return i},mL:function(){return a},BB:function(){return c.B}});var r=n(6574),o=n(3304);function i(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));const n=(0,r.E)(t);let i=0;for(const r of e)n.set(r,i),i+=r.length;return(0,o.P)(n)}var s=n(3912);function a(e,t="utf8"){const n=s.Z[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):(0,o.P)(globalThis.Buffer.from(e,"utf-8"))}var c=n(9784)},9784:function(e,t,n){"use strict";n.d(t,{B:function(){return o}});var r=n(3912);function o(e,t="utf8"){const n=r.Z[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},3304:function(e,t,n){"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}n.d(t,{P:function(){return r}})},3912:function(e,t,n){"use strict";n.d(t,{Z:function(){return Fe}});var r={};n.r(r),n.d(r,{base10:function(){return O}});var o={};n.r(o),n.d(o,{base16:function(){return A},base16upper:function(){return x}});var i={};n.r(i),n.d(i,{base2:function(){return k}});var s={};n.r(s),n.d(s,{base256emoji:function(){return D}});var a={};n.r(a),n.d(a,{base32:function(){return P},base32hex:function(){return F},base32hexpad:function(){return B},base32hexpadupper:function(){return V},base32hexupper:function(){return U},base32pad:function(){return M},base32padupper:function(){return L},base32upper:function(){return j},base32z:function(){return q}});var c={};n.r(c),n.d(c,{base36:function(){return z},base36upper:function(){return G}});var u={};n.r(u),n.d(u,{base58btc:function(){return K},base58flickr:function(){return J}});var l={};n.r(l),n.d(l,{base64:function(){return H},base64pad:function(){return Q},base64url:function(){return W},base64urlpad:function(){return Y}});var f={};n.r(f),n.d(f,{base8:function(){return X}});var d={};n.r(d),n.d(d,{identity:function(){return Z}});var h={};n.r(h),n.d(h,{code:function(){return re},decode:function(){return ie},encode:function(){return oe},name:function(){return ne}});var p={};n.r(p),n.d(p,{code:function(){return ae},decode:function(){return ue},encode:function(){return ce},name:function(){return se}});var m={};n.r(m),n.d(m,{identity:function(){return Ae}});var y={};n.r(y),n.d(y,{sha256:function(){return Ce},sha512:function(){return Re}});var g=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===c;)r++,t++;for(var i=(e.length-t)*u+1>>>0,s=new Uint8Array(i);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var f=0,d=i-1;(0!==l||f<o)&&-1!==d;d--,f++)l+=a*s[d]>>>0,s[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),m=r;h!==i;)p[m++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*l+1>>>0,u=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*u[h]>>>0,u[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===u[p];)p++;for(var m=c.repeat(n);p<s;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const v=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class b{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class w{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return _(this,e)}}class E{constructor(e){this.decoders=e}or(e){return _(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _=(e,t)=>new E({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class T{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new b(e,t,n),this.decoder=new w(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const S=({name:e,prefix:t,encode:n,decode:r})=>new T(e,t,n,r),I=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:o}=g(n,t);return S({prefix:e,name:t,encode:r,decode:e=>v(o(e))})},N=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>S({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,r,n),decode:t=>((e,t,n,r)=>{const o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const t=o[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);c=c<<n|t,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,r,n,e)}),O=I({prefix:"9",name:"base10",alphabet:"0123456789"}),A=N({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),x=N({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),k=N({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),$=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),C=$.reduce(((e,t,n)=>(e[n]=t,e)),[]),R=$.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const D=S({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=C[t]),"")},decode:function(e){const t=[];for(const n of e){const e=R[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}}),P=N({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),j=N({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),M=N({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),L=N({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F=N({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),U=N({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),B=N({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V=N({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),q=N({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z=I({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),G=I({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),K=I({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),J=I({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),H=N({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Q=N({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),W=N({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Y=N({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),X=N({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Z=S({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),ee=new TextEncoder,te=new TextDecoder,ne="json",re=512,oe=e=>ee.encode(JSON.stringify(e)),ie=e=>JSON.parse(te.decode(e)),se="raw",ae=85,ce=e=>v(e),ue=e=>v(e);var le=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=fe;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},fe=Math.pow(2,31);var de=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return e.bytes=s-n,o};var he=Math.pow(2,7),pe=Math.pow(2,14),me=Math.pow(2,21),ye=Math.pow(2,28),ge=Math.pow(2,35),ve=Math.pow(2,42),be=Math.pow(2,49),we=Math.pow(2,56),Ee=Math.pow(2,63),_e={encode:le,decode:de,encodingLength:function(e){return e<he?1:e<pe?2:e<me?3:e<ye?4:e<ge?5:e<ve?6:e<be?7:e<we?8:e<Ee?9:10}};const Te=(e,t,n=0)=>(_e.encode(e,t,n),t),Se=e=>_e.encodingLength(e),Ie=(e,t)=>{const n=t.byteLength,r=Se(e),o=r+Se(n),i=new Uint8Array(o+n);return Te(e,i,0),Te(n,i,r),i.set(t,o),new Ne(e,n,t,i)};class Ne{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const Oe=v,Ae={code:0,name:"identity",encode:Oe,digest:e=>Ie(0,Oe(e))},xe=({name:e,code:t,encode:n})=>new ke(e,t,n);class ke{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ie(this.code,t):t.then((e=>Ie(this.code,e)))}throw Error("Unknown type, must be binary type")}}const $e=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ce=xe({name:"sha2-256",code:18,encode:$e("SHA-256")}),Re=xe({name:"sha2-512",code:19,encode:$e("SHA-512")});new WeakMap;Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const De={...d,...i,...f,...r,...o,...a,...c,...u,...l,...s};var Pe=n(6574);function je(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Me=je("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Le=je("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=(0,Pe.E)(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}));var Fe={utf8:Me,"utf-8":Me,hex:De.base16,latin1:Le,ascii:Le,binary:Le,...De}},1096:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},2452:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},8794:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},7866:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},4500:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},6242:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},7910:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},9356:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},3610:function(e){"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},5278:function(e){"use strict";e.exports=JSON.parse('{"chromeIds":{"stable":"nkbihfbeogaeaoehlefnkodbefgpgknn","beta":"pbbkamfgmaedccnfkmjcofcecjhfgldn","flask":"ljfoeinjpaedjfecbmggjgodbgkmjkjk"},"firefoxIds":{"stable":"webextension@metamask.io","beta":"webextension-beta@metamask.io","flask":"webextension-flask@metamask.io"}}')},7099:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},74:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(1780),t(387)}));var n=e.O();_N_E=n}]);